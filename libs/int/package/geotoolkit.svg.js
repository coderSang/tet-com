/* eslint-disable */
import {L,Fb,dh,Xg,oi,td,Pd,D,Za,Th,Fe,M,U,W,X,xg,yg,rf,wf,ng,og,ui,Gh,Fi,Ki,hd,fd,ed,id,re,Me,Dd,ce,Oe,Hg,Ce,Tm,Gj,Fj,Fk,Vm,G,$n,ho,rb,Yf,ek,rg,O,ck,lg,gn,va} from './geotoolkit.base.js';import {$k} from './geotoolkit.http.js';var aa,ha=ha||{};ha.scope={};ha.Nqc=function(c){var a=0;return function(){return a<c.length?{done:!1,value:c[a++]}:{done:!0}}};ha.Moe=function(c){return{next:ha.Nqc(c)}};ha.qXc=!1;ha.URd=!1;ha.VRd=!1;ha.Mfe=!1;ha.Acc=!1;ha.defineProperty=ha.qXc||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,a,b){if(c==Array.prototype||c==Object.prototype)return c;c[a]=b.value;return c};
ha.cod=function(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<c.length;++a){var b=c[a];if(b&&b.Math==Math)return b}return function(){throw Error("Cannot find global object");}()};ha.global=ha.cod(this);ha.nEb="function"===typeof Symbol&&"symbol"===typeof Symbol("x");ha.hje=!ha.Acc||ha.nEb;ha.r3b={};ha.L3b={};ha.S1c="$jscp$";
function aaa(c,a){var b=ha.L3b[a];if(null==b)return c[a];b=c[b];return void 0!==b?b:c[a]}ha.lKc=function(c,a,b,d){a&&(ha.Acc?ha.ZDd(c,a,b,d):ha.$Dd(c,a,b,d))};ha.$Dd=function(c,a,b,d){b=ha.global;c=c.split(".");for(d=0;d<c.length-1;d++){var e=c[d];if(!(e in b))return;b=b[e]}c=c[c.length-1];d=b[c];a=a(d);a!=d&&null!=a&&ha.defineProperty(b,c,{configurable:!0,writable:!0,value:a})};
ha.ZDd=function(c,a,b,d){var e=c.split(".");c=1===e.length;d=e[0];d=!c&&d in ha.r3b?ha.r3b:ha.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];b=ha.nEb&&"es6"===b?d[e]:null;a=a(b);null!=a&&(c?ha.defineProperty(ha.r3b,e,{configurable:!0,writable:!0,value:a}):a!==b&&(ha.L3b[e]=ha.nEb?ha.global.Symbol(e):ha.S1c+e,e=ha.L3b[e],ha.defineProperty(d,e,{configurable:!0,writable:!0,value:a})))};ha.Ise=function(){};
ha.lKc("Symbol",function(c){function a(f){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new b(d+(f||"")+"_"+e++,f)}function b(f,g){this.oXc=f;ha.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})}if(c)return c;b.prototype.toString=function(){return this.oXc};var d="jscomp_symbol_",e=0;return a},"es6","es3");ha.Kse=function(){};
ha.lKc("Symbol.iterator",function(c){if(c)return c;c=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),b=0;b<a.length;b++){var d=ha.global[a[b]];"function"===typeof d&&"function"!=typeof d.prototype[c]&&ha.defineProperty(d.prototype,c,{configurable:!0,writable:!0,value:function(){return ha.Nyd(ha.Nqc(this))}})}return c},"es6","es3");ha.Jse=function(){};
ha.Nyd=function(c){c={next:c};c[Symbol.iterator]=function(){return this};return c};var iE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){this.fc=this.GAa=null}L(c,"geotoolkit.svg.ElementParser");c.prototype.Azb=Fb;c.prototype.zq=Fb;c.prototype.Da=function(){return this.fc};c.prototype.parse=Fb;return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXREb2N1bWVudFBhcnNlciI6IkF6YiIsImdldERvY3VtZW50UGFyc2VyIjoienEiLCJnZXROYW1lIjoiRGEifX19");var jE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){this.Cg={};this.IE={};if(a){for(var b in a.Cg)a.Cg.hasOwnProperty(b)&&(this.Cg[b]=a.Cg[b]);for(b in a.IE)a.IE.hasOwnProperty(b)&&(this.IE[b]=a.IE[b].clone())}this.fc=""}L(c,"geotoolkit.svg.SvgStyle");c.prototype.kb=function(a){this.fc=a||"";return this};c.prototype.toString=function(){var a="",b;for(b in this.Cg)this.Cg.hasOwnProperty(b)&&(a+=b,a+=":",a+=this.Cg[b],a+=";");return a};c.prototype.setStyle=function(a,b,d){if(null==a&&null==d)return this;null!=d?this.IE.hasOwnProperty(d)?
this.IE[d].merge(b):this.IE[d]=b:this.Cg[a]=b;return this};c.prototype.getStyle=function(a,b){return b?this.IE.hasOwnProperty(a)?this.IE[a]:null:this.Cg.hasOwnProperty(a)?this.Cg[a]:null};c.prototype.merge=function(a){if(null===a||void 0===a||null===a.Cg)return this;for(var b in a.Cg)a.Cg.hasOwnProperty(b)&&(this.Cg[b]=a.Cg[b]);for(b in a.IE)a.IE.hasOwnProperty(b)&&(null==this.IE[b]||void 0===this.IE[b]?this.IE[b]=a.IE[b]:this.IE[b].merge(a.IE[b]));return this};c.prototype.clone=function(){return new c(this)};
return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXROYW1lIjoia2IifX19");var kE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){this.wg=a||new dh}c.prototype.beginPath=function(){};c.prototype.bezierCurveTo=function(a,b,d,e,f,g){this.wg.bezierCurveTo(a,b,d,e,f,g);return this};c.prototype.moveTo=function(a,b){this.wg.moveTo(a,b);return this};c.prototype.Iub=function(){return this.wg};c.prototype.closePath=function(){};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQYXRoIjoiSXViIn19fSAg");var lE=/*#__PURE__*/function(){function c(){}c.rN=function(a,b,d,e,f,g,h,k,l,m){b=1===k?Xg.gma(b,d,e,f,g,h):Xg.gma(b,d,e,f,h,g);if(!(1>b.length))if(1===k)for(d=0;d<b.length;++d)k=b[d],a.bezierCurveTo(k.M0,k.O0,k.N0,k.P0,k.BX,k.CX);else for(d=b.length-1;0<=d;d--)k=b[d],0===d?(e=l,f=m):(e=b[d-1].BX,f=b[d-1].CX),a.bezierCurveTo(k.N0,k.P0,k.M0,k.O0,e,f)};return c}();var mE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d,e,f,g,h,k){this.onc=h||null;this.Nh=a||[];this.Rc=b||null;this.lf=d||null;this.qB=e||null;this.H1=f||null;this.Pt=g||null;this.ioe=k}L(c,"geotoolkit.svg.ParserContext");c.prototype.QRc=function(a){if(!(a instanceof oi))return this;this.onc=a;return this};c.prototype.gK=function(){return this.onc};c.prototype.Fa=function(){return this.Rc};c.prototype.Tb=function(a){this.Rc=a;return this};c.prototype.Zv=function(){return this.Nh};c.prototype.getStyle=function(){return this.lf};
c.prototype.setStyle=function(a){this.lf=a;return this};c.prototype.getArea=function(){return this.qB};c.prototype.y5b=function(a){this.qB=a;return this};c.prototype.FM=function(){return this.H1};c.prototype.K5b=function(a){this.H1=a;return this};c.prototype.Hb=function(){return this.Pt};c.prototype.addShape=function(a){this.Nh.push(a);return this};c.prototype.GKc=function(a,b){return new c(b||[],this.Fa(),this.getStyle(),this.getArea(),this.FM(),a,this.gK(),this)};c.prototype.eyb=function(a){return null==
a?this:new c(this.Zv(),this.Fa(),a,this.getArea(),this.FM(),this.Hb(),this.gK(),this)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRSb290R3JvdXAiOiJRUmMiLCJnZXRSb290R3JvdXAiOiJnSyIsImdldFRyYW5zZm9ybWF0aW9uIjoiRmEiLCJzZXRUcmFuc2Zvcm1hdGlvbiI6IlRiIiwiZ2V0U2hhcGVzIjoiWnYiLCJzZXRBcmVhIjoieTViIiwiZ2V0Q2xpcHBpbmciOiJGTSIsInNldENsaXBwaW5nIjoiSzViIiwiZ2V0U2hhcGUiOiJIYiIsInB1c2hTaGFwZSI6IkdLYyIsInB1c2hTdHlsZSI6ImV5YiJ9fX0g");var oE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){iE.call(this);this.xne=null;this.y$c=Pd.Itb();this.GAa=null}var a=1,b=2,d=2,e=4,f=new td(0,0,0,0),g=20,h=.001;D(c,iE);L(c,"geotoolkit.svg.AbstractParser");c.prototype.zq=function(){return this.GAa};c.prototype.Azb=function(k){this.GAa=k};c.prototype.angle=function(k,l,m,n){var p=k*m+l*n;k=k*n-l*m;p=Math.atan2(k,p);return 0>p?2*Math.PI+p:p};c.prototype.getAttribute=function(k,l){return k&&k.attributes?(k=k.attributes.getNamedItem(l))?k.nodeValue:"":""};c.prototype.XW=
function(k,l){if(!l)return null;var m=this.GAa.e$()[k.nodeName],n=new jE(m);l=l.getStyle().clone();m=this.getAttribute(k,"class");if(this.$e(m)){m=m.split(" ");for(var p=0;p<m.length;p++)n=n.merge(this.GAa.getStyle("."+m[p]))}m=this.getAttribute(k,"id");this.$e(m)&&(n=n.merge(this.GAa.getStyle("#"+m)));m=this.getAttribute(k,"style");if(this.$e(m)){m=this.GAa.$ea().d3b(m);for(var q in m)m.hasOwnProperty(q)&&n.setStyle(q,m[q],null)}q="visibility fill fill-rule int:stroke-fixedwidth stroke-width stroke-linecap stroke-linejoin stroke-miterlimit stroke stroke-dasharray stroke-opacity fill-opacity vector-effect".split(" ");
var r=this;q.forEach(function(w){var y=r.getAttribute(k,w);r.$e(y)&&n.setStyle(w,y)});q=this.getAttribute(k,"opacity");if(this.$e(q))if(m=l.getStyle("opacity"),this.$e(m)){m=parseFloat(m);if(isNaN(m)||1<m)m=1;q=parseFloat(q);isNaN(q)||(1<q&&(q=1),m*=q);n.setStyle("opacity",m)}else n.setStyle("opacity",q);q=this.getAttribute(k,"text-anchor");this.$e(q)&&n.setStyle("text-anchor",q);q=this.getAttribute(k,"text-decoration");this.$e(q)&&n.setStyle("text-decoration",q);q=this.getAttribute(k,"font-family");
m=this.getAttribute(k,"font-style");p=this.getAttribute(k,"font-size");var t=this.getAttribute(k,"font-weight"),u=this.getAttribute(k,"baseline-shift");this.$e(q)&&(q.startsWith("'")&&q.endsWith("'")&&(q=q.replace(/'/g,"")),n.setStyle("font-family",q));this.$e(m)&&n.setStyle("font-style",m);this.$e(t)&&n.setStyle("font-weight",t);this.$e(p)&&n.setStyle("font-size",p);this.$e(u)&&n.setStyle("baseline-shift",u);return l.merge(n)};c.prototype.aQ=function(k,l){if(null==this.zq())throw Error("Document parser was not found");
if(!k||!l)throw Error("Invalid parameters");for(var m=l.Hb(),n=k.firstChild;null!==n;n=n.nextSibling)n.nodeType===Za.Node.ELEMENT_NODE&&(k=this.zq().pv(n,l),null!=k&&k!==m&&m instanceof Th&&k instanceof Fe&&m.oa(k));return this};c.prototype.Kxb=function(k){var l=0,m=0,n=0,p=0,q=0,r=0,t,u=!1,w=Number.NEGATIVE_INFINITY,y=Number.NEGATIVE_INFINITY;k=new nE(k);for(var A=new dh;"0"!==(t=k.UHc());){switch(t){case "Z":case "z":A.lineTo(q,r);A.close();l=q;m=r;continue;case "A":case "a":var x=this.Vw(k.XP(),
0),C=this.Lu(k.XP(),0),z=this.Lu(k.XP(),0)*(Math.PI/180),v=this.Lu(k.XP(),0),B=this.Lu(k.XP(),0);var E=this.Vw(k.XP(),0);var H=this.Lu(k.XP(),0);"a"===t&&(E+=l,H+=m);if(1E-7>x||1E-7>C)A.moveTo(E+x,H+C),A.lineTo(E,H);else{t=new kE(A);l=this.ewc(x,C,z,v,B,{x:E,y:H},{x:l,y:m});lE.rN(t,l.Ogd,l.Pgd,2*x,2*C,l.hw,l.hw+l.ghd,B,E,H);l=E;m=H;continue}}x="V"===t||"v"===t?this.Vw(k.XP(),0):this.Lu(k.XP(),0);switch(t){case "h":A.lineTo(l=x+l,m);continue;case "H":A.lineTo(l=x,m);continue;case "v":A.lineTo(l,m=
x+m);continue;case "V":A.lineTo(l,m=x);continue}C=this.Lu(k.XP(),0);switch(t){case "m":if(u){q+=x;r+=C;l+=x;m+=C;A.moveTo(l,m);continue}q=x;r=C;l=x;m=C;p=x;n=C;A.moveTo(l,m);u=!0;continue;case "M":q=x;r=C;l=x;m=C;p=x;n=C;A.moveTo(l,m);u=!0;continue;case "L":l=x;m=C;p=x;n=C;A.lineTo(l,m);continue;case "l":l+=x;m+=C;A.lineTo(l,m);continue;case "T":w===Number.NEGATIVE_INFINITY&&(w=l);y===Number.NEGATIVE_INFINITY&&(y=m);E=l+(l-w);H=m+(m-y);this.rbb(A,l,m,E,H,x,C);l=x;m=C;w=E;y=H;continue;case "t":w===
Number.NEGATIVE_INFINITY&&(w=l);y===Number.NEGATIVE_INFINITY&&(y=m);E=l+(l-w);H=m+(m-y);this.rbb(A,l,m,l+(l-w),m+(m-y),l=x+l,m=C+m);w=E;y=H;continue}E=this.Vw(k.XP(),0);H=this.Lu(k.XP(),0);switch(t){case "S":!1===Number.isFinite(p)?A.bezierCurveTo(l,m,x,C,l=E,m=H):A.bezierCurveTo(l+(l-p),m+(m-n),x,C,l=E,m=H);p=E;n=H;continue;case "s":!1===Number.isFinite(p)?A.bezierCurveTo(l,m,x+l,C+m,E+l,H+m):A.bezierCurveTo(l+(l-p),m+(m-n),x+l,C+m,E+l,H+m);p=x+l;n=C+m;l=E+l;m=H+m;continue;case "Q":this.rbb(A,l,
m,x,C,l=E,m=H);w=x;y=C;continue;case "q":w=x+l;y=C+m;this.rbb(A,l,m,x+l,C+m,l=E+l,m=H+m);continue}B=this.Vw(k.XP(),0);z=this.Lu(k.XP(),0);switch(t){case "C":A.bezierCurveTo(x,C,E,H,l=B,m=z);p=E;n=H;continue;case "c":A.bezierCurveTo(x+l,C+m,E+l,H+m,B+l,z+m),p=E+l,n=H+m,l=B+l,m=z+m}}return A};c.prototype.ewc=function(k,l,m,n,p,q,r){function t(x,C){return(x[0]*C[1]<x[1]*C[0]?-1:1)*Math.acos(u(x,C))}function u(x,C){return(x[0]*C[0]+x[1]*C[1])/(w(x)*w(C))}function w(x){return Math.sqrt(Math.pow(x[0],2)+
Math.pow(x[1],2))}m*=Math.PI/180;var y=new M(Math.cos(m)*(r.x-q.x)/2+Math.sin(m)*(r.y-q.y)/2,-Math.sin(m)*(r.x-q.x)/2+Math.cos(m)*(r.y-q.y)/2),A=Math.pow(y.x,2)/Math.pow(k,2)+Math.pow(y.y,2)/Math.pow(l,2);1<A&&(k*=Math.sqrt(A),l*=Math.sqrt(A));n=(n===p?-1:1)*Math.sqrt((Math.pow(k,2)*Math.pow(l,2)-Math.pow(k,2)*Math.pow(y.y,2)-Math.pow(l,2)*Math.pow(y.x,2))/(Math.pow(k,2)*Math.pow(y.y,2)+Math.pow(l,2)*Math.pow(y.x,2)));isNaN(n)&&(n=0);n=new M(n*k*y.y/l,n*-l*y.x/k);m=new M((r.x+q.x)/2+Math.cos(m)*n.x-
Math.sin(m)*n.y,(r.y+q.y)/2+Math.sin(m)*n.x+Math.cos(m)*n.y);q=t([1,0],[(y.x-n.x)/k,(y.y-n.y)/l]);r=[(y.x-n.x)/k,(y.y-n.y)/l];k=[(-y.x-n.x)/k,(-y.y-n.y)/l];l=t(r,k);-1>=u(r,k)&&(l=Math.PI);1<=u(r,k)&&(l=0);return{Ogd:m.x,Pgd:m.y,ghd:l,hw:q}};c.prototype.rbb=function(k,l,m,n,p,q,r){l={t1b:l,u1b:m,e4b:0};this.lBb(k,n,p,q,r,l)};c.prototype.lBb=function(k,l,m,n,p,q){q.e4b++;var r=this.s7a(l,m,q.t1b,q.u1b,n,p);if(r<=h||q.e4b>=g)q.t1b=n,q.u1b=p,k.lineTo(n,p);else{r=.5*(q.t1b+l);var t=.5*(q.u1b+m);l=.5*
(n+l);m=.5*(p+m);var u=.5*(r+l),w=.5*(t+m);this.lBb(k,r,t,u,w,q);this.lBb(k,l,m,n,p,q)}q.e4b--};c.prototype.s7a=function(k,l,m,n,p,q){var r=Math.sqrt((m-p)*(m-p)+(n-q)*(n-q)),t=0;0!==r&&(t=Math.abs((m-k)*(q-l)-(n-l)*(p-k))/r);return t};c.prototype.Vw=function(k,l){return this.cVa(k,l,a)};c.prototype.Lu=function(k,l){return this.cVa(k,l,a)};c.prototype.U$=function(k,l){return this.cVa(k,l,a)};c.prototype.c5=function(k,l){return this.cVa(k,l,e)};c.prototype.cVa=function(k,l,m){if("string"!==typeof k||
0===k.length)return l;var n=this.zq().$ea();return null!==n?this.wRa(n.joa(k),m):l};c.prototype.bVa=function(k){if(!k)return null;var l=this.zq().$ea();if(null!==l){var m=l.joa(k);k=this.wRa(m,a);m=m.VFa();m.As()===m.As("CssOperatorComma")&&(m=m.VFa());l=this.wRa(m,b);m=m.VFa();m.As()===m.As("CssOperatorComma")&&(m=m.VFa());var n=this.wRa(m,a);m=m.VFa();m.As()===m.As("CssOperatorComma")&&(m=m.VFa());m=this.wRa(m,a);return new U(k,l,k+n,l+m)}return null};c.prototype.wRa=function(k,l){switch(k.As()){case k.As("CssInteger"):return k.fo();
case k.As("CssReal"):return k.fo();case k.As("CssPercentage"):var m=this.zq().y_b();k=k.fo()/100;switch(l){case a:return k*m.ca();case b:return k*m.da();case e:return k*m.ca();case d:return k*m.da();default:return k*Math.sqrt(m.ca()*m.ca()+m.da()*m.da())/2}}return k.fo()*this.zq().Wa(k.hzc())};c.prototype.Exb=function(k,l){if(null==l||!this.zq().vxc()||!k)return null;var m=this.zq().rFa(k);if(null==m){k=this.Sma("url",k);if(!k.Kg())return null;k=k.ve();m=this.zq().rFa(k)}if(null==m)return null;k=
this.zq().pv(m,l);null!==l.FM()&&(null!==k?k.union(l.FM()):k=l.FM().clone());return k};c.prototype.Awe=function(k,l,m,n){return k};c.prototype.$e=function(k){return!!k};c.prototype.bQ=function(k){if(!this.$e(k))return null;k=k.split(")");for(var l=new W,m=0;m<k.length;m++)if(this.$e(k[m])){var n=k[m]+")",p;if(null!==(p=this.Sma("matrix",n))){n=[];for(var q=0;6>q;q++)n[q]=parseFloat(p.ve());0<n.length&&(p=new W(n[0],n[1],n[2],n[3],n[4],n[5]),l=W.multiply(l,p))}else null!==(p=this.Sma("scale",n))?(n=
this.dT(p.ve(),1),p=p.Kg()?this.dT(p.ve(),n):n,l.scale(n,p)):null!==(p=this.Sma("translate",n))?(n=parseFloat(p.ve()),p=p.Kg()?this.dT(p.ve(),0):0,l.translate(n,p)):null!==(p=this.Sma("rotate",n))?(n=parseFloat(p.ve())*(Math.PI/180),q=p.Kg()?this.dT(p.ve(),0):0,p=p.Kg()?this.dT(p.ve(),0):0,l.translate(q,p),l.rotate(n),l.translate(-q,-p)):null!==(p=this.Sma("skewX",n))?l.aya(Math.tan(parseFloat(p.ve())*(Math.PI/180)),0):null!==(p=this.Sma("skewY",n))&&l.aya(0,Math.tan(parseFloat(p.ve())*(Math.PI/180)))}return l};
c.prototype.dT=function(k,l){if(!this.$e(k))return l;k=parseFloat(k);isNaN(k)&&(k=l);return k};c.prototype.Sma=function(k,l){function m(p){this.Hu=0;this.D$b=[];p=n.exec(p);if(null!=p[1]){p=p[1].split(/[ ,;\n\r\t]/);for(var q=0;q<p.length;q++)""!==p[q]&&this.D$b.push(p[q])}}var n=/\(([^)]+)\)/;if(-1===l.indexOf(k))return null;m.prototype.Kg=function(){return this.Hu<this.D$b.length};m.prototype.ve=function(){return this.D$b[this.Hu++]||null};return new m(l)};c.prototype.J6a=function(k,l){return null!=
k&&null!=l?(new W(l)).Qp(k):null!=k?k.clone():null!=l?l.clone():null};c.prototype.g_=function(k,l){null==l&&(l=k.getStyle());if(!l)return null;var m=new X,n={linestyle:m};m.Ccb(xg.VXa);var p=this.CUb(this.IP(l,"fill"),k);n.fillstyle=p||new rf;null!==l.getStyle("stroke-width")||null!==l.getStyle("stroke-linecap")||null!==l.getStyle("stroke-linejoin")||null!==l.getStyle("stroke-miterlimit")?m.setColor("black"):m.setColor(f);this.IP(l,"int:stroke-fixedwidth");p=this.IP(l,"vector-effect");this.$e(p)&&
p.includes("non-scaling-stroke");p=this.IP(l,"stroke-width");var q=this.c5(p,1);m.Ra(q);p=this.Nuc(this.IP(l,"stroke-linecap"));null!==p&&m.Ooa(p);p=this.Ouc(this.IP(l,"stroke-linejoin"));null!==p&&m.Ccb(p);q=this.IP(l,"stroke-dasharray");if(this.$e(q)&&"none"!==q){q=q.split(/[ ,;\n\r\t]/);p=[];for(var r=0;r<q.length;r++){var t=q[r];""!==t[r]&&p.push(parseFloat(t))}m.gw(p)}q=this.IP(l,"stroke");this.$e(q)&&"none"!==q?(m.setColor(new td(q)),k=this.CUb(this.IP(l,"stroke"),k),null!=k&&m.qa(k)):m.setColor(f);
p=this.IP(l,"fill-opacity");this.$e(p)&&this.n6b(n.fillstyle,p);p=this.IP(l,"opacity");this.$e(p)&&(this.n6b(n.fillstyle,p),"none"!==q&&this.t7b(m,p));p=this.IP(l,"stroke-opacity");this.$e(p)&&"none"!==q&&this.t7b(m,p);p=this.IP(l,"display");this.$e(p)&&(n.visible="none"!==p);return n};c.prototype.bLd=function(k,l){return this};c.prototype.SWb=function(k,l){0>l&&(l=0);1<l&&(l=1);k=td.Pa(k);k.ZA(k.Ek()*l);return k=k.Nl()};c.prototype.n6b=function(k,l){l=parseFloat(l);if(k instanceof wf)for(var m=k.t_(),
n=0;n<m;n++){var p=k.c$(n);k.xSc(n,this.SWb(p,l))}else k instanceof rf&&(p=k.rb(),k.setColor(this.SWb(p,l)));return this};c.prototype.t7b=function(k,l){l=parseFloat(l);var m=k.rb();0>l&&(l=0);1<l&&(l=1);if("string"===typeof m){var n=this.y$c[m];m=n?n.clone():Pd.Sg(m)}m instanceof td&&m.setColor(m.lk(),m.kk(),m.ik(),255*l);k.setColor(m);return this};c.prototype.Nuc=function(k){return this.$e(k)?"butt"===k?yg.dba:"round"===k?yg.Jj:"square"===k?yg.Zpa:null:null};c.prototype.Ouc=function(k){return this.$e(k)?
"miter"===k?xg.Mha:"bevel"===k?xg.VXa:"round"===k?xg.Jj:null:null};c.prototype.X2b=function(k,l){return this.cVa(k,l,e)};c.prototype.IP=function(k,l){return k.getStyle(l)};c.prototype.CUb=function(k,l){if(!this.$e(k))return new rf("black");var m=this.Sma("url",k),n=rf.vn;if(null===m)return n=new rf,l="none"===k?f:new td(k),n.setColor(l),n;k=m.ve();if(null===k)return n;k=this.zq().rFa(k);if(null!=k)switch(k.nodeName){case "linearGradient":n=this.Puc(k,l);break;case "radialGradient":n=this.Ruc(k,l);
break;case "pattern":n=this.Quc(k,l);break;default:n=null}return n};c.prototype.Puc=function(k,l){if("linearGradient"!==k.nodeName)return null;for(var m=[],n=k,p="",q="",r="",t="",u="",w="",y="";null!=n;)p=p||this.getAttribute(n,"gradientTransform"),q=q||this.getAttribute(n,"gradientUnits"),r=r||this.getAttribute(n,"spreadMethod"),t=t||this.getAttribute(n,"x1"),u=u||this.getAttribute(n,"x2"),w=w||this.getAttribute(n,"y1"),y=y||this.getAttribute(n,"y2"),0===m.length&&this.Muc(n,m),n=this.zq().rFa(this.getAttribute(n,
"xlink:href"));(n="userSpaceOnUse"===q)?(t=this.Vw(t,0),w=this.Lu(w,0),u=this.Vw(u,0),y=this.Lu(y,0)):(t=this.kga(t,0),w=this.kga(w,0),u=this.kga(u,1),y=this.kga(y,0));if(t===u&&w===y)return new rf(0<m.length?m[m.length-1].color:f);w=new M(t,w);y=new M(u,y);r=new ng(m[0].color,m[m.length-1].color,w,y,null,r,!0===n?"userSpaceOnUse":"objectBoundingBox");p=this.bQ(p);null!==p&&r.Tb(p);for(p=0;p<m.length;p++)r.$n(m[p].offset,m[p].color);l=new mE(null,l.Fa(),new jE,null,null,r,l.gK());this.aQ(k,l);return r};
c.prototype.Ruc=function(k,l){if("radialGradient"!==k.nodeName)return null;for(var m=k,n="",p="",q="",r="",t="",u="",w="",y="",A=[];null!=m;)n=n||this.getAttribute(m,"gradientTransform"),q=q||this.getAttribute(m,"gradientUnits"),p=p||this.getAttribute(m,"spreadMethod"),r=r||this.getAttribute(m,"cx"),t=t||this.getAttribute(m,"cy"),u=u||this.getAttribute(m,"r"),w=w||this.getAttribute(m,"fx"),y=y||this.getAttribute(m,"fy"),0===A.length&&this.Muc(m,A),m=this.zq().rFa(this.getAttribute(m,"xlink:href"));
m="userSpaceOnUse"===q;var x=0,C=0,z=q=0;if(m){var v=this.zq().y_b();x=this.$e(r)?this.Vw(r,x):v.getCenter().getX();C=this.$e(t)?this.Lu(t,C):v.getCenter().getY();r=this.$e(u)?this.Vw(u,100):.5*v.da();q=this.$e(w)?this.Vw(w,q):x;z=this.$e(y)?this.Lu(y,z):C}else x=this.kga(r,.5),C=this.kga(t,.5),r=this.kga(u,.5),q=this.kga(w,x),z=this.kga(y,C);w=new M(x,C);y=new M(q,z);A.sort(function(B,E){return B.offset-E.offset});p=new og({startcolor:A[0].color,endcolor:A[A.length-1].color,innercenter:y,innerradius:0,
outercenter:w,outerradius:r,spreadmethod:p,unittype:!0===m?"userSpaceOnUse":"objectBoundingBox"});n=this.bQ(n);null!==n&&p.Tb(n);for(n=1;n<A.length-1;n++)p.$n(A[n].offset,A[n].color);l=new mE(null,l.Fa(),new jE,null,null,p,l.gK());this.aQ(k,l);return p};c.prototype.Muc=function(k,l){for(var m=0;m<k.childNodes.length;m++){var n=k.childNodes.item(m);if(null!=n&&n.nodeType===Za.Node.ELEMENT_NODE&&"stop"===n.nodeName){var p=this.getAttribute(n,"offset"),q=this.zq().$ea().joa(p);p=q.fo();q.As()===q.As("CssPercentage")&&
(p/=100);p=Math.max(0,Math.min(p,1));q=this.getAttribute(n,"style");this.$e(q)?(n=this.zq().$ea().d3b(q),q=n["stop-color"],n=n["stop-opacity"]):(q=this.getAttribute(n,"stop-color"),n=this.getAttribute(n,"stop-opacity"));var r="none"===q?new td(0,0,0,1):new td(q);q=r.lk();var t=r.kk(),u=r.ik();r=r.Ek()/255;this.$e(n)&&(n=this.zq().$ea().joa(n),r=n.fo());n="rgba("+[q,t,u,r].join()+")";l.push({offset:p,color:n})}}};c.prototype.kga=function(k,l){if(!this.$e(k))return l;k=this.zq().$ea().joa(k);return k.As()===
k.As("CssPercentage")?k.fo()/100:k.fo()};c.prototype.Quc=function(k,l){for(var m="",n="",p="",q="",r="",t="",u="",w="",y="",A="",x=k;null!=k;)0===m.length&&(m=this.getAttribute(k,"x")),0===n.length&&(n=this.getAttribute(k,"y")),0===p.length&&(p=this.getAttribute(k,"height")),0===q.length&&(q=this.getAttribute(k,"width")),0===r.length&&(r=this.getAttribute(k,"viewBox")),0===t.length&&(t=this.getAttribute(k,"patternUnits")),0===u.length&&(u=this.getAttribute(k,"patternContentUnits")),0===w.length&&
(w=this.getAttribute(k,"patternTransform")),0===y.length&&(y=this.getAttribute(k,"preserveAspectRatio")),0===A.length&&(A=this.getAttribute(k,"clip-path")),0<k.childNodes.length&&0===x.childNodes.length&&(x=k),k=this.zq().rFa(this.getAttribute(k,"xlink:href"));k="userSpaceOnUse"===t;if(k){t=this.Vw(m,0);y=this.Lu(n,0);A=this.U$(p,100);var C=this.c5(q,100)}else C=l.Hb().ga(),t=C.getX()+C.ca()*this.Vw(m,0),y=C.getY()+C.da()*this.Lu(m,0),A=C.da()*this.U$(p,100),C=C.ca()*this.c5(q,100);t=new U(t,y,t+
C,y+A);r=this.bVa(r);A=this.bQ(w)||new W;w=new rf;y=new oi;y.qa(new rf("white"));l=new mE([],A,new jE,null,null,y,l.gK());this.aQ(x,l);u="userSpaceOnUse"===u;null!=r?y.Ha(r):u||k?y.Ha(t):y.Ha(new U(this.Vw(m,0),this.Lu(n,0),this.c5(q,100),this.U$(p,100)));y.sa(t);return 0<l.Zv().length?(m=ui.ya().createPattern(y,{scalable:this.zq().$Mc()}),w.gw(m),w):null};c.prototype.S_b=function(k){var l=null!==k.pa()&&void 0!==k.pa()?new Gh(k.pa().ca(),k.pa().da()):new Gh(64,64);var m=l.vq(new W,new M(0,0));null!=
m&&m.filter(k)&&k.render(m);l.Ko();return l.wk().toDataURL()};c.prototype.lt=function(k,l){if(null==k)return l;var m=12,n=k.getStyle().getStyle("font-family"),p=k.getStyle().getStyle("font-style"),q=k.getStyle().getStyle("font-size"),r=k.getStyle().getStyle("font-weight");if(null==n&&null==p&&null==q&&null==r)return l;k=k.getStyle().getStyle("text-align");switch(k){case "middle":k=Fi.Na;break;case "end":k=Fi.Ao;break;default:k=Fi.Vu}this.$e(n)||(n="Arial");this.$e(p)&&"normal"!==p||(p="");this.$e(r)||
(r="normal");if(this.$e(q))m=Number(q),Number.isNaN(m)&&(m=q);else switch(q){case "xx-small":m/=1.728;break;case "x-small":m/=1.44;break;case "small":m/=1.2;break;case "xx-large":m*=1.728;break;case "x-large":m*=1.44;break;case "large":m*=1.2;break;default:m=this.X2b(q,m)}Number(m)===m&&(m+="px");return(l||new Ki).fa({alignment:k,font:(p+" "+r+" "+m+" "+n).trim()})};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXREb2N1bWVudFBhcnNlciI6InpxIiwic2V0RG9jdW1lbnRQYXJzZXIiOiJBemIiLCJwYXJzZUF0dHJpYnV0ZSI6IlhXIiwicGFyc2VDaGlsZHJlbiI6ImFRIiwicGFyc2VQYXRoIjoiS3hiIiwiZW5kcG9pbnRUb0NlbnRlciI6ImV3YyIsInF1YWRUbyI6InJiYiIsInNwbGl0UXVhZFRvTGluZSI6ImxCYiIsImRpc3QiOiJzN2EiLCJwYXJzZUNvb3JkaW5hdGVYIjoiVnciLCJwYXJzZUNvb3JkaW5hdGVZIjoiTHUiLCJwYXJzZUhlaWdodCI6IlUkIiwicGFyc2VXaWR0aCI6ImM1IiwicGFyc2VDb29yZGluYXRlIjoiY1ZhIiwicGFyc2VCb3giOiJiVmEiLCJkZWNvZGVMVW5pdCI6IndSYSIsInBhcnNlQ2xpcCI6IkV4YiIsInZhbGlkYXRlU3RyaW5nIjoiJGUiLCJwYXJzZVRyYW5zZm9ybWF0aW9uIjoiYlEiLCJwYXJzZU51bWJlciI6ImRUIiwiZ2V0UGFyYW1Ub2tlbml6ZXIiOiJTbWEiLCJjb25jYXRlbmF0ZVRyYW5zZm9ybWF0aW9uIjoiSjZhIiwiZ2V0R3JhcGhpY0F0dHJpYnV0ZXMiOiJnXyIsInNldExpbmVTY2FsYWJsZSI6ImJMZCIsImdldENvbG9yV2l0aE9wYWNpdHkiOiJTV2IiLCJzZXRGaWxsT3BhY2l0eSI6Im42YiIsInNldE9wYWNpdHlUb0xpbmUiOiJ0N2IiLCJkZWNvZGVMaW5lQ2FwIjoiTnVjIiwiZGVjb2RlTGluZUpvaW4iOiJPdWMiLCJwYXJzZUxlbmd0aCI6IlgyYiIsImdldFN0eWxlQXR0cmlidXRlIjoiSVAiLCJkZWNvZGVGaWxsIjoiQ1ViIiwiZGVjb2RlTGluZWFyR3JhZGllbnRGaWxsIjoiUHVjIiwiZGVjb2RlUmFkaWFsR3JhZGllbnRGaWxsIjoiUnVjIiwicGFyc2VQZXJjZW50Ijoia2dhIiwiZGVjb2RlUGF0dGVybkZpbGwiOiJRdWMiLCJncm91cFRvSW1hZ2UiOiJTX2IiLCJnZXRGb250IjoibHQifX19"),nE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f){this.NB=f;this.Jh=0;this.Pqa=-1}var a="ZzMmLlHhVvSsCcQqTtAa",b="0123456789.eE",d=" \t\n\r",e=
","+d;L(c,"geotoolkit.svg.PathTokenizer");c.prototype.UHc=function(){if(-1!==this.Pqa){var f=this.Jh,g=this.XP();if(""!==g&&null!==g)return this.Jh=f,"M"===a[this.Pqa]?a[4]:"m"===a[this.Pqa]?a[5]:a[this.Pqa]}if(this.Jh>=this.NB.length)return"0";for(;-1===(this.Pqa=a.indexOf(this.NB[this.Jh]));)if(this.Jh++,this.Jh>=this.NB.length)return"0";this.Jh++;return a[this.Pqa]};c.prototype.XP=function(){if(this.Jh>=this.NB.length)return"";for(;-1!==e.indexOf(this.NB[this.Jh]);)if(this.Jh++,this.Jh>=this.NB.length)return null;
var f=this.Jh;"-"===this.NB[this.Jh]&&this.Jh++;for(var g=!1,h=!1;-1!==b.indexOf(this.NB[this.Jh])||("+"===this.NB[this.Jh]||"-"===this.NB[this.Jh])&&0<this.Jh&&("e"===this.NB[this.Jh-1]||"E"===this.NB[this.Jh-1]);){if("."===this.NB[this.Jh]){if(g||h)break;g=!0}if("e"===this.NB[this.Jh]||"E"===this.NB[this.Jh]){if(h)break;h=!0}this.Jh++;if(this.Jh>=this.NB.length)break}return this.NB.substring(f,this.Jh)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJuZXh0Q29tbWFuZCI6IlVIYyIsIm5leHROdW1iZXIiOiJYUCJ9fX0g");var qE=/*#__PURE__*/{Aa:"x",Ca:"y",qGb:"w",hEb:"h",RTd:"angle",Fha:"exact"},rE=/*#__PURE__*/{EN:1,Ao:2,HDb:4},sE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){oE.call(this)}D(c,oE);L(c,"geotoolkit.svg.AnimationParser");c.bA=qE;c.Eba=rE;c.prototype.gJc=function(a){a=this.getAttribute(a,"fill");return"freeze"===a?hd.nKa:hd.uF};c.prototype.lJc=function(a){var b=this.getAttribute(a,"values"),d=[];this.$e(b)?b.split(";").forEach(function(e){d.push(Pd.Sg(e.trim()))}):(b=this.getAttribute(a,"from"),a=this.getAttribute(a,"to"),this.$e(b)&&d.push(Pd.Sg(b.split(";")[0].trim())),
this.$e(a)&&d.push(Pd.Sg(a.split(";")[0].trim())));return d};c.prototype.IJc=function(a){var b=this.getAttribute(a,"repeatCount");a=this.getAttribute(a,"repeatDur");return this.$e(b)||this.$e(a)?"indefinite"===b||"indefinite"===a?Infinity:Number.parseInt(b):1};c.prototype.c3b=function(a){var b=this.getAttribute(a,"values"),d=[];this.$e(b)?b.split(";").forEach(function(e){d.push(e.trim())}):(b=this.getAttribute(a,"from"),a=this.getAttribute(a,"to"),this.$e(b)&&d.push(b.trim()),this.$e(a)&&d.push(a.trim()));
return d};c.prototype.Fxb=function(a,b){var d=this.getAttribute(b,"additive");if(this.$e(d))switch(d){case "sum":a.Mfc=fd.VKa;break;case "replace":a.Mfc=fd.To}d=this.getAttribute(b,"accumulate");if(this.$e(d))switch(d){case "sum":a.bhb=ed.VKa;break;case "none":a.bhb=ed.Bc}a.Wq=this.gJc(b);a.Pm=this.getAttribute(b,"id");a.xnb=this.IJc(b);this.mJc(b,a);if((b=this.getAttribute(b,"calcMode"))&&this.$e(b.trim()))switch(b){case "discrete":a.Zba=id.qF;break;case "spline":a.Zba=id.UT;break;case "paced":a.Zba=
id.iZa;break;default:a.Zba=id.rh}};c.prototype.BHa=function(a,b,d){a=a.trim();switch(b){case c.bA.Aa:return this.Vw(a,0)*(d&&d.Rc&&d.Rc.pb()||1);case c.bA.Ca:return this.Lu(a,0)*(d&&d.Rc&&d.Rc.Ab()||1);case c.bA.qGb:return this.c5(a,0)*(d&&d.Rc&&d.Rc.pb()||1);case c.bA.hEb:return this.U$(a,0)*(d&&d.Rc&&d.Rc.Ab()||1);default:return Number.parseFloat(a)}};c.prototype.xJc=function(a){var b=[];a=this.getAttribute(a,"keyTimes");return this.$e(a)?(a.split(";").forEach(function(d){b.push(this.BHa(d,c.bA.Fha,
null))}.bind(this)),b):null};c.prototype.W$=function(a,b,d){var e=[],f=this.getAttribute(a,"values");if(this.$e(f))f.split(";").forEach(function(l){e.push(this.BHa(l.trim(),c.bA.Fha,d))}.bind(this));else{f=0;var g=this.getAttribute(a,"from"),h=this.getAttribute(a,"to");a=this.getAttribute(a,"by");if(this.$e(g))f=this.BHa(g.split(";")[0].trim(),c.bA.Fha,d);else{g=new U;var k=d.Hb();k&&(g=k.getBoundingBox(null,!1));switch(b){case c.bA.Aa:f=g.x;break;case c.bA.Ca:f=g.y;break;case c.bA.qGb:f=g.width;
break;case c.bA.hEb:f=g.height}}e.push(f);if(this.$e(h))b=this.BHa(h.split(";")[0].trim(),c.bA.Fha,d),e.push(b);else if(this.$e(a))b=this.BHa(a.split(";")[0].trim(),c.bA.Fha,d),e.push(f+b);else throw Error("NoValuesAttribute");}return e};c.prototype.Nxb=function(a){var b=[],d=this.getAttribute(a,"values");if(this.$e(d))d.split(";").forEach(function(g){g=this.hbb(g);0!==g.length&&(1<g.length?b.push(new M(g[0].fo(),g[1].fo())):b.push(new M(g[0].fo(),g[0].fo())))}.bind(this));else{var e=this.getAttribute(a,
"from"),f=this.getAttribute(a,"to");d=new M;this.$e(e)&&(d=this.hbb(this.getAttribute(a,"from")),d=0===d.length?new M(1,1):1<d.length?new M(d[0].fo(),d[1].fo()):new M(d[0].fo(),d[0].fo()));if(this.$e(f))a=this.hbb(this.getAttribute(a,"to")),a=0===a.length?new M(1,1):1<a.length?new M(a[0].fo(),a[1].fo()):new M(a[0].fo(),a[0].fo());else return b;b.push(d);b.push(a)}return b};c.prototype.LJc=function(a){var b=[],d=this.getAttribute(a,"values");if(this.$e(d))d.split(";").forEach(function(e){b.push(this.Sub(e))}.bind(this));
else if(d=this.getAttribute(a,"from"),a=this.getAttribute(a,"to"),this.$e(d)&&b.push(this.Sub(d)),this.$e(a))b.push(this.Sub(a));else throw Error("NoValuesAttribute");return b};c.prototype.ADd=function(a){if(!this.$e(a)){var b=this.zq().$ea();a=b.joa(a);switch(a.As()){case a.As("CssMillisecond"):return a.fo();case a.As("CssSecond"):return 1E3*a.fo();case a.As("CssMinute"):return 6E4*a.fo();case a.As("CssHour"):return 36E5*a.fo();default:return a.fo()}}return 0};c.prototype.hbb=function(a){var b=[];
if(this.$e(a)){var d=this.zq().$ea();a.split(",").forEach(function(e){b.push(d.joa(e))})}return b};c.prototype.mJc=function(a,b){if(b&&a&&(a={effect:b,Bw:this.getAttribute(a,"begin"),end:this.getAttribute(a,"end"),Prb:this.getAttribute(a,"dur")},this.VJc(a),0===b.ox))throw Error("WrongEndTime");};c.prototype.Sub=function(a){var b=[];a=this.hbb(a.trim());for(var d=0;3>d;d++)b[d]=d>=a.length?0:a[d].fo();return b};c.prototype.VJc=function(a){this.$e(a.Bw)?this.setTime(a,c.Eba.EN):a.effect.Bw=0;this.$e(a.Prb)?
this.setTime(a,c.Eba.HDb):a.effect.Prb=0;this.$e(a.end)&&this.setTime(a,c.Eba.Ao)};c.prototype.setTime=function(a,b){var d=0;switch(b){case c.Eba.EN:var e=a.Bw;break;case c.Eba.HDb:e=a.Prb;break;case c.Eba.Ao:e=a.end}var f=this.zq().$ea();e=f.joa(e);switch(e.As()){case e.As("CssMillisecond"):d=e.fo();break;case e.As("CssSecond"):d=1E3*e.fo();break;case e.As("CssMinute"):d=6E4*e.fo();break;case e.As("CssHour"):d=36E5*e.fo();break;case e.As("CssStringValue"):d=e.getStringValue()}switch(b){case c.Eba.EN:a.effect.nE=
d;a.Bw=null;break;case c.Eba.HDb:a.effect.ora=d;a.Prb=null;break;case c.Eba.Ao:a.noe=!0,a.effect.ora=0<d-a.effect.nE?d-a.effect.nE:0,a.end=null}};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJwYXJzZUFuaW1hdGlvbkZpbGwiOiJnSmMiLCJwYXJzZUNvbG9yVmFsdWVzIjoibEpjIiwicGFyc2VSZXBlYXRDb3VudCI6IklKYyIsInBhcnNlU3RyaW5nVmFsdWVzIjoiYzNiIiwicGFyc2VDb21tb25FZmZlY3RTZXR0aW5ncyI6IkZ4YiIsInBhcnNlRG91YmxlVmFsdWUiOiJCSGEiLCJwYXJzZUtleVRpbWVzIjoieEpjIiwicGFyc2VOdW1iZXJWYWx1ZXMiOiJXJCIsInBhcnNlUG9pbnRWYWx1ZXMiOiJOeGIiLCJwYXJzZVJvdGF0aW9uUG9pbnRWYWx1ZXMiOiJMSmMiLCJwYXJzZVRpbWUiOiJBRGQiLCJwYXJzZVZhbHVlcyI6ImhiYiIsInBhcnNlRWZmZWN0UnVuVGltZSI6Im1KYyIsImdldFJvdGF0aW9uUG9pbnQiOiJTdWIiLCJwYXJzZVRpbWVWYWx1ZSI6IlZKYyJ9fX0g");var uE=/*#__PURE__*/function(){function c(){sE.call(this);this.fc="animate"}D(c,sE);L(c,"geotoolkit.svg.parsers.AnimateParser");c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");var d=b.Hb();if(d){var e=this.getAttribute(a,"attributeName");if(this.$e(e)){var f=re.ya().W6a({attributeName:e});switch(e){case "x":case "cx":f.setValues(this.W$(a,sE.bA.Aa,b));break;case "y":case "cy":f.setValues(this.W$(a,sE.bA.Aa,b));break;case "width":f.setValues(this.W$(a,
sE.bA.qGb,b));break;case "height":f.setValues(this.W$(a,sE.bA.hEb,b));break;case "ry":case "rx":f.setValues(this.W$(a,sE.bA.Aa,b));break;case "stroke-opacity":case "fill-opacity":case "opacity":f.setValues(this.W$(a,sE.bA.Fha,b));break;case "fill":case "stroke":f.setValues(this.lJc(a));break;case "x1":case "x2":f.setValues(this.W$(a,sE.bA.Aa,b));break;case "y1":case "y2":f.setValues(this.W$(a,sE.bA.Ca,b));break;case "visibility":f.setValues(this.c3b(a));break;case "stroke-width":f.setValues(this.W$(a,
sE.bA.Fha,b));break;case "font-size":f.setValues(this.W$(a,sE.bA.Fha,b));break;case "int:text":f.setValues(this.c3b(a));break;default:throw Error("Not supported animated attribute: "+e);}this.Fxb(f,a);(a=this.xJc(a))&&2<=a.length&&f.pQc(a);a=d.TRa()||new Me;d.lQ(a);a.Xpb(f)}}};return c}();var vE=/*#__PURE__*/function(){function c(){sE.call(this);this.fc="animateColor"}D(c,uE);L(c,"geotoolkit.svg.parsers.AnimateColorParser");c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");var d=this.getAttribute(a,"attributeName");!this.$e(d)||"fill"!==d&&"stroke"!==d||uE.prototype.parse.call(this,a,b)};return c}();var wE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){this.Hr=[];this.Msa=[];this.w0a=b;this.$f=null;this.snb=0}var a=10;L(c,"geotoolkit.svg.parsers.PathInterpolator");c.prototype.Ix=function(){return Math.min(this.Hr.length,this.Msa.length)};c.prototype.reset=function(){this.snb=0;this.Hr=[];this.Msa=[]};c.prototype.yad=function(){this.Msa[this.Msa.length-1]=Dd.TK};c.prototype.Kad=function(b){this.$f=new M(b);this.Hr.push(this.$f);this.Msa.push(Dd.ey)};c.prototype.hqc=function(b){this.$f=new M(b);this.Hr.push(this.$f);
this.Msa.push(Dd.bz)};c.prototype.Tpb=function(b,d,e){this.snb++;var f=this.distance(b,this.$f,e),g=this.distance(d,this.$f,e);if(f+g<=this.w0a||this.snb>=a)this.hqc(e);else{f=new M(e);g=new M((this.$f.getX()+b.getX())/2,(this.$f.getY()+b.getY())/2);e=new M((d.getX()+e.getX())/2,(d.getY()+e.getY())/2);var h=new M(g.getX()/2+(b.getX()+d.getX())/4,g.getY()/2+(b.getY()+d.getY())/4);b=new M((b.getX()+d.getX())/4+e.getX()/2,(b.getY()+d.getY())/4+e.getY()/2);d=new M((h.getX()+b.getX())/2,(h.getY()+b.getY())/
2);this.Tpb(g,h,d);this.Tpb(b,e,f)}this.snb--};c.prototype.distance=function(b,d,e){var f=M.Uf(d,e);return 0!==f?Math.abs((d.x-b.x)*(e.y-b.y)-(d.y-b.y)*(e.x-b.x))/f:0};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb3VudCI6Ikl4IiwiYWRkQmV6aWVyVG9TZWdtZW50IjoiVHBiIn19fSAg");var xE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){sE.call(this);this.fc="animateMotion"}D(c,sE);L(c,"geotoolkit.svg.parsers.AnimateMotionParser");c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");var d=b.Hb();if(d){var e=re.ya().W6a({attributeName:"path"}),f=this.getAttribute(a,"path");if(this.$e(f))f=this.Kxb(f),this.R8b(e,f);else if(1<(f=this.Nxb(a)).length)f.forEach(function(h){e.Xb(h)});else if(a.childNodes.length){var g=[];b.Zv().forEach(function(h){g.push(h)});
f=new mE(g,new W);this.aQ(a,f);f.Zv().forEach(function(h){this.R8b(e,h)}.bind(this))}if(!e.jpd())throw Error("NoValuesAttribute");e.ska=ce.Cv;f=this.getAttribute(a,"rotate");if(this.$e(f))switch(f){case "auto":e.ska=ce.gl;break;case "auto-reverse":e.ska=ce.SXa;break;default:e.W3a=this.BHa(f,qE.Fha,b)*(Math.PI/180)}else e.W3a=0;b=this.getAttribute(a,"accumulate");if(this.$e(b))switch(b){case "sum":e.bhb=ed.VKa;break;case "none":e.bhb=ed.Bc}this.Fxb(e,a);a=d.TRa()||new Me;d.lQ(a);a.Xpb(e)}};c.prototype.R8b=
function(a,b){var d=new wE(.1),e=[new M,new M,new M];b=b.Vd();var f;for(f=0;f<b.getLength();f++){var g=b.rd(f);switch(g.type){case Dd.TK:d.yad();break;case Dd.ey:d.Kad(e[0].Ga(g.x,g.y));break;case Dd.bz:d.hqc(e[0].Ga(g.x,g.y));break;case Dd.BC:d.Tpb(e[0].Ga(g.cp1x,g.cp1y),e[1].Ga(g.cp2x,g.cp2y),e[2].Ga(g.x,g.y))}}b=d.Hr;e=[new M];g=[0];var h=0,k=new M,l=new M,m=Dd.ey;for(f=0;f<d.Ix();f++){switch(d.Msa[f]){case Dd.ey:Dd.ey===m&&0<e.length&&(e.pop(),g.pop());e.push(new M(b[f]));g.push(0);l=b[f];k=b[f];
break;case Dd.bz:k=M.Uf(k,b[f]);g.push(k);e.push(new M(b[f]));h+=k;k=b[f];break;case Dd.TK:k=M.Uf(k,b[f]),g.push(k),e.push(new M(b[f])),h+=k,k=M.Uf(l,b[f]),e.push(new M(l)),g.push(k),h+=k,k=l}m=d.Msa[f]}for(f=1;f<g.length;f++)g[f]=g[f-1]+g[f]/h;a.setValues(e);a.pQc(g)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXR1cFBhdGgiOiJSOGIifX19");var yE=/*#__PURE__*/function(){function c(){sE.call(this);this.fc="animateTransform"}D(c,sE);L(c,"geotoolkit.svg.parsers.AnimateTransformParser");c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");if(b=b.Hb()){var d=this.getAttribute(a,"attributeName"),e=this.getAttribute(a,"type");if("transform"===d||"patternTransform"===d||"gradientTransform"===d){d=re.ya().W6a({attributeName:d,type:e});switch(e){case "scale":e=this.Nxb(a);for(var f in e)d.Xb(e[f]);
break;case "translate":d.setValues(this.Nxb(a));break;case "rotate":d.setValues(this.LJc(a))}this.Fxb(d,a);a=b.TRa()||new Me;b.lQ(a);a.Xpb(d)}}};return c}();var zE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){oE.call(this)}D(c,oE);L(c,"geotoolkit.svg.ShapeParser");c.prototype.rea=function(a,b,d){if(null==a||null==b||null==d)return a;this.Eqc(a,b,d);var e=d.getStyle().getStyle("visibility");e=!(this.$e(e)&&"hidden"===e);a.va(e);d.Zv().push(a);this.jHc(a,b,d);b=this.getAttribute(b,"id");a.Dd(this.$e(b)?b:null);return a};c.prototype.Eqc=function(a,b,d){a&&this.zq().vxc()&&(b=this.getAttribute(b,"clip-path"),this.$e(b)&&(d=this.Exb(b,d))&&a.uo(new Oe(d)))};c.prototype.jHc=function(a,
b,d){void 0!==a.ce&&a.ce();void 0!==a.Fe&&a.Fe()};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhcHBlbmRTaGFwZSI6InJlYSIsImFwcGVuZENsaXBwaW5nIjoiRXFjIiwibWFrZU1hcmtlcnMiOiJqSGMifX19");var AE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){oi.call(this,a);this.ipb=function(b){this.QJ()}.bind(this)}D(c,oi);L(c,"geotoolkit.svg.SvgGroup");c.prototype.oa=function(a){oi.prototype.oa.call(this,a);this.oUc(a);this.QJ();return this};c.prototype.Mf=function(a,b){oi.prototype.Mf.call(this,a,b);this.oUc(b);this.QJ();return this};c.prototype.removeChild=function(a){oi.prototype.removeChild.call(this,a);this.xVc(a);this.QJ();return this};c.prototype.oUc=function(a){a=a instanceof Hg?a:Hg.gi(Array.isArray(a)?a:[a]);
a.forEach(function(b){b.on(Ce.DC,this.ipb);b.on(Ce.GC,this.ipb)}.bind(this));return this};c.prototype.xVc=function(a){a=a instanceof Hg?a:Hg.gi(Array.isArray(a)?a:[a]);a.forEach(function(b){b.za(Ce.DC,this.ipb);b.za(Ce.GC,this.ipb)}.bind(this));return this};c.prototype.xa=function(a,b){if(this.Znc)return this;this.Znc=!0;this.QJ();oi.prototype.xa.call(this,a,b);this.Znc=!1;return this};c.prototype.dh=function(a){for(var b=this.Yb()-1;0<=b;--b)this.xVc(this.eb(b));oi.prototype.dh.call(this,a);this.QJ();
return this};c.prototype.QJ=function(){for(var a=null,b,d=0;d<this.Yb();d++)if(this.eb(d).ga&&(b=this.eb(d).ga(),null!=b)){var e=this.eb(d).lb();a=null!=e?null==a?e.Ta(b):a.union(e.Ta(b)):null==a?b.clone():a.union(b)}this.sa(null===a?new U:a)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRDaGlsZCI6Im9hIiwiaW5zZXJ0Q2hpbGQiOiJNZiIsInVwZGF0ZVN0YXRlIjoieGEiLCJjbGVhckNoaWxkcmVuIjoiZGgifX19");var BE=/*#__PURE__*/function(){function c(){zE.call(this);this.fc="g"}D(c,zE);L(c,"geotoolkit.svg.parsers.GroupParser");c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");var d=this.getAttribute(a,"id"),e=this.getAttribute(a,"class"),f=this.XW(a,b);d=(new AE).Dd(this.$e(d)?d:null).kb(this.fc).Js(this.fc).Pc(this.$e(e)?e:null);e=this.getAttribute(a,"transform");null!=e&&""!==e&&(e=this.bQ(e),d.Kc(e));e=this.getAttribute(a,"viewBox");null!=
e&&""!==e&&(e=this.bVa(e),d.Ha(e));b=new mE([],new W,f,d,b.FM(),d,b.gK());f=this.getAttribute(a,"clip-path");null!=f&&(f=this.Exb(f,b))&&d.uo(new Oe(f));b.K5b(null);this.aQ(a,b);return d};return c}();var CE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){BE.call(this);this.fc="a"}D(c,BE);L(c,"geotoolkit.svg.parsers.AParser");c.prototype.Da=function(){return this.fc};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROYW1lIjoiRGEifX19");var DE=/*#__PURE__*/function(){function c(){zE.call(this);this.fc="circle"}D(c,zE);L(c,"geotoolkit.svg.parsers.CircleParser");c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");var d=this.Vw(this.getAttribute(a,"cx"),0),e=this.Lu(this.getAttribute(a,"cy"),0),f=this.X2b(this.getAttribute(a,"r"),0),g=this.getAttribute(a,"id"),h=this.getAttribute(a,"class"),k=this.bQ(this.getAttribute(a,"transform"))||new W;d=(new Tm(d,e,f,f)).Dd(this.$e(g)?
g:null).kb(this.fc).Js(this.fc).Pc(this.$e(h)?h:null).Kc(k);k=this.J6a(k,b.Fa());e=this.XW(a,b);b=new mE(b.Zv(),k,e,d,b.FM(),d,b.gK());k=this.g_(b);d.fa(k);this.aQ(a,b);return this.rea(d,a,b)};return c}();var EE=/*#__PURE__*/function(){function c(){oE.call(this);this.fc="clipPath"}D(c,oE);L(c,"geotoolkit.svg.parsers.ClipPathParser");c.prototype.parse=function(a,b){function d(l){if("function"===typeof l.Vd)l=l.Vd();else if(l instanceof Tm){var m=l.ga(),n=m.cc(),p=m.zc();l=m.ca()/2;m=m.da()/2;n="M"+(n-l)+","+p;n+="a"+l+","+m+" 0 1,0 "+2*l+",0";n+="a"+l+","+m+" 0 1,0 "+-2*l+",0";l=k.Kxb(n).Vd()}else if("function"===typeof l.ga)l=l.ga();else return;h?l&&"function"===typeof h.ga&&"function"===typeof l.ga&&(h=h.ga().union(l.ga())):
h=l}if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");var e=[],f=this.bQ(this.getAttribute(a,"transform"));f=this.J6a(f,b.Fa());var g=this.XW(a,b);b=new mE(e,f,g,b.getArea());for(a=a.firstChild;null!==a;a=a.nextSibling)a.nodeType===Za.Node.ELEMENT_NODE&&this.zq().pv(a,b);if(0===e.length)return null;var h=null,k=this;for(a=0;a<e.length;++a)e[a]&&d(e[a]);return h?f.transform(h):null};return c}();var FE=/*#__PURE__*/function(){function c(){oE.call(this);this.fc="defs"}D(c,oE);L(c,"geotoolkit.svg.parsers.DefsParser");c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");for(var d=a.firstChild;null!==d;d=d.nextSibling)d.nodeType===Za.Node.ELEMENT_NODE&&("style"===d.nodeName?this.zq().pv(d,b):(a=this.getAttribute(d,"id"),null!=a&&this.zq().$pc("#"+a,d)));return null};return c}();var GE=/*#__PURE__*/function(){function c(){zE.call(this);this.fc="ellipse"}D(c,zE);L(c,"geotoolkit.svg.parsers.EllipseParser");c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");var d=this.Vw(this.getAttribute(a,"cx"),0),e=this.Lu(this.getAttribute(a,"cy"),0),f=this.c5(this.getAttribute(a,"rx"),0),g=this.U$(this.getAttribute(a,"ry"),0),h=this.getAttribute(a,"id"),k=this.getAttribute(a,"class"),l=this.bQ(this.getAttribute(a,"transform"))||
new W;d=new Tm(d,e,f,g);d.Dd(this.$e(h)?h:null);d.kb(this.fc);d.Js(this.fc);d.Pc(this.$e(k)?k:null);d.Kc(l);h=this.XW(a,b);b=new mE(b.Zv(),l,h,d,b.FM(),d,b.gK());l=this.g_(b);d.fa(l);this.aQ(a,b);return this.rea(d,a,b)};return c}();var HE=/*#__PURE__*/function(){function c(){zE.call(this);this.fc="image"}D(c,zE);L(c,"geotoolkit.svg.parsers.ImageParser");c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");var d=this.getAttribute(a,"xlink:href");if(!this.$e(d))return null;if(-1===d.indexOf("data:"))throw Error("External images are not yet supported");var e=this.Vw(this.getAttribute(a,"x"),0),f=this.Lu(this.getAttribute(a,"y"),0),g=this.c5(this.getAttribute(a,"width"),
100),h=this.U$(this.getAttribute(a,"height"),100),k=this.getAttribute(a,"id"),l=this.getAttribute(a,"class"),m=this.bQ(this.getAttribute(a,"transform"))||new W,n=(new Gj({x:e,y:f,w:g,h:h,url:d})).Dd(this.$e(k)?k:null).kb(this.fc).Js(this.fc).Pc(this.$e(l)?l:null).Kc(m);d=this.XW(a,b);m=new mE(b.Zv(),m,d,n,b.FM(),n,b.gK());d=this.g_(m);null!=d.fillstyle&&delete d.fillstyle;n.fa(d);n.on(Fj.Cj,function(){n.ha()});this.aQ(a,m);b.gK().Js("isResourceBased");return this.rea(n,a,m)};return c}();var IE=/*#__PURE__*/function(){function c(){zE.call(this);this.fc="line"}D(c,zE);L(c,"geotoolkit.svg.parsers.LineParser");c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");var d=this.Vw(this.getAttribute(a,"x1"),0),e=this.Lu(this.getAttribute(a,"y1"),0),f=this.Vw(this.getAttribute(a,"x2"),0),g=this.Lu(this.getAttribute(a,"y2"),0),h=this.getAttribute(a,"id"),k=this.getAttribute(a,"class"),l=this.bQ(this.getAttribute(a,"transform"))||new W;
d=(new Fk(new M(d,e),new M(f,g))).Dd(this.$e(h)?h:null).kb(this.fc).Js(this.fc).Pc(this.$e(k)?k:null).Kc(l);e=this.XW(a,b);b=new mE(b.Zv(),l,e,d,b.FM(),d,b.gK());l=this.g_(b);d.fa(l);this.aQ(a,b);return this.rea(d,a,b)};return c}();var JE=/*#__PURE__*/function(){function c(){zE.call(this);this.fc="path"}D(c,zE);L(c,"geotoolkit.svg.parsers.PathParser");c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");var d=this.getAttribute(a,"id"),e=this.getAttribute(a,"class"),f=this.bQ(this.getAttribute(a,"transform"))||new W;d=this.Kxb(this.getAttribute(a,"d")).Dd(this.$e(d)?d:null).kb(this.fc).Js(this.fc).Pc(this.$e(e)?e:null).Kc(f);b=new mE(b.Zv(),f,b.getStyle(),d,b.FM(),
d,b.gK());e=this.XW(a,b);f=this.g_(b,e);e=e.getStyle("fill-rule");d.fa(f);this.$e(e)&&null!=d.fb()&&"evenodd"===e&&d.fb().Toa(!0);this.aQ(a,b);return this.rea(d,a,b)};return c}();var KE=/*#__PURE__*/function(){function c(){zE.call(this);this.fc="polygon"}D(c,zE);L(c,"geotoolkit.svg.parsers.PolygonParser");c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");var d=this.getAttribute(a,"points");d=d.split(/[ ,;\n\r\t]/);var e=[],f;for(f=0;f<d.length;f++)""!==d[f]&&e.push(d[f]);d=[];var g=[];for(f=0;f<e.length;f++){var h=this.Vw(e[f++],0),k=this.Lu(e[f],0);d.push(h);g.push(k)}f=this.getAttribute(a,"id");h=this.getAttribute(a,
"class");e=this.bQ(this.getAttribute(a,"transform"))||new W;d=(new Vm({x:d,y:g})).Dd(this.$e(f)?f:null).kb(this.fc).Js(this.fc).Pc(this.$e(h)?h:null).Kc(e);g=this.XW(a,b);b=new mE(b.Zv(),e,g,d,b.FM(),d,b.gK());g=this.g_(b);d.fa(g);this.aQ(a,b);return this.rea(d,a,b)};return c}();var LE=/*#__PURE__*/function(){function c(){zE.call(this);this.fc="polyline"}function a(b,d,e,f){b=G(b,{fillstyle:null});$n.call(this,b,d,e,f)}D(a,$n);a.prototype.nm=function(b,d,e,f){var g=this.ga();b.ra(null,g);b.qa(this.fb(),g);b.Sj(d,e,0,f-1);b.ra(this.Ea(),g);b.nm(d,e,0,f-1)};D(c,zE);L(c,"geotoolkit.svg.parsers.PolylineParser");c.prototype.parse=function(b,d){if(!b)throw Error("Passed node is not valid");if(!d)throw Error("Passed context is not valid");var e=this.getAttribute(b,"points"),f=e.split(/[ ,\n\r\t]/),
g=[],h=this.getAttribute(b,"id"),k=this.getAttribute(b,"class");e=this.bQ(this.getAttribute(b,"transform"))||new W;var l;for(l=0;l<f.length;l++)""!==f[l]&&g.push(f[l]);f=[];var m=[];for(l=0;l<g.length;l++){var n=this.Vw(g[l++],0),p=this.Lu(g[l],0);f.push(n);m.push(p)}g=(new a({x:f,y:m})).Dd(this.$e(h)?h:null).kb(this.fc).Js(this.fc).Pc(this.$e(k)?k:null).Kc(e);h=this.XW(b,d);d=new mE(d.Zv(),e,h,g,d.FM(),g,d.gK());e=this.g_(d);g.fa(e);this.aQ(b,d);this.rea(g,b,d);return g};return c}();var ME=/*#__PURE__*/function(){function c(){zE.call(this);this.fc="rect"}D(c,zE);L(c,"geotoolkit.svg.parsers.RectParser");c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");var d=this.Vw(this.getAttribute(a,"x"),0),e=this.Lu(this.getAttribute(a,"y"),0),f=this.c5(this.getAttribute(a,"width"),100),g=this.U$(this.getAttribute(a,"height"),100),h=this.Vw(this.getAttribute(a,"rx"),0),k=this.Lu(this.getAttribute(a,"ry"),0),l=this.getAttribute(a,
"id"),m=this.getAttribute(a,"class"),n=this.bQ(this.getAttribute(a,"transform"))||new W;0===h&&0!==k?h=k:0===k&&0!==h&&(k=h);h>f/2&&0!==h&&(h=f/2);k>g/2&&0!==k&&(k=g/2);d=(new ho({left:d,top:e,width:f,height:g})).Dd(this.$e(l)?l:null).kb(this.fc).Js(this.fc).Pc(this.$e(m)?m:null).Kc(n);d.tC(h||k);h=this.XW(a,b);b=new mE(b.Zv(),new W,h,d,b.FM(),d,b.gK());h=this.g_(b);d.fa(h);this.aQ(a,b);return this.rea(d,a,b)};return c}();var NE=/*#__PURE__*/function(){function c(){oE.call(this);this.fc="style"}D(c,oE);L(c,"geotoolkit.svg.parsers.StyleParser");c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");for(var d=0;d<a.childNodes.length;d++){var e=a.childNodes.item(d),f=null;if(e.nodeType===Za.Node.CDATA_SECTION_NODE||e.nodeType===Za.Node.TEXT_NODE)f=e.data;if(this.$e(f))for(e=Yf.parse(f),0<e.Mk.moa.length&&(rb("Error occurred during CSS parsing"),rb(e.Mk.moa)),
f=0;f<e.Mk.rules.length;f++)if("comment"!==e.Mk.rules[f].type){var g=new jE,h;for(h=0;h<e.Mk.rules[f].Bu.length;h++)g.setStyle(e.Mk.rules[f].Bu[h].XA,e.Mk.rules[f].Bu[h].value,null);for(h=0;h<e.Mk.rules[f].AI.length;h++){var k=g.clone().kb(e.Mk.rules[f].AI[h]);b.getStyle().setStyle(null,k,e.Mk.rules[f].AI[h]);this.zq().setStyle(k,e.Mk.rules[f].AI[h])}}}};return c}();var OE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){zE.call(this);this.fc="svg"}D(c,zE);L(c,"geotoolkit.svg.parsers.SvgParser");c.prototype.mfa=function(a){var b=this.getAttribute(a,"overflow"),d=this.bVa(this.getAttribute(a,"viewBox")),e=this.U$(this.getAttribute(a,"height"),100);a=this.c5(this.getAttribute(a,"width"),100);return{overflow:b,viewBox:d,height:e,width:a}};c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");var d=this.getAttribute(a,
"overflow");"visible"===d&&this.zq().PId(!1);var e=null,f=this.getAttribute(a,"viewBox");null!==f&&(e=this.bVa(f),this.zq().PNd(null!=e?e.clone():null));f=new W;if(null===b.Fa())b.Tb(new W);else{var g=this.Vw(this.getAttribute(a,"x"),0),h=this.Lu(this.getAttribute(a,"y"),0);if(0!==g||0!==h)f=W.cf(g,h)}g=null;var k=this.getAttribute(a,"width");h=null;null!=k&&""!==k&&(h=this.c5(k,null));k=this.getAttribute(a,"height");var l=null;null!=k&&""!==k&&(l=this.U$(k,null));null!=h&&null!=l&&(g=new U(0,0,h,
l));h=b.Hb();h=null==h||h instanceof AE?(new oi).kb("svg_root_group"):b.Hb();k=[];for(l=h.vf();l.Kg();)k.push(l.next());b=b.GKc(h,k);l=this.getAttribute(a,"clip-path");k=null;null!=l&&""!==l&&(k=this.Exb(l,b),b.K5b(k));l=this.XW(a,b);null!=l&&(b=b.eyb(l));this.aQ(a,b);null!=e&&this.getAttribute(a,"preserveAspectRatio");h.Kc(f);null!=g&&h.Te("visible"!==d).sa(g);null==e?(this.zq().xTc(null),h.Yc(!0)):(this.zq().xTc(e),h.Ha(e));null!=k&&h.uo(new Oe(k));return h};c.prototype.ape=function(a,b,d,e){return new W};
return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRNZXRhSW5mbyI6Im1mYSJ9fX0g");var PE=/*#__PURE__*/function(){function c(){BE.call(this);this.fc="symbol"}D(c,BE);L(c,"geotoolkit.svg.parsers.SymbolParser");return c}();var QE=/*#__PURE__*/function(){function c(a){ek.call(this,a)}D(c,ek);L(c,"geotoolkit.svg.shapes.SvgText");c.prototype.Zg=function(a){if(!0!==a.ac()){if(null!=this.state){if(this.state.Td(a))return this;this.state.clear()}else this.state=a.TJ();a=this.state}var b=this.jb();a.ib(b);var d=rg.measureText("Ag",b);d=d.da();var e=0,f=0;if(!1===this.Jca){var g=this.ntb();if(null!=g)return g.Zg(this,a,e,f,b),this}switch(b.pj()){case "left":e=0;break;case "right":e=this.PR;break;case "center":e=this.PR/2}this.uZ!==d&&(f-=
this.uZ/2-d/2);a.je(e,f,this.rP());return this};return c}();var RE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){zE.call(this);this.fc="text";this.zd=this.Vc=null}function a(d,e,f,g){var h={},k=d.attributes;if(e<k.length){h=a(d,e+1,f,g);switch(k[e].value.trim()){case "italic":h.text="<i>"+h.text+"</i>";break;case "oblique":h.text="<em>"+h.text+"</em>";break;case "sub":h.text="<sub>"+h.text+"</sub>";break;case "super":h.text="<sup>"+h.text+"</sup>";break;case "underline":h.text='<ins color="'+(k.hasOwnProperty("fill")?k.fill.value:f)+'">'+h.text+"</ins>";break;case "line-through":h.text=
'<del color="'+(k.hasOwnProperty("fill")?k.fill.value:f)+'">'+h.text+"</del>"}switch(k[e].name){case "fill":h.style="font-color:"+k[e].value.trim()+";"+(h.style||"");break;case "font-size":h.style="font-size:"+k[e].value.trim()+"px;"+(h.style||"");break;case "font-weight":h.style="font-weight:"+k[e].value.trim()+";"+(h.style||"")}e++}else{d=d.firstChild;if(null!=d){var l=d.nodeValue.replace(/\s{2,}/g," ");null!=d.nextSibling&&(h=a(d.nextSibling,0,f,l.endsWith(" ")))}g&&(l=l.trimLeft());h.text=l+(h.text||
"")}1===e&&null!=h.style&&(h.text='<font style="'+h.style+'">'+h.text+"</font>",h.style=null);return h}function b(d,e){for(var f="",g=d.firstChild;null!=g;g=g.nextSibling)g.nodeType===Za.Node.ELEMENT_NODE&&"tspan"===g.nodeName&&(f+=a(g,0,null!=d.attributes.fill?d.attributes.fill.value:"black",f.endsWith(" ")).text),g.nodeType===Za.Node.TEXT_NODE&&(f+=g.nodeValue.replace(/\s{2,}/g," "));e.Eb(f);return f}D(c,zE);L(c,"geotoolkit.svg.parsers.TextParser");c.prototype.g_=function(d,e,f){e=zE.prototype.g_.call(this,
d,e);this.vo(e,d,f);e.fillstyle=null;e.linestyle=null;return e};c.prototype.vo=function(d,e,f){d.textstyle=this.lt(e,d.textstyle||f||new Ki);d.textstyle&&d.fillstyle&&d.textstyle.setColor(d.fillstyle.rb())};c.prototype.parse=function(d,e){if(!d)throw Error("Passed node is not valid");if(!e)throw Error("Passed context is not valid");var f=this.Vw(this.getAttribute(d,"x"),0),g=this.Lu(this.getAttribute(d,"y"),0),h=this.c5(this.getAttribute(d,"width"),100),k=this.U$(this.getAttribute(d,"height"),100),
l=this.getAttribute(d,"text-anchor");switch(l){case "middle":l=O.Na;break;case "end":l=O.pe;break;default:l=O.cg}var m=this.getAttribute(d,"alignment-baseline")||"alphabetic";switch(m){case "text-before-edge":m="top";break;case "text-after-edge":m="bottom"}var n=this.getAttribute(d,"id"),p=this.getAttribute(d,"class"),q=this.bQ(this.getAttribute(d,"transform"))||new W;f=(new QE({ax:f,ay:g,width:h,height:k,sizeisindevicespace:!1,textstyle:new Ki({baseline:m})})).Dd(this.$e(n)?n:null).kb(this.fc).Js(this.fc).Pc(this.$e(p)?
p:null).Kc(q).Wj(ck.wn).tc(l);b(d,f);g=this.XW(d,e);e=new mE(e.Zv(),q,g,f,e.FM(),f,e.gK());q=this.g_(e,null,f.jb());f.fa(q);this.aQ(d,e);return this.rea(f,d,e)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRHcmFwaGljQXR0cmlidXRlcyI6ImdfIn19fSAg");var SE=/*#__PURE__*/function(){function c(){oE.call(this);this.fc="use"}D(c,oE);L(c,"geotoolkit.svg.parsers.UseParser");c.prototype.parse=function(a,b){if(!a)throw Error("Passed node is not valid");if(!b)throw Error("Passed context is not valid");var d=this.getAttribute(a,"xlink:href");null==d&&rb('<use> should containes "xlink:href" attribute');var e=this.zq().rFa(d);null==e&&rb('There is no reference "'+d+'" found');var f=this.getAttribute(a,"transform");d=null;null!=f&&""!==f&&(d=this.bQ(f));var g=this.Vw(this.getAttribute(a,
"x"),0),h=this.Lu(this.getAttribute(a,"y"),0);f=this.Vw(this.getAttribute(a,"height"),0);var k=this.Lu(this.getAttribute(a,"width"),0);k=new U(g,h,g+k,h+f);f=new W;if(0!==g||0!==h)f=W.cf(g,h);g=this.getAttribute(e,"viewBox");null!=g&&""!==g&&(g=this.bVa(g),null!=g&&(f=W.Sd(g,k,!1,!1,!1)));g=this.J6a(d,b.Fa());a=this.XW(a,b);h=[];a=new mE(h,g,a,b.getArea(),b.FM(),null,b.gK());e=this.zq().pv(e,a);e instanceof Fe&&(e instanceof lg&&(f=this.J6a(f,d),e.Kc(f)),b.addShape(e));return e};return c}();var TE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){this.BL=a&&a.httpservice?a.httpservice:$k.ya().sS()}L(c,"geotoolkit.svg.SvgDataProvider");c.prototype.tab=function(a,b){null!==a&&void 0!==a&&""!==a&&"function"===typeof b&&this.BL.get(a).then(function(d){b(null,d.data)},function(d){b(d)})};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJsb2FkWG1sRGF0YSI6InRhYiJ9fX0g");var UE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){a=G(a,{xmldocument:"string"==typeof a?this.FHa(a):a,dpi:null!=b?b:96});this.ZY=a.xmldocument||null;this.e0a=a.dpi;this.w5c=new Yf;this.ync=this.Tfc=!0;this.Zoc=this.Cpc=null;this.ZC={};this.Cg={};this.dhc={};this.xnc=!0;this.Xoc=!1;this.j5c=.3937;this.k8c=.03937;this.Tl={px:1,cm:this.j5c*this.e0a,mm:this.k8c*this.e0a,pt:.0139*this.e0a,pc:.167*this.e0a,"in":this.e0a,em:1,ex:1};this.fF(new ME);this.fF(new OE);this.fF(new DE);this.fF(new KE);this.fF(new BE);this.fF(new FE);
this.fF(new GE);this.fF(new HE);this.fF(new NE);this.fF(new LE);this.fF(new SE);this.fF(new JE);this.fF(new IE);this.fF(new CE);this.fF(new PE);this.fF(new RE);this.fF(new EE);this.fF(new uE);this.fF(new yE);this.fF(new vE);this.fF(new xE)}L(c,"geotoolkit.svg.SVGParser");c.prototype.Wa=function(a){return this.Tl.hasOwnProperty(a)?this.Tl[a]:1};c.prototype.$pc=function(a,b){this.dhc[a]=b;return this};c.prototype.rFa=function(a){return this.dhc[a]||null};c.prototype.$l=function(a,b){this.Tl[a]=b;return this};
c.prototype.PNd=function(a){this.Zoc=a;return this};c.prototype.y_b=function(){return this.Zoc};c.prototype.xTc=function(a){this.Cpc=a;return this};c.prototype.lse=function(){return this.Cpc};c.prototype.e$=function(){return this.Cg};c.prototype.getStyle=function(a){return this.Cg[a]||null};c.prototype.setStyle=function(a,b){null==b&&(b="*");this.Cg.hasOwnProperty(b)?this.Cg[b].merge(a):this.Cg[b]=a;return this};c.prototype.$ea=function(){return this.w5c};c.prototype.FHa=function(a){if(null==a||""===
a)throw Error("Invalid XML Document");var b=new Za.DOMParser;a=b.parseFromString(a,"image/svg+xml");if("parsererror"===a.documentElement.nodeName||0<a.getElementsByTagName("parsererror").length)throw Error("Error while parsing SVG, invalid syntax");return a};c.prototype.fF=function(a){if(null==a||null==a.Da())throw Error("Invalid or null parameter passed");a.Azb(this);this.ZC[a.Da()]=a;return this};c.prototype.PId=function(a){this.Tfc=a;return this};c.prototype.vxc=function(){return this.Tfc};c.prototype.Gve=
function(a){return this};c.prototype.dre=function(){return null};c.prototype.Sve=function(a){this.ync=a;return this};c.prototype.Vre=function(){return this.ync};c.prototype.$Mc=function(){return this.xnc};c.prototype.R7b=function(a){this.xnc=a;return this};c.prototype.parse=function(a,b){null==b?b=this.ZY:"string"==typeof b&&(b=this.FHa(b));if(null==b)return null;for(var d=0;d<b.childNodes.length;d++){var e=null!=b.childNodes.item?b.childNodes.item(d):b.childNodes[d];e.nodeType===e.PROCESSING_INSTRUCTION_NODE&&
"xml-stylesheet"===e.target&&rb("External stylesheets are not supported")}b=b.documentElement||b;b.normalize();d=new jE;e=[];for(var f=a.vf();f.Kg();)e.push(f.next());d=new mE(e,null,d,null,null,a);a.Kc(new W);d.QRc(a);a=this.pv(b,d);return null!==a?{Ka:a.ga(),YWc:this.y_b()}:null};c.prototype.pv=function(a,b){if(null==a)return null;if(!(a instanceof Za.SVGElement||this.Xoc))if("svg"===a.localName)this.Xoc=!0;else return null;var d=null;this.ZC.hasOwnProperty(a.localName)&&(d=this.ZC[a.localName].parse(a,
b));b=oE.prototype.getAttribute.call(null,a,"id");null!=b&&""!==b&&this.$pc("#"+b,a);return d};c.prototype.Mtd=function(a){null==a?a=this.ZY:"string"==typeof a&&(a=this.FHa(a));a=a.documentElement;return"svg"===a.nodeName?this.ZC[a.nodeName].mfa(a):{}};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzY2FsYWJsZVBhdHRlcm5zIjoiJE1jIiwic2V0U2NhbGFibGVQYXR0ZXJucyI6IlI3YiIsImdldFN2Z01ldGFJbmZvIjoiTXRkIn19fSAg");var VE=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){gn.call(this,"object"===typeof a?a:null);this.oQa=null;null==a||"string"!==typeof a&&!a.xml||this.ISc("string"===typeof a?a:a.xml)}D(c,gn);L(c,"geotoolkit.svg.SvgPainter");c.prototype.clone=function(){var a=this.Vd();a=(new c).$m(null!=a?a.clone():null);a.oQa=this.QDc();return a};c.prototype.QDc=function(){return this.oQa};c.prototype.ISc=function(a){if(this.oQa===a)return this;this.oQa=a;a=null;null!=this.oQa&&(a=new oi,(new UE(this.oQa)).parse(a));this.$m(a);return this};
return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTdmciOiJRRGMiLCJzZXRTdmciOiJJU2MiLCJlbnVtZXJhdGVOb2RlcyI6IkdqIn19fSAg");export {iE,jE,kE,lE,mE,oE,nE,qE,rE,sE,uE,vE,wE,xE,yE,zE,AE,BE,CE,DE,EE,FE,GE,HE,IE,JE,KE,LE,ME,NE,OE,PE,QE,RE,SE,TE,UE,VE};