/* eslint-disable */
import {L,Fb,G,D,V,Zd,M,U,Yd,Hb,lc,Cb,Hd,Vd,W,Oe,Ed,Hg,fc,hb,ek,ck,Wi,Nm,O,$m,X,rf,Fk,Ro,td,hc,Oo,Pd,ue,Og,Qk,xb,Eg,Ce,Fg,Ng,nc,$n,Vm,Fe,Hm,yg,xg,og,Fi,Ki,Gj,Gh,ui,Eb,Fj,Za,ac,mc,bk,qc,Go,Sn,cn,dn,Mm,wg,dh,$c,Gg,Cg,qh,rh,Zf,Ec,sm,th,Jd,rb,sd,ii,li,WF,oi,Mo,Eo,oh,Dd,gh,Zm,kd,fi,ni,zm,Dc,Cc,xc,Me,Le,hd,rd,re,be,Th,tg,va} from './geotoolkit.base.js';import {$k,Uk} from './geotoolkit.http.js';import {TG} from './geotoolkit.data.js';import {no,Do} from './geotoolkit.tiledshape.js';import {RT,iT,uT,jT,UT,VT,TT,ZT,zS,XS,aU,SU,RU,HR,iU,eU,PU,yN,vN,BS,CS,AS,aT} from './geotoolkit.controls.js';import {UZ} from './geotoolkit.widgets.js';var aa,ha=ha||{};ha.scope={};ha.Nqc=function(c){var a=0;return function(){return a<c.length?{done:!1,value:c[a++]}:{done:!0}}};ha.Moe=function(c){return{next:ha.Nqc(c)}};ha.qXc=!1;ha.URd=!1;ha.VRd=!1;ha.Mfe=!1;ha.Acc=!1;ha.defineProperty=ha.qXc||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,a,b){if(c==Array.prototype||c==Object.prototype)return c;c[a]=b.value;return c};
ha.cod=function(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<c.length;++a){var b=c[a];if(b&&b.Math==Math)return b}return function(){throw Error("Cannot find global object");}()};ha.global=ha.cod(this);ha.nEb="function"===typeof Symbol&&"symbol"===typeof Symbol("x");ha.hje=!ha.Acc||ha.nEb;ha.r3b={};ha.L3b={};ha.S1c="$jscp$";
function aaa(c,a){var b=ha.L3b[a];if(null==b)return c[a];b=c[b];return void 0!==b?b:c[a]}ha.lKc=function(c,a,b,d){a&&(ha.Acc?ha.ZDd(c,a,b,d):ha.$Dd(c,a,b,d))};ha.$Dd=function(c,a,b,d){b=ha.global;c=c.split(".");for(d=0;d<c.length-1;d++){var e=c[d];if(!(e in b))return;b=b[e]}c=c[c.length-1];d=b[c];a=a(d);a!=d&&null!=a&&ha.defineProperty(b,c,{configurable:!0,writable:!0,value:a})};
ha.ZDd=function(c,a,b,d){var e=c.split(".");c=1===e.length;d=e[0];d=!c&&d in ha.r3b?ha.r3b:ha.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];b=ha.nEb&&"es6"===b?d[e]:null;a=a(b);null!=a&&(c?ha.defineProperty(ha.r3b,e,{configurable:!0,writable:!0,value:a}):a!==b&&(ha.L3b[e]=ha.nEb?ha.global.Symbol(e):ha.S1c+e,e=ha.L3b[e],ha.defineProperty(d,e,{configurable:!0,writable:!0,value:a})))};ha.Ise=function(){};
ha.lKc("Symbol",function(c){function a(f){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new b(d+(f||"")+"_"+e++,f)}function b(f,g){this.oXc=f;ha.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})}if(c)return c;b.prototype.toString=function(){return this.oXc};var d="jscomp_symbol_",e=0;return a},"es6","es3");ha.Kse=function(){};
ha.lKc("Symbol.iterator",function(c){if(c)return c;c=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),b=0;b<a.length;b++){var d=ha.global[a[b]];"function"===typeof d&&"function"!=typeof d.prototype[c]&&ha.defineProperty(d.prototype,c,{configurable:!0,writable:!0,value:function(){return ha.Nyd(ha.Nqc(this))}})}return c},"es6","es3");ha.Jse=function(){};
ha.Nyd=function(c){c={next:c};c[Symbol.iterator]=function(){return this};return c};var T3=/*#__PURE__*/va(/*#__PURE__*/{Z$b:"Aerial",CCb:"AerialWithLabels",vXc:"AerialWithLabelsOnDemand",RCb:"Birdseye",TCb:"BirdseyeWithLabels",SCb:"BirdseyeV2",dYc:"CanvasDark",fYc:"CanvasLight",eYc:"CanvasGray",$dc:"Road",H2c:"RoadOnDemand",E1c:"OrdnanceSurvey"},2,"eyJBZXJpYWwiOiJaJGIiLCJBZXJpYWxXaXRoTGFiZWxzIjoiQ0NiIiwiQWVyaWFsV2l0aExhYmVsc09uRGVtYW5kIjoidlhjIiwiQmlyZHNleWUiOiJSQ2IiLCJCaXJkc2V5ZVdpdGhMYWJlbHMiOiJUQ2IiLCJCaXJkc2V5ZVYyIjoiU0NiIiwiQ2FudmFzRGFyayI6ImRZYyIsIkNhbnZhc0xpZ2h0IjoiZlljIiwiQ2FudmFzR3JheSI6ImVZYyIsIlJvYWQiOiIkZGMiLCJSb2FkT25EZW1hbmQiOiJIMmMiLCJPcmRuYW5jZVN1cnZleSI6IkUxYyJ9");var U3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){this.fc=a.name;this.Ce=a.limits;this.Tl=a.units;this.n6c=a.epsg}L(c,"geotoolkit.map.coordinatesystems.AbstractSystem");c.prototype.Da=function(){return this.fc};c.prototype.OP=function(){return this.Tl};c.prototype.EA=function(){return this.n6c};c.prototype.HGc=function(){return!0};c.prototype.jk=function(){return this.Ce};c.prototype.transform=Fb;c.prototype.nc=Fb;return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROYW1lIjoiRGEiLCJnZXRVbml0cyI6Ik9QIiwiZ2V0RXBzZ0NvZGUiOiJFQSIsImlzVmVydGljYWxBeGlzVXAiOiJIR2MiLCJnZXREZWZhdWx0TW9kZWxMaW1pdHMiOiJqayIsImludmVyc2VUcmFuc2Zvcm0iOiJuYyJ9fX0g");var V3=/*#__PURE__*/va(/*#__PURE__*/{me:"north",vc:"south",dc:"west",Ic:"east"},2,"eyJOb3J0aCI6Im1lIiwiU291dGgiOiJ2YyIsIldlc3QiOiJkYyIsIkVhc3QiOiJJYyJ9");var W3=/*#__PURE__*/function(){return{4203:{towgs84:[-134,-48,149]},4326:{},4269:{},102100:{name:"WGS84"},3857:{name:"WGS84"},20436:{zone:36,southhemi:!1},20437:{zone:37,southhemi:!1},20438:{zone:38,southhemi:!1},20439:{zone:39,southhemi:!1},20440:{zone:40,southhemi:!1},2058:{zone:38,southhemi:!1},2059:{zone:39,southhemi:!1},2060:{zone:40,southhemi:!1},2061:{zone:41,southhemi:!1},2067:{zone:20,southhemi:!1},2077:{zone:32,southhemi:!1},2078:{zone:33,southhemi:!1},2079:{zone:34,southhemi:!1},2080:{zone:35,southhemi:!1},
20822:{zone:22,southhemi:!0},20823:{zone:23,southhemi:!0},20824:{zone:24,southhemi:!0},2084:{zone:19,southhemi:!0},2089:{zone:38,southhemi:!1},2090:{zone:39,southhemi:!1},2095:{zone:28,southhemi:!1},21818:{zone:18,southhemi:!1},2188:{zone:25,southhemi:!1},2189:{zone:26,southhemi:!1},2190:{zone:26,southhemi:!1},2216:{zone:22,southhemi:!1},2217:{zone:23,southhemi:!1},22521:{zone:21,southhemi:!0},22522:{zone:22,southhemi:!0},22523:{zone:23,southhemi:!0},22524:{zone:24,southhemi:!0},22525:{zone:25,southhemi:!0},
23028:{zone:28,southhemi:!1},23029:{zone:29,southhemi:!1},23030:{zone:30,southhemi:!1},23031:{zone:31,southhemi:!1},23032:{zone:32,southhemi:!1},23033:{zone:33,southhemi:!1},23034:{zone:34,southhemi:!1},23035:{zone:35,southhemi:!1},23036:{zone:36,southhemi:!1},23037:{zone:37,southhemi:!1},23038:{zone:38,southhemi:!1},2315:{zone:19,southhemi:!0},2316:{zone:20,southhemi:!0},23866:{zone:46,southhemi:!1},23867:{zone:47,southhemi:!1},23868:{zone:48,southhemi:!1},23869:{zone:49,southhemi:!1},23870:{zone:50,
southhemi:!1},23871:{zone:51,southhemi:!1},23872:{zone:52,southhemi:!1},23877:{zone:47,southhemi:!0},23878:{zone:48,southhemi:!0},23879:{zone:49,southhemi:!0},23880:{zone:50,southhemi:!0},23881:{zone:51,southhemi:!0},23882:{zone:52,southhemi:!0},23883:{zone:53,southhemi:!0},23884:{zone:54,southhemi:!0},24718:{zone:18,southhemi:!1},24719:{zone:19,southhemi:!1},24720:{zone:20,southhemi:!1},24817:{zone:17,southhemi:!1},24818:{zone:18,southhemi:!1},24819:{zone:19,southhemi:!1},24820:{zone:20,southhemi:!1},
24821:{zone:21,southhemi:!1},24877:{zone:17,southhemi:!0},24878:{zone:18,southhemi:!0},24879:{zone:19,southhemi:!0},24880:{zone:20,southhemi:!0},24881:{zone:21,southhemi:!0},24882:{zone:22,southhemi:!0},25932:{zone:32,southhemi:!0},27120:{zone:20,southhemi:!1},27258:{zone:58,southhemi:!0},27259:{zone:59,southhemi:!0},27260:{zone:60,southhemi:!0},27429:{zone:29,southhemi:!1},29220:{zone:20,southhemi:!0},29221:{zone:21,southhemi:!0},2942:{zone:28,southhemi:!1},2943:{zone:28,southhemi:!1},2969:{zone:20,
southhemi:!1},2970:{zone:20,southhemi:!1},2971:{zone:22,southhemi:!1},2973:{zone:20,southhemi:!1},29738:{zone:38,southhemi:!0},29739:{zone:39,southhemi:!0},2976:{zone:6,southhemi:!0},2977:{zone:5,southhemi:!0},2978:{zone:7,southhemi:!0},2980:{zone:38,southhemi:!0},2981:{zone:58,southhemi:!0},2988:{zone:1,southhemi:!0},2995:{zone:58,southhemi:!0},2996:{zone:58,southhemi:!0},2997:{zone:58,southhemi:!0},2998:{zone:58,southhemi:!0},2999:{zone:38,southhemi:!0},3036:{zone:36,southhemi:!0},3037:{zone:37,
southhemi:!0},3054:{zone:26,southhemi:!1},3055:{zone:27,southhemi:!1},3056:{zone:28,southhemi:!1},3060:{zone:58,southhemi:!0},3061:{zone:28,southhemi:!1},3062:{zone:26,southhemi:!1},3063:{zone:26,southhemi:!1},3064:{zone:32,southhemi:!1},3065:{zone:33,southhemi:!1},31121:{zone:21,southhemi:!1},3141:{zone:60,southhemi:!0},3142:{zone:1,southhemi:!0},3164:{zone:58,southhemi:!0},3172:{zone:59,southhemi:!0},31838:{zone:38,southhemi:!1},31839:{zone:39,southhemi:!1},3199:{zone:32,southhemi:!1},3201:{zone:33,
southhemi:!1},3202:{zone:34,southhemi:!1},3203:{zone:35,southhemi:!1},32601:{zone:1,southhemi:!1},32602:{zone:2,southhemi:!1},32603:{zone:3,southhemi:!1},32604:{zone:4,southhemi:!1},32605:{zone:5,southhemi:!1},32606:{zone:6,southhemi:!1},32607:{zone:7,southhemi:!1},32608:{zone:8,southhemi:!1},32609:{zone:9,southhemi:!1},32610:{zone:10,southhemi:!1},32611:{zone:11,southhemi:!1},32612:{zone:12,southhemi:!1},32613:{zone:13,southhemi:!1},32614:{zone:14,southhemi:!1},32615:{zone:15,southhemi:!1},32616:{zone:16,
southhemi:!1},32617:{zone:17,southhemi:!1},32618:{zone:18,southhemi:!1},32619:{zone:19,southhemi:!1},32620:{zone:20,southhemi:!1},32621:{zone:21,southhemi:!1},32622:{zone:22,southhemi:!1},32623:{zone:23,southhemi:!1},32624:{zone:24,southhemi:!1},32625:{zone:25,southhemi:!1},32626:{zone:26,southhemi:!1},32627:{zone:27,southhemi:!1},32628:{zone:28,southhemi:!1},32629:{zone:29,southhemi:!1},32630:{zone:30,southhemi:!1},32631:{zone:31,southhemi:!1},32632:{zone:32,southhemi:!1},32633:{zone:33,southhemi:!1},
32634:{zone:34,southhemi:!1},32635:{zone:35,southhemi:!1},32636:{zone:36,southhemi:!1},32637:{zone:37,southhemi:!1},32638:{zone:38,southhemi:!1},32639:{zone:39,southhemi:!1},32640:{zone:40,southhemi:!1},32641:{zone:41,southhemi:!1},32642:{zone:42,southhemi:!1},32643:{zone:43,southhemi:!1},32644:{zone:44,southhemi:!1},32645:{zone:45,southhemi:!1},32646:{zone:46,southhemi:!1},32647:{zone:47,southhemi:!1},32648:{zone:48,southhemi:!1},32649:{zone:49,southhemi:!1},32650:{zone:50,southhemi:!1},32651:{zone:51,
southhemi:!1},32652:{zone:52,southhemi:!1},32653:{zone:53,southhemi:!1},32654:{zone:54,southhemi:!1},32655:{zone:55,southhemi:!1},32656:{zone:56,southhemi:!1},32657:{zone:57,southhemi:!1},32658:{zone:58,southhemi:!1},32659:{zone:59,southhemi:!1},32660:{zone:60,southhemi:!1},32701:{zone:1,southhemi:!0},32702:{zone:2,southhemi:!0},32703:{zone:3,southhemi:!0},32704:{zone:4,southhemi:!0},32705:{zone:5,southhemi:!0},32706:{zone:6,southhemi:!0},32707:{zone:7,southhemi:!0},32708:{zone:8,southhemi:!0},32709:{zone:9,
southhemi:!0},32710:{zone:10,southhemi:!0},32711:{zone:11,southhemi:!0},32712:{zone:12,southhemi:!0},32713:{zone:13,southhemi:!0},32714:{zone:14,southhemi:!0},32715:{zone:15,southhemi:!0},32716:{zone:16,southhemi:!0},32717:{zone:17,southhemi:!0},32718:{zone:18,southhemi:!0},32719:{zone:19,southhemi:!0},32720:{zone:20,southhemi:!0},32721:{zone:21,southhemi:!0},32722:{zone:22,southhemi:!0},32723:{zone:23,southhemi:!0},32724:{zone:24,southhemi:!0},32725:{zone:25,southhemi:!0},32726:{zone:26,southhemi:!0},
32727:{zone:27,southhemi:!0},32728:{zone:28,southhemi:!0},32729:{zone:29,southhemi:!0},32730:{zone:30,southhemi:!0},32731:{zone:31,southhemi:!0},32732:{zone:32,southhemi:!0},32733:{zone:33,southhemi:!0},32734:{zone:34,southhemi:!0},32735:{zone:35,southhemi:!0},32736:{zone:36,southhemi:!0},32737:{zone:37,southhemi:!0},32738:{zone:38,southhemi:!0},32739:{zone:39,southhemi:!0},32740:{zone:40,southhemi:!0},32741:{zone:41,southhemi:!0},32742:{zone:42,southhemi:!0},32743:{zone:43,southhemi:!0},32744:{zone:44,
southhemi:!0},32745:{zone:45,southhemi:!0},32746:{zone:46,southhemi:!0},32747:{zone:47,southhemi:!0},32748:{zone:48,southhemi:!0},32749:{zone:49,southhemi:!0},32750:{zone:50,southhemi:!0},32751:{zone:51,southhemi:!0},32752:{zone:52,southhemi:!0},32753:{zone:53,southhemi:!0},32754:{zone:54,southhemi:!0},32755:{zone:55,southhemi:!0},32756:{zone:56,southhemi:!0},32757:{zone:57,southhemi:!0},32758:{zone:58,southhemi:!0},32759:{zone:59,southhemi:!0},32760:{zone:60,southhemi:!0},3302:{zone:7,southhemi:!0},
3303:{zone:7,southhemi:!0},3304:{zone:6,southhemi:!0},3305:{zone:6,southhemi:!0},3306:{zone:5,southhemi:!0},3307:{zone:39,southhemi:!1},3312:{zone:21,southhemi:!1},3336:{zone:42,southhemi:!0},3353:{zone:32,southhemi:!0},3354:{zone:32,southhemi:!0},3374:{zone:29,southhemi:!1},3405:{zone:48,southhemi:!1},3406:{zone:49,southhemi:!1},3449:{zone:17,southhemi:!1},3450:{zone:18,southhemi:!1},3784:{zone:9,southhemi:!0},3829:{zone:51,southhemi:!1},4037:{zone:35,southhemi:!1},4038:{zone:36,southhemi:!1},4071:{zone:23,
southhemi:!0},5337:{zone:25,southhemi:!0},5382:{zone:21,southhemi:!0},5383:{zone:22,southhemi:!0},5536:{zone:21,southhemi:!0},5537:{zone:22,southhemi:!0},5538:{zone:23,southhemi:!0},5539:{zone:24,southhemi:!0},5629:{zone:38,southhemi:!0},5836:{zone:37,southhemi:!1},5837:{zone:40,southhemi:!1},5879:{zone:38,southhemi:!0},7878:{zone:30,southhemi:!0},7883:{zone:30,southhemi:!0},7992:{zone:33,southhemi:!0},2009:{latitudeoforigin:0,centralmeridian:-58.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,
units:"metre"},2010:{latitudeoforigin:0,centralmeridian:-61.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2011:{latitudeoforigin:0,centralmeridian:-64.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2012:{latitudeoforigin:0,centralmeridian:-67.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2013:{latitudeoforigin:0,centralmeridian:-70.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2014:{latitudeoforigin:0,
centralmeridian:-73.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2015:{latitudeoforigin:0,centralmeridian:-76.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2016:{latitudeoforigin:0,centralmeridian:-79.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2017:{latitudeoforigin:0,centralmeridian:-73.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2018:{latitudeoforigin:0,centralmeridian:-76.5,falseeasting:304800,
falsenorthing:0,scalefactor:.9999,units:"metre"},2019:{latitudeoforigin:0,centralmeridian:-79.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2020:{latitudeoforigin:0,centralmeridian:-82.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2021:{latitudeoforigin:0,centralmeridian:-81,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2022:{latitudeoforigin:0,centralmeridian:-84,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},
2023:{latitudeoforigin:0,centralmeridian:-87,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2024:{latitudeoforigin:0,centralmeridian:-90,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2025:{latitudeoforigin:0,centralmeridian:-93,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2026:{latitudeoforigin:0,centralmeridian:-96,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2027:{latitudeoforigin:0,centralmeridian:-93,
falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2028:{latitudeoforigin:0,centralmeridian:-87,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2029:{latitudeoforigin:0,centralmeridian:-81,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2030:{latitudeoforigin:0,centralmeridian:-75,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2031:{latitudeoforigin:0,centralmeridian:-81,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},
2032:{latitudeoforigin:0,centralmeridian:-75,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2033:{latitudeoforigin:0,centralmeridian:-69,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2034:{latitudeoforigin:0,centralmeridian:-63,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2035:{latitudeoforigin:0,centralmeridian:-57,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2138:{latitudeoforigin:44,centralmeridian:-68.5,falseeasting:0,
falsenorthing:0,scalefactor:1,standartparallel1:60,standartparallel2:46,units:"metre"},2204:{latitudeoforigin:34.666666666667,centralmeridian:-86,falseeasting:2E6,falsenorthing:1E5,scalefactor:1,standartparallel1:35.25,standartparallel2:36.416666666667,units:"foot"},26701:{latitudeoforigin:0,centralmeridian:-177,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26702:{latitudeoforigin:0,centralmeridian:-171,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26703:{latitudeoforigin:0,
centralmeridian:-165,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26704:{latitudeoforigin:0,centralmeridian:-159,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26705:{latitudeoforigin:0,centralmeridian:-153,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26706:{latitudeoforigin:0,centralmeridian:-147,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26707:{latitudeoforigin:0,centralmeridian:-141,falseeasting:5E5,falsenorthing:0,
scalefactor:.9996,units:"metre"},26708:{latitudeoforigin:0,centralmeridian:-135,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26709:{latitudeoforigin:0,centralmeridian:-129,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26710:{latitudeoforigin:0,centralmeridian:-123,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26711:{latitudeoforigin:0,centralmeridian:-117,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26712:{latitudeoforigin:0,
centralmeridian:-111,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26713:{latitudeoforigin:0,centralmeridian:-105,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26714:{latitudeoforigin:0,centralmeridian:-99,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26715:{latitudeoforigin:0,centralmeridian:-93,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26716:{latitudeoforigin:0,centralmeridian:-87,falseeasting:5E5,falsenorthing:0,
scalefactor:.9996,units:"metre"},26717:{latitudeoforigin:0,centralmeridian:-81,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26718:{latitudeoforigin:0,centralmeridian:-75,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26719:{latitudeoforigin:0,centralmeridian:-69,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26720:{latitudeoforigin:0,centralmeridian:-63,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26721:{latitudeoforigin:0,
centralmeridian:-57,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26722:{latitudeoforigin:0,centralmeridian:-51,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26729:{latitudeoforigin:30.5,centralmeridian:-85.833333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.99996,units:"foot"},26730:{latitudeoforigin:30,centralmeridian:-87.5,falseeasting:5E5,falsenorthing:0,scalefactor:.999933333,units:"foot"},26732:{latitudeoforigin:54,centralmeridian:-142,falseeasting:5E5,
falsenorthing:0,scalefactor:.9999,units:"foot"},26733:{latitudeoforigin:54,centralmeridian:-146,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26734:{latitudeoforigin:54,centralmeridian:-150,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26735:{latitudeoforigin:54,centralmeridian:-154,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26736:{latitudeoforigin:54,centralmeridian:-158,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26737:{latitudeoforigin:54,
centralmeridian:-162,falseeasting:7E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26738:{latitudeoforigin:54,centralmeridian:-166,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26739:{latitudeoforigin:54,centralmeridian:-170,falseeasting:6E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26740:{latitudeoforigin:51,centralmeridian:-176,falseeasting:3E6,falsenorthing:0,scalefactor:1,standartparallel1:53.833333333333,standartparallel2:51.833333333333,units:"foot"},26741:{latitudeoforigin:39.333333333333,
centralmeridian:-122,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:41.666666666667,standartparallel2:40,units:"foot"},26742:{latitudeoforigin:37.666666666667,centralmeridian:-122,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:39.833333333333,standartparallel2:38.333333333333,units:"foot"},26743:{latitudeoforigin:36.5,centralmeridian:-120.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:38.433333333333,standartparallel2:37.066666666667,units:"foot"},
26744:{latitudeoforigin:35.333333333333,centralmeridian:-119,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:37.25,standartparallel2:36,units:"foot"},26745:{latitudeoforigin:33.5,centralmeridian:-118,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:35.466666666667,standartparallel2:34.033333333333,units:"foot"},26746:{latitudeoforigin:32.166666666667,centralmeridian:-116.25,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:33.883333333333,standartparallel2:32.783333333333,
units:"foot"},26748:{latitudeoforigin:31,centralmeridian:-110.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26749:{latitudeoforigin:31,centralmeridian:-111.916666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26750:{latitudeoforigin:31,centralmeridian:-113.75,falseeasting:5E5,falsenorthing:0,scalefactor:.999933333,units:"foot"},26751:{latitudeoforigin:34.333333333333,centralmeridian:-92,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:36.233333333333,
standartparallel2:34.933333333333,units:"foot"},26752:{latitudeoforigin:32.666666666667,centralmeridian:-92,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:34.766666666667,standartparallel2:33.3,units:"foot"},26753:{latitudeoforigin:39.333333333333,centralmeridian:-105.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:39.716666666667,standartparallel2:40.783333333333,units:"foot"},26754:{latitudeoforigin:37.833333333333,centralmeridian:-105.5,falseeasting:2E6,falsenorthing:0,
scalefactor:1,standartparallel1:39.75,standartparallel2:38.45,units:"foot"},26755:{latitudeoforigin:36.666666666667,centralmeridian:-105.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:38.433333333333,standartparallel2:37.233333333333,units:"foot"},26756:{latitudeoforigin:40.833333333333,centralmeridian:-72.75,falseeasting:6E5,falsenorthing:0,scalefactor:1,standartparallel1:41.866666666667,standartparallel2:41.2,units:"foot"},26757:{latitudeoforigin:38,centralmeridian:-75.416666666667,
falseeasting:5E5,falsenorthing:0,scalefactor:.999995,units:"foot"},26758:{latitudeoforigin:24.333333333333,centralmeridian:-81,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},26759:{latitudeoforigin:24.333333333333,centralmeridian:-82,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},26760:{latitudeoforigin:29,centralmeridian:-84.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:30.75,standartparallel2:29.583333333333,units:"foot"},26766:{latitudeoforigin:30,
centralmeridian:-82.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26767:{latitudeoforigin:30,centralmeridian:-84.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26768:{latitudeoforigin:41.666666666667,centralmeridian:-112.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.999947368,units:"foot"},26769:{latitudeoforigin:41.666666666667,centralmeridian:-114,falseeasting:5E5,falsenorthing:0,scalefactor:.999947368,units:"foot"},26770:{latitudeoforigin:41.666666666667,
centralmeridian:-115.75,falseeasting:5E5,falsenorthing:0,scalefactor:.999933333,units:"foot"},26771:{latitudeoforigin:36.666666666667,centralmeridian:-88.333333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999975,units:"foot"},26772:{latitudeoforigin:36.666666666667,centralmeridian:-90.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},26773:{latitudeoforigin:37.5,centralmeridian:-85.666666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.999966667,units:"foot"},
26774:{latitudeoforigin:37.5,centralmeridian:-87.083333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999966667,units:"foot"},26775:{latitudeoforigin:41.5,centralmeridian:-93.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:43.266666666667,standartparallel2:42.066666666667,units:"foot"},26776:{latitudeoforigin:40,centralmeridian:-93.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:41.783333333333,standartparallel2:40.616666666667,units:"foot"},26777:{latitudeoforigin:38.333333333333,
centralmeridian:-98,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:39.783333333333,standartparallel2:38.716666666667,units:"foot"},26778:{latitudeoforigin:36.666666666667,centralmeridian:-98.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:38.566666666667,standartparallel2:37.266666666667,units:"foot"},26779:{latitudeoforigin:37.5,centralmeridian:-84.25,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:37.966666666667,standartparallel2:38.966666666667,
units:"foot"},26780:{latitudeoforigin:36.333333333333,centralmeridian:-85.75,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:36.733333333333,standartparallel2:37.933333333333,units:"foot"},26781:{latitudeoforigin:30.666666666667,centralmeridian:-92.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:31.166666666667,standartparallel2:32.666666666667,units:"foot"},26782:{latitudeoforigin:28.666666666667,centralmeridian:-91.333333333333,falseeasting:2E6,falsenorthing:0,
scalefactor:1,standartparallel1:29.3,standartparallel2:30.7,units:"foot"},26783:{latitudeoforigin:43.833333333333,centralmeridian:-68.5,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26784:{latitudeoforigin:42.833333333333,centralmeridian:-70.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.999966667,units:"foot"},26785:{latitudeoforigin:37.833333333333,centralmeridian:-77,falseeasting:8E5,falsenorthing:0,scalefactor:1,standartparallel1:38.3,standartparallel2:39.45,units:"foot"},
26786:{latitudeoforigin:41,centralmeridian:-71.5,falseeasting:6E5,falsenorthing:0,scalefactor:1,standartparallel1:41.716666666667,standartparallel2:42.683333333333,units:"foot"},26787:{latitudeoforigin:41,centralmeridian:-70.5,falseeasting:2E5,falsenorthing:0,scalefactor:1,standartparallel1:41.283333333333,standartparallel2:41.483333333333,units:"foot"},26791:{latitudeoforigin:46.5,centralmeridian:-93.1,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:47.033333333333,standartparallel2:48.633333333333,
units:"foot"},26792:{latitudeoforigin:45,centralmeridian:-94.25,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:45.616666666667,standartparallel2:47.05,units:"foot"},26793:{latitudeoforigin:43,centralmeridian:-94,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:43.783333333333,standartparallel2:45.216666666667,units:"foot"},26794:{latitudeoforigin:29.666666666667,centralmeridian:-88.833333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.99996,units:"foot"},26795:{latitudeoforigin:30.5,
centralmeridian:-90.333333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},26796:{latitudeoforigin:35.833333333333,centralmeridian:-90.5,falseeasting:5E5,falsenorthing:0,scalefactor:.999933333,units:"foot"},26797:{latitudeoforigin:35.833333333333,centralmeridian:-92.5,falseeasting:5E5,falsenorthing:0,scalefactor:.999933333,units:"foot"},26798:{latitudeoforigin:36.166666666667,centralmeridian:-94.5,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},26799:{latitudeoforigin:34.133333333333,
centralmeridian:-118.333333333333,falseeasting:4186692.58,falsenorthing:4160926.74,scalefactor:1,standartparallel1:34.416666666667,standartparallel2:33.866666666667,units:"foot"},3069:{latitudeoforigin:0,centralmeridian:-90,falseeasting:5E5,falsenorthing:-45E5,scalefactor:.9996,units:"metre"},3080:{latitudeoforigin:31.166666666667,centralmeridian:-100,falseeasting:3E6,falsenorthing:3E6,scalefactor:1,standartparallel1:27.416666666667,standartparallel2:34.916666666667,units:"foot"},32001:{latitudeoforigin:47,
centralmeridian:-109.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:48.716666666667,standartparallel2:47.85,units:"foot"},32002:{latitudeoforigin:45.833333333333,centralmeridian:-109.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:47.883333333333,standartparallel2:46.45,units:"foot"},32003:{latitudeoforigin:44,centralmeridian:-109.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:46.4,standartparallel2:44.866666666667,units:"foot"},32005:{latitudeoforigin:41.333333333333,
centralmeridian:-100,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:41.85,standartparallel2:42.816666666667,units:"foot"},32006:{latitudeoforigin:39.666666666667,centralmeridian:-99.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:40.283333333333,standartparallel2:41.716666666667,units:"foot"},32007:{latitudeoforigin:34.75,centralmeridian:-115.583333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},32008:{latitudeoforigin:34.75,centralmeridian:-116.666666666667,
falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},32009:{latitudeoforigin:34.75,centralmeridian:-118.583333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},32010:{latitudeoforigin:42.5,centralmeridian:-71.666666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.999966667,units:"foot"},32011:{latitudeoforigin:38.833333333333,centralmeridian:-74.666666666667,falseeasting:2E6,falsenorthing:0,scalefactor:.999975,units:"foot"},32012:{latitudeoforigin:31,centralmeridian:-104.333333333333,
falseeasting:5E5,falsenorthing:0,scalefactor:.999909091,units:"foot"},32013:{latitudeoforigin:31,centralmeridian:-106.25,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},32014:{latitudeoforigin:31,centralmeridian:-107.833333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999916667,units:"foot"},32015:{latitudeoforigin:40,centralmeridian:-74.333333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999966667,units:"foot"},32016:{latitudeoforigin:40,centralmeridian:-76.583333333333,
falseeasting:5E5,falsenorthing:0,scalefactor:.9999375,units:"foot"},32017:{latitudeoforigin:40,centralmeridian:-78.583333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.9999375,units:"foot"},32019:{latitudeoforigin:33.75,centralmeridian:-79,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:34.333333333333,standartparallel2:36.166666666667,units:"foot"},32020:{latitudeoforigin:47,centralmeridian:-100.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:47.433333333333,
standartparallel2:48.733333333333,units:"foot"},32021:{latitudeoforigin:45.666666666667,centralmeridian:-100.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:46.183333333333,standartparallel2:47.483333333333,units:"foot"},32022:{latitudeoforigin:39.666666666667,centralmeridian:-82.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:40.433333333333,standartparallel2:41.7,units:"foot"},32023:{latitudeoforigin:38,centralmeridian:-82.5,falseeasting:2E6,falsenorthing:0,
scalefactor:1,standartparallel1:38.733333333333,standartparallel2:40.033333333333,units:"foot"},32024:{latitudeoforigin:35,centralmeridian:-98,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:35.566666666667,standartparallel2:36.766666666667,units:"foot"},32025:{latitudeoforigin:33.333333333333,centralmeridian:-98,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:33.933333333333,standartparallel2:35.233333333333,units:"foot"},32026:{latitudeoforigin:43.666666666667,
centralmeridian:-120.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:44.333333333333,standartparallel2:46,units:"foot"},32027:{latitudeoforigin:41.666666666667,centralmeridian:-120.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:42.333333333333,standartparallel2:44,units:"foot"},32028:{latitudeoforigin:40.166666666667,centralmeridian:-77.75,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:40.883333333333,standartparallel2:41.95,units:"foot"},32030:{latitudeoforigin:41.083333333333,
centralmeridian:-71.5,falseeasting:5E5,falsenorthing:0,scalefactor:.9999938,units:"foot"},32031:{latitudeoforigin:33,centralmeridian:-81,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:33.766666666667,standartparallel2:34.966666666667,units:"foot"},32033:{latitudeoforigin:31.833333333333,centralmeridian:-81,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:32.333333333333,standartparallel2:33.666666666667,units:"foot"},32034:{latitudeoforigin:43.833333333333,centralmeridian:-100,
falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:44.416666666667,standartparallel2:45.683333333333,units:"foot"},32035:{latitudeoforigin:42.333333333333,centralmeridian:-100.333333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:42.833333333333,standartparallel2:44.4,units:"foot"},32037:{latitudeoforigin:34,centralmeridian:-101.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:34.65,standartparallel2:36.183333333333,units:"foot"},32038:{latitudeoforigin:31.666666666667,
centralmeridian:-97.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:32.133333333333,standartparallel2:33.966666666667,units:"foot"},32039:{latitudeoforigin:29.666666666667,centralmeridian:-100.333333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:30.116666666667,standartparallel2:31.883333333333,units:"foot"},32040:{latitudeoforigin:27.833333333333,centralmeridian:-99,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:28.383333333333,standartparallel2:30.283333333333,
units:"foot"},32041:{latitudeoforigin:25.666666666667,centralmeridian:-98.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:26.166666666667,standartparallel2:27.833333333333,units:"foot"},32042:{latitudeoforigin:40.333333333333,centralmeridian:-111.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:40.716666666667,standartparallel2:41.783333333333,units:"foot"},32043:{latitudeoforigin:38.333333333333,centralmeridian:-111.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,
standartparallel1:39.016666666667,standartparallel2:40.65,units:"foot"},32044:{latitudeoforigin:36.666666666667,centralmeridian:-111.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:37.216666666667,standartparallel2:38.35,units:"foot"},32045:{latitudeoforigin:42.5,centralmeridian:-72.5,falseeasting:5E5,falsenorthing:0,scalefactor:.999964286,units:"foot"},32046:{latitudeoforigin:37.666666666667,centralmeridian:-78.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:38.033333333333,
standartparallel2:39.2,units:"foot"},32047:{latitudeoforigin:36.333333333333,centralmeridian:-78.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:36.766666666667,standartparallel2:37.966666666667,units:"foot"},32048:{latitudeoforigin:47,centralmeridian:-120.833333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:47.5,standartparallel2:48.733333333333,units:"foot"},32049:{latitudeoforigin:45.333333333333,centralmeridian:-120.5,falseeasting:2E6,falsenorthing:0,
scalefactor:1,standartparallel1:45.833333333333,standartparallel2:47.333333333333,units:"foot"},32050:{latitudeoforigin:38.5,centralmeridian:-79.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:39,standartparallel2:40.25,units:"foot"},32051:{latitudeoforigin:37,centralmeridian:-81,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:37.483333333333,standartparallel2:38.883333333333,units:"foot"},32052:{latitudeoforigin:45.166666666667,centralmeridian:-90,falseeasting:2E6,
falsenorthing:0,scalefactor:1,standartparallel1:45.566666666667,standartparallel2:46.766666666667,units:"foot"},32053:{latitudeoforigin:43.833333333333,centralmeridian:-90,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:44.25,standartparallel2:45.5,units:"foot"},32054:{latitudeoforigin:42,centralmeridian:-90,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:42.733333333333,standartparallel2:44.066666666667,units:"foot"},32055:{latitudeoforigin:40.666666666667,centralmeridian:-105.166666666667,
falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},32056:{latitudeoforigin:40.666666666667,centralmeridian:-107.333333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},32057:{latitudeoforigin:40.666666666667,centralmeridian:-108.75,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},32058:{latitudeoforigin:40.666666666667,centralmeridian:-110.083333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},32064:{latitudeoforigin:0,
centralmeridian:-99,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},32065:{latitudeoforigin:0,centralmeridian:-93,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},32066:{latitudeoforigin:0,centralmeridian:-87,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},32067:{latitudeoforigin:0,centralmeridian:-81,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},32081:{latitudeoforigin:0,centralmeridian:-53,falseeasting:304800,
falsenorthing:0,scalefactor:.9999,units:"metre"},32082:{latitudeoforigin:0,centralmeridian:-56,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},32083:{latitudeoforigin:0,centralmeridian:-58.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},32084:{latitudeoforigin:0,centralmeridian:-61.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},32085:{latitudeoforigin:0,centralmeridian:-64.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},
32086:{latitudeoforigin:0,centralmeridian:-67.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},32098:{latitudeoforigin:44,centralmeridian:-68.5,falseeasting:0,falsenorthing:0,scalefactor:1,standartparallel1:60,standartparallel2:46,units:"metre"},32099:{latitudeoforigin:25.666666666667,centralmeridian:-91.333333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:27.833333333333,standartparallel2:26.166666666667,units:"foot"},3370:{latitudeoforigin:0,centralmeridian:171,
falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},3371:{latitudeoforigin:0,centralmeridian:177,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},3771:{latitudeoforigin:0,centralmeridian:-111,falseeasting:0,falsenorthing:0,scalefactor:.9999,units:"metre"},3772:{latitudeoforigin:0,centralmeridian:-114,falseeasting:0,falsenorthing:0,scalefactor:.9999,units:"metre"},3773:{latitudeoforigin:0,centralmeridian:-117,falseeasting:0,falsenorthing:0,scalefactor:.9999,units:"metre"},
3795:{latitudeoforigin:22.35,centralmeridian:-81,falseeasting:5E5,falsenorthing:280296.016,scalefactor:1,standartparallel1:23,standartparallel2:21.7,units:"metre"},3796:{latitudeoforigin:20.716666666667,centralmeridian:-76.833333333333,falseeasting:5E5,falsenorthing:229126.939,scalefactor:1,standartparallel1:21.3,standartparallel2:20.133333333333,units:"metre"},3797:{latitudeoforigin:44,centralmeridian:-70,falseeasting:8E5,falsenorthing:0,scalefactor:1,standartparallel1:50,standartparallel2:46,units:"metre"},
3800:{latitudeoforigin:0,centralmeridian:-120,falseeasting:0,falsenorthing:0,scalefactor:.9999,units:"metre"},4399:{latitudeoforigin:0,centralmeridian:171,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4400:{latitudeoforigin:0,centralmeridian:177,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4401:{latitudeoforigin:0,centralmeridian:-177,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4402:{latitudeoforigin:0,centralmeridian:-171,
falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4403:{latitudeoforigin:0,centralmeridian:-165,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4404:{latitudeoforigin:0,centralmeridian:-159,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4405:{latitudeoforigin:0,centralmeridian:-153,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4406:{latitudeoforigin:0,centralmeridian:-147,falseeasting:1640416.67,falsenorthing:0,
scalefactor:.9996,units:"foot"},4407:{latitudeoforigin:0,centralmeridian:-141,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4408:{latitudeoforigin:0,centralmeridian:-135,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4409:{latitudeoforigin:0,centralmeridian:-129,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4410:{latitudeoforigin:0,centralmeridian:-123,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},
4411:{latitudeoforigin:0,centralmeridian:-117,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4412:{latitudeoforigin:0,centralmeridian:-111,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4413:{latitudeoforigin:0,centralmeridian:-105,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4418:{latitudeoforigin:0,centralmeridian:-75,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4419:{latitudeoforigin:0,centralmeridian:-69,
falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4455:{latitudeoforigin:39.333333333333,centralmeridian:-77.75,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:40.966666666667,standartparallel2:39.933333333333,units:"foot"},4456:{latitudeoforigin:40.5,centralmeridian:-74,falseeasting:2E6,falsenorthing:1E5,scalefactor:1,standartparallel1:41.033333333333,standartparallel2:40.666666666667,units:"foot"},5623:{latitudeoforigin:41.5,centralmeridian:-83.666666666667,
falseeasting:5E5,falsenorthing:0,scalefactor:.999942857,units:"foot"},5624:{latitudeoforigin:41.5,centralmeridian:-85.75,falseeasting:5E5,falsenorthing:0,scalefactor:.999909091,units:"foot"},5625:{latitudeoforigin:41.5,centralmeridian:-88.75,falseeasting:5E5,falsenorthing:0,scalefactor:.999909091,units:"foot"},6201:{latitudeoforigin:43.316666666667,centralmeridian:-84.333333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1.0000382,standartparallel1:44.183333333333,standartparallel2:45.7,units:"foot"},
6202:{latitudeoforigin:41.5,centralmeridian:-84.333333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1.0000382,standartparallel1:42.1,standartparallel2:43.666666666667,units:"foot"},6966:{latitudeoforigin:44.783333333333,centralmeridian:-87,falseeasting:2E6,falsenorthing:0,scalefactor:1.0000382,standartparallel1:45.483333333333,standartparallel2:47.083333333333,units:"foot"},7991:{latitudeoforigin:0,centralmeridian:-79.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"}}}();var X3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){this.wm=a;this.Via=b}L(c,"geotoolkit.map.coordinatesystems.Spheroid");c.prototype.Rua=function(){return this.wm};c.prototype.Dsb=function(){return-(this.Via*this.wm-this.wm)};c.prototype.ptb=function(){return Math.sqrt(2*this.Via-this.Via*this.Via)};c.prototype.Bzc=function(){return this.Via};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBIjoiUnVhIiwiZ2V0QiI6IkRzYiIsImdldEUiOiJwdGIiLCJnZXRGIjoiQnpjIn19fSAg");var Y3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){b=G(b,{spheroid:[6378137,298.2572236],name:"LambertConicConformal",units:"metre",standartparallel1:0,standartparallel2:0,latitudeoforigin:0,centralmeridian:0,falseeasting:0,falsenorthing:0,scalefactor:1},!0);U3.call(this,b);this.iV=new X3(b.spheroid[0],1/b.spheroid[1]);this.FPa=V.degToRad(b.standartparallel1);this.GPa=V.degToRad(b.standartparallel2);this.Tja=V.degToRad(b.latitudeoforigin);this.e3a=V.degToRad(b.centralmeridian);this.s0a=b.falseeasting;this.t0a=b.falsenorthing;
this.Pg=b.scalefactor;this.wm=Zd.ya().Wa("metre").convert(this.iV.Rua(),this.OP())*this.Pg;this.Ss=this.iV.ptb();this.Blb=Math.cos(this.FPa)/Math.sqrt(1-this.Ss*this.Ss*Math.sin(this.FPa)*Math.sin(this.FPa));this.V7c=Math.cos(this.GPa)/Math.sqrt(1-this.Ss*this.Ss*Math.sin(this.GPa)*Math.sin(this.GPa));this.Cob=Math.tan(Math.PI/4-this.FPa/2)/Math.pow((1-this.Ss*Math.sin(this.FPa))/(1+this.Ss*Math.sin(this.FPa)),this.Ss/2);this.v$c=Math.tan(Math.PI/4-this.GPa/2)/Math.pow((1-this.Ss*Math.sin(this.GPa))/
(1+this.Ss*Math.sin(this.GPa)),this.Ss/2);this.x$c=Math.tan(Math.PI/4-this.Tja/2)/Math.pow((1-this.Ss*Math.sin(this.Tja))/(1+this.Ss*Math.sin(this.Tja)),this.Ss/2);this.bp=(Math.log(this.Blb)-Math.log(this.V7c))/(Math.log(this.Cob)-Math.log(this.v$c));this.hV=0>this.bp?-1:1;this.mnb=this.Blb/(this.bp*Math.pow(this.Cob,this.bp))*this.wm*Math.pow(this.x$c,this.bp);this.U8c=this.Blb/(this.bp*Math.pow(this.Cob,this.bp))*this.wm;this.w$c=Math.pow(1/(this.Blb/(this.bp*Math.pow(this.Cob,this.bp))*this.wm),
1/this.bp)}var a=10;D(c,U3);L(c,"geotoolkit.map.coordinatesystems.LambertConicConformal");c.prototype.transform=function(b,d,e){null==e&&(e=new M);b=V.degToRad(e.x);d=V.degToRad(e.y);d=Math.tan(Math.PI/4-d/2)/Math.pow((1-this.Ss*Math.sin(d))/(1+this.Ss*Math.sin(d)),this.Ss/2);d=this.U8c*Math.pow(d,this.bp);var f=this.bp*(b-this.e3a);b=this.s0a+d*Math.sin(f);d=this.t0a+this.mnb-d*Math.cos(f);e.Ga(b,d);return e};c.prototype.nc=function(b,d,e){null==e&&(e=new M);b-=this.s0a;var f=d-this.t0a;d=this.hV*
Math.sqrt(b*b+(this.mnb-f)*(this.mnb-f));d=this.w$c*Math.pow(d,1/this.bp);b=Math.atan(b/(this.mnb-f));var g=b/this.bp+this.e3a;var h=Math.PI/2-2*Math.atan(d);f=0;do b=h,h=Math.PI/2-2*Math.atan(d*Math.pow((1-this.Ss*Math.sin(h))/(1+this.Ss*Math.sin(h)),this.Ss/2)),f++;while(Math.abs(h-b)>V.Qb&&f<a);e.Ga(V.radToDeg(g),V.radToDeg(h));return e};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnZlcnNlVHJhbnNmb3JtIjoibmMifX19");var Z3=/*#__PURE__*/va(/*#__PURE__*/{WT:"WGS84",MI:"LatLon",eGb:"UTM",Bc:"None"},2,"eyJXR1M4NCI6IldUIiwiTGF0TG9uIjoiTUkiLCJVVE0iOiJlR2IiLCJOb25lIjoiQmMifSAg");var $3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){U3.call(this,{epsg:b||4326,name:Z3.MI,limits:a,units:Zd.ya().Wa("degrees")})}var a=new U(-180,-90,180,90);D(c,U3);L(c,"geotoolkit.map.coordinatesystems.LatLon");c.prototype.transform=function(b,d,e,f){null==e&&(e=new M);!1!==f&&(b=V.clamp(b,-180,180),d=V.clamp(d,-90,90));return e.Ga(b,d)};c.prototype.nc=function(b,d,e){null==e&&(e=new M);b=V.clamp(b,-180,180);d=V.clamp(d,-90,90);return e.Ga(b,d)};c.PUc=function(b){if(0===b.length)return 0;if(-1===b.indexOf("\u00b0"))return+b;
var d=b[b.length-1].toUpperCase(),e=b.match(/^([\d]+\.?[\d]*)\u00b0 ?([\d]+\.?[\d]*)\u2032 ?([\d]+\.?[\d]*)\u2033/)||b.match(/^([\d]+\.?[\d]*)\u00b0 ?([\d]+\.?[\d]*)\u2032/)||b.match(/^([\d]+\.?[\d]*)\u00b0/),f=null!=e?e.length:0;b=1<f?+e[1]:0;var g=2<f?+e[2]:0;e=3<f?+e[3]:0;b=b+g/60+e/3600;return"S"===d||"W"===d?-b:b};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnZlcnNlVHJhbnNmb3JtIjoibmMifX19");var a4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f){U3.call(this,{epsg:f||3857,name:Z3.WT,limits:a,units:Zd.ya().Wa("meters")})}var a=new U(-2.0037507067161843E7,-2.0037507067161843E7,2.0037507067161843E7,2.0037507067161843E7),b=a.ca()/360,d=a.da()/(2*Math.PI),e=Math.PI/360;D(c,U3);L(c,"geotoolkit.map.coordinatesystems.WebMercator");c.prototype.transform=function(f,g,h,k){null==h&&(h=new M);h.Ga(f,g);!1!==k&&(-85>g?h.y=-85:85<g&&(h.y=85),-180>f?h.x=-180:180<f&&(h.x=180));h.x*=b;h.y=Math.log(Math.tan((90+h.y)*e));h.y*=
d;return h};c.prototype.nc=function(f,g,h){null==h&&(h=new M(f,g));h.x=f/b;h.y=g/d;h.y=(Math.atan(Math.exp(h.y))-Math.PI/4)/e;h.x=V.clamp(h.x,-180,180);h.y=V.clamp(h.y,-85,85);return h};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnZlcnNlVHJhbnNmb3JtIjoibmMifX19");var b4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(l,m){l=G(l,{zone:"number"===typeof l?l:null,southhemi:m,name:Z3.eGb,limits:f,units:Zd.ya().Wa("meters")},!0);U3.call(this,l);this.Ppb=l.zone;this.wPb=l.southhemi}function a(l){var m=(g-h)/(g+h);var n=(g+h)/2*(1+Math.pow(m,2)/4+Math.pow(m,4)/64);var p=-3*m/2+9*Math.pow(m,3)/16+-3*Math.pow(m,5)/32;var q=15*Math.pow(m,2)/16+-15*Math.pow(m,4)/32;var r=-35*Math.pow(m,3)/48+105*Math.pow(m,5)/256;m=315*Math.pow(m,4)/512;return l=n*(l+p*Math.sin(2*l)+q*Math.sin(4*l)+r*Math.sin(6*
l)+m*Math.sin(8*l))}function b(l,m,n,p){var q=(Math.pow(g,2)-Math.pow(h,2))/Math.pow(h,2);var r=q*Math.pow(Math.cos(l),2);q=Math.pow(g,2)/(h*Math.sqrt(1+r));var t=Math.tan(l);var u=t*t;m-=n;var w=1-u+r;n=5-u+9*r+4*r*r;var y=5-18*u+u*u+14*r-58*u*r;r=61-58*u+u*u+270*r-330*u*r;var A=61-479*u+179*u*u-u*u*u;u=1385-3111*u+543*u*u-u*u*u;w=q*Math.cos(l)*m+q/6*Math.pow(Math.cos(l),3)*w*Math.pow(m,3)+q/120*Math.pow(Math.cos(l),5)*y*Math.pow(m,5)+q/5040*Math.pow(Math.cos(l),7)*A*Math.pow(m,7);l=a(l)+t/2*q*Math.pow(Math.cos(l),
2)*Math.pow(m,2)+t/24*q*Math.pow(Math.cos(l),4)*n*Math.pow(m,4)+t/720*q*Math.pow(Math.cos(l),6)*r*Math.pow(m,6)+t/40320*q*Math.pow(Math.cos(l),8)*u*Math.pow(m,8);p.Ga(w,l);return p}function d(l){var m=(g-h)/(g+h);var n=(g+h)/2*(1+Math.pow(m,2)/4+Math.pow(m,4)/64);l/=n;n=3*m/2+-27*Math.pow(m,3)/32+269*Math.pow(m,5)/512;var p=21*Math.pow(m,2)/16+-55*Math.pow(m,4)/32;var q=151*Math.pow(m,3)/96+-417*Math.pow(m,5)/128;m=1097*Math.pow(m,4)/512;return m=l+n*Math.sin(2*l)+p*Math.sin(4*l)+q*Math.sin(6*l)+
m*Math.sin(8*l)}function e(l,m,n,p){var q;m=d(m);var r=(Math.pow(g,2)-Math.pow(h,2))/Math.pow(h,2);var t=Math.cos(m);var u=r*Math.pow(t,2);var w=q=Math.pow(g,2)/(h*Math.sqrt(1+u));var y=Math.tan(m);var A=y*y;var x=A*A;r=1/(w*t);w*=q;var C=y/(2*w);w*=q;var z=1/(6*w*t);w*=q;var v=y/(24*w);w*=q;var B=1/(120*w*t);w*=q;var E=y/(720*w);w*=q;t=1/(5040*w*t);w*=q;q=y/(40320*w);w=-1-u;y=-1-2*A-u;var H=5+3*A+6*u-6*A*u-3*u*u-9*A*u*u;var F=5+28*A+24*x+6*u+8*A*u;u=-61-90*A-45*x-107*u+162*A*u;var I=-61-662*A-1320*
x-720*x*A;A=1385+3633*A+4095*x+1575*x*A;p.Ga(n+r*l+z*y*Math.pow(l,3)+B*F*Math.pow(l,5)+t*I*Math.pow(l,7),m+C*w*l*l+v*H*Math.pow(l,4)+E*u*Math.pow(l,6)+q*A*Math.pow(l,8));return p}var f=new U(-2E7,-2E7,2E7,2E7),g=6378137,h=6356752.314,k=.9996;D(c,U3);L(c,"geotoolkit.map.coordinatesystems.UTM");c.prototype.transform=function(l,m,n){null==n&&(n=new M);n.Ga(l,m);l=V.degToRad(-183+6*this.Ppb);b(V.degToRad(n.y),V.degToRad(n.x),l,n);n.x=n.x*k+5E5;n.y*=k;0>n.y&&(n.y+=1E7);return n};c.prototype.Cvd=function(){return this.Ppb};
c.prototype.dOd=function(l){this.Ppb=l;return this};c.prototype.dNd=function(l){this.wPb=l;return this};c.prototype.Ayd=function(){return this.wPb};c.prototype.nc=function(l,m,n){null==n&&(n=new M);n.Ga(l,m);l=V.degToRad(-183+6*this.Ppb);n.x-=5E5;n.x/=k;this.wPb&&(n.y-=1E7);n.y/=k;e(n.x,n.y,l,n);n.x=V.radToDeg(n.x);n.y=V.radToDeg(n.y);return n};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRab25lIjoiQ3ZkIiwic2V0Wm9uZSI6ImRPZCIsInNldFNvdXRoZXJuSGVtaXNwaGVyZSI6ImROZCIsImlzU291dGhlcm5IZW1pc3BoZXJlIjoiQXlkIiwiaW52ZXJzZVRyYW5zZm9ybSI6Im5jIn19fSAg");var c4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){this.mta={};this.lMa=null}var a=null;L(c,"geotoolkit.map.coordinatesystems.Registry");c.prototype.Tj=function(b){if(b instanceof U3||null==b)return b;if("object"===typeof b)return null!=this.lMa?new this.lMa(b):null;null==this.mta[b]&&(this.mta[b]=this.Xed(b));return this.mta[b]};c.prototype.Xed=function(b){if(null==this.lMa)return null;var d=W3[b];if(null==d)return new this.lMa(b);if(null!=d.name&&null!=this.mta[d.name])return this.mta[d.name];d.epsg=b;return new this.lMa(d)};
c.prototype.ROc=function(b){this.lMa=b;return this};c.prototype.xFd=function(b){if(b instanceof U3)return null!=b.EA()&&(this.mta[b.EA()]=b),this;throw Error("Illegal system");};c.prototype.k4b=function(b){if(b instanceof U3)return null!=b.EA()&&(this.mta[b.EA()]=b),this.mta[b.Da()]=b,this;throw Error("Illegal system");};c.ag=function(){null==a&&(a=new c);return a};c.ag().k4b(new $3);c.ag().k4b(new a4);c.ag().k4b(new b4(31,!0));return c}(),2,"eyJnZXREZWZhdWx0IjoiYWciLCJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb29yZGluYXRlU3lzdGVtIjoiVGoiLCJzZXREZWZhdWx0U3lzdGVtIjoiUk9jIiwicmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtIjoieEZkIn19fSAg");var d4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b,d){null==d&&(d=b.targetcoordinatesystem,b=b.initialcoordinatesystem);this.Mic=c4.ag().Tj(b);this.roc=c4.ag().Tj(d)}var a=new M;L(c,"geotoolkit.map.coordinatesystems.Transformer");c.prototype.transform=function(b,d){return b instanceof M?this.Ma(b,d):b instanceof U?this.Ta(b,d):Array.isArray(b.x)&&Array.isArray(b.y)?this.iVc(b,d):b};c.prototype.Ma=function(b,d){d=this.eI().nc(b.x,b.y,d);this.mr().transform(d.x,d.y,d);return d};c.prototype.Ta=function(b,d){a.Ga(b.getX(),
b.getY());this.Ma(a,a);var e=a.x,f=a.y;a.Ga(b.na(),b.ma());this.Ma(a,a);null!=d?d.cb(e,f,a.x,a.y):d=new U(e,f,a.x,a.y);return d};c.prototype.iVc=function(b,d){var e=b.x;b=b.y;if(!Array.isArray(e)||!Array.isArray(b)||e.length!==b.length)return d;for(var f=[],g=[],h=0;h<e.length;++h)this.Ma(a.Ga(e[h],b[h]),a),f.push(a.x),g.push(a.y);d=d||{};d.x=f;d.y=g;return d};c.prototype.t5=function(b){this.Mic=c4.ag().Tj(b);return this};c.prototype.eI=function(){return this.Mic};c.prototype.UIa=function(b){this.roc=
c4.ag().Tj(b);return this};c.prototype.mr=function(){return this.roc};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ0cmFuc2Zvcm1Qb2ludCI6Ik1hIiwidHJhbnNmb3JtUmVjdCI6IlRhIiwidHJhbnNmb3JtUG9seWdvbiI6ImlWYyIsInNldEluaXRpYWxDb29yZGluYXRlU3lzdGVtIjoidDUiLCJnZXRJbml0aWFsQ29vcmRpbmF0ZVN5c3RlbSI6ImVJIiwic2V0VGFyZ2V0Q29vcmRpbmF0ZVN5c3RlbSI6IlVJYSIsImdldFRhcmdldENvb3JkaW5hdGVTeXN0ZW0iOiJtciJ9fX0g");var e4=/*#__PURE__*/function(){function c(a){d4.call(this,{initialcoordinatesystem:a.initialcoordinatesystem||a,targetcoordinatesystem:c4.ag().Tj(Z3.MI)})}D(c,d4);L(c,"geotoolkit.map.coordinatesystems.LatLonTransformer");c.prototype.transform=function(a,b){return this.eI().nc(a.x,a.y,b)};return c}();var f4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e){e=G(e,{units:"metre",name:"TranverseMercator",spheroid:[6378137,298.2572236],latitudeoforigin:0,centralmeridian:0,falseeasting:0,falsenorthing:0,scalefactor:1},!0);U3.call(this,e);this.iV=new X3(e.spheroid[0],1/e.spheroid[1]);this.Tja=V.degToRad(e.latitudeoforigin);this.e3a=V.degToRad(e.centralmeridian);this.s0a=e.falseeasting;this.t0a=e.falsenorthing;this.Pg=e.scalefactor;e=Zd.ya().Wa("metre").convert(this.iV.Rua(),this.OP());var f=Zd.ya().Wa("metre").convert(this.iV.Dsb(),
this.OP());this.Ss=this.iV.ptb();f=(e-f)/e;f/=2-f;var g=f*f;this.Hza=e/(1+f)*(1+g/4+g*g/64);this.m2=[f/2-2/3*g+.3125*g*f+41/180*g*g,13/48*g-.6*g*f+557/1440*g*g,61/240*g*f-103/140*g*g,49561/161280*g*g];this.Xra=[f/2-2/3*g+37/96*g*f-1/360*g*g,1/48*g+1/15*g*f-437/1440*g*g,17/480*g*f-37/840*g*g,4397/161280*g*g];this.e2a=0;Math.abs(this.Tja)>V.Qb&&(this.Tja===Math.PI/2?this.e2a=Math.PI/2*this.Hza:this.Tja===-Math.PI/2?this.e2a=Math.PI/2*-this.Hza:(e=b(Math.tan(this.Tja))-this.Ss*a(this.Ss*Math.sin(this.Tja)),
e=Math.atan(Math.sinh(e)),e=Math.asin(Math.sin(e)),e=e+this.m2[0]*Math.sin(2*e)+this.m2[1]*Math.sin(4*e)+this.m2[2]*Math.sin(6*e)+this.m2[3]*Math.sin(8*e),this.e2a=this.Hza*e))}function a(e){return.5*Math.log((1+e)/(1-e))}function b(e){return Math.log(e+Math.sqrt(e*e+1))}var d=10;D(c,U3);L(c,"geotoolkit.map.coordinatesystems.TransverseMercator");c.prototype.transform=function(e,f,g){null==g&&(g=new M);e=V.degToRad(e);f=V.degToRad(f);f=b(Math.tan(f))-this.Ss*a(this.Ss*Math.sin(f));var h=Math.atan(Math.sinh(f));
f=a(Math.cos(h)*Math.sin(e-this.e3a));h=Math.asin(Math.sin(h)*Math.cosh(f));e=h+this.m2[0]*Math.sin(2*h)*Math.cosh(2*f)+this.m2[1]*Math.sin(4*h)*Math.cosh(4*f)+this.m2[2]*Math.sin(6*h)*Math.cosh(6*f)+this.m2[3]*Math.sin(8*h)*Math.cosh(8*f);f=f+this.m2[0]*Math.cos(2*h)*Math.sinh(2*f)+this.m2[1]*Math.cos(4*h)*Math.sinh(4*f)+this.m2[2]*Math.cos(6*h)*Math.sinh(6*f)+this.m2[3]*Math.cos(8*h)*Math.sinh(8*f);f=this.s0a+this.Pg*this.Hza*f;e=this.t0a+this.Pg*(this.Hza*e-this.e2a);g.Ga(f,e);return g};c.prototype.nc=
function(e,f,g){null==g&&(g=new M);e=(e-this.s0a)/(this.Hza*this.Pg);var h=(f-this.t0a+this.e2a*this.Pg)/(this.Hza*this.Pg);f=h-this.Xra[0]*Math.sin(2*h)*Math.cosh(2*e)-this.Xra[1]*Math.sin(4*h)*Math.cosh(4*e)-this.Xra[2]*Math.sin(6*h)*Math.cosh(6*e)-this.Xra[3]*Math.sin(8*h)*Math.cosh(8*e);e=e-this.Xra[0]*Math.cos(2*h)*Math.sinh(2*e)-this.Xra[1]*Math.cos(4*h)*Math.sinh(4*e)-this.Xra[2]*Math.cos(6*h)*Math.sinh(6*e)-this.Xra[3]*Math.cos(8*h)*Math.sinh(8*e);f=Math.asin(Math.sin(f)/Math.cosh(e));var k=
b(Math.tan(f));var l=k+this.Ss*a(this.Ss*Math.tanh(k));var m=0;do h=l,l=k+this.Ss*a(this.Ss*Math.tanh(l)),m++;while(Math.abs(l-h)>V.Qb&&m<d);h=Math.atan(Math.sinh(l));e=this.e3a+Math.asin(Math.tanh(e)/Math.cos(f));g.Ga(V.radToDeg(e),V.radToDeg(h));return g};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnZlcnNlVHJhbnNmb3JtIjoibmMifX19");var g4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(k){if("string"===typeof k){var l=b(k);if(!l)throw Error("Coordinate system ("+k+") is not supported, use geotoolkit.map.coordinatesystems.Registry to register it manually.");k=l}k=G(k,{spheroid:[6378137,298.2572236],primem:0,spheroidunits:h,axis:[V3.Ic,V3.me]},!0);l=new X3(k.spheroid[0],1/k.spheroid[1]);k.limits=k.limits||new U(180*-l.Rua(),180*-l.Dsb(),180*l.Rua(),180*l.Dsb());U3.call(this,k);this.iV=l;null!=k.towgs84?(this.Rib=k.towgs84[0]||0,this.Sib=k.towgs84[1]||
0,this.Tib=k.towgs84[2]||0,this.X3a=V.degToRad((k.towgs84[3]||0)/3600),this.gPa=V.degToRad((k.towgs84[4]||0)/3600),this.bDa=V.degToRad((k.towgs84[5]||0)/3600),this.x8=(k.towgs84[6]||0)/1E6+1,this.UBa=new a(this.iV)):(this.bDa=this.gPa=this.X3a=this.Tib=this.Sib=this.Rib=0,this.x8=1,this.UBa=null);this.sOb=k.primem;this.u4a=Zd.ya().Wa(k.spheroidunits);this.egc=k.axis;k.limits=null;this.Smc=null!=k.zone&&null!=k.southhemi?new b4(k):null!=k.latitudeoforigin&&null!=k.centralmeridian&&null!=k.falseeasting&&
null!=k.falsenorthing?null!=k.standartparallel1&&null!=k.standartparallel2?new Y3(k):new f4(k):k.name===Z3.WT||null!=k.centralmeridian&&null!=k.falseeasting&&null!=k.falsenorthing?new a4(k):new $3(k)}function a(k){this.iV=k;this.Ss=this.iV.ptb()}function b(k){if(!k)return null;var l={axis:[]},m;if(m=k.match(/SPHEROID\["[^"]+",\s*([-\.\d]+),\s*([-\.\d]+)/i))l.spheroid=[+m[1],+m[2]];if(m=k.match(/TOWGS84\[([-\.\d]+),([-\.\d]+),([-\.\d]+),([-\.\d]+),([-\.\d]+),([-\.\d]+)/i))l.towgs84=[+m[1],+m[2],+m[3],
+m[4],+m[5],+m[6]];if(m=k.match(/PRIMEM\["[^"]+",\s*([-\.\d]+)/i))l.primem=+m[1];var n=/UNIT\[["\s]*(\w+)["\s]*,\s*([-\.\d]+)/ig;if(m=n.exec(k)){var p=new Yd(m[1],["length"],m[1],"m",0,+m[2],1,0);(m=n.exec(k))?(l.spheroidunits=p.fa({baseunitsymbol:"degrees"}),l.units=new Yd(m[1],["length"],m[1],"m",0,+m[2],1,0)):l.units=p}(m=k.match(/AXIS\["x",["\s]*(\w+)["\s]*/i))?l.axis[0]=m[1].toLowerCase():l.axis[0]=V3.Ic;(m=k.match(/AXIS\["y",["\s]*([\w]+)["\s]*/i))?l.axis[1]=m[1].toLowerCase():l.axis[1]=V3.me;
if(m=k.match(/PARAMETER\["standard_parallel_1",\s*([-\.\d]+)/i)||k.match(/PARAMETER\["Latitude of 1st standard parallel",\s*([-\.\d]+)/i))l.standartparallel1=+m[1];if(m=k.match(/PARAMETER\["standard_parallel_2",\s*([-\.\d]+)/i))l.standartparallel2=+m[1];if(m=k.match(/PARAMETER\["latitude_of_origin",\s*([-\.\d]+)/i))l.latitudeoforigin=+m[1];if(m=k.match(/PARAMETER\["longitude_of_origin",\s*([-\.\d]+)/i)||k.match(/PARAMETER\["Longitude of natural origin",\s*([-\.\d]+)/i))l.longitudeoforigin=+m[1];if(m=
k.match(/PARAMETER\["central_meridian",\s*([-\.\d]+)/i))l.centralmeridian=+m[1];if(m=k.match(/PARAMETER\["false_easting",\s*([-\.\d]+)/i)||k.match(/PARAMETER\["False easting",\s*([-\.\d]+)/i))l.falseeasting=+m[1];if(m=k.match(/PARAMETER\["false_northing",\s*([-\.\d]+)/i)||k.match(/PARAMETER\["False northing",\s*([-\.\d]+)/i))l.falsenorthing=+m[1];if(m=k.match(/PARAMETER\["scale_factor",\s*([-\.\d]+)/i))l.scalefactor=+m[1];return l}var d=1E-12,e=30,f=6378137,g=.006694379990141316;a.prototype.transform=
function(k,l,m,n){n=n||{};l=V.degToRad(l);m=V.degToRad(m);var p=k?f:this.iV.Rua();k=k?g:this.Ss*this.Ss;var q=Math.sin(m);m=Math.cos(m);p/=Math.sqrt(1-k*q*q);n.x=p*m*Math.cos(l);n.y=p*m*Math.sin(l);n.z=p*(1-k)*q;return n};a.prototype.nc=function(k,l,m,n,p){p=p||{};var q=k?f:this.iV.Rua();k=k?g:this.Ss*this.Ss;var r=Math.sqrt(l*l+m*m),t=Math.sqrt(l*l+m*m+n*n);if(r/q<d){if(l=0,t/q<d)return p}else l=Math.atan2(m,l);m=n/t;t=r/t;var u=1/Math.sqrt(1-k*(2-k)*t*t);var w=t*(1-k)*u;var y=m*u;var A=0;do{A++;
var x=q/Math.sqrt(1-k*y*y);u=r*w+n*y-x*(1-k*y*y);x=k*x/(x+u);u=1/Math.sqrt(1-x*(2-x)*t*t);x=t*(1-x)*u;u*=m;var C=u*w-x*y;w=x;y=u}while(C*C>d*d&&A<e);n=Math.atan(u/Math.abs(x));p.x=V.radToDeg(l);p.y=V.radToDeg(n);return p};var h=Zd.ya().Wa("degrees");D(c,U3);L(c,"geotoolkit.map.coordinatesystems.WKT");c.prototype.transform=function(k,l,m){null==m&&(m=new M);if(null!=this.UBa){var n=this.UBa.transform(!0,k,l,{});k=(n.x-this.Rib)/this.x8;l=(n.y-this.Sib)/this.x8;var p=(n.z-this.Tib)/this.x8;n=k+this.bDa*
l-this.gPa*p;var q=-this.bDa*k+l+this.X3a*p;k=this.gPa*k-this.bDa*l+p;m=this.UBa.nc(!1,n,q,k,m)}else m.Ga(k,l);m.x-=this.sOb;-180>m.x&&(m.x+=360);m.x=h.convert(m.x,this.u4a);m.y=h.convert(m.y,this.u4a);m=this.Smc.transform(m.x,m.y,m);this.hVc(m);return m};c.prototype.nc=function(k,l,m){null==m&&(m=new M);m.Ga(k,l);this.hVc(m);m=this.Smc.nc(m.x,m.y,m);m.x=this.u4a.convert(m.x,h);m.y=this.u4a.convert(m.y,h);m.x+=this.sOb;180<m.x&&(m.x-=360);if(null!=this.UBa){var n=this.UBa.transform(!1,m.x,m.y,{});
k=this.x8*(n.x-this.bDa*n.y+this.gPa*n.z)+this.Rib;l=this.x8*(this.bDa*n.x+n.y-this.X3a*n.z)+this.Sib;n=this.x8*(-this.gPa*n.x+this.X3a*n.y+n.z)+this.Tib;m=this.UBa.nc(!0,k,l,n,m)}return m};c.prototype.ttd=function(){return[this.iV.Rua(),1/this.iV.Bzc()]};c.prototype.yud=function(){return[this.Rib,this.Sib,this.Tib,this.X3a,this.gPa,this.bDa,this.x8]};c.prototype.Ord=function(){return this.sOb};c.prototype.utd=function(){return this.u4a};c.prototype.hVc=function(k){var l=k.x,m=k.y;switch(this.egc[0].toLowerCase()){case V3.dc:l=
-k.x;break;case V3.me:l=k.y;break;case V3.vc:l=-k.y}switch(this.egc[1].toLowerCase()){case V3.dc:m=-k.x;break;case V3.Ic:m=k.x;break;case V3.vc:m=-k.y}k.x=l;k.y=m};c.parse=function(k){return(k=b(k))?new c(k):null};c4.ag().ROc(c);return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnZlcnNlVHJhbnNmb3JtIjoibmMiLCJnZXRTcGhlcm9pZCI6InR0ZCIsImdldFRvV0dTODQiOiJ5dWQiLCJnZXRQcmltZU1lcmlkaWFuIjoiT3JkIiwiZ2V0U3BoZXJvaWRVbml0cyI6InV0ZCJ9fX0g");var h4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}c.prototype.ic=Fb;c.prototype.getAttributes=Fb;c.prototype.Vd=Fb;return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRJZCI6ImljIiwiZ2V0R2VvbWV0cnkiOiJWZCJ9fX0g");var i4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){this.Pm=a&&a.id||null;this.iq=a&&a.attributes||{};this.Lc=a&&a.geometry||null;this.Yhc=this.LF=null}c.Oa=Hb;lc(c,h4);L(c,"geotoolkit.map.features.AbstractFeature");c.prototype.jJa=function(){return Cb(this)};c.prototype.Ba=function(a){this.Pm=a.Pm;this.iq=a.iq;this.Lc=a.Lc;this.LF=a.LF;return this};c.prototype.ic=function(){return this.Pm};c.prototype.Dd=function(a){this.Pm=a;return this};c.prototype.Vd=function(a){return a&&null!=this.LF?this.LF:this.Lc};c.prototype.$m=
function(a){this.LF=a;return this};c.prototype.Fva=function(){return this.Yhc||this.Vd(!0)};c.prototype.QLd=function(a){this.Yhc=a;return this};c.prototype.wSa=function(){return this.Pic=this.Pic||{}};c.prototype.getAttributes=function(){return this.iq};c.prototype.TId=function(a){this.iq=a;return this};c.prototype.vW=function(){return!1};c.prototype.F4=function(){return!0};c.prototype.OS=function(){return!1};c.prototype.OE=Fb;return c}(),2,"eyJnZXRDbGFzc05hbWUiOiJPYSIsInByb3RvdHlwZSI6eyJzIjowLCJjIjp7InNoYWxsb3dDbG9uZSI6ImpKYSIsImNvcHlDb25zdHJ1Y3RvciI6IkJhIiwiZ2V0SWQiOiJpYyIsImdldEdlb21ldHJ5IjoiVmQiLCJhcHBseU1hcENTIjoiT0UifX19");var j4=/*#__PURE__*/function(){function c(){}c.prototype.apply=Fb;return c}();var k4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}L(c,"geotoolkit.map.util.Geometry");c.oP=function(a){a.Bj||(a.Bj={});a.Bj.nsb||(a.Bj.nsb=Array.isArray(a.x)?Hd.getBoundingBox(a.x,a.y):new U(a.x,a.y,a.x,a.y));return a.Bj.nsb};c.bGc=function(a){var b=0,d=a.x;a=a.y;for(var e=d.length-1,f=0;f<d.length;e=f++)b+=(d[f]-d[e])*(a[f]+a[e]);return 0<b};return c}(),2,"eyJnZXRDYWNoZWRHZW9tZXRyeUJvdW5kcyI6Im9QIiwiaXNDbG9ja3dpc2UiOiJiR2MifSAg");var l4=/*#__PURE__*/va(/*#__PURE__*/{oYc:"Centroid",Fcc:"Incenter",Jac:"CentroidOrIncenter",$Eb:"Mixed"},2,"eyJDZW50cm9pZCI6Im9ZYyIsIkluY2VudGVyIjoiRmNjIiwiQ2VudHJvaWRPckluY2VudGVyIjoiSmFjIiwiTWl4ZWQiOiIkRWIifSAg"),m4=/*#__PURE__*/function(){function c(d,e,f,g){this.x=d;this.y=e;this.size=f;this.geometry=g;this.rwd();this.max=this.distance+f*Math.SQRT2}function a(d){this.te=d||a.Av.$Eb}var b=1024;lc(a,j4);L(a,"geotoolkit.map.features.adapters.Center");a.Av=l4;c.prototype.rwd=function(){for(var d=!1,e=Infinity,f=this.geometry.x.length,g=0,h=f-1;g<f;h=g++)this.geometry.y[g]>this.y!==this.geometry.y[h]>this.y&&this.x<this.geometry.x[g]+(this.geometry.x[h]-
this.geometry.x[g])*(this.y-this.geometry.y[g])/(this.geometry.y[h]-this.geometry.y[g])&&(d=!d),e=Math.min(e,this.Bfa(this.x,this.y,this.geometry.x[h],this.geometry.y[h],this.geometry.x[g],this.geometry.y[g]));this.distance=(d?1:-1)*Math.sqrt(e)};c.prototype.split=function(){var d=this.size/2;return[new c(this.x-d,this.y-d,d,this.geometry),new c(this.x+d,this.y-d,d,this.geometry),new c(this.x-d,this.y+d,d,this.geometry),new c(this.x+d,this.y+d,d,this.geometry)]};c.prototype.Bfa=function(d,e,f,g,h,
k){var l=h-f,m=k-g,n=f,p=g;if(0!==l||0!==m)f=((d-f)*l+(e-g)*m)/(l*l+m*m),1<f?(n=h,p=k):0<f&&(n+=f*l,p+=f*m);l=d-n;m=e-p;return l*l+m*m};c.eld=function(d){for(var e=0,f=0,g=0,h=d.x.length,k=0,l=h-1;k<h;l=k++){var m=d.x[k]*d.y[l]-d.x[l]*d.y[k];f+=(d.x[k]+d.x[l])*m;g+=(d.y[k]+d.y[l])*m;e+=3*m}return new c(f/e,g/e,0,d)};c.vxb=function(d,e){for(var f=0,g=d.length-1,h;f<=g;)if(h=f+g>>1,d[h].max>e.max)g=h-1;else if(d[h].max<e.max)f=h+1;else{f=h;break}d.splice(f,0,e)};a.prototype.apply=function(d,e,f){if(!d.Bj||
!d.Bj.anchor)switch(d.Bj=d.Bj||{},d.x.length){case 0:d.Bj.anchor={x:0,y:0};break;case 1:d.Bj.anchor={x:d.x[0],y:d.y[0]};break;case 2:case 3:d.Bj.anchor={x:(d.x[0]+d.x[1])/2,y:(d.y[0]+d.y[1])/2};break;default:f=c.eld(d);var g=[],h=c.vxb.bind(null,g),k=k4.oP(d),l=Math.min(k.da(),k.ca())/100;if(this.te===a.Av.Fcc||this.te===a.Av.Jac&&0>f.distance){var m=Math.max(k.da(),k.ca())/2;h(new c(k.cc(),k.zc(),m,d))}else this.te===a.Av.$Eb&&(m=Math.min(k.da(),k.ca())/10+Math.max(0,-f.distance),h(new c(f.x,f.y,
m,d)));if(0<l)for(;0<g.length&&g.length<b;)k=g.pop(),k.distance>f.distance&&(f=k),k.max-f.distance>l&&k.split().forEach(h);d.Bj.anchor={x:f.x,y:f.y}}e.Db(d.Bj.anchor.x,d.Bj.anchor.y)};return a}();var n4=/*#__PURE__*/function(){function c(b){this.WC=5;this.XC=0;this.setOptions(b)}var a=new Vd;lc(c,j4);L(c,"geotoolkit.map.features.adapters.Edge");c.prototype.setOptions=function(b){if(!b||!b.offset)return this;void 0!==b.offset.x&&(this.WC=b.offset.x);void 0!==b.offset.y&&(this.XC=b.offset.y);return this};c.prototype.apply=function(b,d,e){var f=this.WC,g=this.XC,h=b.x[0]>b.x[b.x.length-1]?0:b.x.length-1;null==e||0===f&&0===g?d.Db(b.x[h],b.y[h]):(e=e instanceof W?e:e.Fa(),a.setSize(f,g),e.Sk(a,a),d.Db(b.x[h]+
V.sign(f)*a.ca(),b.y[h]+V.sign(g)*a.da()))};return c}();var o4=/*#__PURE__*/function(){function c(){}c.prototype.apply=Fb;return c}();var p4=/*#__PURE__*/function(){function c(){}lc(c,o4);L(c,"geotoolkit.map.features.adapters.LineString");c.prototype.apply=function(a,b,d){b.he(a.x,a.y)};return c}();var q4=/*#__PURE__*/function(){function c(){}lc(c,o4);L(c,"geotoolkit.map.features.adapters.Path");c.prototype.apply=function(a,b,d){b.clear();c.qSb(a,b)};c.qSb=function(a,b,d,e,f){var g,h=a.x,k=a.y,l=null,m=null,n=f?f.$Ic(h[0],k[0]):null,p=!1;b.moveTo(h[0],k[0]);for(g=1;g<h.length;++g)if(e&&f){var q=f.$Ic(h[g],k[g]);if(n&q)p=!0;else{n=q;p&&(b.lineTo(h[g-1],k[g-1]),p=!1);q=(h[g]-f.getX())/e.ca()|0;var r=(k[g]-f.getY())/e.da()|0;if(q!==l||r!==m)b.lineTo(h[g],k[g]),l=q,m=r}}else b.lineTo(h[g],k[g]);d&&(p&&b.lineTo(h[h.length-
1],k[k.length-1]),b.closePath());if(null!=a.clip)for(g=a.clip[0]instanceof U?1:0;g<a.clip.length;++g)c.qSb(a.clip[g],b,d,e,f)};return c}();var r4=/*#__PURE__*/function(){function c(b){this.WC=b&&b.offset&&b.offset.x||0;this.XC=b&&b.offset&&b.offset.y||0}var a=new Vd;lc(c,o4);lc(c,j4);L(c,"geotoolkit.map.features.adapters.Point");c.prototype.setOptions=function(b){if(!b||!b.offset)return this;void 0!==b.offset.x&&(this.WC=b.offset.x);void 0!==b.offset.y&&(this.XC=b.offset.y);return this};c.prototype.apply=function(b,d,e){if(e){var f=this.WC+(b.offset?b.offset.x:0),g=this.XC+(b.offset?b.offset.y:0);0!==f||0!==g?(a.setSize(f,g),e=e instanceof W?e:e.Fa(),
e.Sk(a,a),d.Db(b.x+V.sign(f)*a.ca(),b.y+V.sign(g)*a.da())):d.Db(b.x,b.y)}else d.Db(b.x,b.y)};return c}();var s4=/*#__PURE__*/function(){function c(){}function a(e,f){var g=e.x;e=e.y;var h=Math.min(g.length,e.length);if(0<h){f.moveTo(g[0],e[0]);for(var k=1;k<h;++k)f.lineTo(g[k],e[k]);f.close()}}var b=null,d=new Vd;lc(c,o4);L(c,"geotoolkit.map.features.adapters.Polygon");c.prototype.apply=function(e,f,g){f.he(e.x,e.y);if(null==e.clip||null==g)f.uo(null);else{null==b?b=new Oe(new Ed,!0):b.Vd().clear();var h=0,k=b.Vd();if(e.clip[0]instanceof U){h=g instanceof W?g:g.Fa();g=e.clip[0];h.Sk(d.setSize(1,1),d);h=g.x-d.ca();
var l=g.na()+d.ca(),m=g.y-d.da();g=g.ma()+d.da();k.moveTo(h,m);k.lineTo(l,m);k.lineTo(l,g);k.lineTo(h,g);k.lineTo(h,m);k.close();h=1}for(;h<e.clip.length;++h)a(e.clip[h],k);f.uo(b)}};return c}();var t4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){i4.call(this,b)}var a=new M;D(c,i4);L(c,"geotoolkit.map.features.Point");c.prototype.OE=function(b){this.LF={};a.Ga(this.Lc.x,this.Lc.y);b.Oaa(a,a);this.LF.x=a.getX();this.LF.y=a.getY();return this};c.prototype.F4=function(){return!1};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhcHBseU1hcENTIjoiT0UiLCJpc011bHRpQ29vcmRpbmF0ZXMiOiJGNCJ9fX0g");var u4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d,e){for(var f=[],g=0;g<e;g++)f[g]=[];var h=0;d.forEach(function(k){f[h].push(k);h=(h+1)%e});return f}function a(d){t4.call(this,d);this.bj=[];this.tra=!1;this.Fd=d&&d.node||null;this.uw=d&&d.parent||null;this.cY=d&&d.kSb||b;this.Xfc=d&&null!=d.arc?d.arc:2*Math.PI;this.w1=d&&null!=d.angle?d.angle:Math.PI/2;this.Qfc=d&&d.bua||null}var b=Hg.gi([]);D(a,t4);L(a,"geotoolkit.map.features.Aggregation");a.prototype.Tua=function(){return this.cY};a.prototype.OE=function(d){this.getParent()||
this.cY.forEach(function(e){e.OE(d)});return t4.prototype.OE.call(this,d)};a.prototype.fzb=function(d){this.cY=d;return this};a.prototype.p5=function(d){var e;if(this.EXb()===d)return this;if(d){var f=0;for(e=this;null!=e.getParent();)e=e.getParent(),f++;var g=e.tb().nWb(f);var h=e.tb().Mw(f);if(0===this.bj.length&&1<this.ic()){if(null==this.getParent())g=Math.min(+this.ic(),g);else{var k=0,l=this.getParent().vf();for(e=0;e<l.length;e++){var m=Math.min(+l[e].ic(),g);k<m&&(k=m)}g=k}this.Ved(g,h,f)}}else for(e=
0;e<this.bj.length;e++)this.bj[e].p5(!1);this.tra=d;null!=this.tb()&&this.tb().p5(d);return this};a.prototype.EXb=function(){return this.tra};a.prototype.tb=function(){return this.Fd};a.prototype.vf=function(){return this.bj};a.prototype.getParent=function(){return this.uw};a.prototype.eo=function(){return null==this.getParent()?0:this.getParent().eo()+1};a.prototype.Ved=function(d,e,f){var g=this.Vd(!0);d=Math.min(+this.ic(),d);var h=this.Xfc/d,k=this.w1-h*(d-1)/2;e*=f+1;f=c(this.Tua(),d);for(var l=
0;l<d;l++)this.bj.push(new a({kSb:Hg.gi(f[l]),bua:this.Qfc,arc:this.Xfc/d,angle:k,parent:this,id:f[l].length,geometry:{x:g.x,y:g.y,offset:{x:Math.cos(k)*e,y:Math.sin(k)*e}},attributes:{}})),k+=h};a.prototype.txc=function(){return this.Qfc};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBZ2dyZWdhdGlvbiI6IlR1YSIsImFwcGx5TWFwQ1MiOiJPRSIsInNldEV4cGFuZGVkIjoicDUifX19");var v4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=a?fc(a):{};this.Pt=a.shape;this.Et=a.shapecallback;this.C0a=a.geometrytoshape;this.fKb=a.geometrytotext;this.Pb=a.textshape||new ek({preservereadingorientation:!0,ispointingup:!0});this.uoc=a.textstrategy;a.textsizeinfo&&(this.J4a=a.textsizeinfo,this.Pb.Wj(ck.KX));null!=this.Pt&&null==this.Pt.TRa()&&this.Pt.wb(!1);this.Pb.wb(!1)}L(c,"geotoolkit.map.features.templates.BaseTemplate");c.prototype.ta=function(){hb("BaseTemplate.getOptions() deprecated since 2021.1 (3.3) use getProperties() instead");
return this.ia()};c.prototype.ia=function(){var a={};a.shape=this.Pt;a.geometrytoshape=this.C0a;a.geometrytotext=this.fKb;a.textshape=this.Pb;return a};c.prototype.setOptions=function(a){hb("BaseTemplate.setOptions() deprecated since 2021.1 (3.3) use setProperties() instead");return this.fa(a)};c.prototype.fa=function(a){if(null==a)return this;null!=a.shape&&(this.Pt=a.shape);null!=a.geometrytoshape&&(this.C0a=a.geometrytoshape);null!=a.geometrytotext&&(this.fKb=a.geometrytotext);null!=a.textshape&&
(this.Pb=a.textshape);void 0!==a.textstrategy&&(this.uoc=a.textstrategy);null!=a.textsizeinfo?this.J4a=a.textsizeinfo:null!=a.textshape&&(this.J4a=null);void 0!==a.shapecallback&&this.zWa(a.shapecallback);return this};c.prototype.zWa=function(a){this.Et=a;return this};c.prototype.Hb=function(){return this.Pt};c.prototype.gfa=function(){return this.C0a};c.prototype.vP=function(){return this.fKb};c.prototype.Gk=function(a){if(a&&this.J4a){var b=this.J4a;a=V.clamp(+a.getAttributes()[b.field],b.mindatavalue,
b.maxdatavalue);a=Math.round(b.minsize+(b.maxsize-b.minsize)*(a-b.mindatavalue)/(b.maxdatavalue-b.mindatavalue));this.Pb.Ya(a)}return this.Pb};c.prototype.Rva=function(){return this.Et};c.prototype.Zva=function(){return this.uoc};c.prototype.YDc=function(){return this.J4a};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJzZXRTaGFwZUNhbGxiYWNrIjoieldhIiwiZ2V0U2hhcGUiOiJIYiIsImdldEdlb21ldHJ5VG9TaGFwZSI6ImdmYSIsImdldEdlb21ldHJ5VG9UZXh0IjoidlAiLCJnZXRUZXh0U2hhcGUiOiJHayIsImdldFNoYXBlQ2FsbGJhY2siOiJSdmEiLCJnZXRUZXh0U3RyYXRlZ3kiOiJadmEifX19");var w4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f){f=f||{};f.shape=f.shape||new Nm(0,0,25,25,O.Na,!0,$m,new X("black"),new rf("white"));f.textshape=f.textshape||new ek({textstyle:"white",preservereadingorientation:!0,ispointingup:!0});f.geometrytoshape=f.geometrytoshape||new r4;f.geometrytotext=f.geometrytotext||f.geometrytoshape;v4.call(this,f);this.rjb=f.expandedshape||new Nm(0,0,25,25,O.Na,!0,$m,new X("black"),new rf("green"));this.qjb=f.expandedline||new Fk;this.qjb.Oq({from:new M,to:new M});this.qc=f.colorprovider||
null;this.fJb=this.lzc(f);this.qJb=f.expandedcolorprovider||new Ro({values:[0,1,2],colors:[new td(255,0,0,255),new td(0,255,0,255),new td(0,0,255,255)]});this.zWa(f.shapecallback)}function a(f){if("function"===typeof f)return f;if("string"===typeof f){var g,h=function(k){g+=+k.getAttributes()[f]||0};return function(k){g=0;k.Tua().forEach(h);return g}}return b}function b(f){return+f.ic()}function d(f,g){return f-g}var e=new Wi;D(c,v4);L(c,"geotoolkit.map.features.templates.Aggregation");c.prototype.fa=
function(f){f=hc(f);if(null==f)return this;v4.prototype.fa.call(this,f);if(void 0!==f.size||void 0!==f.color)this.fJb=this.lzc(f);void 0!==f.expandedshape&&(this.rjb=f.expandedshape);void 0!==f.colorprovider&&(this.qc=f.colorprovider);void 0!==f.expandedcolorprovider&&(this.qJb=f.expandedcolorprovider);void 0!==f.expandedline&&(this.qjb=f.expandedline);return this};c.prototype.ia=function(){var f=v4.prototype.ia.call(this);f.expandedshape=this.rjb;f.colorprovider=this.qc;f.expandedcolorprovider=this.qJb;
f.expandedline=this.qjb;return f};c.prototype.pnd=function(){return this.rjb};c.prototype.ond=function(f,g,h){this.C0a.apply(g.Fva(),e,h);g=e.Fk();this.C0a.apply(f,e,h);f=e.Fk();return this.qjb.Oq({from:g,to:f})};c.prototype.zWa=function(f){v4.prototype.zWa.call(this,function(g,h,k){if(null!=this.fJb){var l=k&&!k.ac();this.fJb(g,h,l)}null!=f&&f.call(this,g,h,k)}.bind(this));return this};c.prototype.lzc=function(f){if(!f)return null;if(f.size&&Array.isArray(f.size.range)&&1<f.size.range.length){var g=
f.size.range;this.L4c=g[0]<g[g.length-1];this.nKb=a(f.size.field);this.gja=g.sort(d)}f.color&&(Array.isArray(f.color.range)&&1<f.color.range.length||f.color.range instanceof Oo)&&(this.Zhc=a(f.color.field),this.fja=f.color.range);var h=null!=this.Zhc?function(l,m){null==m.Xwb&&(m.Xwb=Infinity);null==m.Nwb&&(m.Nwb=-Infinity);var n=this.Zhc(l);n<m.Xwb&&(m.Xwb=n);n>m.Nwb&&(m.Nwb=n);l.getAttributes().colorData=n}.bind(this):null,k=f.shape.getSize();return function(l,m,n){var p=l.getAttributes();this.fGc()&&
null!=p.size?m.setSize(p.size,p.size):m.setSize(k);if(n){if(m===this.rjb)var q=this.qJb.rb(l.eo());else null!=this.qc?q=this.qc.rb(l.ic()):null!=h&&l.txc()&&(q=l.txc().Wp(h),q=Array.isArray(this.fja)?this.$md(p.colorData,q.Xwb,q.Nwb):this.fja.rb(p.colorData));null!=q&&((p=m.fb())?p.setColor(q):m.qa(q))}}.bind(this)};c.prototype.fGc=function(){return null!=this.nKb};c.prototype.bqd=function(){return this.gja[this.gja.length-1]};c.prototype.Btd=function(f,g){f=this.nKb(f);this.nKb===b&&f<g&&(f=g);return this.L4c?
f:-f};c.prototype.wXb=function(f,g,h){if(g===h)f=.5;else{if(f>=h)return this.gja[this.gja.length-1];if(f<=g)return this.gja[0];f=(f-g)/(h-g)}g=f*(this.gja.length-1);f=g%1;if(0===f)return this.gja[g];g-=f;h=g+1;return(1-f)*this.gja[g]+f*this.gja[h]};c.prototype.$md=function(f,g,h){if(g===h)f=.5;else{if(f>=h)return this.fja[this.fja.length-1];if(f<=g)return this.fja[0];f=(f-g)/(h-g)}h=f*(this.fja.length-1);f=h%1;if(0===f)return this.fja[h];g=Pd.Sg(this.fja[h-f]);var k=Pd.Sg(this.fja[h-f+1]);h=(1-f)*
g.lk()+f*k.lk();var l=(1-f)*g.kk()+f*k.kk(),m=(1-f)*g.ik()+f*k.ik();f=(1-f)*g.Ek()+f*k.Ek();return"rgba("+h+","+l+","+m+","+f/255+")"};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRTaGFwZUNhbGxiYWNrIjoieldhIn19fSAg");var x4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){ue.call(this);this.Ar=[]}D(c,ue);L(c,"geotoolkit.map.features.converters.BaseConverter");c.prototype.Ega=function(a){if(0===this.Ar.length)return this.Ar=a,null;for(var b=0;b<a.length;++b)this.Ar.push(a[b]);return null};c.prototype.FA=function(a){function b(f){return Array.isArray(f.x)?d.Nd(k4.oP(f)):d.contains(f.x,f.y)}var d=a.bbox,e=a.filter;return this.Ar.filter(function(f){var g=f.Vd(!0);return Array.isArray(g)?g.some(b)&&(e?e(f):!0):b(g)&&(e?e(f):!0)})};c.prototype.xga=
function(a){if(a instanceof Hg)a.forEach(function(d){b=this.Ar.indexOf(d);~b&&this.Ar.splice(b,1)}.bind(this));else{var b=this.Ar.indexOf(a);~b&&this.Ar.splice(b,1)}return this};c.prototype.clear=function(){this.Ar=[];return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzYXZlQ29udmVydGVkRmVhdHVyZXMiOiJFZ2EiLCJnZXRGZWF0dXJlcyI6IkZBIiwicmVtb3ZlRmVhdHVyZXMiOiJ4Z2EifX19");var y4=/*#__PURE__*/va(/*#__PURE__*/{Gha:"FeaturesUpdated"},2,"eyJGZWF0dXJlc1VwZGF0ZWQiOiJHaGEifSAg");var z4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(p){x4.call(this);this.MU=1;this.Ei=2;this.If=!0;this.Bx=0;this.RGb=3;this.wc=30;this.yd={options:{},response:null};this.Sm=this.RR=null;this.apc=function(q){this.yd.response=this.wtb(this.yd.options);this.yd.timeout=null;this.notify(y4.Gha,this,q)}.bind(this);this.setOptions(p)}function a(p,q,r,t,u,w){this.Dz=Array.isArray(p)?p:[p];p=this.Dz[0].Vd(!0);this.point=null!=r?r:p[0]||p;this.gk=null!=t?t:new U(this.point.x,this.point.y,this.point.x,this.point.y);this.parent=
null!=u?u:null;this.size=null!=w?w:0;this.options=q;this.right=this.left=null;this.Vrb=!1;this.fD=this.pZ=this.Mt=this.Jh=null}function b(p,q){this.elements=[p,q];this.iterator=new Og(p.Dz,q.Dz);this.weight=p.Dz.length+q.Dz.length;this.point=h(p.point,p.Dz.length,q.point,q.Dz.length);this.bua=p.options.bua;this.fD=this.pZ=this.Mt=this.Jh=null}function d(p,q,r){this.Ne=p.bqd()/r;this.h8c=q;this.Oda=p;this.Pg=r*r*4;this.sd={};this.sMb=this.HMb=null}function e(p){this.Ne=p;this.j$c=p*p;this.sd={}}function f(p,
q){p&&(q=p.indexOf(q),-1!==q&&p.splice(q,1))}function g(p,q,r){for(var t=0,u=p.length-1,w;t<=u;){w=t+u>>1;var y=r(p[w],q);if(0<y)u=w-1;else if(0>y)t=w+1;else{t=w;break}}p.splice(t,0,q);return t}function h(p,q,r,t){return{x:(p.x*q+r.x*t)/(q+t),y:(p.y*q+r.y*t)/(q+t)}}function k(p,q){return q.pZ-p.pZ}function l(p,q){return p.size>q.size?1:p.size<q.size?-1:p.point.x>q.point.x?1:p.point.x<q.point.x?-1:p.point.y>q.point.y?1:p.point.y<q.point.y?-1:0}var m=new u4;e.prototype.remove=function(p){this.sd[p.Jh][p.Mt]=
null};e.prototype.add=function(p){p.Jh=Math.floor(p.point.x/this.Ne);p.Mt=Math.floor(p.point.y/this.Ne);this.sd[p.Jh]=this.sd[p.Jh]||{};if(this.sd[p.Jh][p.Mt]){var q=this.sd[p.Jh][p.Mt];this.sd[p.Jh][p.Mt]=n.union(q,p);this.sd[p.Jh][p.Mt].Jh=p.Jh;this.sd[p.Jh][p.Mt].Mt=p.Mt;return q}this.sd[p.Jh][p.Mt]=p;return null};e.prototype.Zdb=function(p,q){for(var r=null,t=Infinity,u=p.Jh-1;u<=p.Jh+1;u++)if(this.sd[u])for(var w=p.Mt-1;w<=p.Mt+1;w++)if(this.sd[u][w]&&this.sd[u][w]!==p){var y=p.point.x-this.sd[u][w].point.x,
A=p.point.y-this.sd[u][w].point.y;y=y*y+A*A;y<t&&y<this.j$c&&(t=y,r=this.sd[u][w])}return null!=r?(this.sd[p.Jh]&&(this.sd[p.Jh][p.Mt]=null),this.sd[r.Jh][r.Mt]=null,q&&f(q,r),p=n.union(p,r),r=this.add(p),q&&r&&f(q,r),this.Zdb(p,q)||p):null};e.prototype.forEach=function(p){for(var q=this.sd,r=Object.keys(q),t=0;t<r.length;++t)for(var u=Object.keys(q[r[t]]),w=0;w<u.length;++w)q[r[t]][u[w]]&&p(q[r[t]][u[w]])};d.prototype.remove=function(p){f(this.sd[p.Jh][p.Mt],p)};d.prototype.add=function(p){p.Jh=
Math.floor(p.point.x/this.Ne);p.Mt=Math.floor(p.point.y/this.Ne);p.pZ=this.Oda.Btd(p.yBb(m),this.h8c);this.sd[p.Jh]=this.sd[p.Jh]||{};this.sd[p.Jh][p.Mt]=this.sd[p.Jh][p.Mt]||[];this.sd[p.Jh][p.Mt].push(p);return null};d.prototype.NOc=function(p,q){this.HMb=p;this.sMb=q;return this};d.prototype.Zdb=function(p,q,r){for(var t=r?0:this.Oda.wXb(p.pZ,this.HMb,this.sMb),u=p,w=!1,y=p.Jh-1;y<=p.Jh+1;y++)if(this.sd[y])for(var A=p.Mt-1;A<=p.Mt+1;A++)if(this.sd[y][A])for(var x=0;x<this.sd[y][A].length;){var C=
this.sd[y][A][x];if(C===p)x++;else{var z=this.Oda.wXb(C.pZ,this.HMb,this.sMb),v=u.point.x-C.point.x,B=u.point.y-C.point.y;v=(v*v+B*B)*this.Pg;z=t+z;v<z*z?(u=n.union(u,C),w=!0,q&&f(q,C),this.sd[y][A].splice(x,1)):x++}}return w?(q&&f(q,p),this.sd[p.Jh]&&f(this.sd[p.Jh][p.Mt],p),r&&(u.fD=p.fD),this.add(u),u):null};d.prototype.forEach=function(p){for(var q=this.sd,r=Object.keys(q),t=0;t<r.length;++t)for(var u=Object.keys(q[r[t]]),w=0;w<u.length;++w)q[r[t]][u[w]]&&q[r[t]][u[w]].forEach(p)};b.prototype.aab=
function(){return!0};b.prototype.p5=function(p){for(var q=0;q<this.elements.length;q++)this.elements[q].p5(p)};b.prototype.GBc=function(){return this.elements[0].GBc()};b.prototype.nWb=function(p){return this.elements[0].nWb(p)};b.prototype.Mw=function(p){return this.elements[0].Mw(p)};b.prototype.U5a=function(p){if(p.aab())for(var q=0;q<p.elements.length;++q)this.iterator.concat(p.elements[q].Dz),this.elements.push(p.elements[q]);else this.elements.push(p),this.iterator.concat(p.Dz);this.point=h(p.point,
p.lna(),this.point,this.weight);this.weight+=p.lna();return this};b.prototype.yBb=function(p){return p?p.Dd(this.lna()).$m(this.point).fzb(this.iterator):new u4({geometry:this.point,id:this.lna(),attributes:null!=this.fD?{size:this.fD}:{},kSb:this.iterator,bua:this.bua,node:this})};b.prototype.lna=function(){return this.weight};b.union=function(p,q){return p.aab()?p.U5a(q):q.aab()?q.U5a(p):new b(p,q)};var n=b;a.prototype.aab=function(){return!1};a.prototype.p5=function(p){this.Vrb=p};a.prototype.GBc=
function(){return this.options.nAd};a.prototype.nWb=function(p){if("number"===typeof this.options.fqb)return this.options.fqb;p=Math.min(p,this.options.fqb.length-1);return this.options.fqb[p]};a.prototype.Mw=function(p){if("number"===typeof this.options.radius)return this.options.radius;p=Math.min(p,this.options.radius.length-1);return this.options.radius[p]};a.prototype.lna=function(){return this.Dz.length};a.prototype.Or=function(p,q,r,t,u){var w=u.filter;if(!t)return this.Dz.filter(function(z){var v=
z.Vd(!0);return(p?p.contains(v[0]||v):!0)&&(w?w(z):!0)});var y=[this];for(t=new e(q);0<y.length;){var A=y.pop();if(!p||A.gk.Nd(p))A.size<=q?t.add(A):(y.push(A.left),y.push(A.right))}var x=[];t.forEach(function(z){x.push(z)});for(x.sort(l);0<x.length;)t.Zdb(x.pop(),x);q=u.layer;q=null==q||q.ge()||null==q.K8a?null:q.K8a(u4.Oa());q instanceof w4&&(t=this.vbd(t,q,r,u.scale));if(2<r)var C=this.ybd(t,r);else C=[],t.forEach(function(z){C.push(z.yBb())});return w?C.filter(w):C};a.prototype.vbd=function(p,
q,r,t){if(!q.fGc())return p;var u=new d(q,r,t),w=[];p.forEach(function(x){u.add(x);w.push(x);x.checked=!1});if(0===w.length)return p;w.sort(k);r=w[w.length-1].pZ;t=w[0].pZ;u.NOc(r,t);for(p=0;p<w.length;){var y=w[p];if(y.checked)p++;else{var A=u.Zdb(y,w);if(A){y=g(w,A,k);if(t>w[0].pZ||r<w[w.length-1].pZ){for(p=0;p<w.length;p++)w[p].checked=!1;p=0}else p=Math.min(p,y);t=w[0].pZ;r=w[w.length-1].pZ;u.NOc(r,t)}else y.checked=!0,p++}}for(p=0;p<w.length;p++)w[p].fD=q.wXb(w[p].pZ,r,t);return u};a.prototype.addElement=
function(p){var q=p.Vd(!0);q=q[0]||q;for(var r=this.Ped(q);null!=r.parent&&r.parent.size<r.fPd(q);)r=r.parent;var t=new a(r.Dz.slice(),this.options,r.point,r.gk.clone(),r,r.size),u=new a(p,this.options,q,null,r,0);null!=r.left&&(t.left=r.left,t.right=r.right,t.left.parent=t,t.right.parent=t);r.left=t;r.right=u;do r.H7a(q),r.point=h(r.point,r.Dz.length,q,1),r.size=Math.max(r.gk.da(),r.gk.ca()),r.Dz.push(p),r=r.parent;while(null!=r)};a.prototype.yBb=function(p){return null!=p?p.Dd(this.lna()).$m(this.point).fzb(this.Dz):
1===this.Dz.length?this.Dz[0]:new u4({geometry:this.point,id:this.lna(),attributes:null!=this.fD?{size:this.fD}:{},kSb:Hg.gi(this.Dz),bua:this.options.bua,node:this})};a.prototype.ybd=function(p,q){function r(z){C.push(z.yBb())}function t(z){for(var v=[z];0<v.length;)z=v.pop(),null!=z.left?(v.push(z.left),v.push(z.right)):(z.Jh=Math.floor(z.point.x/p.Ne),z.Mt=Math.floor(z.point.y/p.Ne),u.push(z))}var u=[],w=[];p.forEach(function(z){if(z.lna()<q){if(z.aab())for(var v=0;v<z.elements.length;++v)t(z.elements[v]);
else t(z);w.push(z)}});w.forEach(function(z){p.remove(z)});for(var y=[];0<u.length;){var A=u.pop(),x=p.Zdb(A,null,!0);x?(Array.prototype.push.apply(u,y),y.length=0):y.push(A)}var C=[];p.forEach(r);y.forEach(r);return C};a.prototype.fPd=function(p){var q=Math.min(this.gk.x,p.x),r=Math.max(this.gk.na(),p.x),t=Math.min(this.gk.y,p.y);p=Math.max(this.gk.ma(),p.y);return Math.max(r-q,p-t)};a.prototype.H7a=function(p){p.x<this.gk.la()?(this.gk.Ra(this.gk.na()-p.x),this.gk.setX(p.x)):p.x>this.gk.na()&&this.gk.Ra(p.x-
this.gk.la());p.y<this.gk.ka()?(this.gk.Ya(this.gk.ma()-p.y),this.gk.setY(p.y)):p.y>this.gk.ma()&&this.gk.Ya(p.y-this.gk.ka())};a.prototype.Ped=function(p){var q=[this],r=Infinity,t=null;for(this.distance=this.uSb(p);0<q.length;){var u=q.pop();u.distance>=r||(null!=u.left?(u.left.distance=u.left.uSb(p),u.right.distance=u.right.uSb(p),u.left.distance<u.right.distance?(q.push(u.right),q.push(u.left)):(q.push(u.left),q.push(u.right))):(r=u.distance,t=u))}return t};a.prototype.uSb=function(p){var q=Math.max(this.gk.x-
p.x,p.x-this.gk.na(),0);p=Math.max(this.gk.y-p.y,p.y-this.gk.ma(),0);return q*q+p*p};D(c,x4);L(c,"geotoolkit.map.features.converters.Aggregator");c.prototype.Ega=function(p){for(var q=[],r=!1,t=0;t<p.length;t++){var u=p[t];u instanceof t4?(null==this.RR?this.RR=new a(u,{nAd:this.Ei,radius:this.wc,fqb:this.RGb,bua:this}):this.RR.addElement(u),r=!0):q.push(u)}r&&null!=this.yd.options.bbox&&(this.yd.response=this.wtb(this.yd.options));return q};c.prototype.FA=function(p){null==this.yd.response?(this.yd.response=
this.wtb(p),this.yd.options=p):p.bbox&&p.bbox.wi(this.yd.options.bbox)&&V.equals(p.scale,this.yd.options.scale)||(this.yd.options=p,0>=this.Bx?this.apc(!0):(null!=this.yd.timeout&&clearTimeout(this.yd.timeout),this.yd.timeout=setTimeout(this.apc,this.Bx)));p=p.filter;return null!=p&&null!=this.yd.response?this.yd.response.filter(p):this.yd.response};c.prototype.xga=function(p){null==this.GOb&&(this.GOb=function(q){if(null!=this.RR&&q instanceof t4){for(var r=this.RR;null!=r.left;)r=-1<r.left.Dz.indexOf(q)?
r.left:r.right;if(1===r.Dz.length&&r.Dz[0]===q){var t=r.parent;if(null==t)this.RR=null;else{var u=t.left===r?t.right:t.left,w=t.parent;if(null===w)this.RR.left=null,this.RR.right=null,u.parent=null,r.parent=null,this.RR=u;else{w.left===t?w.left=u:w.right=u;u.parent=w;r.parent=null;r=w;do r.gk=r.left.gk.clone().union(r.right.gk),r.point=h(r.left.point,r.left.Dz.length,r.right.point,r.right.Dz.length),r.size=Math.max(r.gk.da(),r.gk.ca()),r.Dz.splice(r.Dz.indexOf(q),1),r=r.parent;while(null!=r)}}}}}.bind(this));
p instanceof Hg?p.forEach(this.GOb):this.GOb(p);null!=this.yd.options&&(this.yd.response=this.wtb(this.yd.options));return this};c.prototype.ta=function(){return{mindistance:this.MU,min:this.Ei,enabled:this.If,timeout:this.Bx,amountAggregations:this.RGb,radius:this.wc}};c.prototype.setOptions=function(p){if(!p)return this;p=fc(p);void 0!==p.mindistance&&(this.MU=p.mindistance);void 0!==p.min&&(this.Ei=p.min);void 0!==p.enabled&&(this.If=p.enabled);void 0!==p.timeout&&(this.Bx=p.timeout);void 0!==
p.amountaggregations&&(this.RGb=p.amountaggregations);void 0!==p.radius&&(this.wc=p.radius);this.yd.response=null;return this};c.prototype.wtb=function(p){this.Sm=null;var q=p.bbox,r=p.scale;r=this.MU/r;q=q?q.clone().Uc(.1*q.ca(),.1*q.da()):null;return null==this.RR?null:this.RR.Or(q,r,this.Ei,this.If,p)};c.prototype.Wp=function(p,q){if(null==this.Sm){this.Sm={};q=q||this.yd.response||[];for(var r=0;r<q.length;r++)q[r]instanceof u4&&p(q[r],this.Sm)}return this.Sm};c.prototype.clear=function(){x4.prototype.clear.call(this);
null!=this.yd.timeout&&clearTimeout(this.yd.timeout);this.yd={options:{},response:null};this.RR=null;return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzYXZlQ29udmVydGVkRmVhdHVyZXMiOiJFZ2EiLCJnZXRGZWF0dXJlcyI6IkZBIiwicmVtb3ZlRmVhdHVyZXMiOiJ4Z2EiLCJnZXRPcHRpb25zIjoidGEifX19");var A4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){this.pAa=[];this.wja={}}L(c,"geotoolkit.map.sources.connectors.AbstractConnector");c.prototype.send=Fb;c.prototype.abort=function(a){if(null==a){for(a=0;a<this.pAa.length;a++)this.Vta(this.pAa[a]);this.pAa=[];var b=Object.keys(this.wja)}else if(this.wja[a])b=[a];else return this;for(a=0;a<b.length;a++)this.Vta(this.wja[b[a]]),delete this.wja[b[a]];return this};c.prototype.Vta=function(a){return this};c.prototype.Upb=function(a,b){null!=a?this.wja[a]=b:this.pAa.push(b);
return this};c.prototype.Eld=function(a){return this.wja[a]};c.prototype.Gbb=function(a,b){if(null!=a)return this.wja[a]&&delete this.wja[a],this;a=this.pAa.indexOf(b);0<=a&&this.pAa.splice(a,1);return this};c.prototype.Wm=function(){return 0<this.pAa.length||0<Object.keys(this.wja).length};c.prototype.clone=function(){return Cb(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc0xvYWRpbmciOiJXbSJ9fX0g");var B4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){A4.call(this);this.HBa=[];this.bZ=[];this.rda={};this.BL=d&&d.httpservice?d.httpservice:$k.ya().sS()}function a(d,e){d=d[1].priority;e=e[1].priority;return d===e?0:e-d}var b=6;D(c,A4);L(c,"geotoolkit.map.sources.connectors.HttpRequest");c.prototype.send=function(d,e,f){if(d){e=G(e,{});var g=e.key;if(this.rda[g]){var h=this.bZ.indexOf(this.rda[g]);this.bZ.splice(h,1)}if(this.HBa.length<b){var k=this;this.VBd(d,e,function(m,n,p){var q=k.HBa.indexOf(p);0<=q&&k.HBa.splice(q,
1);0<k.bZ.length&&(q=k.bZ.shift(),k.rda[q[1].key]&&delete k.rda[q[1].key],k.send(q[0],q[1],q[2]));null!=m?Qk.mk(m)||m.code===Uk.nha||f(Error(k.Oa()+": "+(m.message?m.message:"")+"("+d+")"),null,p):f(m,n)})}else{var l=[d,e,f];if(null==e.priority)e.priority=-Infinity,this.bZ.push(l);else{h=V.findIndex(l,this.bZ,0,this.bZ.length-1,a);if(0<=h)for(h++;h<this.bZ.length;h++){if(0!==a(this.bZ[h],l)){h--;break}}else h=~h;this.bZ.splice(h,0,l)}null!=g&&(this.rda[g]=l)}}else f(Error(this.Oa()+": No url provided"))};
c.prototype.VBd=function(d,e,f){var g=this,h=e.key;delete this.rda[h];var k=e.cancel||new Qk;this.Upb(h,k);this.BL.request({url:d,method:e.method||"get",headers:e.headers,responseType:e.responseType?e.responseType:"",cancel:k}).then(function(l){g.Gbb(h,k);return 200<=l.status&&400>l.status||0===l.status?f(null,l.data,k):f(Error(g.Oa()+": "+l.statusText+"("+d+")"),null,k)},function(l){g.Gbb(h,k);f(l,null,k)});this.HBa.push(k)};c.prototype.abort=function(d){if(null!=d){var e;(e=this.Eld(d))?(A4.prototype.abort.call(this,
d),e=this.HBa.indexOf(e),this.HBa.splice(e,1)):this.rda[d]&&(e=this.bZ.indexOf(this.rda[d]),this.bZ.splice(e,1),delete this.rda[d])}else A4.prototype.abort.call(this),this.HBa=[],this.bZ=[],this.rda={};return this};c.prototype.Vta=function(d){d.cancel();return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhYm9ydENvbm5lY3Rpb24iOiJWdGEifX19");var C4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){i4.call(this,b)}var a=new M;D(c,i4);L(c,"geotoolkit.map.features.MultiPoint");c.prototype.OE=function(b){this.LF=[];for(var d=this.Lc,e=this.LF,f=0;f<d.length;f++){var g=d[f].x,h=d[f].y;a.Ga(g,h);b.Oaa(a,a);e.push({x:a.getX(),y:a.getY()})}return this};c.prototype.F4=function(){return!1};c.prototype.OS=function(){return!0};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhcHBseU1hcENTIjoiT0UiLCJpc011bHRpQ29vcmRpbmF0ZXMiOiJGNCIsImlzTXVsdGlHZW9tZXRyeSI6Ik9TIn19fSAg");var D4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){i4.call(this,b)}var a=new M;D(c,i4);L(c,"geotoolkit.map.features.LineString");c.prototype.OE=function(b){this.LF={};for(var d=this.Lc.x,e=this.Lc.y,f=[],g=[],h=0;h<d.length;++h)a.Ga(d[h],e[h]),b.Oaa(a,a),f.push(a.getX()),g.push(a.getY());this.LF.x=f;this.LF.y=g;return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhcHBseU1hcENTIjoiT0UifX19");var E4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){i4.call(this,b)}var a=new M;D(c,i4);L(c,"geotoolkit.map.features.MultiLineString");c.prototype.OE=function(b){this.LF=[];for(var d=this.Lc,e=this.LF,f=0;f<d.length;f++){for(var g=d[f].x,h=d[f].y,k=[],l=[],m=0;m<g.length;++m)a.Ga(g[m],h[m]),b.Oaa(a,a),k.push(a.getX()),l.push(a.getY());e.push({x:k,y:l})}return this};c.prototype.OS=function(){return!0};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhcHBseU1hcENTIjoiT0UiLCJpc011bHRpR2VvbWV0cnkiOiJPUyJ9fX0g");var F4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){i4.call(this,b)}var a=new M;D(c,i4);L(c,"geotoolkit.map.features.Polygon");c.prototype.OE=function(b){this.LF={};for(var d=this.Lc.x,e=this.Lc.y,f=[],g=[],h=0;h<d.length;++h)a.Ga(d[h],e[h]),b.Oaa(a,a),f.push(a.getX()),g.push(a.getY());this.LF.x=f;this.LF.y=g;return this};c.prototype.vW=function(){return!0};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhcHBseU1hcENTIjoiT0UiLCJpc0Nsb3NlZCI6InZXIn19fSAg");var G4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){i4.call(this,b)}var a=new M;D(c,i4);L(c,"geotoolkit.map.features.MultiPolygon");c.prototype.OE=function(b){this.LF=[];for(var d=this.Lc,e=this.LF,f=0;f<d.length;f++){for(var g=d[f].x,h=d[f].y,k=[],l=[],m=0;m<g.length;++m)a.Ga(g[m],h[m]),b.Oaa(a,a),k.push(a.getX()),l.push(a.getY());e.push({x:k,y:l})}return this};c.prototype.vW=function(){return!0};c.prototype.OS=function(){return!0};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhcHBseU1hcENTIjoiT0UiLCJpc0Nsb3NlZCI6InZXIiwiaXNNdWx0aUdlb21ldHJ5IjoiT1MifX19");var H4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e,f,g){if(!(0>f))for(var h=0;h<e.length;++h){if(f<e[h].length){e.splice(h,1,e[h].substr(0,f),g,e[h].substr(f+g.length));break}f-=e[h].length}}function a(){}var b={},d=new U;b[u4.Oa()]=0;b[t4.Oa()]=1;b[C4.Oa()]=1;b[D4.Oa()]=2;b[E4.Oa()]=2;b[F4.Oa()]=3;b[G4.Oa()]=3;L(a,"geotoolkit.map.util.FeatureUtil");a.Qtc=function(e,f,g){Array.isArray(e[f])||(e[f]=null==e[f]?[]:[e[f]]);e=e[f];for(f=0;f<e.length;++f)if(e[f]instanceof g)return e[f];e.push(new g);return e[e.length-1]};
a.Usc=function(e,f){return b[e.Oa()]-b[f.Oa()]};a.ABb=function(e){var f,g=0;if(Array.isArray(e))for(f=0;f<e.length;++f)g+=a.ABb(e[f]);else{var h=e.x,k=e.y;e=e.clip;if(Array.isArray(e))for(f=0;f<e.length;++f)g+=a.ABb(e[f]);if(Array.isArray(h))for(f=0;f<h.length;++f)g+=h[f]+k[f];else g+=h+k}return g};a.Trb=function(e,f){var g;if(Array.isArray(e)){var h=e.length;if(!Array.isArray(f)||f.length!==h)return!1;for(g=0;g<h;++g)if(!a.Trb(e[g],f[g]))return!1;return!0}if(Array.isArray(f))return!1;g=Array.isArray(e.x);
h=Array.isArray(f.x);if(g!==h)return!1;h=Array.isArray(e.y);var k=Array.isArray(f.y);if(h!==k)return!1;k=null!=e.clip;var l=null!=f.clip;if(k!==l)return!1;if(g)for(g=0;g<e.x.length;++g){if(e.x[g]!==f.x[g])return!1}else if(e.x!==f.x)return!1;if(h)for(g=0;g<e.y.length;++g){if(e.y[g]!==f.y[g])return!1}else if(e.y!==f.y)return!1;return k?a.Trb(e.clip,f.clip):!0};a.BVb=function(e,f){if(!Array.isArray(f)){var g=e.getAttributes(),h=f.getAttributes();e=e.Vd();f=f.Vd();return JSON.stringify(g)===JSON.stringify(h)&&
a.Trb(e,f)}for(g=0;g<f.length;++g)if(a.BVb(e,f[g]))return!0;return!1};a.J2b=function(e){var f=[];if(null==e)return f;for(var g=Object.keys(e),h=0;h<g.length;++h){var k=g[h];"settings"!==k&&"connector"!==k&&null!=e[k]&&f.push(k)}return f};a.FRa=function(e,f){var g=[],h;for(h in f)g.push(h+"="+f[h]);if(0===g.length)return e;e=0<=e.indexOf("?")?e+"&":e+"?";return e+g.join("&")};a.Wzc=function(e,f){for(var g=[e],h=0;h<f.length;++h)c(g,e.indexOf(f[h]),f[h]);return g.filter(function(k){return""!==k})};
a.s4=function(e,f){var g=e.ca()*f.ca();f=e.da()*f.da();var h=e.pn(),k=e.Vl();switch(e.lp()){case O.Ld:d.cb(h,k,h+g,k+f);break;case O.cg:d.cb(h,k,h+g,k-f);break;case O.Qf:d.cb(h,k,h-g,k+f);break;case O.lh:d.cb(h,k,h-g,k-f);break;case O.Xd:d.cb(h+g/2,k,h-g/2,k+f);break;case O.Je:d.cb(h+g/2,k,h-g/2,k-f);break;case O.vd:d.cb(h,k+f/2,h+g,k-f/2);break;case O.pe:d.cb(h,k+f/2,h-g,k-f/2);break;default:d.cb(h+g/2,k+f/2,h-g/2,k-f/2)}return d};return a}(),1,"eyJjcmVhdGVJZk5vdEV4aXN0cyI6IlF0YyIsImNvbXBhcmVQcmlvcml0eSI6IlVzYyIsInRvSGFzaCI6IkFCYiIsImVxdWFsc0dlb21ldHJ5IjoiVHJiIiwiZmluZEZlYXR1cmUiOiJCVmIiLCJwYXJhbXNUb0VuY29kZSI6IkoyYiIsImVuY29kZVBhcmFtc1JlcXVlc3QiOiJGUmEiLCJnZXRUZXh0Qm91bmRzIjoiczQifSAg");var I4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=a||{};ue.call(this);this.ua=a.settings||{};this.Cl=a.connector||new B4;this.YC={};for(var b=H4.J2b(a),d=0;d<b.length;++d)this.kF(b[d],a[b[d]]);this.Jh=0}D(c,ue);L(c,"geotoolkit.map.sources.formats.AbstractFormat");c.prototype.xt=function(a){null!=a&&(this.ua=a);return this};c.prototype.hI=function(a,b){if(null!=a&&a.startsWith("http"))return a;b=b||this.ua.url;if(null==b)return null;if(Array.isArray(b)){var d=b[this.Jh];this.Jh=(this.Jh+1)%b.length}else d=b;return H4.FRa(a?
d+a:d,this.YC)};c.prototype.query=function(a){var b=function(e,f){if(e)this.onError(e);else this.ge()||this.parse(f)}.bind(this);if(Array.isArray(this.ua.url))for(var d=0;d<this.ua.url.length;++d)this.Cl.send(this.hI(),a,b);else this.Cl.send(this.hI(),a,b);return this};c.prototype.parse=function(a){return this};c.prototype.dispose=function(){this.abort();ue.prototype.dispose.call(this)};c.prototype.onError=function(a){a&&hb(a)};c.prototype.abort=function(a){null!=this.Cl&&this.Cl.abort(a);return this};
c.prototype.Wm=function(){return this.Cl.Wm()};c.prototype.kF=function(a,b){"string"===typeof b&&(b=encodeURI(b));this.YC[a.toLowerCase()]=b;return this};c.prototype.C6a=function(a){if(null==a)return this;for(var b in a.YC)a.YC.hasOwnProperty(b)&&(this.YC[b]=a.YC[b]);return this};c.prototype.clone=function(){return Cb(this)};c.prototype.Ba=function(a,b){b=!0===b?xb:G;this.ua=b(a.ua,this.ua);this.Cl=a.Cl.clone();this.YC=b(a.YC,this.YC);return this};c.prototype.q8a=function(){return this.Cl};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRRdWVyeVBhcmFtZXRlciI6ImtGIiwiY2xvbmVRdWVyeVBhcmFtZXRlcnMiOiJDNmEiLCJjb3B5Q29uc3RydWN0b3IiOiJCYSIsImdldENvbm5lY3RvciI6InE4YSJ9fX0g");var J4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}c.prototype.g4=Fb;return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGZWF0dXJlSWQiOiJnNCJ9fX0g");var K4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){this.khb=a}lc(c,J4);L(c,"geotoolkit.map.features.strategies.IdByAttribute");c.prototype.g4=function(a){return a[this.khb]};c.prototype.Sea=function(){return this.khb};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGZWF0dXJlSWQiOiJnNCIsImdldEF0dHJpYnV0ZU5hbWUiOiJTZWEifX19");var L4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}function a(d){return Math.round(100*d)/100}var b=new M;L(c,"geotoolkit.map.util.GeoJSON");c.parse=function(d,e,f,g){e||(e=new K4("name"));g||(g=[0,1]);var h=[];Array.isArray(d)||(d=[d]);for(var k=0;k<d.length;++k)c.oJc(d[k],e,f,g,h);return h};c.oJc=function(d,e,f,g,h){if(null!=d.crs){var k=c.ACd(d.crs,f);f=k.Pfd;g=k.Ked||g}switch(d.type){case "Point":case "LineString":case "Polygon":case "MultiPoint":case "MultiLineString":case "MultiPolygon":case "GeometryCollection":c.T2b(d,f,
g,null,{},h);break;case "Feature":k=d.properties||{};e=e.g4(k)||d.id;c.T2b(d.geometry,f,g,e,k,h);break;case "FeatureCollection":for(d=d.features,k=0;k<d.length;++k)c.oJc(d[k],e,f,g,h)}};c.T2b=function(d,e,f,g,h,k){var l=null;if(!d)return e=new t4({id:g,geometry:{x:NaN,y:NaN},attributes:h}),k&&k.push(e),e;switch(d.type){case "Point":var m=c.b5(d.coordinates,e,f);l=t4;break;case "LineString":m=c.Z4(d.coordinates,e,f);l=D4;break;case "Polygon":m=c.ebb(d.coordinates,e,f);l=F4;break;case "MultiPoint":m=
c.EQa(c.b5,d.coordinates,e,f);l=C4;break;case "MultiLineString":m=c.EQa(c.Z4,d.coordinates,e,f);l=E4;break;case "MultiPolygon":m=c.EQa(c.ebb,d.coordinates,e,f);l=G4;break;case "GeometryCollection":d=d.geometries;for(var n=JSON.stringify(h),p=0;p<d.length;++p)c.T2b(d[p],e,f,g,JSON.parse(n),k)}return null!=l?(e=new l({id:g,geometry:m,attributes:h}),k&&k.push(e),e):null};c.EQa=function(d,e,f,g){for(var h=[],k=0;k<e.length;k++)h.push(d(e[k],f,g));return h};c.ebb=function(d,e,f){var g=c.Z4(d[0],e,f);if(1<
d.length){var h=k4.oP(g);g.clip=[h];for(h=1;h<d.length;++h)g.clip.push(c.Z4(d[h],e,f))}return g};c.Z4=function(d,e,f){for(var g=[],h=[],k=0;k<d.length;k++)b.Ga(d[k][f[0]],d[k][f[1]]),e&&(b=e(b,b)),g.push(b.getX()),h.push(b.getY());return{x:g,y:h}};c.b5=function(d,e,f){b.Ga(d[f[0]],d[f[1]]);e&&(b=e(b,b));return{x:b.getX(),y:b.getY()}};c.ACd=function(d,e){function f(m){var n=m.split(":");if(7===n.length){m=n[4];n=n[6];if("EPSG"===m)return+n;if("OGC"===m&&("CRS84"===n||"CRS83"===n||"CRS27"===n))return 4269}return null}var g=d.properties,h=null;switch(d.type){case "EPSG":h=+g.code;break;case "OGC":h=f(g.urn);break;case "name":h=f(g.name)}var k=c4.ag(),l=null;switch(h){case 102100:case 3857:l=k.Tj(Z3.WT);break;case 4326:case 4269:l=k.Tj(Z3.MI)}return{Pfd:null!=l?function(m,n){m=l.nc(m.x,m.y,n);return null!=e?e(m):m}:e,Ked:d.coordinate_order||g.coordinate_order}};c.zBb=function(d,e,f){function g(k){if(k instanceof u4)for(k=k.Tua(),k.reset();k.Kg();)h.push(c.QUc(k.next(),e,f));else h.push(c.QUc(k,e,f))}f||(f=[0,1]);
var h=[];d instanceof Hg||Array.isArray(d)?d.forEach(g):g(d);return 1===h.length?h[0]:{type:"FeatureCollection",features:h}};c.QUc=function(d,e,f){var g={type:"Feature",properties:d.getAttributes(),geometry:{}},h=d.Vd(!0);d instanceof t4?(g.geometry.type="Point",g.geometry.coordinates=c.SUc(h,e,f)):d instanceof D4?(g.geometry.type="LineString",g.geometry.coordinates=c.RUc(h,e,f)):d instanceof F4?(g.geometry.type="Polygon",g.geometry.coordinates=c.TUc(h,e,f)):d instanceof C4?(g.geometry.type="MultiPoint",
g.geometry.coordinates=c.EQa(c.SUc,h,e,f)):d instanceof E4?(g.geometry.type="MultiLineString",g.geometry.coordinates=c.EQa(c.RUc,h,e,f)):d instanceof G4&&(g.geometry.type="MultiPolygon",g.geometry.coordinates=c.EQa(c.TUc,h,e,f));return g};c.SUc=function(d,e,f){var g=[];b.Ga(d.x,d.y);e&&(b=e(b,b));g[f[0]]=a(b.getX());g[f[1]]=a(b.getY());return g};c.RUc=function(d,e,f){var g=[],h=d.x;d=d.y;for(var k=0;k<h.length;++k)g[k]=[],b.Ga(h[k],d[k]),e&&(b=e(b,b)),g[k][f[0]]=a(b.getX()),g[k][f[1]]=a(b.getY());
return g};c.TUc=function(d,e,f){var g=[],h,k=d.x,l=d.y;for(h=0;h<k.length;++h)g[h]=[],b.Ga(k[h],l[h]),e&&(b=e(b,b)),g[h][f[0]]=a(b.getX()),g[h][f[1]]=a(b.getY());g=[g];d=d.clip;if(Array.isArray(d))for(k=0;k<d.length;++k){l=d[k].x;var m=d[k].y,n=[];for(h=0;h<l.length;++h)n[h]=[],b.Ga(l[h],m[h]),e&&(b=e(b,b)),n[h][f[0]]=a(b.getX()),n[h][f[1]]=a(b.getY());g.push(n)}return g};return c}(),2,"eyJ0b0dlb0pTT04iOiJ6QmIifSAg");var M4=/*#__PURE__*/va(/*#__PURE__*/{cs:"FeatureAdded",IQ:"FeatureRemoved",JX:"FeaturesCleared",Cj:"ImageLoaded",uKa:"ImageCleared",bL:"TilesUpdated",iB:"InfoUpdated"},2,"eyJGZWF0dXJlQWRkZWQiOiJjcyIsIkZlYXR1cmVSZW1vdmVkIjoiSVEiLCJGZWF0dXJlc0NsZWFyZWQiOiJKWCIsIkltYWdlTG9hZGVkIjoiQ2oiLCJJbWFnZUNsZWFyZWQiOiJ1S2EiLCJUaWxlc1VwZGF0ZWQiOiJiTCIsIkluZm9VcGRhdGVkIjoiaUIifSAg");var N4=/*#__PURE__*/function(){function c(a){I4.call(this,a)}D(c,I4);L(c,"geotoolkit.map.sources.formats.GeoJSON");c.prototype.parse=function(a){if("string"===typeof a)try{a=JSON.parse(a)}catch(d){return this.onError(d),this}var b=this.ua.rk;a=L4.parse(a,this.ua.id,b.transform.bind(b));this.notify(M4.cs,this,a);return this};return c}();var O4=/*#__PURE__*/va(/*#__PURE__*/{gB:"All",PCb:"Bbox",bqa:"Tile",Bfb:"Grid"},2,"eyJBbGwiOiJnQiIsIkJib3giOiJQQ2IiLCJUaWxlIjoiYnFhIiwiR3JpZCI6IkJmYiJ9");var P4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){ue.call(this);a=a||{};this.V2a=a.ondataloaded;this.zNb=a.ondatafailed;var b=c4.ag().Tj(a.system||Z3.WT),d=c4.ag().Tj(Z3.WT);this.ua=this.ua||{};this.ua.rk=new d4(b,d);this.ua.YZ=new d4(d,b);this.ua.data={};this.bPa=this.TOa=this.UCa=this.EPa=this.mDa=this.tx=this.Vh=this.ua.url=null;this.lLb=!1;b=a.format;null!=b&&b.xt(this.ua);this.WM(b);this.uFc(a.loader);a=a.url||a.server;null!=a&&this.x5(a)}D(c,ue);L(c,"geotoolkit.map.sources.AbstractSource");c.prototype.query=
function(a,b){if(null==this.Vh||a.isEmpty())return this;var d=b.wa().pb();null==this.tx||this.tx.Ena()?(this.FO={gk:a,Ina:b,scale:d},this.Vh.query(a,b)):null==this.FO?(this.FO={gk:a,Ina:b,scale:d},this.xUa()):V.equals(d,this.FO.scale)&&b===this.FO.Ina?this.FO.gk.union(a):(this.FO.gk=a,this.FO.scale=d,this.FO.Ina=b);this.HK(!this.Wm());return this};c.prototype.x5=function(a){if(this.ua.url===a)return this;if(null==a)this.ua.url=a;else{a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;){var d=a[b],e=
d.match(/{(\w+)-(\w+)}/);if(e){a.splice(b,1);var f=!isNaN(e[1]),g=f?+e[1]:e[1].charCodeAt(0),h=f?+e[2]:e[2].charCodeAt(0);if(h<g){var k=g;g=h;h=k}for(;g<=h;g++)k=d.replace(e[0],f?g:String.fromCharCode(g)),a.push(k)}else b++}this.ua.url=1<a.length?a:a[0]}this.clear();return this};c.prototype.Ena=function(){return null==this.tx||this.tx.Ena()};c.prototype.q4=function(){return this.ua.url};c.prototype.xUa=function(){if(null==this.mDa)if(null==this.tx)this.mDa=Eg.resolve(this);else{var a=this;this.mDa=
(new Eg(function(b,d){a.UCa=b;a.TOa=d})).then(this.pxb.bind(this),this.MBd.bind(this));this.tx.query().then(this.UCa,this.TOa)}return this.mDa};c.prototype.sab=function(){if(null==this.EPa){var a=this;this.EPa=new Eg(function(b){a.bPa=b});!this.lLb&&this.q4()||this.HK(!0)}return this.EPa};c.prototype.owb=function(){return this.lLb};c.prototype.gtd=function(){return this.ua.data};c.prototype.HK=function(a){(this.lLb=a)&&this.bPa?(this.bPa(this),this.bPa=null):a||!this.EPa||this.bPa||(this.EPa=null);
return this};c.prototype.pa=function(){return this.ua.Ub};c.prototype.P5b=function(a){a=c4.ag().Tj(a);var b=this.ua.YZ.mr();a!==b&&a&&(this.ua.YZ.UIa(a),this.ua.rk.t5(a));return this};c.prototype.Tj=function(){return this.ua.YZ.mr()};c.prototype.LK=function(a){a=c4.ag().Tj(a);var b=this.ua.rk.mr();a!==b&&a&&(this.ua.rk.UIa(a),this.ua.YZ.t5(a),null==this.tx&&(this.ua.Ub=a.jk()));return this};c.prototype.dK=function(){return this.ua.rk.mr()};c.prototype.t5=function(a){a=c4.ag().Tj(a);var b=this.ua.rk.eI();
a!==b&&(this.ua.rk.t5(a),this.ua.YZ.UIa(a));return this};c.prototype.eI=function(){return this.ua.rk.eI()};c.prototype.tEc=function(){return this.ua.rk};c.prototype.Pud=function(){return this.ua.YZ};c.prototype.WM=Fb;c.prototype.uFc=function(a){null!=a?a.xt(this.ua):this.ua.Ub=this.dK().jk();this.tx=a;return this};c.prototype.pxb=function(){if(this.ge())return this;this.TOa=this.UCa=null;"function"===typeof this.V2a&&this.V2a();this.notify(Ce.Uq,this,this.ua.Ub);if(null!=this.FO){var a=this.FO.Ina;
if(a.ge())return this;V.equals(this.FO.scale,a.wa().pb())?this.query(this.FO.gk,a):this.query(a.vb(),a)}else this.HK(!this.Wm());return this};c.prototype.MBd=function(a){this.TOa=this.UCa=null;"function"===typeof this.zNb&&this.zNb(a);this.HK(!0);return this};c.prototype.dP=function(a,b){if("function"===typeof this[a])this[a](b);return this};c.prototype.clear=function(){if(null==this.Vh)return this;this.HK(!1);if(null==this.tx)return this.update(),this;this.tx.clear();this.UCa?this.tx.query().then(this.UCa,
this.TOa):null!=this.mDa&&(this.mDa=null,this.xUa());return this};c.prototype.update=function(){if(null==this.Vh)return this;this.HK(!1);this.Vh.clear();null!=this.FO&&this.query(this.FO.gk,this.FO.Ina);return this};c.prototype.dispose=function(){this.TOa=this.UCa=this.mDa=this.bPa=this.EPa=this.zNb=this.V2a=null;null!=this.tx&&this.tx.clear();null!=this.Vh&&this.Vh.dispose();ue.prototype.dispose.call(this)};c.prototype.Wm=function(){return null!=this.tx&&!this.tx.Ena()||null!=this.Vh&&this.Vh.Wm()};
c.prototype.Usb=function(){return null!=this.tx?this.tx.Usb():null};c.prototype.qFa=function(){return this.tx};c.prototype.kF=function(a,b){if("object"===typeof a){b=Object.keys(a);for(var d=0;d<b.length;d++)this.kF(b[d],a[b[d]])}else null!=this.tx&&this.tx.kF(a,b),null!=this.Vh&&this.Vh.kF(a,b);return this};c.prototype.AMc=function(){this.FO=null;return this};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;(a.hasOwnProperty("url")||a.hasOwnProperty("server"))&&this.x5(a.url||a.server);
return this};c.prototype.ia=function(){return{url:this.ua.url}};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTZXJ2ZXJVUkwiOiJ4NSIsImlzRGF0YUxvYWRlZCI6IkVuYSIsImdldFNlcnZlclVSTCI6InE0IiwibG9hZFNlcnZlckRhdGEiOiJ4VWEiLCJsb2FkU291cmNlRGF0YSI6InNhYiIsImlzRGF0YVJlYWR5Ijoib3diIiwiZ2V0U2VydmVyRGF0YSI6Imd0ZCIsImdldE1vZGVsTGltaXRzIjoicGEiLCJzZXRNYXBDb29yZGluYXRlU3lzdGVtIjoiTEsiLCJnZXRNYXBDb29yZGluYXRlU3lzdGVtIjoiZEsiLCJzZXRJbml0aWFsQ29vcmRpbmF0ZVN5c3RlbSI6InQ1IiwiZ2V0SW5pdGlhbENvb3JkaW5hdGVTeXN0ZW0iOiJlSSIsImdldFRyYW5zZm9ybWVyVG9NYXAiOiJ0RWMiLCJnZXRUcmFuc2Zvcm1lckZyb21NYXAiOiJQdWQiLCJpc0xvYWRpbmciOiJXbSIsImdldENvcHlyaWdodCI6IlVzYiIsInNldFF1ZXJ5UGFyYW1ldGVyIjoia0YiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var Q4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){ue.call(this);this.Ig=a;this.ua=b;null!=a&&this.VM(a)}D(c,ue);L(c,"geotoolkit.map.sources.managers.AbstractManager");c.prototype.dispose=function(){this.clear();null!=this.Ig&&this.Ig.dispose();ue.prototype.dispose.call(this)};c.prototype.VM=Fb;c.prototype.query=Fb;c.prototype.clear=function(){this.abort();return this};c.prototype.abort=function(){null!=this.Ig&&this.Ig.abort();return this};c.prototype.Wm=function(){return null!=this.Ig&&this.Ig.Wm()};c.prototype.kF=
function(a,b){null!=this.Ig&&this.Ig.kF(a,b);return this};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc0xvYWRpbmciOiJXbSIsInNldFF1ZXJ5UGFyYW1ldGVyIjoia0YifX19");var R4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d,e){Q4.call(this,d,e);this.Fy=null;this.mja={};this.sd={};this.ZOa=null;this.v0a=this.Fta=!1;this.Pg=Infinity}var a=new U,b=new U;D(c,Q4);L(c,"geotoolkit.map.sources.managers.Vector");c.prototype.query=function(d,e){if(!this.ua.url)return!1;var f=this.ua.Ub,g=this.ua.mode,h=this.ua.Nyb;if(null!=d){if(!d.Nd(f))return!1;d=a.cb(d).intersect(f)}else g=O4.gB,d=f;var k=e?e.wa():W.Xj;e=k.pb();switch(g){case O4.gB:return this.MXb(0,0)?this.Fta=!1:(this.Fta=!0,this.v0a=!1,this.Ig.abort(),
this.gyb(f,k),this.u6b(0,0,!0),!0);case O4.PCb:if(null!=this.ZOa&&this.ZOa.wi(d)&&V.equals(this.Pg,e))return!1;this.Fta=!0;this.v0a=!1;this.Ig.abort();this.ZOa=this.ZOa?this.ZOa.cb(d):d.clone();this.Pg=e;this.Iga(function(){this.gyb(this.ZOa,k)});return!0;case O4.bqa:g=new Vd(256,256);k.Sk(g,g);var l=g.ca();var m=g.da();V.equals(this.Pg,e)||(this.v0a=this.Fta=!0,this.Ig.abort(),this.sd={},this.Pg=e);break;case O4.Bfb:this.Fta=!1;this.v0a=!0;l=f.ca()/h;m=f.da()/h;break;default:return!1}var n=Math.floor((d.la()-
f.la())/l),p=Math.ceil((d.na()-f.la())/l),q=Math.floor((d.ka()-f.ka())/m),r=Math.ceil((d.ma()-f.ka())/m);this.Iga(function(){for(var t=a.Ra(l).Ya(m),u=n;u<p;u++)for(var w=q;w<r;w++)this.MXb(u,w)||(this.gyb(t.setX(f.la()+u*l).setY(f.ka()+w*m),k),this.u6b(u,w,!0))});return!0};c.prototype.VM=function(){var d=this.Fwc.bind(this),e=function(f,g,h){f===M4.cs&&null!=h&&(this.Fta&&(this.mja={},this.Fta=!1,this.notify(M4.JX,this)),this.v0a&&(h=h.filter(d)));this.notify(f,this,h)}.bind(this);this.Ig.on(M4.cs,
e);this.Ig.on(M4.IQ,e);this.Ig.on(M4.JX,e);return this};c.prototype.MXb=function(d,e){return this.sd[d]&&this.sd[d][e]};c.prototype.u6b=function(d,e,f){this.sd[d]=this.sd[d]||{};this.sd[d][e]=f;return this};c.prototype.gyb=function(d,e){e.Ta(d,b);this.Ig.query({left:d.la(),top:d.ka(),right:d.na(),bottom:d.ma(),width:b.ca(),height:b.da()})};c.prototype.Fwc=function(d){var e=H4.ABb(d.Vd());return null==this.mja[e]?(this.mja[e]=d,!0):H4.BVb(d,this.mja[e])?!1:(Array.isArray(this.mja[e])?this.mja[e].push(d):
this.mja[e]=[this.mja[e],d],!0)};c.prototype.O8a=function(){return this.Ig};c.prototype.Iga=function(d){null!=this.Fy&&clearTimeout(this.Fy);this.Fy=setTimeout(function(){d.call(this);this.Fy=null}.bind(this),this.ua.timeout)};c.prototype.abort=function(){null!=this.Fy&&(clearTimeout(this.Fy),this.Fy=null);return Q4.prototype.abort.call(this)};c.prototype.clear=function(){Q4.prototype.clear.call(this);this.sd={};this.mja={};this.Pg=Infinity;this.Fta=!1;return this};c.prototype.Wm=function(){return null!=
this.Fy||Q4.prototype.Wm.call(this)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0Rm9ybWF0IjoiVk0iLCJnZXRGcm9tR3JpZCI6Ik1YYiIsInNldEZyb21HcmlkIjoidTZiIiwicXVlcnlGZWF0dXJlc0Zyb21Cb3giOiJneWIiLCJmaWx0ZXJVbmlxdWUiOiJGd2MiLCJnZXRGb3JtYXQiOiJPOGEiLCJpc0xvYWRpbmciOiJXbSJ9fX0g");var S4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){var e=G(d,{format:new N4,idfield:"name",requestresolution:10,mode:O4.gB,timeout:50},!0);P4.call(this,d);this.Ar=new Og;this.ua=this.ua||{};this.ua.id=new K4(e.idfield);this.ua.Nyb=e.requestresolution;this.ua.mode=e.mode;this.ua.timeout=e.timeout}function a(d){if(Array.isArray(d.x)){var e=[];var f=[];for(var g=0;g<d.x.length;++g)b.Ga(d.x[g],d.y[g]),this.transform(b,b),e[g]=b.x,f[g]=b.y}else b.Ga(d.x,d.y),b=this.transform(b,b),e=b.x,f=b.y;return{x:e,y:f}}var b=new M;
D(c,P4);L(c,"geotoolkit.map.sources.Vector");c.prototype.WM=function(d){this.Vh=new R4(d,this.ua);this.Vh.on(M4.cs,function(e,f,g){this.URb(g,!1);this.Vh.Wm()||this.HK(!0)}.bind(this));this.Vh.on(M4.JX,function(e,f){this.CEa()}.bind(this));return this};c.prototype.NHa=function(d,e){this.query(d,e);return this};c.prototype.URb=function(d,e){if(!1!==e){e=this.tEc();var f=a.bind(e);d.forEach(function(g){var h=g.Vd();if(Array.isArray(h)){var k=[];for(var l=0;l<h.length;++l)k.push(f(h[l]))}else k=f(h);
g.$m(k)})}this.Ar.concat(d);this.notify(M4.cs,this,d);return this};c.prototype.y4b=function(d){for(this.Ar.reset();this.Ar.Kg();)if(this.Ar.next()===d){this.notify(M4.IQ,this,d);break}return this};c.prototype.clear=function(){this.CEa();P4.prototype.clear.call(this);return this};c.prototype.CEa=function(){this.notify(M4.JX,this,this.Ar);this.Ar=new Og;return this};c.prototype.requestData=function(d){this.ua.url=d;null!=this.Vh&&this.Vh.query()};c.prototype.lpa=function(d){this.ua.id.Sea()!==d&&(this.ua.id=
new K4(d));return this};c.prototype.w_b=function(){return this.ua.id.Sea()};c.prototype.Wcb=function(d){this.ua.Nyb=d;return this};c.prototype.SCc=function(){return this.ua.Nyb};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJxdWVyeUZlYXR1cmVzIjoiTkhhIiwiYWRkRmVhdHVyZXMiOiJVUmIiLCJyZW1vdmVGZWF0dXJlIjoieTRiIiwiY2xlYXJGZWF0dXJlcyI6IkNFYSIsInNldFVuaXF1ZUZpZWxkIjoibHBhIiwiZ2V0VW5pcXVlRmllbGQiOiJ3X2IiLCJzZXRSZXF1ZXN0UmVzb2x1dGlvbiI6IldjYiIsImdldFJlcXVlc3RSZXNvbHV0aW9uIjoiU0NjIn19fSAg");var T4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{format:null,sources:a instanceof S4||Array.isArray(a)?a:null},!0);S4.call(this,a);this.En=[];a=a.sources;if(Array.isArray(a))for(var b=0;b<a.length;++b)this.TRb(a[b]);else this.TRb(a)}D(c,S4);L(c,"geotoolkit.map.sources.CompositeSource");c.prototype.TRb=function(a){if(a instanceof S4){this.QAa||(this.QAa=this.sBd.bind(this));var b=this.En.indexOf(a);0>b&&(this.En.push(a),a.on(M4.cs,this.QAa),a.on(M4.IQ,this.QAa),a.on(M4.JX,this.QAa))}return this};c.prototype.WFd=
function(a){var b=this.En.indexOf(a);~b&&(a.CEa(),this.En.splice(b,1),a.za(M4.cs,this.QAa),a.za(M4.IQ,this.QAa),a.za(M4.JX,this.QAa));return this};c.prototype.Ind=function(){return this.En};c.prototype.WM=function(){return this};c.prototype.query=function(a,b){for(var d=0;d<this.En.length;++d)this.En[d].query(a,b);this.HK(!this.Wm());return this};c.prototype.LK=function(a){this.dP("setMapCoordinateSystem",a);return this};c.prototype.t5=function(a){this.dP("setInitialCoordinateSystem",a);return this};
c.prototype.Wcb=function(a){this.dP("setRequestResolution",a);return this};c.prototype.lpa=function(a){this.dP("setUniqueField",a);return this};c.prototype.clear=function(){this.dP("clear");return this};c.prototype.dispose=function(){this.dP("dispose")};c.prototype.dP=function(a,b){S4.prototype.dP.call(this,a,b);for(var d=0;d<this.En.length;++d)this.En[d].dP(a,b);return this};c.prototype.sBd=function(a,b,d){this.notify(a,this,d)};c.prototype.Wm=function(){for(var a=0;a<this.En.length;a++)if(this.En[a].Wm())return!0;
return!1};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRGZWF0dXJlU291cmNlIjoiVFJiIiwicmVtb3ZlRmVhdHVyZVNvdXJjZSI6IldGZCIsImdldEZlYXR1cmVTb3VyY2VMaXN0IjoiSW5kIiwiaW5pdFF1ZXJ5TWFuYWdlciI6IldNIiwic2V0TWFwQ29vcmRpbmF0ZVN5c3RlbSI6IkxLIiwic2V0SW5pdGlhbENvb3JkaW5hdGVTeXN0ZW0iOiJ0NSIsInNldFJlcXVlc3RSZXNvbHV0aW9uIjoiV2NiIiwic2V0VW5pcXVlRmllbGQiOiJscGEiLCJjaGVja0FuZENhbGwiOiJkUCIsImlzTG9hZGluZyI6IldtIn19fSAg");var U4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){x4.call(this);this.MC=[];if(Array.isArray(a))for(var b=0;b<a.length;++b)this.SRb(a[b]);else this.SRb(a)}D(c,x4);L(c,"geotoolkit.map.features.converters.CompositeConverter");c.prototype.SRb=function(a){a instanceof x4&&(this.xJb||(this.xJb=this.V4.bind(this)),this.MC.push(a),a.on(y4.Gha,this.xJb));return this};c.prototype.VFd=function(a){var b=this.MC.indexOf(a);~b&&(this.MC.splice(b,1),a.za(y4.Gha,this.xJb));return this};c.prototype.Ega=function(a){for(var b=this.MC.length-
1;0<=b&&null!=a;--b)a=this.MC[b].Ega(a);return a};c.prototype.FA=function(a){for(var b=new Og,d,e=this.MC.length-1;0<=e;--e)d=this.MC[e].FA(a),null!=d&&b.concat(d);return b};c.prototype.xga=function(a){for(var b=this.MC.length-1;0<=b;--b)this.MC[b].xga(a);return this};c.prototype.clear=function(){for(var a=this.MC.length-1;0<=a;--a)this.MC[a].clear();return this};c.prototype.qzd=function(a){null==this.vJb&&(this.vJb=function(b,d,e){this.Ega(e);this.notify(y4.Gha,this,!0)}.bind(this),this.wJb=function(b,
d,e){this.xga(e);this.notify(y4.Gha,this)}.bind(this),this.Lhc=function(b,d,e){d instanceof T4?this.wJb(b,d,e):(this.clear(),this.notify(y4.Gha,this))}.bind(this));a.on(M4.cs,this.vJb);a.on(M4.IQ,this.wJb);a.on(M4.JX,this.Lhc);return this};c.prototype.YPd=function(a){a.za(M4.cs,this.vJb);a.za(M4.IQ,this.wJb);a.za(M4.JX,this.Lhc);return this};c.prototype.V4=function(a,b,d){this.notify(a,this,d)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRGZWF0dXJlQ29udmVydGVyIjoiU1JiIiwicmVtb3ZlRmVhdHVyZUNvbnZlcnRlciI6IlZGZCIsInNhdmVDb252ZXJ0ZWRGZWF0dXJlcyI6IkVnYSIsImdldEZlYXR1cmVzIjoiRkEiLCJyZW1vdmVGZWF0dXJlcyI6InhnYSJ9fX0g");var V4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){x4.call(this);var f=new a(this.Ar,function(g){return g.gk.Nd(f.gk)});this.HMa=f}function a(f,g,h){Fg.call(this,f,function(k){return k.gk.Nd(this.gk)&&(this.filter?this.filter(k.ZEa):!0)}.bind(this));this.gk=g;this.scale=h;this.filter=null}function b(f){var g=f.Vd(!0);this.ZEa=f;if(Array.isArray(g))for(this.Vab=[],this.MVa=[],this.gk=null,f=0;f<g.length;++f){var h=k4.oP(g[f]);this.MVa.push(this.cuc(g[f]));this.Vab.push({x:[g[f].x[0]],y:[g[f].y[0]],Bj:{nsb:h}});this.gk=
null!=this.gk?this.gk.union(h):h.clone()}else this.gk=k4.oP(g),this.Vab={x:[g.x[0]],y:[g.y[0]],Bj:{nsb:this.gk}},this.MVa=this.cuc(g)}function d(f,g,h){var k=-Infinity,l=-1,m,n=f.x[h]-f.x[g],p=f.y[h]-f.y[g];if(0!==n||0!==p)for(m=g+1;m<h;++m){var q=Math.abs((f.x[m]-f.x[g])*p-(f.y[m]-f.y[g])*n);q>k&&(k=q,l=m)}else for(m=g+1;m<h;++m)n=f.x[m]-f.x[g],p=f.y[m]-f.y[g],q=n*n+p*p,q>k&&(k=q,l=m);return{id:l,distance:k}}function e(f){return Array.isArray(f)?f.every(e):Array.isArray(f.x)}b.prototype.cuc=function(f){var g=
d(f,0,f.x.length-1);return{geometry:f,MBb:{value:g.id,scale:g.distance}}};b.prototype.iQ=function(f,g,h){for(var k=0,l=f.geometry.x.length-1,m,n=1,p=f.MBb,q=[],r=[];p;)p.scale<h||1===l-k?(g.x[n]=f.geometry.x[l],g.y[n++]=f.geometry.y[l],k=l,p=q.pop(),l=r.pop()):(p.left||(m=d(f.geometry,k,p.value),p.left={value:m.id,scale:m.distance}),p.right||(m=d(f.geometry,p.value,l),p.right={value:m.id,scale:m.distance}),q.push(p.right),r.push(l),l=p.value,p=p.left);g.x.length=n;g.y.length=n;4>=n&&4<=f.geometry.x.length&&
(p=f.MBb,h=f.geometry.x.length-1,p.left||(m=d(f.geometry,0,p.value),p.left={value:m.id,scale:m.distance}),p.right||(m=d(f.geometry,p.value,h),p.right={value:m.id,scale:m.distance}),g.x[0]=f.geometry.x[0],g.y[0]=f.geometry.y[0],p.left.scale>p.right.scale?(g.x[1]=f.geometry.x[p.left.value],g.y[1]=f.geometry.y[p.left.value],g.x[2]=f.geometry.x[p.value],g.y[2]=f.geometry.y[p.value]):(g.x[1]=f.geometry.x[p.value],g.y[1]=f.geometry.y[p.value],g.x[2]=f.geometry.x[p.right.value],g.y[2]=f.geometry.y[p.right.value]),
g.x[3]=f.geometry.x[h],g.y[3]=f.geometry.y[h],g.x.length=4,g.y.length=4)};b.prototype.getFeature=function(f){if(Array.isArray(this.MVa))for(var g=0;g<this.MVa.length;++g)this.iQ(this.MVa[g],this.Vab[g],f);else this.iQ(this.MVa,this.Vab,f);this.ZEa.QLd(this.Vab);return this.ZEa};D(a,Fg);a.prototype.next=function(){var f=Fg.prototype.next.call(this);return null!=f?f.getFeature(this.scale):null};D(c,x4);L(c,"geotoolkit.map.features.converters.RDP");c.prototype.Ega=function(f){for(var g=[],h=0;h<f.length;++h){var k=
f[h].Vd(!0);e(k)?this.Ar.push(new b(f[h])):g.push(f[h])}return g};c.prototype.FA=function(f){var g=f.scale;this.HMa.gk=f.bbox;this.HMa.filter=f.filter;this.HMa.scale=1/(8*g*g);this.HMa.reset();return this.HMa};c.prototype.xga=function(f){if(f instanceof Hg)f.forEach(function(h){for(var k=0;k<this.Ar.length;++k)if(this.Ar[k].ZEa===h){this.Ar.splice(k,1);break}}.bind(this));else for(var g=0;g<this.Ar;++g)if(this.Ar[g].ZEa===f){this.Ar.splice(g,1);break}return this};c.prototype.clear=function(){x4.prototype.clear.call(this);
var f=new a(this.Ar,function(g){return g.gk.Nd(f.gk)});this.HMa=f;return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzYXZlQ29udmVydGVkRmVhdHVyZXMiOiJFZ2EiLCJnZXRGZWF0dXJlcyI6IkZBIiwicmVtb3ZlRmVhdHVyZXMiOiJ4Z2EifX19");var W4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}c.prototype.mS=Fb;c.prototype.reset=Fb;return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJGZWF0dXJlcyI6Im1TIn19fSAg");var X4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){this.ep=b instanceof ek?b:new ek(b)}function a(b,d,e,f){var g=k4.oP(b);d.apply(b,e);b=e.getBoundingBox(f);return g.Cz(b)}lc(c,W4);L(c,"geotoolkit.map.features.filters.AnnotationFit");c.Mpa=Hg.gi([]);c.prototype.mS=function(b,d,e){var f=e.ea.annotations;if(!f)return c.Mpa;var g=f.strategy;if(!g)return c.Mpa;var h=this.ep;return new Ng(b,function(k){var l=g.bb(k,e);if(!l)return!1;var m=e.vP(k);if(!m)return!1;h.Eb(l);k=k.Vd(!0);if(!Array.isArray(k))return a(k,m,h,d);l=
!1;for(var n=0;n<k.length;++n){var p=k[n];p.Bj=p.Bj||{};!1!==p.Bj.BM&&(a(p,m,h,d)?(l=!0,p.Bj.BM=!0):p.Bj.BM=!1)}return l})};c.prototype.reset=function(){return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJGZWF0dXJlcyI6Im1TIn19fSAg");var Y4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}lc(c,W4);L(c,"geotoolkit.map.features.filters.BiggestGeometry");c.Mpa=Hg.gi([]);c.prototype.mS=function(a,b,d){b=d.ea.annotations;if(!b)return c.Mpa;var e=b.strategy;return e?new Ng(a,function(f){var g=e.bb(f,d);if(!g)return!1;f=f.Vd(!0);if(Array.isArray(f)){g=k4.oP(f[0]);var h=0,k;for(k=1;k<f.length;++k){var l=f[k];l=k4.oP(l);l.ca()*l.da()>g.ca()*g.da()&&(g=l,h=k)}for(k=0;k<f.length;++k)l=f[k],l.Bj=l.Bj||{},!1!==l.Bj.BM&&(l.Bj.BM=k===h,k!==h&&(l.Bj.Vvb=!0))}return!0}):
c.Mpa};c.prototype.reset=function(){return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJGZWF0dXJlcyI6Im1TIn19fSAg");var Z4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){this.vjb=a}lc(c,W4);L(c,"geotoolkit.map.features.filters.ByType");c.prototype.mS=function(a,b,d){return new Ng(a,function(e){if(Array.isArray(this.vjb)){for(var f=0;f<this.vjb.length;++f)if(nc(e,this.vjb[f]))return!0;return!1}return nc(e,this.vjb)}.bind(this))};c.prototype.reset=function(){return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJGZWF0dXJlcyI6Im1TIn19fSAg");var $4=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}lc(c,W4);L(c,"geotoolkit.map.features.filters.EvenOddGeometry");c.Mpa=Hg.gi([]);c.prototype.mS=function(a,b,d){b=d.ea.annotations;if(!b)return c.Mpa;var e=b.strategy;return e?new Ng(a,function(f){var g=e.bb(f,d);if(!g)return!1;f=f.Vd(!0);if(Array.isArray(f)){g=!1;for(var h=0;h<f.length;++h)if(Array.isArray(f[h].x)&&(!f[h].Bj||!1!==f[h].Bj.BM)){for(var k=f[h].x[0],l=f[h].y[0],m=!1,n=0;n<f.length;++n)if(h!==n&&Array.isArray(f[n].x))for(var p=f[n],q=1;q<p.x.length;++q)p.y[q]>
l!==p.y[q-1]>l&&k<p.x[q]+(p.x[q-1]-p.x[q])*(l-p.y[q])/(p.y[q-1]-p.y[q])&&(m=!m);f[h].Bj=f.Bj||{};m?(f[h].Bj.BM=!1,f[h].Bj.Vvb=!0):g=f[h].Bj.BM=!0}return g}return!0}):c.Mpa};c.prototype.reset=function(){return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJGZWF0dXJlcyI6Im1TIn19fSAg");var a5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e,f){e=G(e,{ignoretypes:f||[],weight:a},!0);var g=e.weight;if(null==g)this.cib=null;else if("string"===typeof g){var h=g.split(",").map(function(k){k=k.trim();var l=k.toLowerCase();return l.endsWith(" asc")?{xSb:k.slice(0,-4),order:-1}:{xSb:l.endsWith(" desc")?k.slice(0,-5):k,order:1}});this.cib=function(k,l){k=k.getAttributes();l=l.getAttributes();for(var m=0;m<h.length;m++){var n=+k[h[m].xSb],p=+l[h[m].xSb];if(n!==p)return h[m].order*(p-n)}return 0}}else this.cib=function(k,
l){return g(l)-g(k)};this.Bic=e.ignoretypes;this.T2={};this.Glb=0}function a(e){var f=e.Vd(!0);if(!e.OS())return e=k4.oP(f),e.ca()*e.da();e=k4.oP(f[0]);var g=e.ca()*e.da();for(var h=1;h<f.length;++h)e=k4.oP(f[h]),g=Math.max(g,e.ca()*e.da());return g}var b=new Vd,d=20;lc(c,W4);L(c,"geotoolkit.map.features.filters.NoAnnotationOverlap");c.prototype.mS=function(e,f,g){var h=g.ea.annotations,k=h&&h.strategy;f.Fa().Sk(b.setSize(1,1),b);e=null!=this.cib?Hg.toArray(e).sort(this.cib):e;var l=d*b.da();return Hg.gi(e.filter(function(m){for(var n=
0;n<this.Bic.length;++n)if(m instanceof this.Bic[n])return!0;var p=g.b_(m);if(!p)return!1;n=p.Zva()||k;if(!n)return!1;var q=n.bb(m,g);if(!q)return!1;n=p.vP();if(!n)return!1;var r=m.Vd(!0);m=p.Gk(m);m.Eb(q);if(!Array.isArray(r))return n.apply(r,m,f),!this.Nd(H4.s4(m,b),l);p=!1;for(q=0;q<r.length;++q){var t=r[q];t.Bj=t.Bj||{};!1!==t.Bj.BM&&(n.apply(t,m,f),this.Nd(H4.s4(m,b),l)?t.Bj.BM=!1:(p=!0,t.Bj.BM=!0))}return p}.bind(this)))};c.prototype.reset=function(){this.T2={};this.Glb=0;return this};c.prototype.Nd=
function(e,f){var g=Math.floor(e.ka()/f);this.Glb<e.da()&&(this.Glb=e.da());f=Math.ceil(this.Glb/f);for(var h=g-f;h<=g+f;h++)if(this.T2[h])for(var k=0;k<this.T2[h].length;k++)if(this.T2[h][k].Nd(e))return!0;this.T2[g]=this.T2[g]||[];this.T2[g].push(e.clone());return!1};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJGZWF0dXJlcyI6Im1TIn19fSAg");var b5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){this.Pt=a;this.ea={nooverlap:!1};this.setOptions(b);this.T2=[];this.i6c=Hg.gi([])}lc(c,W4);L(c,"geotoolkit.map.features.filters.VisibilityArea");c.prototype.setOptions=function(a){xb(a,this.ea);return this};c.prototype.ta=function(){return xb(this.ea,{})};c.prototype.mS=function(a,b,d){b=b.Fa();var e=d.vb();this.Pt.Db(0,0);var f=this.Pt.QJ(b);d=f&&!f.isEmpty();if(!d)return this.i6c;var g=this.ea.nooverlap,h=f.getX(),k=f.getY();return new Ng(a,function(l){if(!(l instanceof
t4))return!1;l=l.Vd(!0);f.setX(l.x+h);f.setY(l.y+k);if(!e.Nd(f))return!1;if(!g)return!0;for(l=0;l<this.T2.length;l++)if(f.Nd(this.T2[l]))return!1;this.T2.push(new U(f));return!0}.bind(this))};c.prototype.reset=function(){this.T2=[];return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJmaWx0ZXJGZWF0dXJlcyI6Im1TIn19fSAg");var c5=/*#__PURE__*/function(){function c(b,d,e,f){this.q6c="string"===typeof b?b:null;this.N9c="string"===typeof d?d:"<br/>";this.RLb="number"===typeof e?e:5;this.L$c=!0===f}function a(b,d){return null==b?d.ic():(d=d.getAttributes())&&d.hasOwnProperty(b)?d[b]:null}L(c,"geotoolkit.map.features.formatters.SingleField");c.prototype.format=function(b,d){function e(n){n=a(g,n);h&&-1!==f.indexOf(n)||f.push(n)}var f=[],g=this.q6c,h=this.L$c;b=b||[];for(var k=0;k<b.length;++k)if(b[k]instanceof u4){var l=Hg.toArray(b[k].Tua());
if(l.length>this.RLb+1){for(var m=0;m<this.RLb;++m)e(l[m]);f.push("and "+(l.length-this.RLb)+" more\u2026")}else l.forEach(e)}else e(b[k]);return d+f.join(this.N9c)};return c}();var d5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){this.r6c=a;this.ss=!1!==b}L(c,"geotoolkit.map.features.formatters.Table");c.prototype.format=function(a,b){if(!a||0===a.length)return b;var d,e,f=this.r6c;if(null==f){f={};for(d=0;d<a.length;++d){var g=a[d].getAttributes();for(e in g)g.hasOwnProperty(e)&&!f[e]&&(f[e]=!0)}f=Object.keys(f)}b+="<table>";if(this.ss)for(d=0;d<f.length;++d){var h="<tr><td>"+f[d]+":</td>";for(e=0;e<a.length;++e)g=a[e].getAttributes(),h+="<td>"+(null!=g?g[f[d]]:null)+"</td>";b+=h+"</tr>"}else{b+=
"<tr>";for(d=0;d<f.length;++d)b+="<th>"+f[d]+"</th>";b+="</tr>";for(e=0;e<a.length;++e){b+="<tr>";for(d=0;d<f.length;++d)g=a[e].getAttributes(),b+="<td>"+(null!=g?g[f[d]]:null)+"</td>";b+="</tr>"}}return b+"</table>"};c.Pa=function(a,b){a=a||{};var d=Object.keys(a);b=!1!==b;return function(e,f){if(0===e.length)return f;f+="<table>";var g,h;if(b)for(g=0;g<d.length;++g){var k="<tr><td>"+d[g]+":</td>";for(h=0;h<e.length;++h){var l=a[d[g]](e[h]);k+="<td>"+l+"</td>"}f+=k+"</tr>"}else{f+="<tr>";for(g=0;g<
d.length;++g)f+="<th>"+d[g]+"</th>";f+="</tr>";for(h=0;h<e.length;++h){f+="<tr>";for(g=0;g<d.length;++g)l=a[d[g]](e[h]),f+="<td>"+l+"</td>";f+="</tr>"}}return f+"</table>"}};return c}(),2,"eyJmcm9tT2JqZWN0IjoiUGEifSAg");var e5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}c.prototype.bb=Fb;return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbm5vdGF0aW9uIjoiYmIifX19");var f5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){this.khb=a}lc(c,e5);L(c,"geotoolkit.map.features.strategies.AnnotationByAttribute");c.prototype.bb=function(a,b){return(a=a.getAttributes())?a[this.khb]:null};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbm5vdGF0aW9uIjoiYmIifX19");var g5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}lc(c,e5);L(c,"geotoolkit.map.features.strategies.AnnotationById");c.prototype.bb=function(a,b){return a.ic()};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbm5vdGF0aW9uIjoiYmIifX19");var h5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){d=G(d,{expression:d&&d.expression||function(f){return f.ic()},minscale:0,maxscale:Infinity,where:null},!0);if("string"===typeof d.expression){var e=d.expression;this.Khc=function(f){var g=f.getAttributes();return e.replace(/{(.*?)}/g,function(h,k){return g[k]})}}else this.Khc=d.expression;this.w2a=0===d.minscale?0:b.convert(d.minscale,a);this.o2a=Infinity===d.maxscale?Infinity:b.convert(d.maxscale,a);this.uf=d.where}var a=Zd.ya().Wa("px"),b=Zd.ya().Wa("metre");lc(c,
e5);L(c,"geotoolkit.map.features.strategies.AnnotationByRule");c.prototype.bb=function(d,e){e=Math.abs(e.wa().pb());return e>=this.w2a&&e<=this.o2a&&(!this.uf||this.uf(d))?this.Khc(d):""};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbm5vdGF0aW9uIjoiYmIifX19");var i5=/*#__PURE__*/function(){function c(a){a=a||{};a.shape=a.shape||new $n({linestyle:{color:"black",width:1}});a.shape instanceof $n&&a.shape.FI(!1);a.geometrytoshape=a.geometrytoshape||new p4;a.geometrytotext=a.geometrytotext||new n4;v4.call(this,a)}D(c,v4);L(c,"geotoolkit.map.features.templates.LineString");return c}();var j5=/*#__PURE__*/function(){function c(a){a=a||{};a.shape=a.shape||new Nm(0,0,8,8,O.Na,!0,$m,new X("black"),new rf("white"));a.geometrytoshape=a.geometrytoshape||new r4;a.geometrytotext=a.geometrytotext||a.geometrytoshape;v4.call(this,a)}D(c,v4);L(c,"geotoolkit.map.features.templates.Point");return c}();var k5=/*#__PURE__*/function(){function c(a){a=a||{};a.shape=a.shape||new Vm({linestyle:{color:"black",width:1},fillstyle:{color:"white"}});a.geometrytoshape=a.geometrytoshape||new s4;a.geometrytotext=a.geometrytotext||new m4;v4.call(this,a)}D(c,v4);L(c,"geotoolkit.map.features.templates.Polygon");return c}();var l5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){Fe.call(this,a);this.ea=this.ea||{};a=xb(a,{system:Z3.WT,limits:null,source:null,alpha:1,layerfilter:null},!0);this.N_a=c4.ag().Tj(a.system);this.xc=null;this.setOptions(a);this.$A(a.source||a.sources);a=a.url||a.server;void 0!==a&&this.x5(a);this.P8=this.KBa=this.yd=null;this.ojc=this.eG=!1}D(c,Fe);L(c,"geotoolkit.map.layers.AbstractLayer");c.prototype.Qa=function(){return this.Yd()};c.prototype.vb=function(a){var b=this.getParent(),d=this.pa(),e=null;null!=b&&null!=
b.pa()&&(e=this.wa(),e=null==e?new U(b.Ki(a)):e.pd(b.Ki(a)));if(null!=d&&null!=e)a||e.intersect(d);else return d;return e};c.prototype.pa=function(){if(null!=this.Ce)return this.Ce.clone();if(null!=this.xc){var a=this.xc.pa();if(null!=a)return a}this.ks||(this.ks=this.eS());return this.ks?this.ks.clone():null};c.prototype.Ha=function(a){this.Ce=a?a.clone():null;this.notify(Ce.Uq,this,this.Ce);return this};c.prototype.jk=function(){return null!=this.ks?this.ks.clone():null};c.prototype.eS=function(){return null!=
this.KBa?this.KBa.jk():null};c.prototype.upd=function(){return this.VN};c.prototype.WKd=function(a){this.VN!==a&&(this.VN=a,this.ea.alpha=a,this.ha());return this};c.prototype.ta=function(){return xb(this.ea,{})};c.prototype.setOptions=function(a){xb(a,this.ea);a&&a.hasOwnProperty("limits")&&this.Ha(a.limits);this.OF=this.ea.layerfilter;this.VN=this.ea.alpha;return this};c.prototype.P5b=function(a){this.N_a=c4.ag().Tj(a);null!=this.xc&&this.xc.P5b(this.N_a);return this};c.prototype.Tj=function(){return this.N_a};
c.prototype.Tk=function(a){this.eG!==a&&(this.eG=a,this.ha());return this};c.prototype.lo=function(){return this.eG};c.prototype.render=function(a){!this.isVisible||this.OF&&!this.OF.filter(this,a)||(this.yd&&!a.ac()?this.yd.render(a):this.$i(a))};c.prototype.we=function(a,b){if(this.isVisible&&(!this.OF||this.OF.filter(this,a)))if(this.yd&&!a.ac())this.yd.render(a);else{this.Hs(a,b);return}b()};c.prototype.$i=Fb;c.prototype.Hs=function(a,b){var d=this,e=this.vb(!0);this.fd().query(e,this);this.fd().sab().then(function(){d.$i(a);
b()},b)};c.prototype.load=function(){if(null!=this.xc){var a=this;return this.xc.sab().then(function(){return a},function(){return a})}return Eg.resolve(this)};c.prototype.Wm=function(){return null!=this.xc?!this.xc.owb():!1};c.prototype.Yd=function(){return null!=this.getParent()?this.getParent().Yd():null};c.$oe=function(a){var b=null,d=[];a.forEach(function(e){e instanceof Wi&&e.Lz()?d.push(e.Fk()):e.ga&&(e=e.ga())&&(null==b?b=e.clone():b.union(e))});0<d.length&&(a=Hd.getBoundingBox(d),null==b?
b=a:b.union(a));return b};c.prototype.pi=function(a){if(this.yd===a)return this;this.yd&&this.yd.Uz(null);a&&a.Kx()&&a.Uz(null);if(this.yd=a)this.yd.Uz(this),this.yd.m0(this.$i.bind(this));return this};c.prototype.ha=function(a,b){this.yd&&(a?this.yd.ha(a,b):this.yd.Pf());Fe.prototype.ha.call(this,a,b);return this};c.prototype.lr=function(){return this.yd};c.prototype.hS=function(){this.yd&&(this.yd.Uz(null),this.yd.m0(null));this.yd=null;return this};c.prototype.ia=function(){var a=Fe.prototype.ia.call(this);
a.url=this.q4();return a=xb(a,this.ta())};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;Fe.prototype.fa.call(this,a);void 0!==a.source&&this.$A(a.source);this.setOptions(a);return this};c.prototype.dK=function(){return this.KBa};c.prototype.LK=function(a){this.KBa=c4.ag().Tj(a);null!=this.xc&&this.xc.LK(this.KBa);return this};c.prototype.Ma=function(a,b,d,e){b=b instanceof U3?b:c4.ag().Tj(b);d=d instanceof U3?d:c4.ag().Tj(d);if(null!=b&&null!=d){if(null==this.P8||this.P8.eI()!==b||this.P8.mr()!==
d)this.P8=new d4(b,d);return this.P8.transform(a,e)}return null};c.prototype.Oaa=function(a,b){var d=this.Tj(),e=this.dK();return this.Ma(a,d,e,b)};c.prototype.P9b=function(a,b){var d=this.Tj(),e=this.dK();return this.Ma(a,e,d,b)};c.prototype.x5=function(a){null!=this.xc&&this.xc.x5(a);return this};c.prototype.q4=function(){return null!=this.xc?this.xc.q4():null};c.prototype.dispose=function(){null!=this.xc&&this.xc.dispose();this.yd&&this.pi(null);Fe.prototype.dispose.call(this)};c.prototype.fd=
function(){return this.xc};c.prototype.Li=function(a,b){return[]};c.prototype.k$=function(){return null};c.prototype.Zla=function(a,b){return a};c.prototype.$A=Fb;c.prototype.eOd=function(a){this.ojc=a;this.lr()instanceof Hm&&this.lr().freeze(a);return this};c.prototype.Cwa=function(){return this.ojc};c.prototype.Ba=function(a,b){b=!0===b?xb:G;this.ea=b(a.ea,this.ea);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRXb3JsZFRyYW5zZm9ybSI6IlFhIiwiZ2V0VmlzaWJsZU1vZGVsTGltaXRzIjoidmIiLCJnZXRNb2RlbExpbWl0cyI6InBhIiwic2V0TW9kZWxMaW1pdHMiOiJIYSIsImdldERlZmF1bHRNb2RlbExpbWl0cyI6ImprIiwiY2FsY3VsYXRlRGVmYXVsdE1vZGVsTGltaXRzIjoiZVMiLCJnZXRMYXllckFscGhhIjoidXBkIiwic2V0TGF5ZXJBbHBoYSI6IldLZCIsImdldE9wdGlvbnMiOiJ0YSIsImdldENvb3JkaW5hdGVTeXN0ZW0iOiJUaiIsInNldFZlcnRpY2FsRmxpcCI6IlRrIiwiaXNWZXJ0aWNhbEZsaXAiOiJsbyIsInJlbmRlckFzeW5jIjoid2UiLCJyZW5kZXJDb250ZW50IjoiJGkiLCJyZW5kZXJDb250ZW50QXN5bmMiOiJIcyIsImlzTG9hZGluZyI6IldtIiwic2V0Q2FjaGUiOiJwaSIsImludmFsaWRhdGUiOiJoYSIsImdldENhY2hlIjoibHIiLCJjbGVhckNhY2hlIjoiaFMiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRNYXBDb29yZGluYXRlU3lzdGVtIjoiZEsiLCJzZXRNYXBDb29yZGluYXRlU3lzdGVtIjoiTEsiLCJ0cmFuc2Zvcm1Qb2ludCI6Ik1hIiwidHJhbnNmb3JtVG9NYXAiOiJPYWEiLCJ0cmFuc2Zvcm1Gcm9tTWFwIjoiUDliIiwic2V0U2VydmVyVVJMIjoieDUiLCJnZXRTZXJ2ZXJVUkwiOiJxNCIsImdldERhdGFTb3VyY2UiOiJmZCIsImhpdFRlc3QiOiJMaSIsImdldFRvb2x0aXBGb3JtYXR0ZXIiOiJrJCIsImNvcHlDb25zdHJ1Y3RvciI6IkJhIn19fSAg");var m5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){var b={geometry:null,properties:null,name:null,filter:null};b=G(a,b);this.Lc=b.geometry;this.vw=b.properties;this.fc=b.name;this.uf=b.filter}L(c,"geotoolkit.map.util.Query");c.prototype.$m=function(a){this.Lc=a;return this};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;void 0!==a.properties?(this.vw=a.properties,void 0!==a.geometry&&(this.Lc=a.geometry),void 0!==a.filter&&(this.uf=a.filter),void 0!==a.name&&(this.fc=a.name)):this.vw=a;return this};c.prototype.kb=
function(a){this.fc=a;return this};c.prototype.Da=function(){return this.fc};c.prototype.Vd=function(){return this.Lc};c.prototype.ia=function(){return xb(this.vw,{properties:this.vw,filter:this.uf,geometry:this.Lc,name:this.fc})};c.prototype.setFilter=function(a){this.uf=a;return this};c.prototype.getFilter=function(){return this.uf};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRHZW9tZXRyeSI6IiRtIiwic2V0UHJvcGVydGllcyI6ImZhIiwic2V0TmFtZSI6ImtiIiwiZ2V0TmFtZSI6IkRhIiwiZ2V0R2VvbWV0cnkiOiJWZCIsImdldFByb3BlcnRpZXMiOiJpYSJ9fX0g");var n5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){this.Cl=a&&a.connector||new B4;this.ua=a&&a.settings||{};this.uib=null;this.Eib=!1;this.knb=this.W1a=null;this.YC={};for(var b=H4.J2b(a),d=0;d<b.length;++d)this.kF(b[d],a[b[d]])}L(c,"geotoolkit.map.sources.loaders.AbstractLoader");c.prototype.xt=function(a){null!=a&&(this.ua=a);return this};c.prototype.query=function(){if(null==this.knb){var a=this;this.Eib=!1;this.knb=new Eg(function(b,d){var e=a.iW();null==e?b(a):(e=H4.FRa(e,a.YC),a.Cl.send(e,a.YSa(),function(f,g){if(f)hb(f),
d(f);else try{a.parse(g,function(h){a.Eib=!0;b(h)})}catch(h){hb(h),d(h)}}))})}return this.knb};c.prototype.Ena=function(){return this.Eib};c.prototype.loaded=function(a){var b=this;this.W1a=setTimeout(function(){b.W1a=null;a(b)},0)};c.prototype.clear=function(){this.Cl.abort();null!=this.W1a&&(clearTimeout(this.W1a),this.W1a=null);this.knb=null;this.Eib=!1;return this};c.prototype.parse=Fb;c.prototype.iW=Fb;c.prototype.YSa=function(){return null};c.prototype.q8a=function(){return this.Cl};c.prototype.kF=
function(a,b){"string"===typeof b&&(b=encodeURI(b));this.YC[a.toLowerCase()]=b;return this};c.prototype.C6a=function(a){if(null==a)return this;for(var b in a.YC)a.YC.hasOwnProperty(b)&&(this.YC[b]=a.YC[b]);return this};c.prototype.Usb=function(){return this.uib};c.prototype.clone=function(){return Cb(this)};c.prototype.Ba=function(a,b){b=!0===b?xb:G;this.ua=b(a.ua,this.ua);this.Cl=a.Cl.clone();this.YC=b(a.YC,this.YC);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc1VybCI6ImlXIiwiZ2V0UmVxdWVzdE9wdGlvbnMiOiJZU2EiLCJnZXRDb25uZWN0b3IiOiJxOGEiLCJzZXRRdWVyeVBhcmFtZXRlciI6ImtGIiwiY2xvbmVRdWVyeVBhcmFtZXRlcnMiOiJDNmEiLCJnZXRDb3B5cmlnaHQiOiJVc2IiLCJjb3B5Q29uc3RydWN0b3IiOiJCYSJ9fX0g");var o5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(F){return F.getAttributes()[this]}function a(F){return F.ic()}function b(F){return F instanceof t4||F instanceof C4?"Point":F instanceof D4||F instanceof E4?"LineString":"Polygon"}function d(){return!0}function e(){return this}function f(){}function g(F){this.sEa=new Uint8Array(F);this.type=this.og=0;this.length=this.sEa.length}function h(F,I,J){return J?4294967296*I+(F>>>0):4294967296*(I>>>0)+(F>>>0)}function k(F,I,J,K,N){var P=8*N-K-1;var Q=(1<<P)-1,R=Q>>1,Y=-7;N=J?
N-1:0;var ca=J?-1:1,ea=F[I+N];N+=ca;J=ea&(1<<-Y)-1;ea>>=-Y;for(Y+=P;0<Y;Y-=8)J=256*J+F[I+N],N+=ca;P=J&(1<<-Y)-1;J>>=-Y;for(Y+=K;0<Y;Y-=8)P=256*P+F[I+N],N+=ca;if(0===J)J=1-R;else{if(J===Q)return P?NaN:ea?-Infinity:Infinity;P+=Math.pow(2,K);J-=R}return(ea?-1:1)*P*Math.pow(2,J-K)}function l(F,I,J){3===F&&(F=new m(J,J.GG()+J.og),F.length&&(I[F.name]=F))}function m(F,I){this.version=1;this.name=null;this.Iua=4096;this.length=0;this.zOa=F;this.wE=[];this.Gb=[];this.Ar=[];F.Z3b(n,this,I);this.length=this.Ar.length}function n(F,I,J){switch(F){case 15:I.version=J.GG();break;case 1:I.name=J.pxa();break;case 5:I.Iua=J.GG();break;case 2:I.Ar.push(J.og);break;case 3:I.wE.push(J.pxa());break;case 4:var K=null;for(F=J.GG()+J.og;J.og<F;)K=J.GG()>>3,K=1===K?J.pxa():2===K?J.fFd():3===K?J.eFd():4===K?J.lFd():5===K?J.GG():6===K?J.a4b():7===K?J.aFd():null;I.Gb.push(K)}}function p(F,I,J,K,N){w.Ga(F*J,-I*K);N&&N(w,w);return w}function q(F,I,J,K,N){this.properties={};this.Iua=J;this.type=0;this.zOa=F;this.Lc=-1;this.wE=K;this.Gb=
N;F.Z3b(r,this,I)}function r(F,I,J){switch(F){case 1:I.id=J.GG();break;case 2:for(F=J.GG()+J.og;J.og<F;){var K=I.wE[J.GG()],N=I.Gb[J.GG()];I.properties[K]=N}break;case 3:I.type=J.GG();break;case 4:I.Lc=J.og}}function t(F){r4.call(this,F);this.Lc={x:0,y:0}}var u,w=new M,y=c4.ag().Tj(Z3.WT),A=y.jk();D(t,r4);L(t,"MapboxPointAdapter");t.prototype.apply=function(F,I,J){this.Lc.x=F.x[0]||F.x;this.Lc.y=F.y[0]||F.y;r4.prototype.apply.call(this,this.Lc,I,J)};var x=1,C=2,z=3,v=A.ca()/360,B=A.da()/360;q.prototype.yzd=
function(F,I,J,K){var N=J*v,P=J*B,Q=this.zOa;Q.og=this.Lc;var R=Q.GG()+Q.og,Y=1,ca=0;J=180/J;F-=J;I-=J;J=[];for(var ea;Q.og<R;)if(0>=ca&&(ca=Q.GG(),Y=ca&7,ca>>=3),ca--,1===Y||2===Y){F+=Q.a4b();I+=Q.a4b();1===Y&&(ea&&J.push(ea),ea=this.type===x?{}:{x:[],y:[]});if(!ea)throw Error("Pbf wrong data found: wrong geometry found");var ua=p(F,I,N,P,K);this.type===x?(ea.x=ua.x,ea.y=ua.y):(ea.x.push(ua.x),ea.y.push(ua.y))}else if(7===Y)ea&&this.type===z&&(ua=ea.x.length-1,ea.x[0]!==ea.x[ua]||ea.y[0]!==ea.y[ua])&&
(ea.x.push(ea.x[0]),ea.y.push(ea.y[0]));else throw Error("Pbf wrong data found: unknown command "+Y);ea&&J.push(ea);return J};q.prototype.wPd=function(F,I,J,K,N){J=360/(this.Iua*J);F*=this.Iua;I*=this.Iua;N=this.yzd(F,I,J,N);K=this.id||K.g4(this.properties)||this.properties.id;if(0===N.length)return null;switch(this.type){case x:I=1===N.length?t4:C4;break;case C:I=1===N.length?D4:E4;break;case z:if(1<N.length){I=null;for(J=0;J<N.length;)(F=k4.bGc(N[J]))?I=N[J++]:(I&&(I.clip=I.clip||[k4.oP(I)],I.clip.push(N[J])),
N.splice(J,1));I=1===N.length?F4:G4}else I=F4;break;default:return null}return new I({id:K,attributes:this.properties,geometry:1===N.length?N[0]:N})};m.prototype.ZEa=function(F){this.zOa.og=this.Ar[F];F=this.zOa.GG()+this.zOa.og;return new q(this.zOa,F,this.Iua,this.wE,this.Gb)};g.e4c=0;g.b_c=1;g.$Xc=2;g.a_c=5;g.prototype={destroy:function(){this.sEa=null},Z3b:function(F,I,J){for(J=J||this.length;this.og<J;){var K=this.GG(),N=K>>3,P=this.og;this.type=K&7;F(N,I,this);this.og===P&&this.uOd(K)}return I},
fFd:function(){var F=k(this.sEa,this.og,!0,23,4);this.og+=4;return F},eFd:function(){var F=k(this.sEa,this.og,!0,52,8);this.og+=8;return F},GG:function(F){var I=this.sEa;var J=I[this.og++];var K=J&127;if(128>J)return K;J=I[this.og++];K|=(J&127)<<7;if(128>J)return K;J=I[this.og++];K|=(J&127)<<14;if(128>J)return K;J=I[this.og++];K|=(J&127)<<21;if(128>J)return K;J=I[this.og];K|=(J&15)<<28;J=I[this.og++];var N=(J&112)>>4;if(128>J)return h(K,N,F);J=I[this.og++];N|=(J&127)<<3;if(128>J)return h(K,N,F);J=
I[this.og++];N|=(J&127)<<10;if(128>J)return h(K,N,F);J=I[this.og++];N|=(J&127)<<17;if(128>J)return h(K,N,F);J=I[this.og++];N|=(J&127)<<24;if(128>J)return h(K,N,F);J=I[this.og++];N|=(J&1)<<31;if(128>J)return h(K,N,F);throw Error("Pbf wrong data found: expected varint not more than 10 bytes");},lFd:function(){return this.GG(!0)},a4b:function(){var F=this.GG();return 1===F%2?(F+1)/-2:F/2},aFd:function(){return!!this.GG()},pxa:function(){for(var F=this.GG()+this.og,I="",J=this.og,K=this.sEa;J<F;){var N=
K[J],P=null,Q=239<N&&4||223<N&&3||191<N&&2||1;if(J+Q>F)break;if(1===Q)128>N&&(P=N);else if(2===Q){var R=K[J+1];128===(R&192)&&(P=(N&31)<<6|R&63,127>=P&&(P=null))}else if(3===Q){R=K[J+1];var Y=K[J+2];128===(R&192)&&128===(Y&192)&&(P=(N&15)<<12|(R&63)<<6|Y&63,2047>=P||55296<=P&&57343>=P)&&(P=null)}else if(4===Q){R=K[J+1];Y=K[J+2];var ca=K[J+3];128===(R&192)&&128===(Y&192)&&128===(ca&192)&&(P=(N&15)<<18|(R&63)<<12|(Y&63)<<6|ca&63,65535>=P||1114112<=P)&&(P=null)}null===P?(P=65533,Q=1):65535<P&&(P-=65536,
I+=String.fromCharCode(P>>>10&1023|55296),P=56320|P&1023);I+=String.fromCharCode(P);J+=Q}this.og=F;return I},uOd:function(F){F&=7;if(F===g.e4c)for(;127<this.sEa[this.og++];);else if(F===g.$Xc)this.og=this.GG()+this.og;else if(F===g.a_c)this.og+=4;else if(F===g.b_c)this.og+=8;else throw Error("Pbf wrong data found: unknown type: "+F);}};L(f,"geotoolkit.map.util.Mapbox");var E="background_layer",H=16;f.parse=function(F,I,J,K,N,P,Q){N=N||new K4("name");Q=Q||{};var R=0===Object.keys(Q).length||1===Object.keys(Q).length&&
null!=Q.layers,Y=1<<K,ca=A.width/Y,ea=A.height/Y,ua=A.x+ca*I,Ga=A.y+ea*(Y-J-1),Aa=new g(F),Ba=Aa.Z3b(l,{});F={};for(var La=Object.keys(Ba),Pa=0;Pa<La.length;Pa++){var Oa=La[Pa];if(R)Q.layers=Q.layers||[],0>Q.layers.indexOf(Oa)&&Q.layers.push(Oa);else if(!Q[Oa])continue;for(var Va=0;Va<Ba[Oa].length;++Va){var gb=Ba[Oa].ZEa(Va).wPd(I,J,Y,N,P);if(gb)if(R)F[Oa]=F[Oa]||[],F[Oa].push(gb);else for(var $a=f.Kqc(gb,K,Q[Oa]),Bb=!1,jc=0;jc<$a.length;jc++){var Xb=$a[jc].id,tb=$a[jc].eu;0<jc&&(gb=gb.jJa());F[Xb]=
F[Xb]||[];F[Xb].push(gb);gb.eu=tb;tb.Gk()!==u&&(Bb&&gb.TId({}),Bb=!0)}}}Aa.destroy();if(Q[E])for(I=Q[E],J=0;J<I.length;J++)N=new F4({geometry:{x:[ua,ua+ca,ua+ca,ua],y:[Ga,Ga,Ga+ea,Ga+ea]}}),I[J].setZ(K),N.eu=I[J].eu,F[I[J].id]=[N];return F};f.Pxb=function(F,I,J){F=F.layers;I={layers:[],zqb:{},wdb:J,b9b:{},fonts:[],xdb:I};for(J=0;J<F.length;++J)f.SJc(F[J],I);return I};f.Kqc=function(F,I,J){var K=[];if(!J)return K;for(var N=0;N<J.length;N++)J[N].filter(F,I)&&K.push(J[N]);return K};f.SJc=function(F,
I){var J=G(F.layout,F.paint);if(J&&"none"!==J.visibility){var K=F["source-layer"],N=null!=F.minzoom?F.minzoom:0,P=null!=F.maxzoom?F.maxzoom:Infinity,Q=f.Hxb(F.filter),R={id:F.id,zoom:null,setZ:function(Ga){R.zoom=Ga},$xa:e,filter:function(Ga,Aa){return Aa>=N&&Aa<=P&&Q(Ga)}};u=u||new ek({visible:!1});switch(F.type){case "background":K=E;J=J["background-pattern"]?f.R2b(J["background-pattern"],J["background-opacity"],I):f.jxa(J["background-color"],J["background-opacity"],R,rf);if(!J)return;R.eu=new k5({shape:new Vm({fillstyle:J})});
break;case "fill":if(J["fill-pattern"]){J=f.R2b(J["fill-pattern"],J["fill-opacity"],I);if(!J)return;R.eu=new k5({shape:new Vm({fillstyle:J}),textshape:u})}else R.eu=new k5({shape:new Vm({fillstyle:f.jxa(J["fill-color"],J["fill-opacity"],R,rf),linestyle:f.jxa(J["fill-outline-color"],J["fill-opacity"],R,X)}),textshape:u});break;case "line":R.eu=new i5({shape:new $n({linestyle:f.zJc(J,R)}),textshape:u});break;case "symbol":var Y=f.sJc(J,I,R),ca=f.TJc(J,I,R);if("line"===J["symbol-placement"]){var ea=
i5;var ua=n4}else"line-center"===J["symbol-placement"]?(ea=k5,ua=m4):(ea=j5,ua=t);!0!==J["icon-allow-overlap"]&&(I.b9b[F.id]=J["symbol-spacing"]||250);R.eu=new ea({shape:Y.shape,geometrytoshape:new ua({offset:{x:Y.offset[0],y:Y.offset[1]}}),textshape:ca.shape,geometrytotext:new ua({offset:{x:ca.offset[0],y:ca.offset[1]}}),textstrategy:ca.ROd,textsizeinfo:ca.X8b});break;case "circle":Y=J["circle-stroke-width"]||0;ca=(J["circle-radius"]||5)+Y/2;ea=f.jxa(J["circle-color"],J["circle-opacity"],R,rf);ua=
null;0<Y&&(ua=f.jxa(J["circle-stroke-color"]||"#000000",J["circle-stroke-opacity"],R,X),ua.Ra(Y));R.eu=new j5({shape:new Nm({painter:$m,width:2*ca,height:2*ca,fillstyle:0<J["circle-blur"]&&null!=ea?new og({innerradius:1-J["circle-blur"],startcolor:ea.rb(),endcolor:"transparent"}):ea,linestyle:ua}),textshape:u});break;default:hb('VectorTile: "'+F.type+'" type is not supported');return}R.$xa!==e&&R.eu.fa({shapecallback:R.$xa});I.layers.push(F.id);I.zqb[F.id]=R;I[K]=I[K]||[];I[K].push(R)}};f.TJc=function(F,
I,J){function K(ua,Ga){return ea[Ga]||""}if(!F||!F["text-field"])return{shape:u,offset:[0,0]};var N=F.text,P=0;switch(F["text-anchor"]){case "left":var Q=O.vd;N=2;break;case "right":Q=O.pe;N=-2;break;case "top":Q=O.Je;P=-2;break;case "bottom":Q=O.Xd;P=2;break;case "top-left":Q=O.cg;N=2;P=-2;break;case "top-right":Q=O.lh;P=N=-2;break;case "bottom-left":Q=O.Ld;P=N=2;break;case "bottom-right":Q=O.Qf;N=-2;P=2;break;default:Q=O.Na}var R="uppercase"===F["text-transform"]&&String.prototype.toUpperCase||
"lowercase"===F["text-transform"]&&String.prototype.toLowerCase||null,Y=V.degToRad(F["text-rotate"])||0;I=f.UJc(F,I,J);var ca=F["text-field"];Q=new ek({textstyle:I?I.style:null,rotationangle:Y,preservereadingorientation:!0,ispointingup:!0,width:0<F["text-max-width"]&&I?I.size*F["text-max-width"]:0,alignment:Q});0<F["text-max-width"]&&I&&(I.style.ae(Fi.Na),Q.setSize(I.size*F["text-max-width"],0).Wj(ck.pB));var ea;return{shape:Q,X8b:I.X8b,ROd:new h5({expression:function(ua){ea=ua.getAttributes();ua=
ca;if("string"!==typeof ca){var Ga=ca.stops||[];ua=Ga[Ga.length-1]&&Ga[Ga.length-1][1]||"";for(var Aa=0;Aa<Ga.length;Aa++)if(J.zoom<=Ga[Aa][0]){ua=Ga[Aa][1];break}}ua=ua.replace(/{(.*?)}/g,K);return R?R.call(ua):ua}}),offset:[N,P]}};f.sJc=function(F,I,J){if(!(F&&F["icon-image"]&&I.wdb&&I.xdb))return{shape:u,offset:[0,0]};var K=F["icon-image"],N=F["icon-size"]||1,P=I.wdb,Q=V.degToRad(F["icon-rotate"])||0,R=F.hasOwnProperty("icon-opacity")?F["icon-opacity"]:1;if(0>K.indexOf("{")){if(!P[K])return{shape:u,
offset:[0,0]};F=F["icon-offset"]||[0,0];return{shape:new Gj({url:I.xdb,rotationangle:Q,opacity:R,crossorigin:"anonymous",sizeisindevicespace:!0,alignment:O.Na,width:P[K].width*N,height:P[K].height*N,sprite:new U(P[K])}),offset:[P[K].width*N*F[0],P[K].height*N*F[1]]}}var Y=J.$xa;J.$xa=function(ca,ea){var ua=ca.getAttributes(),Ga=K.replace(/{(.*?)}/g,function(Aa,Ba){return ua[Ba]});P[Ga]?ea.setSize(P[Ga].width*N,P[Ga].height*N).rSc(new U(P[Ga])).va(!0):ea.va(!1);Y(ca,ea)};return{shape:new Gj({url:I.xdb,
rotationangle:Q,alignment:O.Na,opacity:R,crossorigin:"anonymous",sizeisindevicespace:!0}),offset:[0,0]}};f.UJc=function(F,I,J){if(!F["text-font"]&&!F["text-size"]&&!F["text-color"])return null;var K=f.jxa(F["text-color"],F["text-opacity"],J,Ki)||new Ki,N="string"===typeof F["text-font"]?F["text-font"]:Array.isArray(F["text-font"])&&F["text-font"][0];N?0>I.fonts.indexOf(N)&&I.fonts.push(N):N="sans-serif";I=F["text-size"]||H;var P=null;if("number"!==typeof I){var Q=f.dVa(I);if(2>Q.length){var R=J.setZ;
J.setZ=function(Y){var ca=Math.round(Q(Y));K.vo(ca+"px "+N);R(Y)}}else J=I.stops.length-1,P={field:I.property,minDataValue:I.stops[0][0],maxDataValue:I.stops[J][0],minSize:I.stops[0][1],maxSize:I.stops[J][1]};I=H}K.vo(I+"px "+N);"string"===typeof F["text-halo-color"]&&0<F["text-halo-width"]&&K.cpa({color:F["text-halo-color"],blur:2*F["text-halo-width"],enable:!0});return{style:K,X8b:P,size:I}};f.R2b=function(F,I,J){if(!J.wdb||!J.xdb||!J.wdb[F])return null;var K=new rf("transparent"),N=new U(J.wdb[F]),
P=new Gj({url:J.xdb,alignment:O.Ld,ax:0,ay:0,width:N.ca(),height:N.da(),opacity:"number"===typeof I?I:1,crossorigin:"anonymous",sprite:N});P.VP(function(){var Q=new Gh(N.ca(),N.da(),!0),R=Q.Ova();P.render(R);Q.Ko();K.gw(ui.ya().createPattern(Q.wk().toDataURL()))});return K};f.zJc=function(F,I){function J(ea,ua){return Array.isArray(ea)?ea.map(function(Ga){return Ga*ua}):null}if(!F["line-color"]&&!F["line-width"])return null;var K=f.jxa(F["line-color"]||"#000000",F["line-opacity"],I,X),N=F.hasOwnProperty("line-width")?
F["line-width"]:1,P=F["line-dasharray"];if("number"!==typeof N||P&&P.stops){var Q=f.dVa(N),R=f.dVa(P);if(2>Q.length&&2>R.length){var Y=I.setZ;I.setZ=function(ea){var ua=Q(ea),Ga=R(ea);K.Ra(ua).gw(J(Ga,ua));Y(ea)}}else{var ca=I.$xa;I.$xa=function(ea,ua){var Ga=2>Q.length?Q(I.zoom):Q(ea,ua),Aa=2>R.length?R(I.zoom):R(ea,ua);K.Ra(Ga).gw(J(Aa,Ga));ca(ea,ua)}}N=1;P=null}K.Ra(N).Ooa(F["line-cap"]||yg.dba).Ccb(F["line-join"]||xg.Mha).gw(J(P,N));return K};f.jxa=function(F,I,J,K){if(null==F)return null;if("string"===
typeof F){if(null==I||1===I)return new K({color:F});if("number"===typeof I)return new K({color:Pd.ZA(F,255*I)})}var N=f.dVa(F),P=f.dVa(I),Q=J.setZ,R=new K;if(2>N.length&&2>P.length)J.setZ=function(ca){var ea=N(ca),ua=P(ca);ea.ZA(ua);R.setColor(ea);Q(ca)};else{var Y=J.$xa;J.$xa=function(ca,ea){var ua=2>N.length?N(J.zoom):N(ca,ea),Ga=2>P.length?P(J.zoom):P(ca,ea);ua.ZA(Ga);R.setColor(ua);Y(ca,ea)}}return R};f.dVa=function(F){function I(Q){var R;if("number"!==typeof Q){for(R=0;R<J.length;R++)if(J[R][0]===
Q)return J[R][1];return J[0][0]}if(Q<J[0][0])return J[0][1];for(R=1;R<J.length;R++)if(!(J[R][0]<Q)){Q-=J[R-1][0];var Y=J[R][0]-J[R-1][0];Q=1===K?Q/Y:(Math.pow(K,Q)-1)/(Math.pow(K,Y)-1);return P?N.rb(J[R-1][0]+Q*(J[R][0]-J[R-1][0])):J[R-1][1]+Q*(J[R][1]-J[R-1][1])}return J[J.length-1][1]}if("object"!==typeof F||!Array.isArray(F.stops))return"string"===typeof F&&(F=new td(F)),function(){return F};var J=F.stops,K=F.base||1,N,P="string"===typeof J[0][1];P&&(N=new Ro({values:J.map(function(Q){return Q[0]}),
colors:J.map(function(Q){return Q[1]})}));return F.property?function(Q,R){Q=I(Q.getAttributes()[F.property]);return P&&"string"===typeof Q?new td(Q):Q}:function(Q){Q=I(Q);return P&&"string"===typeof Q?new td(Q):Q}};f.Hxb=function(F){if(!Array.isArray(F)||0===F.length)return d;var I,J=F[1],K=F[2],N="$type"===J&&b||"$id"===J&&a||c;switch(F[0]){case "has":return function(ca){return void 0!==N.call(J,ca)};case "!has":return function(ca){return void 0===N.call(J,ca)};case "==":return function(ca){return N.call(J,
ca)===K};case "!=":return function(ca){return N.call(J,ca)!==K};case ">":return function(ca){return N.call(J,ca)>K};case ">=":return function(ca){return N.call(J,ca)>=K};case "<":return function(ca){return N.call(J,ca)<K};case "<=":return function(ca){return N.call(J,ca)<=K};case "in":case "!in":var P=F.slice(2);var Q="!in"===F[0];return function(ca){return-1===P.indexOf(N.call(J,ca))===Q};case "all":var R=[];for(I=1;I<F.length;++I)R.push(f.Hxb(F[I]));return function(ca){return R.every(function(ea){return ea(ca)})};
case "any":case "none":var Y=[];for(I=1;I<F.length;++I)Y.push(f.Hxb(F[I]));Q="any"===F[0];return function(ca){return Y.some(function(ea){return ea(ca)})===Q}}return d};return f}(),1,"eyJwYXJzZVN0eWxlcyI6IlB4YiIsImFwcGx5VGVtcGxhdGVzIjoiS3FjIiwicGFyc2VUZW1wbGF0ZSI6IlNKYyIsInBhcnNlVGV4dEZpZWxkIjoiVEpjIiwicGFyc2VJY29uSW1hZ2UiOiJzSmMiLCJwYXJzZVRleHRTdHlsZSI6IlVKYyIsInBhcnNlRmlsbFBhdHRlcm4iOiJSMmIiLCJwYXJzZUxpbmVTdHlsZSI6InpKYyIsInBhcnNlQ29sb3JlZFN0eWxlIjoianhhIiwicGFyc2VGdW5jdGlvbiI6ImRWYSIsInBhcnNlRmlsdGVyIjoiSHhiIn0g");var p5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b,d){return b?new Eg(function(e){d.send(b,null,function(f,g){if(f||"string"!==typeof g)g=null;else try{g=JSON.parse(g)}catch(h){f=h}f&&hb(f);e(g)})}):Eg.resolve(null)}function a(b){n5.call(this,b)}D(a,n5);L(a,"geotoolkit.map.sources.loaders.VectorTile");a.prototype.parse=function(b,d){"string"===typeof b&&(b=JSON.parse(b));this.ua.data=b;this.ua.Ub=this.ua.rk.mr().jk();if(null!=b.tiles&&0<b.tiles.length){var e="/"===b.tiles[0][0]?"":"/";var f=H4.Wzc(e+b.tiles[0],["{x}",
"{y}","{z}"]);this.ua.hsb=function(k,l,m){for(var n="",p=0;p<f.length;++p)switch(f[p]){case "{x}":n+=m;break;case "{y}":n+=l;break;case "{z}":n+=k;break;default:n+=f[p]}return n}}var g=this;b.tileMap&&(e="/"===b.tileMap[0]||"/"===this.ua.url[this.ua.url.length-1]?"":"/",e=H4.FRa(this.ua.url+e+b.tileMap,this.YC),this.Cl.send(e,null,function(k,l){if(!k){if("string"===typeof l)try{l=JSON.parse(l)}catch(m){return}g.ua.MUc=l.index}}));this.ua.yt={};if(this.ua.mUc||b.defaultStyles){e="/"===b.defaultStyles[0]||
"/"===this.ua.url[this.ua.url.length-1]?"":"/";var h=this.ua.mUc||this.ua.url+e+b.defaultStyles;h=H4.FRa(h,this.YC);c(h,this.Cl).then(function(k){if(k){var l=a.qDd(k,h);c(l.fHa,g.Cl).then(function(m){g.ua.layers=[];g.ua.yt=m?o5.Pxb(k,l.image,m):{};l.image?Eb({image:l.image},function(){d(g)}):d(g)},function(){d(g)})}else d(g)},function(){d(g)})}else this.loaded(d)};a.prototype.iW=function(){return this.ua.url?this.ua.url+"?f=json":null};a.NJc=function(b){if("string"===typeof b)try{b=JSON.parse(b)}catch(f){return null}b=
b.sources;if(!b)return null;for(var d in b){var e=b[d];if(null!=e&&"string"===typeof e.type&&"vector"===e.type.toLowerCase()&&"string"===typeof e.url)return e.url}return null};a.qDd=function(b,d){if(!b.sprite)return{image:"",fHa:""};b=b.sprite;var e=96<Zd.ya().nCc()?"@2x":"",f=d.indexOf("?"),g=0>f?"":d.substr(f),h="mapbox://styles";if(b.startsWith(h))return{image:d.replace(/\/mapbox.+(?=\?)/,b.substr(h.length)+"/sprite"+e+".png"),fHa:d.replace(/\/mapbox.+(?=\?)/,b.substr(h.length)+"/sprite"+e+".json")};
if(/(:|\/\/|^[a-z]+\.)/.test(b))return{image:b+e+".png"+g,fHa:b+e+".json"+g};h="/"!==b[0]?"/":"";f=/\/[^.]+($|\?)/.test(d)?d.lastIndexOf("?"):d.lastIndexOf("/");d=0>f?d:d.substr(0,f);return{image:d+h+b+e+".png"+g,fHa:d+h+b+e+".json"+g}};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc1VybCI6ImlXIn19fSAg");var q5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){A4.call(this)}D(c,A4);L(c,"geotoolkit.map.sources.connectors.DOMImage");c.prototype.send=function(a,b,d){if(a){if(b&&b.dst){var e=b.dst;e.url=a}else e=new Gj({url:a,lazyloading:!0,crossorigin:"anonymous"});var f=this,g={image:e},h=b&&b.key;g.onload=function(){e.za(Fj.Cj,g.onload);f.Gbb(h,g);d(null,e)};e.on(Fj.Cj,g.onload);this.Upb(h,g);e.VP()}else d(Error("geotoolkit.map.sources.connectors.DOMImage: No url provided"))};c.prototype.Vta=function(a){a.image.za(Fj.Cj,a.onload);
return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhYm9ydENvbm5lY3Rpb24iOiJWdGEifX19");var r5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){q5.call(this);this.nOb=new B4(a)}D(c,q5);L(c,"geotoolkit.map.sources.connectors.PreloadedImage");c.prototype.send=function(a,b,d){if(a){var e=b&&b.dst?b.dst:new Gj({lazyloading:!0,crossorigin:"anonymous"});var f={image:e},g=this,h=b&&b.key;f.onload=function(){e.za(Fj.Cj,f.onload);g.Gbb(h,f);d(null,e)};this.nOb.send(a,{responseType:"blob",key:h,priority:b&&b.priority},function(k,l){k?d(k):(e.url=Za.URL.createObjectURL(l),e.on(Fj.Cj,f.onload),g.Upb(h,f),e.VP())})}else d(Error("geotoolkit.map.sources.connectors.PreloadedImage: No url provided"))};
c.prototype.abort=function(a){this.nOb.abort(a);q5.prototype.abort.call(this,a);return this};c.prototype.Wm=function(){return this.nOb.Wm()||q5.prototype.Wm.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc0xvYWRpbmciOiJXbSJ9fX0g");var s5=/*#__PURE__*/function(){function c(a){a=G(a,{connector:new r5});var b=a.formatterfunction;a.formatterfunction=null;I4.call(this,a);this.tu=b}D(c,I4);L(c,"geotoolkit.map.sources.formats.Tile");c.prototype.query=function(a){var b=a.z,d=a.x,e=a.y,f=this.tu||this.ua.hsb;f=this.hI(f?f(b,e,d):null);null!=f&&(f=f.replace("{x}",d).replace("{y}",e).replace("{z}",b));this.Cl.send(f,{dst:a.dst,key:a.key,priority:a.priority},function(g,h){if(g)this.onError(g);else this.ge()||this.notify(Fj.Cj,h,h.url)}.bind(this));
return this};c.prototype.G9=function(){return this.tu};c.prototype.xIa=function(a){this.tu=a;return this};return c}();var t5=/*#__PURE__*/function(){function c(a){a=G(a,{connector:new B4});s5.call(this,a);this.ua=this.ua||{};this.ua.yt={}}D(c,s5);L(c,"geotoolkit.map.sources.formats.VectorTile");c.prototype.query=function(a){var b=a.z,d=a.x,e=a.y,f=this.tu||this.ua.hsb;f=f?f(b,e,d):null;var g=a.dst,h=this;this.Cl.send(this.hI(f),{responseType:"arraybuffer",key:a.key},function(k,l){if(k)this.onError(k);else this.ge()||(k=h.ua.rk,k=h.ua.rk.eI()!==h.ua.rk.mr()?k.Ma.bind(k):null,l=o5.parse(l,d,e,b,h.ua.id,k,h.ua.yt),g.tile=l,this.notify(M4.cs,
this,g))}.bind(this));return this};return c}();var u5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f,g){Q4.call(this,f,g);this.Io=[];this.rAa=0;this.Ck={};this.Tm=this.fG=-1;this.jD={}}function a(f,g,h){return Math.round(Math.log(f/g/h)/Math.LN2)}function b(f){f=Math.sin(f*Math.PI/180);f=Math.log((1+f)/(1-f))/2;return Math.max(Math.min(f,Math.PI),-Math.PI)/2}var d=Zd.ya().Wa("px"),e=Zd.ya().Wa("metre");D(c,Q4);L(c,"geotoolkit.map.sources.managers.Tile");c.prototype.query=function(f,g){g=g.wa();if(null==this.ua.Ub||f.isEmpty()||!this.ua.Ub.Nd(f)||!g)return!1;var h=this.ua.wxa,
k=d.convert(g.pb(),e);if(null!=k&&null!=h&&(null!=h[0]&&h[0]>k||null!=h[1]&&h[1]<k))return this.fG=-1,!1;f=this.mua(f.clone().intersect(this.ua.Ub),g);g=f.z;if(0>g)return!1;this.HWc(g,f.ybb);this.Tm=g;this.Spc();h=this.fG;-1===h?this.fG=g:h!==g&&(h=this.Swc(),h>=this.ua.WS&&(this.fG=h));k=this.bK(g);var l=Date.now();h=this.O4b(g,f.ybb,k,l);return h=this.O4b(g,f.l0b,k,l)||h};c.prototype.VM=function(){this.Ig.on(Fj.Cj,function(f,g){this.jD[g.Wg+"x"+g.WO]=null;this.Ck[g.Wg][g.WO]=g;this.Tm===g.Wg&&this.LGa()&&
this.notify(M4.bL,this,null)}.bind(this));this.Ig.on(Fj.lba,function(f,g){this.jD[g.Wg+"x"+g.WO]="N/A";this.rAa--}.bind(this));return this};c.prototype.mua=function(f,g){function h(u,w,y,A){var x=Math.floor((u.la()-p.la())/w);w=Math.ceil((u.na()-p.la())/w)-1;var C=Math.floor((u.ka()-p.ka())/y);u=Math.ceil((u.ma()-p.ka())/y)-1;return{hC:Math.max(x,0),UA:Math.min(w,A.ca()-1),bN:Math.max(C,0),xK:Math.min(u,A.da()-1)}}var k=g.Ta(f),l=this.ua.rk.mr(),m=l.nc(f.la(),f.ka()),n=l.nc(f.na(),f.ma());f=(b(n.y)-
b(m.y))/Math.PI;m=n.x-m.x;m=(0>m?m+360:m)/360;f=a(k.da(),this.ua.fu,f);m=a(k.ca(),this.ua.gu,m);f=Math.min(f,m);if(!isFinite(f))return{z:-1};f=V.clamp(f,this.ua.WS,this.ua.aN);var p=g.Ta(l.jk());l=this.bK(f);m=p.ca()/l.ca();n=p.da()/l.da();var q=this.bK(),r=p.ca()/q.ca(),t=p.da()/q.da();g=g.Ta(this.ua.Ub);return{z:f,ybb:h(k,m,n,l),ARd:h(k,r,t,q),l0b:h(k.Uc(k.ca()/10,k.da()/10).intersect(g),m,n,l)}};c.prototype.Swc=function(){if(this.LGa())return this.Tm;if(this.fG>this.Tm)return this.fG;for(var f=
this.Tm,g=0;g<this.Io.length;g++)for(var h=this.Io[g].hC;h<=this.Io[g].UA;h++)for(var k=this.Io[g].bN;k<=this.Io[g].xK;k++){var l,m=h,n=k;for(l=this.Tm;l>this.fG&&(!this.Ck[l]||!this.Ck[l][m+"x"+n]);l--)m=Math.floor(m/2),n=Math.floor(n/2);f=Math.min(f,l)}return f};c.prototype.O4b=function(f,g,h,k){this.Ck[f]=this.Ck[f]||{};for(var l=Math.floor((g.hC+g.UA)/2),m=Math.floor((g.bN+g.xK)/2),n=0,p=(g.UA-g.hC+1)*(g.xK-g.bN+1),q=1,r=0,t=1,u=0,w=!1;n<p;)l>=g.hC&&l<=g.UA&&m>=g.bN&&m<=g.xK&&(w=this.DVa(f,l,
m,h,k)||w,n++),l+=q,m+=r,++u===t&&(u=0,0===q?(q=-r,r=0,t++):(r=q,q=0));return w};c.prototype.DVa=function(f,g,h,k,l){var m=g+"x"+h,n=f+"x"+m,p=this.Ck[f][m]||this.jD[n];if(null!=p)return p.timestamp=l,!1;p=this.zCc();p.Jh=g;p.Mt=h;p.Wg=f;p.WO=m;p.loaded=!1;p.timestamp=l;this.jD[n]=p;this.Ig.query({z:f,x:g,y:h,grid:k,dst:p,key:n,priority:l});return!0};c.prototype.Spc=function(){for(var f=Object.keys(this.jD),g=0;g<f.length;g++){var h=this.jD[f[g]];h&&!this.Gna(h)&&(this.Ig.abort(f[g]),this.jD[f[g]]=
null,h instanceof Gj&&(h.dispose(),this.rAa--))}return this};c.prototype.Gna=function(f,g){if(f.Wg!==this.Tm)return!1;null==g&&(g=1);for(var h=0;h<this.Io.length;h++)if(f.Jh>=this.Io[h].hC-g&&f.Jh<=this.Io[h].UA+g&&f.Mt>=this.Io[h].bN-g&&f.Mt<=this.Io[h].xK+g)return!0;return!1};c.prototype.jUb=function(){return new Gj({lazyloading:!0,crossorigin:"anonymous"})};c.prototype.zCc=function(){if(this.rAa>this.ua.mbb&&0<this.ua.mbb){for(var f=null,g=Infinity,h=this.ua.WS;h<this.ua.aN;++h)if(this.Ck[h]&&
(h!==this.fG||h===this.Tm))for(var k in this.Ck[h]){var l=this.Ck[h][k];l&&g>l.timestamp&&!this.Gna(l)&&(f=l,g=f.timestamp)}if(null!=f)return this.Ck[f.Wg][f.WO]=null,f}this.rAa++;return this.jUb()};c.prototype.LGa=function(){if(!this.Ck[this.Tm])return!1;for(var f=0;f<this.Io.length;f++)for(var g=this.Io[f].hC;g<=this.Io[f].UA;g++)for(var h=this.Io[f].bN;h<=this.Io[f].xK;h++)if(!this.Ck[this.Tm][g+"x"+h])return!1;return!0};c.prototype.HWc=function(f,g){var h=null,k=this.bK(f).ca()-1;if(f>this.Tm||
0===this.Io.length||0!==g.hC&&g.UA!==k)this.Io=[g];else if(2===this.Io.length)0===g.hC?(this.Io[0]=g,h=this.Io[1]):(this.Io[1]=g,h=this.Io[0]);else{var l=f===this.Tm?k:this.bK(this.Tm).ca()-1;0===this.Io[0].hC&&g.UA===k?(h=this.Io[0],this.Io.push(g)):this.Io[0].UA===l&&0===g.hC?(h=this.Io[0],this.Io.unshift(g)):this.Io=[g]}if(null!=h)for(;f<this.Tm;f++)h.hC=Math.floor(h.hC/2),h.UA=Math.floor(h.UA/2),h.bN=Math.floor(h.bN/2),h.xK=Math.floor(h.xK/2);2===this.Io.length&&this.Io[0].UA>=this.Io[1].hC&&
(this.Io=[{hC:Math.min(this.Io[0].hC,this.Io[1].hC),UA:Math.max(this.Io[0].UA,this.Io[1].UA),bN:this.Io[0].bN,xK:this.Io[0].xK}])};c.prototype.clear=function(){Q4.prototype.clear.call(this);for(var f in this.Ck)for(var g in this.Ck[f])this.Ck[f][g]instanceof Gj&&this.Ck[f][g].dispose();this.Io=[];this.rAa=0;this.Ck={};this.fG=-1;return this};c.prototype.abort=function(){Q4.prototype.abort.call(this);for(var f in this.jD)this.jD[f]instanceof Gj&&(this.jD[f].dispose(),this.rAa--);this.jD={};return this};
c.prototype.wD=function(){return this.Ck[this.fG]||{}};c.prototype.bK=function(f,g){null==f&&(f=this.fG);f=0<f?1<<f:1;var h=this.ua.rk.eI().jk();if(!h||h.ca()===h.da())return g?g.setSize(f,f):new Vd(f,f);if(h.ca()>h.da())return h=Math.round(h.ca()/h.da()),g?g.setSize(f*h,f):new Vd(f*h,f);h=Math.round(h.da()/h.ca());return g?g.setSize(f,f*h):new Vd(f,f*h)};c.prototype.oK=function(){return-1===this.Tm?this.ua.WS:this.Tm};c.prototype.G9=function(){return this.Ig instanceof s5?this.Ig.G9():null};c.prototype.xIa=
function(f){this.Ig instanceof s5&&this.Ig.xIa(f);return this};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0Rm9ybWF0IjoiVk0iLCJjYWxjdWxhdGVab29tTGV2ZWwiOiJtdWEiLCJmaW5kU3VpdGFibGVab29tTGV2ZWwiOiJTd2MiLCJyZXF1ZXN0VGlsZXMiOiJPNGIiLCJyZXF1ZXN0VGlsZSI6IkRWYSIsImFib3J0T3V0T2ZCb3VuZFRpbGVzIjoiU3BjIiwiaXNUaWxlTmVlZGVkIjoiR25hIiwiaXNMYXllclJlYWR5IjoiTEdhIiwidXBkYXRlVmlzaWJsZVRpbGVMaW1pdHMiOiJIV2MiLCJnZXRMYXllciI6IndEIiwiZ2V0R3JpZFNpemUiOiJiSyIsImdldFpvb21MZXZlbCI6Im9LIiwiZ2V0Rm9ybWF0dGVyIjoiRzkiLCJzZXRGb3JtYXR0ZXIiOiJ4SWEifX19");var v5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f,g){u5.call(this,f,g);this.DHb=this.EHb=0;this.ua=this.ua||{};this.ua.yt=this.ua.yt||{}}function a(f,g,h,k){var l=Math.floor(f/b.width),m=Math.floor(g/b.height);l=(l+m)*(l+m+1)/2+l;if(h.Zi[l])return!1;for(m=0;m<h.jf.length;m++)if(M.Bfa(h.jf[m],h.wf[m],f,g)<k)return!1;h.Zi[l]=!0;h.jf.push(f);h.wf.push(g);return!0}var b=new Vd,d=new Vd,e=new U;D(c,u5);L(c,"geotoolkit.map.sources.managers.VectorTile");c.prototype.VM=function(){var f=[];this.Ig.on(M4.cs,function(g,h,k){this.jD[k.Wg+
"x"+k.WO]=null;this.Ck[k.Wg][k.WO]=k;g=k.Wg===this.Tm;if(k.Kna){for(h=0;h<k.Kna.length;h++){var l=k.Kna[h];this.jD[l.Wg+"x"+l.WO]=null;this.Ck[l.Wg][l.WO]=l;l.tile=k.tile;g=g||l.Wg===this.Tm}k.Kna=null}if(g)if(this.LGa())if(this.Gna(k,0))if(this.Tm===this.fG){k=this.h_b(k).clone();for(g=0;g<f.length;g++)this.Gna(f[g],0)&&(h=this.h_b(f[g]),k.union(h));f.length=0;this.notify(M4.bL,this,k)}else f.length=0,this.notify(M4.bL,this,null);else this.notify(M4.bL,this,this.h_b(k));else f.push(k)}.bind(this));
return this};c.prototype.jUb=function(){return{}};c.prototype.wD=function(f,g,h){var k=new Og,l=this.Ck[this.fG];if(!l)return k;var m=1<<this.fG,n=0,p=0,q=m-1,r=m-1;if(null!=f){var t=this.ua.rk.mr().jk(),u=t.ca()/m;m=t.da()/m;n=Math.max(n,Math.floor((f.la()-t.la())/u));p=Math.max(p,Math.floor((t.ma()-f.ma())/m));q=Math.min(q,Math.ceil((f.na()-t.la())/u)-1);r=Math.min(r,Math.ceil((t.ma()-f.ka())/m)-1)}f=[];for(var w in l)l[w]&&l[w].Jh>=n&&l[w].Jh<=q&&l[w].Mt>=p&&l[w].Mt<=r&&f.push(l[w].tile);g?g.Sk(b.setSize(1,
1),b):b.setSize(0,0);null==this.ua.yt.layers&&f.reduce(function(y,A){return y.concat(A)},k);g=this.ua.yt.layers||[];l={Zi:{},jf:[],wf:[]};for(n=0;n<g.length;++n){p=g[n];q=this.ua.yt.b9b?this.ua.yt.b9b[p]:0;0<q&&(q=Math.pow(q*b.ca(),2));for(r=0;r<f.length;++r)f[r][p]&&(null!=this.ua.yt.zqb&&this.ua.yt.zqb[p].zoom!==this.fG&&this.ua.yt.zqb[p].setZ(this.fG),0<q?k.concat(this.Ewc(f[r][p],l,q)):k.concat(f[r][p]));l.jf.length=0;l.wf.length=0}"function"===typeof h&&(k=new Ng(k,h));return k};c.prototype.Ewc=
function(f,g,h){return f.filter(function(k){var l=k.eu;if(!l)return!1;var m=l.Hb();if(!m.Ia())return!0;l=l.gfa();k=k.Fva();if(Array.isArray(k)){for(var n=!1,p=0;p<k.length;p++)k[p].Bj=k[p].Bj||{},l.apply(k[p],m),a(m.pn(),m.Vl(),g,h)?(k[p].Bj.oFc=!1,k[p].Bj.Vvb=!1,n=k[p].Bj.BM=!0):(k[p].Bj.oFc=!0,k[p].Bj.Vvb=!0,k[p].Bj.BM=!1);return n}l.apply(k,m);return a(m.pn(),m.Vl(),g,h)?!0:!1})};c.prototype.clear=function(){for(var f in this.Ck)for(var g in this.Ck[f])this.Ck[f][g]=null;this.Ck={};u5.prototype.clear.call(this);
return this};c.prototype.abort=function(){for(var f in this.jD)null!=this.jD[f]&&this.rAa--;this.jD={};u5.prototype.abort.call(this);return this};c.prototype.bK=function(f,g){null==f&&(f=this.fG);f=0<f?1<<f:1;return g?g.setSize(f,f):new Vd(f,f)};c.prototype.DVa=function(f,g,h,k){var l=g+"x"+h,m=f+"x"+l,n=this.Ck[f][l]||this.jD[m];if(null!=n)return n.timestamp=k,!1;if(Array.isArray(this.ua.MUc)&&0<f)for(var p=1<<f-1,q=n=0,r=0,t=this.ua.MUc;0<p;){var u=0<(p&g)?1:0,w=0<(p&h)?1:0,y=(w<<1)+u;q=(q<<1)+
u;r=(r<<1)+w;n++;if(!Array.isArray(t[y])&&(q!==g||r!==h||n!==f)){p=q+"x"+r;t=n+"x"+p;u=this.zCc();u.Jh=g;u.Mt=h;u.Wg=f;u.WO=l;u.timestamp=k;if(this.Ck[n]&&this.Ck[n][p])return u.tile=this.Ck[n][p].tile,this.Ck[f][l]=u,!1;this.jD[t]||(this.Ck[n]=this.Ck[n]||{},u5.prototype.DVa.call(this,n,q,r,k));this.jD[t].Kna=this.jD[t].Kna||[];this.jD[t].Kna.push(u);this.jD[m]=u;return!0}t=t[y];p>>=1}return u5.prototype.DVa.call(this,f,g,h,k)};c.prototype.Gna=function(f,g){if(u5.prototype.Gna.call(this,f,g))return!0;
if(!f.Kna)return!1;for(var h=0;h<f.Kna.length;h++)if(u5.prototype.Gna.call(this,f.Kna[h],g))return!0;return!1};c.prototype.query=function(f,g){var h=g.lr();null!=h&&(this.EHb=h.j$()/ac(),this.DHb=h.i$()/ac());return u5.prototype.query.call(this,f,g)};c.prototype.mua=function(f,g){var h=u5.prototype.mua.call(this,f,g);if(0===this.EHb&&0===this.DHb)return h;f=g.Ta(f);var k=this.ua.rk.mr();k=g.Ta(k.jk());g=g.Ta(this.ua.Ub);f.Uc(this.EHb,this.DHb).intersect(g);g=this.bK(h.z);var l=k.ca()/g.ca(),m=k.da()/
g.da(),n=Math.floor((f.la()-k.la())/l);l=Math.ceil((f.na()-k.la())/l)-1;var p=Math.floor((f.ka()-k.ka())/m);f=Math.ceil((f.ma()-k.ka())/m)-1;h.ybb={hC:Math.max(n,0),UA:Math.min(l,g.ca()-1),bN:Math.max(p,0),xK:Math.min(f,g.da()-1)};h.l0b=h.ybb;return h};c.prototype.oK=function(){return this.Tm};c.prototype.Ivb=function(){return this.fG};c.prototype.h_b=function(f){var g=this.ua.rk.mr().jk(),h=this.bK(f.Wg,d),k=g.ca()/h.ca();h=g.da()/h.da();var l=g.la()+k*f.Jh;f=g.ma()-h*f.Mt;return e.cb(l,f,l+k,f-
h)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0Rm9ybWF0IjoiVk0iLCJjcmVhdGVQb29sVGlsZSI6ImpVYiIsImdldExheWVyIjoid0QiLCJmaWx0ZXJTcGFjaW5nIjoiRXdjIiwiZ2V0R3JpZFNpemUiOiJiSyIsInJlcXVlc3RUaWxlIjoiRFZhIiwiaXNUaWxlTmVlZGVkIjoiR25hIiwiY2FsY3VsYXRlWm9vbUxldmVsIjoibXVhIn19fSAg");var w5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){var b=G(a,{styleurl:null,format:null,loader:a&&a.hasOwnProperty("loader")?a.loader:new p5,tilewidth:256,tileheight:256,imagepool:400,minlod:0,maxlod:15},!0);b.format=b.format||new t5({formatterfunction:b.formatterfunction});null==b.formatterfunction||a&&a.loader||(b.loader=null);S4.call(this,b);this.ua=this.ua||{};this.ua.gu=b.tilewidth;this.ua.fu=b.tileheight;this.ua.WS=b.minlod;this.ua.aN=b.maxlod;this.ua.mbb=b.imagepool;this.ua.mUc=b.styleurl}D(c,S4);L(c,"geotoolkit.map.sources.VectorTile");
c.prototype.Etb=function(){return this.ua.yt&&this.ua.yt.fonts||[]};c.prototype.WM=function(a){this.Vh=new v5(a,this.ua);this.Vh.on(M4.bL,function(b,d,e){this.notify(M4.bL,this,e);this.HK(!0)}.bind(this));return this};c.prototype.wD=function(a,b,d){return null!=this.Vh?this.Vh.wD(a,b,d):{}};c.prototype.oK=function(){return null!=this.Vh?this.Vh.oK():0};c.prototype.Ivb=function(){return null!=this.Vh?this.Vh.Ivb():0};c.prototype.LGa=function(){return null!=this.Vh?this.Vh.LGa():!0};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGb250cyI6IkV0YiIsImluaXRRdWVyeU1hbmFnZXIiOiJXTSJ9fX0g");var x5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){d=xb(d,{source:null,converters:d&&d.hasOwnProperty("converters")?d.converters:new V4,features:{filter:null},annotations:{visible:!1,strategy:new g5},tooltip:{visible:!1,formatter:new c5}});l5.call(this,d);this.zNc(d.annotations.text)}function a(d){d.Bj&&!0!==d.Bj.Vvb&&!1===d.Bj.BM&&(d.Bj.BM=!0)}function b(d,e){if(!d||!e)return!1;for(var f in e)if(d[f]!==e[f])return!1;return!0}D(c,l5);L(c,"geotoolkit.map.layers.AbstractFeatureLayer");c.prototype.zNc=function(d){d instanceof
ek?this.ihb=d:(d=xb(d,{preservereadingorientation:!0,ispointingup:!0}),this.ihb=new ek(d));return this};c.prototype.FA=function(d){var e=this.getParent();if(!e)return Hg.gi([]);var f=null;d instanceof m5&&(f=d.Vd(),d=d.getFilter());e=null!=f?f:e.pa();return this.xc instanceof w5?this.xc.wD(e,this.wa(),d):this.MC.FA({bbox:e,layer:this,filter:d||null,scale:Math.abs(this.wa().pb())})};c.prototype.vP=Fb;c.prototype.Hnd=function(d){for(var e=this.FA(),f;e.Kg();)if(f=e.next(),f.ic()===d)return f;return null};
c.prototype.NHa=function(d){d instanceof m5||"function"!==typeof d||(d=new m5({filter:d}));var e=d.Vd();if(null==e)e=Hg.toArray(this.FA());else{var f=new bk;e=e instanceof U?f.select(this,e):e instanceof M?f.select(this,e.getX(),e.getY()):f.select(this,e.x,e.y)}if(!e||1>e.length)return[];var g=d.ia(),h=d.Da(),k=d.getFilter();return e.filter(function(l){return null!=h&&l.Da()!==h||null!=g&&!b(l.getAttributes(),g)?!1:null!=k?k(l):!0})};c.prototype.Aga=function(d,e){d.forEach(function(f){f instanceof
Fe&&f.Ia()&&(e.ac()&&e.yh(f),f.render(e))})};c.prototype.Aoa=function(d,e){var f=this.ea.geometrytotext;if(f){var g=this.ea.annotations;if(g){var h=g.strategy;if(h){var k=this.ihb;d.forEach(function(l){if(l instanceof Fe&&l.Ia()){var m=h.bb(l,this);if(m)if(l=l.Vd(!0),Array.isArray(l))for(var n,p=0;p<l.length;++p)n=l[p],n.Bj&&!1===n.Bj.BM||(f.apply(n,k,e),k.Eb(m),k.render(e));else f.apply(l,k,e),k.Eb(m),k.render(e)}}.bind(this))}}}};c.prototype.c6a=function(d,e,f){d.reset();if(!e)return d;Array.isArray(e)||
(e=[e]);var g=this;e.forEach(function(h){if(!mc(h,W4))throw Error("Not a geotoolkit.map.features.filters.IFilter instance");h.reset();d=h.mS(d,f,g)});return d};c.prototype.xMc=function(d){d.forEach(function(e){e=e.Vd(!0);Array.isArray(e)&&e.forEach(a)})};c.prototype.$i=function(d){var e=d.dI();d.Nq(this.VN);var f=d.ac()?new m5({geometry:this.vb()}):new m5({geometry:d.Rg()});f=this.FA(f);var g=this.ea.features.filter;g&&(f=this.c6a(f,g,d));this.Aga(f,d);if(this.ea.annotations.visible&&!d.ac()){if(g=
this.ea.annotations.filter)this.xMc(f),f=this.c6a(f,g,d);this.Aoa(f,d)}d.Nq(e)};c.prototype.LK=function(d){l5.prototype.LK.call(this,d);if(d=this.dK())null!=this.xc&&this.xc.LK(d),this.ur();return this};c.prototype.x5b=function(d){this.ihb.jb()!==d&&(this.ihb.ib(d),this.ha());return this};c.prototype.$A=function(d){if(this.xc===d)return this;Array.isArray(d)?d=1===d.length?d[0]:new T4(d):null==d&&(d=new S4);this.SR||(this.SR=this.V4.bind(this));this.tV||(this.tV=function(e,f,g){this.ha(g)}.bind(this));
null!=this.xc&&(this.xc.za(Ce.Uq,this.SR),this.xc.za(M4.cs,this.SR),this.xc.za(M4.IQ,this.SR),this.xc.za(M4.bL,this.tV),this.MC.YPd(this.xc));this.xc=d;null!=this.xc&&(this.xc.t5(this.N_a),this.xc.on(Ce.Uq,this.SR),this.xc.on(M4.cs,this.SR),this.xc.on(M4.IQ,this.SR),this.xc.on(M4.bL,this.tV),this.MC.qzd(this.xc),d=this.ea.url||this.ea.server,null!=d&&null==this.xc.q4()&&this.xc.x5(d));return this};c.prototype.k$=function(){return!0===this.ea.tooltip.visible?this.ea.tooltip.formatter:null};c.prototype.ia=
function(){var d=l5.prototype.ia.call(this);d.annotations=this.ea.annotations.visible;d.tooltip=this.ea.tooltip.visible;d.features=this.ea.features;return d};c.prototype.fa=function(d){d=hc(d);if(null==d)return this;l5.prototype.fa.call(this,d);"boolean"===typeof d.annotations&&(hb("geotoolkit.map.layers.AbstractFeatureLayer.setProperties() option 'annotations' with boolean type is deprecated since 2021.1 (3.3), use object instead."),this.ea.annotations.visible=d.annotations);"boolean"===typeof d.tooltip&&
(hb("geotoolkit.map.layers.AbstractFeatureLayer.setProperties() option 'tooltip' with boolean type is deprecated since 2021.1 (3.3), use object instead."),this.ea.tooltip.visible=d.tooltip);d.annotations&&d.annotations.text&&this.zNc(d.annotations.text);void 0!==d.features&&(this.ea.features=d.features);return this};c.prototype.setOptions=function(d){if(null==d)return this;var e=null;Array.isArray(d.converters)?e=[new x4].concat(d.converters):null!=d.converters?e=[new x4,d.converters]:null==this.MC&&
(e=new x4);null!=e&&(null!=this.MC&&this.MC.dispose(),this.MC=(new U4(e)).on(y4.Gha,function(f,g,h){h||this.ha();this.notify(y4.Gha,this)}.bind(this)),null!=this.fd()&&this.fd().update());d.annotations&&d.annotations.text&&d.annotations.text.textstyle&&this.x5b(d.annotations.text.textstyle);l5.prototype.setOptions.call(this,d);return this};c.prototype.ur=function(d){this.Ce||(null==d||Array.isArray(d)||d instanceof Hg||(d=[d]),this.ks=this.eS(d),this.notify(Ce.Uq,this,this.ks))};c.prototype.zBb=function(){var d=
this.FA(),e=new e4({initialcoordinatesystem:this.dK()});return L4.zBb(d,e.transform.bind(e))};c.prototype.vPd=function(d){function e(k){if(!k.F4())if(k instanceof u4)k.Tua().forEach(e);else{var l,m,n=k.Vd(!0);k.OS()||(n=[n]);var p=Object.keys(k.getAttributes());for(l=0;l<p.length;l++)if(-1===g[0].indexOf(p[l]))for(g[0].push(p[l]),m=1;m<g.length;m++)g[m].push("");for(l=0;l<n.length;l++){h.x=n[l].x;h.y=n[l].y;f.Ma(h,h);p=[V.round(h.y,d),V.round(h.x,d)];for(m=2;m<g[0].length;m++){var q=g[0][m];void 0!==
k.getAttributes()[q]?p.push(k.getAttributes()[q]):p.push("")}g.push(p)}}}var f=new e4({initialcoordinatesystem:this.dK()}),g=[["lat","lon"]],h=new M;this.FA().forEach(e);return g};c.prototype.V4=function(d,e,f){this.ur(d===M4.cs?f:null)};c.prototype.dispose=function(){null!=this.MC&&this.MC.dispose();l5.prototype.dispose.call(this)};c.prototype.Zla=function(d,e){return d.filter(function(f){return f instanceof i4})};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGZWF0dXJlcyI6IkZBIiwiZ2V0R2VvbWV0cnlUb1RleHQiOiJ2UCIsImdldEZlYXR1cmVCeUlkIjoiSG5kIiwicXVlcnlGZWF0dXJlcyI6Ik5IYSIsInJlbmRlckZlYXR1cmVzIjoiQWdhIiwicmVuZGVyQW5ub3RhdGlvbnMiOiJBb2EiLCJyZW5kZXJDb250ZW50IjoiJGkiLCJzZXRNYXBDb29yZGluYXRlU3lzdGVtIjoiTEsiLCJzZXREYXRhU291cmNlIjoiJEEiLCJnZXRUb29sdGlwRm9ybWF0dGVyIjoiayQiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJ0b0dlb0pTT04iOiJ6QmIiLCJ0b0NTViI6InZQZCIsImZpbHRlclRvb2x0aXBJbmZvIjoiWmxhIn19fSAg");var y5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){A4.call(this);this.Cl=b&&b.connector||new B4(b);this.Oob=new B4(b)}var a={};D(c,A4);L(c,"geotoolkit.map.sources.connectors.ArcGISToken");c.prototype.send=function(b,d,e){if(!b)return this.Cl.send(b,d,e);d=d||{};var f=b.split(/(\/FeatureServer|\/MapServer|\/StreamServer|\/ImageServer|\?)/,2).join("");if(d.token||a[f])b+=(0<=b.indexOf("?")?"&":"?")+"token="+(d.token||a[f]);var g=this;this.Cl.send(b,d,function(h,k){if(h||"string"!==typeof k)return e(h,k);try{k=JSON.parse(k)}catch(l){return e(null,
k)}if(!k.error||k.error.code!==qc.i0c&&k.error.code!==qc.O3c)return e(null,k);if(!d.token)return e(Error(g.Oa()+": Authorization token should be specified"));h=b.indexOf("/rest/");if(0>h)return e(Error(g.Oa()+": Can't find info url"));h=b.substr(0,h)+"/rest/info?f=json";g.Oob.send(h,d,function(l,m){if(l)return e(l);try{m=JSON.parse(m)}catch(n){return e(n,m)}if(!m||!m.authInfo||!m.authInfo.isTokenBasedSecurity)return e(Error(g.Oa()+": Not a token based security"));if(!m.authInfo.tokenServicesUrl)return e(Error(g.Oa()+
": Can't find a token service url"));l=m.authInfo.tokenServicesUrl+"?f=json&serverUrl="+f+"&token="+d.token;g.Oob.send(l,d,function(n,p){if(n)return e(n);try{p=JSON.parse(p)}catch(q){return e(q,p)}if(!p||!p.token)return e(null,p);a[f]=p.token;g.send(b,d,e);return null});return null});return null});return null};c.prototype.abort=function(b){this.Oob.abort(b);this.Cl.abort(b);return this};c.prototype.Wm=function(){return this.Cl.Wm()||this.Oob.Wm()};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc0xvYWRpbmciOiJXbSJ9fX0g");var z5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f){var g=new Go(f);this.RR=null;try{this.RR=g.MJc()}catch(h){hb("Arcade code is not supported: "+f)}}function a(f,g){var h=g.length;switch(f){case "array":var k=[];h=1<h?g[1]:null;for(f=0;f<g[0];f++)k.push(h);return k;case "back":return g[0][g[0].length-1];case "count":return"string"===typeof g[0]||Array.isArray(g[0])?g[0].length:Object.keys(g[0]).length;case "dictionary":if(1===h)return JSON.parse(g[0]);k={};for(f=0;f<h;f+=2)k[g[f]]=g[f+1];return k;case "distinct":return g=
a("splice",g),g.filter(function(n,p){return g.indexOf(n)===p});case "erase":return g[0].splice(g[1],1);case "first":return g[0][0];case "haskey":return g[0].hasOwnProperty(g[1]);case "includes":return 0<=g[0].indexOf(g[1]);case "indexof":return g[0].indexOf(g[1]);case "insert":return g[0].splice(g[1],0,g[2]);case "isnan":return isNaN(g[0]);case "number":return+g[0];case "push":return g[0].push(g[1]);case "pop":return g[0].pop();case "resize":k=g[0];k.length=Math.min(k.length,g[1]);for(f=k.length;f<
g[1];f++)k.push(2<h?g[2]:null);return k;case "reverse":return g[0].reverse();case "slice":return g[0].slice(g[1],g[2]);case "sort":return g[1].sort();case "splice":return Array.prototype.concat.apply([],g);case "text":return""+g[0];case "top":return g[0].slice(0,g[1]);case "typeof":return f=typeof g[0],"string"===f?"Text":"boolean"===f||"number"===f||"function"===f?b(f):Array.isArray(g[0])?"Array":f;case "boolean":return f=g[0],"string"!==typeof f?!!f:"true"===f;case "decode":for(f=1;f<h-1;f+=2)if(g[0]===
g[f])return g[f+1];return g[h-1];case "defaultvalue":return null==g[0]||""===g[0]?g[1]:g[0];case "iif":return g[0]?g[1]:g[2];case "isempty":return null==g[0]||""===g[0];case "when":for(f=0;f<h-1;f+=2)if(g[f])return g[f+1];return g[h-1];case "abs":case "acos":case "asin":case "atan":case "atan2":case "cos":case "sin":case "tan":case "sqrt":case "exp":case "log":case "pow":case "random":return Math[f].apply(null,g);case "mean":case "average":if("string"===typeof g[1])break;g=a("splice",g);return a("sum",
g)/g.length;case "ceil":case "floor":case "round":return h=Math.pow(10,g[1]||0),Math[f](g[0]*h)/h;case "constrain":return V.clamp(g[0],g[1],g[2]);case "min":case "max":if("string"===typeof g[1])break;g=a("splice",g);return Math[f].apply(null,g);case "variance":if("string"===typeof g[1])break;var l=a("mean",g);return a("mean",g.map(function(n){return(n-l)*(n-l)}));case "stdev":return f=a("variance",g),Math.sqrt(f);case "sum":if("string"===typeof g[1])break;return g.reduce(function(n,p){return n+p});
case "concatenate":return g[0].join(g[1]||"");case "find":return g[1].indexOf(g[0],g[2]);case "left":return g[0].substr(0,g[1]);case "mid":return g[0].substr(g[1],g[2]);case "right":return g[0].substr(-g[1]);case "lower":return g[0].toLowerCase();case "upper":return g[0].toUpperCase();case "proper":return"firstword"===g[1]?b(g[0]):g[0].split(" ").map(b).join(" ");case "replace":return f=!1===g[3]?g[1]:new RegExp(g[1],"g"),g[0].replace(f,g[2]);case "split":return f=g[0].split(g[1]),0<g[2]&&(f.length=
g[2]),g[3]?f.filter(function(n){return""!==n}):f;case "trim":return g[0].trim();case "urlencode":if("string"===typeof g[0])return encodeURI(g[0]);var m=g[0];return Object.keys(m).map(function(n){return n+"="+m[n]}).join("&")}return 0}function b(f){return f[0].toUpperCase()+f.substr(1)}function d(f,g,h){switch(f){case "+":return g+h;case "-":return g-h;case "*":return g*h;case "/":return g/h;case "%":return g%h;case "==":return g==h;case "!=":return g!=h;case "===":return g===h;case "!==":return g!==
h;case ">":return g>h;case ">=":return g>=h;case "<":return g<h;case "<=":return g<=h;case "&":return g&h;case "|":return g|h;case "^":return g^h;case "<<":return g<<h;case ">>":return g>>h;case ">>>":return g>>>h;case "&&":return g&&h;case "||":return g||h}return 0}function e(f,g){switch(f){case "-":return-g;case "+":return g;case "!":return!g;case "~":return~g}return 0}c.prototype.getValue=function(f){return c.Rj(this.RR,{$feature:f,$view:{scale:1E4},Infinity:Infinity,PI:Math.PI,TextFormatting:{BackwardSlash:"\\",
DoubleQuote:'"',ForwardSlash:"/",NewLine:"\n",SingleQuote:"'"}},{})};c.Rj=function(f,g,h){if(!f||h.LZ||h.continue)return null;var k;switch(f.type){case Go.Ns.iE:return h.u$?[f.name]:g[f.name];case Go.Ns.pba:return f.value;case Go.Ns.hKa:return c.Rj(f.TZ,g,h);case Go.Ns.gFb:var l={};for(k=0;k<f.properties.length;k++){var m=f.properties[k];var n=c.Rj(m.key,g,{u$:!0});l[n]=c.Rj(m.value,g,h)}return l;case Go.Ns.cia:for(k=0;k<f.Bu.length;k++)c.Rj(f.Bu[k],g,h);return null;case Go.Ns.lGb:var p=c.Rj(f.id,
g,{u$:!0});l=null!=h.init?h.init:c.Rj(f.init,g,h);return g[p[0]]=l;case Go.Ns.ogb:case Go.Ns.Keb:m=null;for(k=0;k<f.body.length;k++)m=c.Rj(f.body[k],g,h);return m;case Go.Ns.$Ya:return m=c.Rj(f.object,g,h),l=c.Rj(f.XA,g,{u$:!f.DEa}),Array.isArray(l)&&(l=l[0]),h.u$?[].concat(m,l):m[l];case Go.Ns.KCb:p=c.Rj(f.left,g,{u$:!0});l=c.Rj(f.right,g,h);m=g;k=0;for(n=p.length-1;k<n;k++)m=m[p[k]];1<f.CG.length&&(l=d(f.CG.slice(0,-1),m[p[n]],l));return m[p[n]]=l;case Go.Ns.XXa:case Go.Ns.Zfb:return m=c.Rj(f.left,
g,h),l=c.Rj(f.right,g,h),d(f.CG,m,l);case Go.Ns.Qgb:return l=c.Rj(f.qM,g,h),e(f.CG,l);case Go.Ns.hGb:p=c.Rj(f.qM,g,{u$:!0});m=g;k=0;for(n=p.length-1;k<n;k++)m=m[p[k]];l=m[p[n]];m[p[n]]="--"===f.CG?l-1:l+1;return f.prefix?m[p[n]]:l;case Go.Ns.bDb:return m=f.arguments.map(function(q){return c.Rj(q,g,h)}),l=c.Rj(f.callee,g,{u$:!0})[0],"function"===typeof g[l]?g[l](m):a(l.toLowerCase(),m);case Go.Ns.Bcc:case Go.Ns.Oac:return m=c.Rj(f.test,g,h)?f.ITb:f.Bqc,c.Rj(m,g,h);case Go.Ns.ICb:return f.elements.map(function(q){return c.Rj(q,
g,h)});case Go.Ns.Zdc:return c.Rj(f.qM,g,h);case Go.Ns.Zbc:case Go.Ns.Zya:return p=f.params.map(function(q){return c.Rj(q,g,{u$:!0})[0]}),m=function(q){var r=G(g,{});for(k=0;k<p.length;k++)r[p[k]]=q[k];return c.Rj(f.body,r,{})},l=c.Rj(f.id,g,{u$:!0}),null!=l&&(g[l[0]]=m),m;case Go.Ns.Tbc:c.Rj(f.init,g,h);for(h={};c.Rj(f.test,g,h);){c.Rj(f.body,g,h);h.continue=!1;if(h.LZ)break;c.Rj(f.update,g,h)}return null;case Go.Ns.Sbc:l=c.Rj(f.right,g,{});h={};m=Object.keys(l);for(k=0;k<m.length;k++){c.Rj(f.left,
g,{init:m[k]});c.Rj(f.body,g,h);if(h.LZ)break;h.continue=!1}return null;case Go.Ns.sac:return h.LZ=!0,null;case Go.Ns.Rac:return h.continue=!0,null;default:return null}};return c}(),1,"eyJjYWxjdWxhdGUiOiJSaiJ9");var A5=/*#__PURE__*/function(){function c(){}function a(k){this.o5c=null!=k?k:!0;this.wE=[];this.Gb=[]}var b=null,d=null,e,f=Zd.ya().Wa("pt"),g=new td(0,0,0,0),h=new M;a.prototype.bqb=function(k,l){if(this.o5c)if("string"===typeof l){var m=l.substr(-2);l=parseFloat(l);l="pt"===m?f.convert(l,"px"):l}else l=f.convert(l,"px");for(m=0;m<this.wE.length;++m)if(k<this.wE[m]){this.wE.splice(m,0,k);this.Gb.splice(m,0,l);return}this.wE.push(k);this.Gb.push(l)};a.prototype.getValue=function(k){if(1>=this.wE.length||this.wE[0]>=
k)return this.Gb[0]||0;for(var l=1;l<this.wE.length;++l)if(this.wE[l]>=k)return k=(k-this.wE[l-1])/(this.wE[l]-this.wE[l-1]),this.Gb[l-1]+k*(this.Gb[l]-this.Gb[l-1]);return this.Gb[this.Gb.length-1]};a.prototype.Td=function(){return 0<this.wE.length};L(c,"geotoolkit.map.util.ArcGIS");c.parse=function(k,l,m){var n=k.drawingInfo||{};n=n.renderer;var p={gF:n,type:c.U2b(k.geometryType)};if(!n)return p;var q=c.oDd(n);switch(n.type){case "simple":p.Aj={ht:q,Q3:c.loa(n.symbol,l,m)};break;case "uniqueValue":var r=
n.uniqueValueInfos;for(k=0;k<r.length;k++)p[r[k].value]={ht:q,Q3:c.loa(r[k].symbol,l,m)};null!=n.defaultSymbol&&(p.xRa={ht:q,label:n.defaultLabel,Q3:c.loa(n.defaultSymbol,l,m)});break;case "classBreaks":p.Aqb=[];p.Lqb={};r=n.classBreakInfos;for(k=0;k<r.length;k++)p.Aqb[k]={ht:q,label:r[k].label,Q3:c.loa(r[k].symbol,l,m)},p.Lqb[k]={Ei:r[k].classMinValue,ui:r[k].classMaxValue};null!=n.defaultSymbol&&(p.xRa={ht:q,label:n.defaultLabel,Q3:c.loa(n.defaultSymbol,l,m)});break;case "vectorField":p=c.FDd(n,
p,q);break;default:hb("This renderer type is not supported!")}null!=n.valueExpression&&(n.kCb=c.abb(n.valueExpression));return p};c.loa=function(k,l,m){if(null==k)return null;l=c.vJc(k,l);switch(k.type){case "esriSMS":null==d&&(d={esriSMSSquare:Sn,esriSMSCircle:$m,esriSMSCross:cn,esriSMSDiamond:dn,esriSMSTriangle:Mm,esriSMSX:cn,"default":$m});l=c.Jxb(k.outline);var n=null!=l?2*l.ca():0;return new j5({shape:new Nm({painter:null!=d[k.style]?d[k.style]:d["default"],width:k.size+n,height:k.size+n,sizeisindevicespace:!0,
ax:k.xoffset,ay:k.yoffset,fillstyle:c.Sg(k.color),linestyle:l}),textshape:m});case "esriPMS":return new j5({shape:new Gj({ax:k.xoffset,ay:k.yoffset,width:k.width,height:k.height,alignment:O.Na,ispointingup:!0,sizeisindevicespace:!0,url:l}),textshape:m});case "esriSFS":return new k5({shape:new Vm({fillstyle:c.S2b(k),linestyle:c.Jxb(k.outline)}),textshape:m});case "esriPFS":return new k5({shape:new Vm({fillstyle:new rf({pattern:ui.ya().createPattern(l)}),linestyle:c.Jxb(k.outline)}),textshape:m});case "esriSLS":return new i5({shape:new $n({linestyle:c.Jxb(k)}),
textshape:m})}return null};c.vJc=function(k,l){return null!=k.imageData?(l=k.contentType||"image/png","data:"+l+";base64,"+k.imageData):null!=k.url?l+k.url:null};c.Sg=function(k){return Array.isArray(k)?new td(k[0],k[1],k[2],k[3]):k};c.Jxb=function(k){if(null==k)return null;null==b&&(b={esriSLSDash:wg.zha,esriSLSDashDot:wg.mYa,esriSLSDashDotDot:wg.YJa,esriSLSDot:wg.Jpa,esriSLSSolid:wg.Uo,"default":wg.Uo});return new X({color:c.Sg(k.color),width:null!=k.width?k.width:1,style:null!=b[k.style]?b[k.style]:
b["default"]})};c.L_=function(k){if(null==k)return null;var l=null!=k.size?k.size+"pt ":"12px ",m=null!=k.family?k.family:"sans-serif",n=null!=k.style?k.style+" ":"";k=null!=k.weight?k.weight+" ":"";return k+n+l+m};c.ioa=function(k){if(null==k)return null;null==e&&(e={esriSFSSolid:null,esriSFSNull:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz48L3N2Zz4="),
esriSFSHollow:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz48L3N2Zz4="),esriSFSHorizontal:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnIC8+ICA8cmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMTAnIGhlaWdodD0nMScgZmlsbD0nYmxhY2snIC8+PC9zdmc+"),
esriSFSVertical:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnIC8+ICA8cmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMScgaGVpZ2h0PScxMCcgZmlsbD0nYmxhY2snIC8+PC9zdmc+"),esriSFSForwardDiagonal:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz4gIDxwYXRoIGQ9J00wLDAgbDEwLDEwJyBzdHJva2U9J2JsYWNrJyBzdHJva2Utd2lkdGg9JzEnLz48L3N2Zz4="),
esriSFSBackwardDiagonal:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz4gIDxwYXRoIGQ9J00tMSwxIGwyLC0yICAgICAgICAgICBNMCwxMCBsMTAsLTEwICAgICAgICAgICBNOSwxMSBsMiwtMicgc3Ryb2tlPSdibGFjaycgc3Ryb2tlLXdpZHRoPScxJy8+PC9zdmc+"),esriSFSCross:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz4gIDxwYXRoIGQ9J001LDAgbDAsMTAgICAgICAgICAgIE0wLDUgbDEwLDAnIHN0cm9rZT0nYmxhY2snIHN0cm9rZS13aWR0aD0nMScvPjwvc3ZnPg=="),
esriSFSDiagonalCross:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz4gIDxwYXRoIGQ9J00wLDAgbDEwLDEwICAgICAgICAgICBNMTAsMCBsLTEwLDEwJyBzdHJva2U9J2JsYWNrJyBzdHJva2Utd2lkdGg9JzEnLz48L3N2Zz4=")});return e[k]};c.S2b=function(k){var l=c.ioa(k.style);k=c.Sg(k.color);return null!=l?new rf({color:g,pattern:l,foreground:k}):new rf({color:k})};c.hoa=function(k,l){var m=
[];if(!Array.isArray(k))return h.Ga(k.x,k.y),l&&l.transform(h,h),[{x:h.x,y:h.y}];for(var n=0<k.length&&Array.isArray(k[0][0]),p=0;p<k.length;p++)if(n){for(var q={x:[],y:[]},r=0;r<k[p].length;r++)h.Ga(k[p][r][0],k[p][r][1]),l&&l.transform(h,h),q.x.push(h.x),q.y.push(h.y);m.push(q)}else h.Ga(k[p][0],k[p][1]),l&&l.transform(h,h),m.push({x:h.x,y:h.y});return m};c.K2b=function(k){return Array.isArray(k)&&0!==k.length?c.yDd(k[0].symbol):null};c.yDd=function(k){if(null==k)return null;var l=c.Sg(k.backgroundColor),
m=c.Sg(k.borderLineColor),n=null!=k.borderLineSize?k.borderLineSize:1,p=c.hDd(k.labelPlacement),q=null==k.haloColor?null:new X({color:c.Sg(k.haloColor),size:null==k.haloSize?1:k.haloSize/.75});return new ek({textstyle:new Ki({color:c.Sg(k.color),font:c.L_(k.font),alignment:"center",outline:q}),ispointingup:!0,fillstyle:l?new rf(l):null,linestyle:m?new X(m,n):null,alignment:p})};c.hDd=function(k){if("string"!==typeof k)return O.Na;var l=-1<k.indexOf("Left"),m=!l&&-1<k.indexOf("Right");return-1<k.indexOf("Above")?
l&&O.Ike||m&&O.Jke||O.Xd:-1<k.indexOf("Below")?l&&O.PVd||m&&O.QVd||O.Je:l&&O.vd||m&&O.pe||O.Na};c.Wva=function(k,l){if(!l||!l.gF)return null;var m=l.gF;switch(m.type){case "simple":return c.mTa(l.Aj,k);case "uniqueValue":var n=null!=m.kCb?m.kCb(k):["field","field1","field2","field3"].reduce(function(r,t){if(null==m[t])return r;t=k[m[t]];return r?r+m.fieldDelimiter+t:t},null);if(null!=l[n])return c.mTa(l[n],k);break;case "classBreaks":n=m.kCb?m.kCb(k):+k[m.field];for(var p=0;p<l.Aqb.length;p++){var q=
l.Lqb[p].Ei||(0<p?l.Lqb[p-1].ui:m.minValue);if(n>=q&&n<=l.Lqb[p].ui)return c.mTa(l.Aqb[p],k)}break;case "vectorField":p=l.cha;n=m.attributeField;if(!k.hasOwnProperty(n))for(q in n=n.toLowerCase(),k)if(q.toLowerCase()===n){m.attributeField=q;break}n=k[m.attributeField];if(p&&null!=n){for(q=1;q<p.length-1;++q)if(n<p[q])return c.mTa(l.F5[q-1],k);return c.mTa(l.F5[l.F5.length-1],k)}}return c.mTa(l.xRa,k)};c.U2b=function(k){switch(k){case "esriGeometryPoint":return[t4,C4,null];case "esriGeometryMultipoint":return[t4,
C4,"points"];case "esriGeometryPath":case "esriGeometryLine":case "esriGeometryPolyline":return[D4,E4,"paths"];default:return[F4,G4,"rings"]}};c.warn=function(k){if(null!=k){var l=k.code,m=k.details;k=k.message;hb("ArcGIS layer returned error ("+l+"):\n"+(Array.isArray(m)&&0<m.length?m.join("\n"):k))}};c.FDd=function(k,l,m){var n=new X("black",1.5),p=c.QJc("M15 32 15 16 10 23 16 3 22 23 17 16 17 32");switch(k.style.toLowerCase()){case "wind_speed":var q=c.efd(.5,.3,n);k=[q,q];p="M25 0 25 40 M25 35 17.5 37.5;M25 0 25 40 10 45 25 40;M25 0 25 40 10 45 25 40 M25 35 17.5 37.5;M25 0 25 40 10 45 25 40 M25 35 10 40;M25 0 25 40 10 45 25 40 M25 35 10 40 25 35 M25 30 17.5 32.5;M25 0 25 40 10 45 25 40 M25 35 10 40 25 35 M25 30 10 35;M25 0 25 40 10 45 25 40 M25 35 10 40 25 35 M25 30 10 35 25 30 M25 25 17.5 27.5;M25 0 25 40 10 45 25 40 M25 35 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30;M25 0 25 40 10 45 25 40 M25 35 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 17.5 22.5;M25 0 25 40 10 40 25 35;M25 0 25 40 10 40 25 35 M25 30 17.5 32.5;M25 0 25 40 10 40 25 35 M25 30 10 35;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 17.5 27.5;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 17.5 22.5;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 10 25;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 10 25 25 20 M25 15 17.5 17.5;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 10 25 25 20 M25 15 10 20;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 10 25 25 20 M25 15 10 20 25 15 M25 10 17.5 12.5;M25 0 25 40 10 40 25 35 10 35 25 30;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 17.5 27.5;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 17.5 22.5;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25 M25 20 M25 15 17.5 17.5;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25 M25 20 M25 15 10 20;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25 M25 20 M25 15 10 20 M25 15 M25 10 17.5 12.5;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25 M25 20 M25 15 10 20 M25 15 M25 10 10 15;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25 M25 20 M25 15 10 20 M25 15 M25 10 10 15 M25 10 M25 5 17.5 7.5".split(";");
l.cha=[0,5];for(var r=0,t=10;150>=t;r++,t+=5)l.cha.push(t),k.push(c.QJc(p[r]).ra(n));l.F5=c.Ela(k,m);break;case "single_arrow":q=p.qa("#005ce6");break;case "classified_arrow":q=p.qa("#38a800");l.cha=[0,1E-6,3.5,7,10.5,14];l.F5=c.Ela(p,m,["#38a800","#8b3500","#ffff00","#ff8000","#ff0000"]);break;case "beaufort_m":q=p.qa("#d62f27");l.cha=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];l.F5=c.Ela(p,m,"#4575b5 #6589b8 #849eba #a2b4bd #c0ccbe #dee3bf #ffffbf #ffdca1 #fab984 #f59869 #ed7551 #e81515".split(" "));
break;case "beaufort_km":q=p.qa("#d62f27");l.cha=[0,.72,6.48,11.88,19.44,30.6,39.6,50.76,61.92,74.88,87.84,102.96,117.72];l.F5=c.Ela(p,m,"#4575b5 #6589b8 #849eba #a2b4bd #c0ccbe #dee3bf #ffffbf #ffdca1 #fab984 #f59869 #ed7551 #e81515".split(" "));break;case "beaufort_ft":q=p.qa("#d62f27");l.cha=[0,.656168,5.905512,10.826772,17.716536,27.88714,36.08924,46.259844,56.430448,68.241472,80.052496,93.832024,107.283468];l.F5=c.Ela(p,m,"#4575b5 #6589b8 #849eba #a2b4bd #c0ccbe #dee3bf #ffffbf #ffdca1 #fab984 #f59869 #ed7551 #e81515".split(" "));
break;case "beaufort_mi":q=p.qa("#d62f27");l.cha=[0,.447388,4.026492,7.381902,12.079476,19.01399,24.60634,31.540854,38.475368,46.528352,54.581336,63.976484,73.147938];l.F5=c.Ela(p,m,"#4575b5 #6589b8 #849eba #a2b4bd #c0ccbe #dee3bf #ffffbf #ffdca1 #fab984 #f59869 #ed7551 #e81515".split(" "));break;case "beaufort_kn":q=p.qa("#d62f27");l.cha=[0,1,3,6,10,16,21,27,33,40,47,55,63];l.F5=c.Ela(p,m,"#2892c7 #59a2ba #81b3ab #a0c29b #bfd48a #dae677 #fafa64 #fcd553 #fcb366 #fa8d34 #f76e2a #f0471d".split(" "));
break;case "ocean_current_m":q=p.qa("#b1b1b1");l.cha=[0,.5,1,1.5,2];l.F5=c.Ela(p,m,["#4e1a99","#b31b1a","#ca801a","#b1b1b1"]);break;case "ocean_current_kn":q=p.qa("#b1b1b1");l.cha=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];l.F5=c.Ela(p,m,"#000000 #002564 #4e1a99 #970064 #b31b1a #b14e1a #ca801a #b1b334 #b1b1b1".split(" "));break;case "simple_scalar":var u=(new dh({fillstyle:"black",linestyle:null})).moveTo(.4,.4).lineTo(.4,.6).lineTo(.6,.6).lineTo(.6,.4);q=function(w,y,A){A.ra(n);$m.call(this,w,y,A);u.render(A)}}l.xRa=
new j5({shape:new Nm({width:40,height:40,sizeisindevicespace:!0,painter:q})});return l};c.efd=function(k,l,m){var n=new U(.5-k,.5-k,.5+k,.5+k),p=new U(.5-l,.5-l,.5+l,.5+l);return function(q,r,t){t.ra(m);$m.call(this,q,n,t);$m.call(this,q,p,t)}};c.QJc=function(k){var l=new dh({linestyle:null});k=k.split(" ");for(var m=0;m<k.length;)switch(k[m][0]){case "M":l.moveTo(+k[m++].substr(1),+k[m++]);break;case "L":l.lineTo(+k[m++].substr(1),+k[m++]);break;default:l.lineTo(+k[m++],+k[m++])}return c.MAd(l)};
c.Ela=function(k,l,m){var n=[],p=new r4,q=Array.isArray(k),r=Array.isArray(m),t,u=q?k.length:m.length;for(t=0;t<u;++t){var w=r?m[t]:m;var y=q?k[t]:k.clone();"function"!==typeof y&&null!=w&&y.qa(w).ra(w);n.push({ht:l,Q3:new j5({shape:new Nm({sizeisindevicespace:!0,painter:y}),geometrytoshape:p})})}return n};c.MAd=function(k){var l=k.ga(),m=Math.max(l.ca(),l.da()),n=m/2,p=n-l.cc();l=n-l.zc();m=1/m;k.Kc(new W(m,0,0,m,p*m,l*m));return k};c.GDd=function(k){if(!k||!Array.isArray(k.visualVariables))return[];
for(var l,m=[],n=0;n<k.visualVariables.length;++n){l=k.visualVariables[n];switch(l.type){case "colorInfo":l=c.xCd(l);break;case "sizeInfo":l=c.pDd(l);break;case "transparencyInfo":l=c.BDd(l);break;case "rotationInfo":l.rotationExpression=l.valueExpression||l.field&&"["+l.field+"]";l=c.KJc(l);break;default:l=null}l&&m.push(l)}return m};c.hma=function(k,l,m,n){var p=0;if(null!=l){if(k.hasOwnProperty(l))p=+k[l];else{l=l.toLowerCase();for(var q in k)if(q.toLowerCase()===l){p=+k[q];break}}return n?p/+k[n]:
p}if(null==m)return 0;p=m(k);return n?p/+k[n]:p};c.BDd=function(k){if(!Array.isArray(k.stops))return null;var l=k.field,m=k.normalizationField,n=k.stops;if(!l){var p=c.abb(k.valueExpression);if(!p)return null}var q=new a(!1);for(k=0;k<n.length;++k)q.bqb(n[k].value,1-n[k].transparency/100);return q.Td()?function(r,t){r=c.hma(r,l,p,m);t.zQ=+q.getValue(r).toFixed(2);t.name=null!=t.name?t.name+"x"+t.zQ:t.zQ}:null};c.abb=function(k){if(!k)return null;var l=new z5(k);return function(m){return l.getValue(m)}};
c.pDd=function(k){var l=new a,m=k.field,n=k.normalizationField,p=k.stops;if(!m){var q=c.abb(k.valueExpression);if(!q)return null}null!=k.minSize&&null!=k.minDataValue&&l.bqb(k.minDataValue,k.minSize);null!=k.maxSize&&null!=k.maxDataValue&&l.bqb(k.maxDataValue,k.maxSize);if(Array.isArray(p))for(k=0;k<p.length;++k)l.bqb(p[k].value,p[k].size);return l.Td()?function(r,t){r=c.hma(r,m,q,n);t.size=l.getValue(r);t.name=null!=t.name?t.name+"x"+t.size:t.size}:null};c.xCd=function(k){if(!Array.isArray(k.stops))return null;
var l=[],m=[],n=k.field,p=k.normalizationField,q=k.stops;if(!n){var r=c.abb(k.valueExpression);if(!r)return null}for(k=0;k<q.length;++k)m.push(q[k].value),l.push(c.Sg(q[k].color));var t=new Ro({values:m,colors:l});return function(u,w){u=c.hma(u,n,r,p);w.color=t.rb(u);w.name=null!=w.name?w.name+"x"+w.color.Nl():w.color.Nl()}};c.KJc=function(k){var l=k.rotationType,m=c.abb(k.rotationExpression),n=null,p=k.normalizationField;if(!m)if("vectorField"===k.type)n="Direction";else return null;if(l&&"arithmetic"===
l.toLowerCase()){var q=1;var r=-Math.PI/2}else q=-1,r=0;var t=!0,u=2*Math.PI;return function(w,y){w=c.hma(w,n,m,p);t&&(w<-u||w>u)&&(r=V.radToDeg(r),t=!1);y.angle=r+q*w;t&&(y.angle=V.radToDeg(y.angle));y.angle=1.8*Math.round(y.angle/1.8);y.angle=V.degToRad(y.angle);y.name=null!=y.name?y.name+"x"+y.angle:y.angle}};c.oDd=function(k){var l=c.GDd(k);(k=c.KJc(k))&&l.push(k);return 0===l.length?null:function(m){for(var n={},p=0;p<l.length;++p)l[p](m,n);return n}};c.mTa=function(k,l){if(!k||!k.Q3)return null;
var m=k.Q3,n=k.ht;if(null==n)return m;k.qrc=k.qrc||{};k=k.qrc;var p=m.Hb();l=n(l);if(null!=k[l.name])return k[l.name];p=p.clone();n=p.Ea();null!=n&&(null!=l.color&&n.setColor(l.color),null!=l.zQ&&n.setColor(Pd.ZA(n.rb(),l.zQ)));n=p.fb();null!=n&&(null!=l.color&&n.setColor(l.color),null!=l.zQ&&n.setColor(Pd.ZA(n.rb(),l.zQ)));p instanceof Wi&&(null!=l.size&&p.setSize(l.size,l.size),null!=l.angle&&(p.vt(!1),p.Yy(l.angle)));null!=l.zQ&&p instanceof Gj&&p.vaa(l.zQ);m=new v4({shape:p,geometrytoshape:m.gfa(),
geometrytotext:m.vP(),textshape:m.Gk()});return k[l.name]=m};c.aDd=function(k,l){if(!k||k.error||!Array.isArray(k.layers))return null;k=k.layers;for(var m=[],n=0;n<k.length;++n){var p=[];k[n].legend=k[n].legend||[];for(var q=0;q<k[n].legend.length;q++){var r=k[n].legend[q];p.push({label:r.label,image:c.vJc(r,l),width:r.width,height:r.height,values:r.values})}m.push({layerId:k[n].layerId,layerName:k[n].layerName,layerType:k[n].layerType,minScale:k[n].minScale,maxScale:k[n].maxScale,legend:p})}return m};
c.jDd=function(k,l){for(var m=k.displayFieldName,n=!k.hasOwnProperty("geometryType"),p=!n&&c.U2b(k.geometryType),q=[],r=0;r<k.features.length;r++){var t=k.features[r],u=t.geometry;if(u)if(n&&(p=c.U2b(t.geometryType)),u=c.hoa(u[p[2]]||u),1<u.length)var w=p[1];else if(1===u.length)w=p[0],u=u[0];else continue;else u={x:NaN,y:NaN},w=t4;var y=t.attributes||{};y.layerId=t.hasOwnProperty("layerId")?t.layerId:l;q.push(new w({attributes:y,id:t.hasOwnProperty("value")?t.value:y[m],geometry:u}))}return q};c.frb=
function(k){if(!k)return[];var l=k.gF||{},m=[];switch(l.type){case "simple":m.push(c.Y6a(k.Aj.Q3,l.label));break;case "uniqueValue":var n=l.uniqueValueInfos||[];for(l=0;l<n.length;l++)m.push(c.Y6a(k[n[l].value].Q3,n[l].label));break;case "classBreaks":n=k.Aqb||[];for(l=0;l<n.length;l++)m.push(c.Y6a(n[l].Q3,n[l].label));break;case "vectorField":for(n=k.F5||[],l=0;l<n.length;l++)m.push(c.Y6a(n[l].Q3))}k.xRa&&m.push(c.Y6a(k.xRa.Q3,k.xRa.label));return m.filter(function(p){return null!=p})};c.Y6a=function(k,
l){if(!k)return null;k=k.Hb();var m=20,n=20;if(k instanceof Gj)return m=k.ca(),n=k.da(),{width:m,height:n,label:l||"",image:k.ia().url};var p=new U(0,0,m,n),q=new Gh(m,n),r=q.Ova();k instanceof Wi?k.Lz()?(k.Db(Wi.q9(p,k.lp())),k.render(r)):(m=k.ca(),n=k.da(),m<=n?k.setSize(m*p.da()/n,p.da()):k.setSize(p.ca(),n*p.ca()/m),k.render(r),k.setSize(m,n)):(r.ra(k.Ea(),p),r.qa(k.fb(),p),k instanceof $n?r.nm([p.la(),p.na()],[p.zc(),p.zc()]):r.Sj([p.la(),p.la(),p.na(),p.na()],[p.ka(),p.ma(),p.ma(),p.zc()]));
q.Ko();return{width:q.ca(),height:q.da(),label:l||"",image:q.wk().toDataURL()}};return c}();var B5=/*#__PURE__*/function(){function c(e){e=G(e,{connector:new y5});I4.call(this,e);this.IMa=new Map;this.Ssa=null;this.y9c=this.oLc.bind(this);this.mpb=!0}function a(e){return Array.isArray(e)&&0<e.length?"&outFields="+e.join("%2C"):""}var b=1E3,d=new M;D(c,I4);L(c,"geotoolkit.map.sources.formats.ArcGISFeature");c.prototype.query=function(e){function f(y,A){A=u.JJc(y,A,e);if(null!=A){if(!0===A.exceededTransferLimit){if(!u.ua.Nab){y=(e.left+e.right)/2;A=(e.top+e.bottom)/2;u.query({left:e.left,top:e.top,right:y,
bottom:A,key:e.key});u.query({left:e.left,top:A,right:y,bottom:e.bottom,key:e.key});u.query({left:y,top:e.top,right:e.right,bottom:A,key:e.key});u.query({left:y,top:A,right:e.right,bottom:e.bottom,key:e.key});return}0===w&&u.Cl.send(u.hI(t+"&returnCountOnly=true"),{token:u.ua.SG,key:e.key},function(x,C){C=u.JJc(x,C);if(null!=C)for(x=w=u.ua.Xzd;x<C.count;x+=w)u.Cl.send(u.hI(t+"&resultOffset="+x),{token:u.ua.SG,key:e.key},f)})}Array.isArray(A.features)&&((u.CEd(A.features),u.Cl.Wm())?null==u.Ssa&&(u.Ssa=
setTimeout(u.y9c,b)):(null!=u.Ssa&&clearTimeout(u.Ssa),u.oLc()))}}var g=this.ua.YZ;g.Ma(d.Ga(e.left,e.top),d);var h=d.getX(),k=d.getY();g.Ma(d.Ga(e.right,e.bottom),d);var l=d.getX(),m=d.getY(),n=a(this.ua.fv),p=g.eI().EA();g="&returnExceededLimitFeatures="+("standard"===this.ua.resultType);var q="&resultType="+this.ua.resultType,r="&geometryPrecision="+this.ua.eWb;p=this.mpb?"&outSR="+p:"";var t="/query?geometryType=esriGeometryEnvelope&geometry="+encodeURIComponent(h+","+k+","+l+","+m)+"&spatialRel=esriSpatialRelIntersects"+
n+g+r+q+p+"&returnDistinctValues=false&f=json",u=this,w=0;this.Cl.send(this.hI(t),{token:this.ua.SG,key:e.key},f);return this};c.prototype.CEd=function(e){if(!this.ge())for(var f=this.mpb?null:this.ua.rk,g=this.ua.id.Sea(),h=0;h<e.length;h++){var k=e[h],l=k.geometry,m=k.attributes;k=k.symbol;k=A5.loa(k)||A5.Wva(m,this.ua.B0);if(null!=k&&null!=l){var n=l[this.ua.B0.type[2]]||l;n=A5.hoa(n,f);if(1<n.length)l=this.ua.B0.type[1];else if(1===n.length)l=this.ua.B0.type[0],n=n[0];else continue;m=new l({id:m[g],
geometry:n,attributes:m});m.eu=k;this.IMa.has(k)?this.IMa.get(k).push(m):this.IMa.set(k,[m])}}};c.prototype.abort=function(e){I4.prototype.abort.call(this,e);null!=this.Ssa&&(clearTimeout(this.Ssa),this.Ssa=null);this.IMa.clear()};c.prototype.oLc=function(){if(!this.ge()){var e=null;this.IMa.forEach(function(f){if(null==e)e=f;else for(var g=0;g<f.length;g++)e.push(f[g])});null!=e&&this.notify(M4.cs,this,e)}this.IMa.clear();this.Ssa=null};c.prototype.JJc=function(e,f,g){if(e)return this.onError(e),
null;if("string"===typeof f)try{f=JSON.parse(f)}catch(h){return this.onError(h),null}if(null!=f.error){e=f.error.details||[];if(this.mpb&&0<=e.join("").indexOf("outSR"))return this.mpb=!1,g&&this.query(g),null;A5.warn(f.error);return null}return f};return c}();var C5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){b=G(b,{connector:new y5});n5.call(this,b)}function a(b){return"esriFieldTypeOID"===b.type}D(c,n5);L(c,"geotoolkit.map.sources.loaders.ArcGISFeature");c.prototype.parse=function(b,d){"string"===typeof b&&(b=JSON.parse(b));this.ua.data=b;if(null!=b.error)throw A5.warn(b.error),Error("ArcGISFeature server returned error!");var e=b.drawingInfo||{},f=b.spatialReference||b.sourceSpatialReference;this.ua.Nab=this.ua.Nab&&(!b.advancedQueryCapabilities||b.advancedQueryCapabilities.supportsPagination);
var g=b.maxRecordCountFactor||1,h=this.ua.Nab?"standard":"tile";this.ua.resultType=h;this.ua.Xzd=b[h+"MaxRecordCount"]*g||b.maxRecordCount;this.ua.wxa||!b.minScale&&!b.maxScale||(this.ua.wxa=[0<b.minScale?1/b.minScale:null,0<b.maxScale?1/b.maxScale:null]);Array.isArray(b.layers)?(this.ua.layers=this.V2b(b.layers,b.type),this.ua.alpha=1,this.vIa(b.fullExtent,f)):(this.ua.id=this.DWc(b.fields,b.displayField),this.ua.fv=this.Cwc(b),this.ua.rJa=A5.K2b(e.labelingInfo),this.ua.B0=A5.parse(b,this.ua.url,
this.ua.rJa),this.ua.layers=[],this.ua.alpha=0<e.transparency?(100-e.transparency)/100:1,this.ua.jab=b.id,this.ua.Vyd=b.name,this.ua.Wyd=b.type,this.vIa(b.extent,f));this.ua.initial=this.hYb(b.initialExtent,f);this.uib=b.copyrightText;this.loaded(d)};c.prototype.iW=function(){return this.ua.url?this.ua.url+"?f=json":null};c.prototype.YSa=function(){return{token:this.ua.SG}};c.prototype.vIa=function(b,d){var e=this.ua.rk;null==b?this.ua.Ub=e.mr().jk():(this.f8b(b.spatialReference||d),d=new M(parseFloat(b.xmin),
parseFloat(b.ymin)),b=new M(parseFloat(b.xmax),parseFloat(b.ymax)),e.transform(d,d),e.transform(b,b),this.ua.Ub=new U(d.x,d.y,b.x,b.y));return this};c.prototype.hYb=function(b,d){if(!b)return this.ua.Ub;d=b.spatialReference||d;d=d.wkid||d.wkt||d;var e=this.ua.rk.eI();if(e.EA()===d)d=this.ua.rk;else{d=c4.ag().Tj(d);if(!d)return this.ua.Ub;d=new d4({initialcoordinatesystem:d,targetcoordinatesystem:this.ua.rk.mr()})}e=new M(parseFloat(b.xmin),parseFloat(b.ymin));b=new M(parseFloat(b.xmax),parseFloat(b.ymax));
d.transform(e,e);d.transform(b,b);return new U(e.x,e.y,b.x,b.y)};c.prototype.f8b=function(b){b=b.wkid||b.wkt||b;var d=this.ua.rk.eI();if(d.EA()===b)return this;d=c4.ag().Tj(b);if(!d)throw Error("ArcGISFeature: coordinate system ("+b+") is not supported, use geotoolkit.map.coordinatesystems.Registry to register it manually.");this.ua.YZ.UIa(d);this.ua.rk.t5(d);return this};c.prototype.V2b=function(b,d){d="Group Layer"===d?this.ua.url.substr(0,this.ua.url.lastIndexOf("/"))+"/":this.ua.url+"/";for(var e=
0;e<b.length;++e){var f=b[e],g=b[f.parentLayerId];null!=g&&(0<g.minScale&&(f.minScale=0<f.minScale?Math.min(f.minScale,g.minScale):g.minScale),0<g.maxScale&&(f.maxScale=0<f.maxScale?Math.max(f.maxScale,g.maxScale):g.maxScale));f.url=d+f.id}return b.reverse()};c.prototype.DWc=function(b,d){var e=this.ua.id instanceof K4?this.ua.id.Sea():this.ua.id;Array.isArray(b)&&0<b.length&&b.every(function(f){return f.name!==e})&&("string"===typeof d?e=d:(d=b.filter(a),e=0<d.length?d[0].name:b[0].name));return this.ua.id instanceof
K4&&this.ua.id.Sea()===e?this.ua.id:new K4(e)};c.prototype.Cwc=function(b){if(!Array.isArray(b.fields))return null;var d=null,e=b.fields.map(function(l){"esriFieldTypeOID"===l.type&&(d=l.name);return l.name});this.ua.oqe=d;if("*"===this.ua.fv)return e;var f=b.drawingInfo&&b.drawingInfo.renderer||{};b=[this.ua.id.Sea(),b.displayField,f.field,f.field1,f.field2,f.field3];var g=[];Array.isArray(this.ua.fv)&&(b=b.concat(this.ua.fv));if(Array.isArray(f.visualVariables)){var h=f.visualVariables;f=e.filter(function(l){for(var m=
0;m<h.length;++m){var n=h[m];if(n.field===l||null!=n.valueExpression&&-1<n.valueExpression.indexOf(l))return!0}return!1});b=b.concat(f)}for(f=0;f<b.length;++f){var k=b[f];null!=k&&-1<e.indexOf(k)&&-1===g.indexOf(k)&&g.push(k)}return 0<g.length?g:e};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc1VybCI6ImlXIiwiZ2V0UmVxdWVzdE9wdGlvbnMiOiJZU2EifX19");var D5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){d=d||{};d=G(d,{layer:null,format:d.format||new B5,loader:d.hasOwnProperty("loader")?d.loader:new C5,idfield:d.idfield||(d.getfeatureid instanceof K4?d.getfeatureid.Sea():"name"),offsetsupport:!0,requestfields:null,geometryprecision:3,token:null,scalerange:null,layerid:null},!0);S4.call(this,d);this.En={};this.ua=this.ua||{};this.ua.SG=d.token;this.ua.wxa=d.scalerange;this.ua.fv=d.requestfields;this.ua.layers=[];this.ua.alpha=1;this.ua.rJa=null;this.ua.jab=d.layerid;
this.ua.Nab=d.offsetsupport;this.ua.eWb=d.geometryprecision;this.gn=null==d.layer||Array.isArray(d.layer)?d.layer:[d.layer];this.i3=null;this.kV=[];this.nsa=null}var a=Zd.ya().Wa("px"),b=Zd.ya().Wa("metre");D(c,S4);L(c,"geotoolkit.map.sources.ArcGISFeature");c.prototype.HWa=function(d){this.ua.SG=d;for(var e=0;e<this.kV.length;e++)this.kV[e].HWa(d);return this};c.prototype.oW=function(){return this.ua.SG};c.prototype.IMd=function(d){this.ua.fv=d;return this};c.prototype.Nub=function(){return this.ua.fv};
c.prototype.lKd=function(d){this.ua.eWb=d;return this};c.prototype.bod=function(){return this.ua.eWb};c.prototype.L9=function(){return this.ua.layers};c.prototype.d9a=function(d){if(null==this.En[d])for(var e=this.ua.layers,f=0;f<e.length;++f){var g=e[f];if(g.id===d){e=0<g.minScale||0<g.maxScale?[0<g.minScale?1/g.minScale:null,0<g.maxScale?1/g.maxScale:null]:null;this.En[d]=new c({system:this.eI(),idfield:this.w_b(),scalerange:e,server:g.url,mode:this.ua.mode,offsetsupport:this.ua.Nab,requestresolution:this.ua.Nyb,
requestfields:this.ua.fv,token:this.ua.SG,layerid:d});null==this.qFa()?this.En[d].uFc(null):this.En[d].qFa().C6a(this.qFa());g=this.En[d].Vh;g.O8a().C6a(this.Vh.O8a());break}}return this.En[d]};c.prototype.zwa=function(){return 0<this.ua.layers.length};c.prototype.dI=function(){return this.ua.alpha};c.prototype.NZb=function(){return this.ua.wxa};c.prototype.Vua=function(){return this.ua.rJa};c.prototype.ZD=function(d){this.gn=null==d||Array.isArray(d)?d:[d];this.gn=null!=this.gn?this.gn.map(function(e){return"string"==
typeof e?+e:e}):this.gn;this.update();return this};c.prototype.iYb=function(){return this.ua.initial};c.prototype.kI=function(){return this.gn};c.prototype.pxb=function(){if(this.ge())return this;if(this.zwa()){for(var d=[],e=Array.isArray(this.gn),f=0;f<this.ua.layers.length;++f){var g=this.ua.layers[f],h=g.id;(g=e?0<=this.gn.indexOf(h):g.defaultVisibility)&&d.push(h)}null==this.gn&&(this.gn=d);this.AWc()}S4.prototype.pxb.call(this);return this};c.prototype.query=function(d,e){var f=this.ua.wxa;
if(null!=f){var g=e.wa();g=g?a.convert(g.pb(),b):null;if(null!=g&&(null!=f[0]&&f[0]>g||null!=f[1]&&f[1]<g))return this.HK(!0),this}if(this.zwa()){for(f=0;f<this.kV.length;++f)this.kV[f].query(d,e);this.HK(!this.Wm())}else S4.prototype.query.call(this,d,e);return this};c.prototype.dispose=function(){if(null!=this.i3)for(var d=0;d<this.kV.length;++d)this.kV[d].za(M4.cs,this.i3).za(M4.IQ,this.i3).za(M4.JX,this.i3);this.En=null;S4.prototype.dispose.call(this)};c.prototype.g5=function(d){if(this.qFa())if(this.nsa)d(null,
this.nsa);else{var e=this;this.xUa().then(function(){if(e.zwa())Eg.all(e.ua.layers.map(function(g){return e.d9a(g.id).xUa()})).then(function(){e.nsa=[];e.ua.layers.reverse().forEach(function(g){e.d9a(g.id).g5(function(h,k){h||e.nsa.push(k)})});d(null,e.nsa)},hb);else{var f=e.ua.wxa;e.nsa={layerId:e.ua.jab,layerName:e.ua.Vyd,layerType:e.ua.Wyd,minScale:f&&f[0]?1/f[0]:null,maxScale:f&&f[1]?1/f[1]:null,legend:A5.frb(e.ua.B0)};d(null,e.nsa)}},hb)}else d(Error("Cannot query ArcGIS legend, no loader provided!"))};
c.prototype.Wm=function(){if(S4.prototype.Wm.call(this))return!0;if(this.zwa())for(var d=0;d<this.kV.length;d++)if(this.kV[d].Wm())return!0;return!1};c.prototype.AWc=function(){if(!this.zwa())return this;this.i3=this.i3||function(h,k,l){if(h===M4.cs)for(var m in this.En){if(this.En[m]===k){for(var n=0;n<l.length;n++)l[n].wSa().jab=+m;break}}else h===M4.JX&&(h=M4.IQ);this.notify(h,k,l)}.bind(this);var d;for(d=0;d<this.kV.length;d++)this.kV[d].za(M4.cs,this.i3).za(M4.IQ,this.i3).za(M4.JX,this.i3);var e=
[],f=this.kI();for(d=0;d<f.length;d++){var g=this.d9a(f[d]);null!=g&&(g.on(M4.cs,this.i3).on(M4.IQ,this.i3).on(M4.JX,this.i3),e.push(g))}this.kV=e;return this};c.prototype.update=function(){if(this.zwa()){for(var d=0;d<this.kV.length;d++)this.kV[d].AMc(),this.kV[d].update();this.AWc()}return S4.prototype.update.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRUb2tlbiI6IkhXYSIsImdldFRva2VuIjoib1ciLCJzZXRSZXF1ZXN0RmllbGRzIjoiSU1kIiwiZ2V0UmVxdWVzdEZpZWxkcyI6Ik51YiIsInNldEdlb21ldHJ5UHJlY2lzaW9uIjoibEtkIiwiZ2V0R2VvbWV0cnlQcmVjaXNpb24iOiJib2QiLCJnZXRMYXllcnMiOiJMOSIsImdldExheWVyU291cmNlIjoiZDlhIiwiaXNNdWx0aWxheWVyU291cmNlIjoiendhIiwiZ2V0R2xvYmFsQWxwaGEiOiJkSSIsImdldFNjYWxlUmFuZ2UiOiJOWmIiLCJnZXRBbm5vdGF0aW9uU2hhcGUiOiJWdWEiLCJzaG93TGF5ZXJzIjoiWkQiLCJnZXRJbml0aWFsTW9kZWxMaW1pdHMiOiJpWWIiLCJnZXRWaXNpYmxlTGF5ZXJzIjoia0kiLCJvblNlcnZlckRhdGFMb2FkZWQiOiJweGIiLCJxdWVyeUxlZ2VuZCI6Imc1IiwiaXNMb2FkaW5nIjoiV20ifX19");var E5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(h){if(!h||!h.templates)throw Error("options.templates must be provided");x5.call(this,h);this.Lta=this.uA=null;this.CL=!1;this.xPb=[];this.tra=this.rja=null;this.a3={};this.NSc(h.templates);this.pi(new Hm)}function a(h){return h instanceof u4}var b=new v4,d=new M,e=new U,f=new U,g=new Vd;D(c,x5);L(c,"geotoolkit.map.layers.Template");c.prototype.fa=function(h){h=hc(h);if(null==h)return this;x5.prototype.fa.call(this,h);this.NSc(h.templates);return this};c.prototype.ia=
function(){return x5.prototype.ia.call(this)};c.prototype.NSc=function(h){if(null==h)return this;h=Array.isArray(h)?h:[h];h.forEach(function(k){for(var l=Array.isArray(k.featureclassname)?k.featureclassname:[k.featureclassname],m=0;m<l.length;++m)this.a3[l[m]]=k.template}.bind(this));return this};c.prototype.zHd=function(h,k){h?nc(h,h4)&&(h=[h]):(h=this.FA(),this.xPb=[]);h.forEach(function(l){l.eu=null});k||this.ha();return this};c.prototype.K8a=function(h){return this.a3[h]};c.prototype.b_=function(h){var k=
this.a3[h.Oa()];if(!h.eu)return k;if(!k)return h.eu;var l=void 0===h.eu.Rva()?k.Rva():h.eu.Rva();b.fa({shape:h.eu.Hb()||k.Hb(),geometrytoshape:h.eu.gfa()||k.gfa(),geometrytotext:h.eu.vP()||k.vP(),textshape:h.eu.Gk(h)||k.Gk(h),textstrategy:h.eu.Zva()||k.Zva(),textsizeinfo:h.eu.YDc()||k.YDc(),shapecallback:l});return b};c.prototype.Wva=function(h){return"string"===typeof h?this.K8a(h):h instanceof i4?h.eu?h.eu:this.K8a(h.Oa()):null};c.prototype.LAb=function(h,k,l){"string"===typeof h?this.a3[h]=k:(mc(h,
h4)&&(h=[h]),0>this.xPb.indexOf(k)&&this.xPb.push(k),h.forEach(function(m){m.eu=k}));l||this.ha();return this};c.prototype.Zre=function(){var h=0,k;for(k in this.a3)this.a3.hasOwnProperty(k)&&++h;return h};c.prototype.Mnd=function(){for(var h in this.a3)if(this.a3.hasOwnProperty(h))return this.a3[h];return null};c.prototype.eS=function(h){if(!h)return h=this.FA(),this.ks=null,h.Kg()?this.eS(h):null;h=this.Jrc(h);null!=h&&(this.ks?this.ks.union(h):this.ks=h);return this.ks};c.prototype.Jrc=function(h){function k(E){p=
B.b_(E);if(null!=p&&(n=p.Hb(),q=p.Gk(E),r=p.gfa(),t=p.vP(),w=E,u=E.Vd(!0),Array.isArray(u)?u.forEach(l):l(u),0<v.length)){if(E.OS())E.$m(v.concat(u).reverse());else{for(var H=[],F=0;F<v.length;F++){var I=E.jJa().$m(v[F]);I.wSa().LTc=!0;H.push(I)}B.MC.Ega(H)}v.length=0}}function l(E){r.apply(E,n,x);if(n instanceof Wi&&n.Lz()){var H=(H=n.Ea())?2*H.ca():0;H=n.PV(x,n.pn(),n.Vl(),n.ca()+H,n.da()+H);y=null!=y?y.union(H):H}else if($c(n)&&n.ga()instanceof U)H=n.ga(),y=null!=y?y.union(H):H.clone();else throw Error("Wrong or unexpected type of templates shape");
B.ea.annotations.visible&&t.apply(E,q,x);B.lOd(w,p,E,H,z,m)}function m(E,H){var F={};Array.isArray(E.x)?(F.x=E.x.map(function(I){return I+H}),F.y=E.y.slice()):(F.x=E.x+H,F.y=E.y);v.push(F)}var n,p,q,r,t,u,w,y=null,A=this.getParent(),x,C=this.dK();if(null!=C&&null!=A){var z=C.jk();(A=A.Ki())&&z&&(x=W.Sd(z,A))}x=x||this.wa()||W.Xj;var v=[];x.Sk(g.setSize(1,1),g);var B=this;h.forEach(k);return y};c.prototype.lOd=function(h,k,l,m,n,p){if(n&&!h.wSa().LTc){h.wSa().LTc=!0;e.cb(n).translate(n.ca(),0);f.cb(n).translate(-n.ca(),
0);var q=!1,r=!1;U.D4(e,m)&&(q=!0,p(l,-n.ca()));U.D4(f,m)&&(r=!0,p(l,n.ca()));(m=k.Zva()||this.ea.annotations.strategy)&&this.ea.annotations.visible&&(m=m.bb(h,this))&&(h=k.Gk(h),h.Eb(m),h=H4.s4(h,g),!q&&U.D4(e,h)&&p(l,-n.ca()),!r&&U.D4(f,h)&&p(l,n.ca()))}};c.prototype.Zg=function(h,k){h.Lc=k;(k=this.dK())&&"function"===typeof h.OE&&h.OE(this);this.ks=this.eS();this.ha();return this};c.prototype.ila=function(h){if(null==h)return this;Array.isArray(h)||(h=[h]);h.forEach(function(k){k.OE(this)}.bind(this));
this.xc.URb(h,!1);this.Ce||(this.ks=this.eS(Hg.getIterator(h)),this.notify(Ce.Uq,this,this.ks));this.ha();return this};c.prototype.y4b=function(h){if(null==h)return this;this.MC.xga(h);this.Ce||(this.ks=this.eS(),this.notify(Ce.Uq,this,this.ks));this.ha();return this};c.prototype.CEa=function(){this.xc.CEa();return this};c.prototype.x5b=function(h){for(var k in this.a3)this.a3.hasOwnProperty(k)&&this.a3[k].Gk().ib(h);this.ha();return this};c.prototype.render=function(h){!this.isVisible||this.OF&&
!this.OF.filter(this,h)||(null==this.xc||this.Cwa()&&this.uA||this.xc.NHa(this.vb(),this),this.yd&&!h.ac()?this.yd.render(h):this.$i(h),this.MGd(h),this.E4b(h))};c.prototype.we=function(h,k){var l=this;if(this.isVisible&&(!this.OF||this.OF.filter(this,h))){null==this.xc||this.Cwa()&&this.uA||this.xc.NHa(this.vb(),this);if(this.yd&&!h.ac())this.yd.render(h);else{this.Hs(h,function(){l.E4b(h);k()});return}this.E4b(h)}k()};c.prototype.$i=function(h){if(h.ac()&&(h.qa(rf.kh),h.sc(this.pa()),this.Cwa()))return;
var k=h.dI();h.Nq(this.VN);this.v3b(h);this.Aga(this.uA,h);this.t3b(h);this.ea.annotations.visible&&!h.ac()&&this.Aoa(this.Cwa()?this.gad:this.Lta,h);h.Nq(k)};c.prototype.Aga=function(h,k){var l,m=this;h.forEach(function(n){if(l=m.b_(n)){k.ac()&&k.yh(n);var p=n.Fva();if(n.OS())for(var q=0;q<p.length;++q)m.Obb(n,p[q],l,k);else m.Obb(n,p,l,k)}})};c.prototype.v3b=function(h){var k=h.Fa(),l=k.pb();k.Sk(g.setSize(1,1),g);this.hb={kxa:{},Cf:null,fillStyle:null};k=!V.equals(this.Hhb,l);if(null==this.uA||
this.CL||this.dUa()&&k){k&&this.iPc(null);this.xc.NHa(this.vb(),this);this.Hhb=l;this.CL=!1;this.uA=this.FA();if(l=this.ea.features.filter)this.uA=this.c6a(this.uA,l,h);this.uA=Hg.toArray(this.uA);this.ea.annotations.visible&&((l=this.ea.annotations.filter)?(k=new Gg(this.uA),this.xMc(k),this.Lta=this.c6a(k,l,h),this.Lta=Hg.toArray(this.Lta)):this.Lta=this.uA,this.gad=this.ea.annotations.visibleonzoom?this.Lta:this.Lta.filter(a))}};c.prototype.t3b=function(h){this.Gx(h);this.hb=null};c.prototype.Obb=
function(h,k,l,m){var n=l.Hb(),p=l.gfa(),q=l.Rva();if(q||n.Ia()){l=m.Rg();var r=k4.oP(k);if(h.F4()||m.ac())if(U.D4(l,r)){if(m.ac()){m.ra(n.Ea());m.qa(n.fb());h.F4()?h.vW()?m.Sj(k.x,k.y,0,k.x.length-1):m.nm(k.x,k.y,0,k.x.length-1):m.sc(r);return}if(q)p.apply(k,n,m),q(h,n,m);else{p=n.Ea();n=n.fb();if(this.hb.Cf!==p||this.hb.fillStyle!==n)this.Gx(m),this.hb.Cf=p,this.hb.fillStyle=n,m.ra(p),m.qa(n),m.beginPath();q4.qSb(k,m,h.vW(),g,l);return}}else return;else{var t=n.ca(),u=n.da();q&&(p.apply(k,n,m),
q(h,n,m));h=n.ca();var w=n.da();n.Lz&&n.Lz()&&(h*=g.ca(),w*=g.da());n.WSb(k.x,k.y,h,w,W.Xj,r);if(!U.D4(l,r)||t===n.ca()&&u===n.da()&&!this.zdd(n,k,l))return;q||p.apply(k,n,m)}this.Gx(m);this.hb.Cf=null;this.hb.fillStyle=null;n.render(m)}};c.prototype.Gx=function(h){this.hb.fillStyle&&(h.xi(),this.hb.fillStyle=null);this.hb.Cf&&(h.stroke(),this.hb.Cf=null)};c.prototype.zdd=function(h,k,l){var m=Math.floor((k.x-l.x)/g.width);k=Math.floor((k.y-l.y)/g.height);m=(m+k)*(m+k+1)/2+m;return this.hb.kxa[m]?
this.hb.kxa[m]===h?!1:Array.isArray(this.hb.kxa[m])?-1===this.hb.kxa[m].indexOf(h)?(this.hb.kxa[m].push(h),!0):!1:(this.hb.kxa[m]=[this.hb.kxa[m],h],!0):(this.hb.kxa[m]=h,!0)};c.prototype.dUa=function(){return!this.Cwa()};c.prototype.pa=function(){if(null!=this.Ce)return this.Ce;var h=this.xc?this.xc.pa():null;this.ks||(this.ks=this.eS());null!=h&&null!=this.ks&&this.ks.union(h);return this.ks?(null!=h&&this.ks.union(h),this.ks):null!=h?h:this.KBa?this.KBa.jk():null};c.prototype.vP=function(h){(h=
this.Wva(h))||(h=this.Mnd());return h.vP()};c.prototype.Aoa=function(h,k){var l=this.ea.annotations&&this.ea.annotations.strategy,m,n,p,q,r;h.forEach(function(t){if(m=this.b_(t))if(n=m.Zva()||l)if(r=n.bb(t,this))if(q=m.Gk(t),p=m.vP(),q.Ia())if(t=t.Vd(!0),Array.isArray(t))for(var u=0;u<t.length;++u)t[u].Bj&&!1===t[u].Bj.BM||(q.Eb(r),p.apply(t[u],q,k),U.D4(k.Rg(),H4.s4(q,g))&&q.render(k));else t.Bj&&!1===t.Bj.BM||(q.Eb(r),p.apply(t,q,k),U.D4(k.Rg(),H4.s4(q,g))&&q.render(k))}.bind(this))};c.prototype.Li=
function(h,k){function l(u,w,y){if(!Cg.C_(y.ga(),y.lb(),t))return!1;if(u instanceof D4||u instanceof E4)return u=new qh(h,k,r),u.psc(w.x,w.y,!1);u=new rh(h,k);return u.psc(w.x,w.y,!0)}var m=this.dK();if(!m)return[];var n=this.wa();h=n.hd(h,d);m=m.jk();h.getX()<m.getX()?h.x+=m.ca():h.getX()>m.na()&&(h.x-=m.ca());m=this.pa();if(!this.uA||!m||!m.contains(h))return[];n.Sk(g.setSize(1,1),g);k=(k||2)*g.ca();var p=this,q=[],r,t=f.cb(h.x-k,h.y-k,h.x+k,h.y+k);m=new Og(this.uA,this.tra);m.forEach(function(u){var w=
p.b_(u);if(w){var y=w.Hb(),A=w.gfa(),x=u.Vd(!0);w=w.Rva();if(y.Ia()&&x){r=null!=y.Ea()?y.Ea().ca()*g.width:g.width;Array.isArray(x)||(x=[x]);for(var C=0;C<x.length;++C)if(A.apply(x[C],y,n),Array.isArray(x[C].x)){if(w&&w(u,y),l(u,x[C],y)){q.push(u);break}}else{w&&w(u,y);var z=y.ca(),v=y.da();y.Lz&&y.Lz()&&(z*=g.width,v*=g.height);var B=y.pn(),E=y.Vl();y.WSb(B,E,z,v,W.Xj,e);if(U.D4(t,e)){q.push(u);break}}}}});return q.reverse()};c.prototype.LK=function(h){x5.prototype.LK.call(this,h);h&&(this.FA().forEach(function(k){k.OE(this)}.bind(this)),
this.lr()instanceof Hm&&this.lr().CIa(h.jk()));return this};c.prototype.V4=function(h,k,l){var m=this;h!==M4.cs&&h!==M4.IQ||Hg.getIterator(l).forEach(function(n){if(!n.F4()&&(n=m.b_(n))){var p=n.Hb();if(p instanceof Gj&&!p.loaded){var q=function(){p.za(Fj.Cj,q);m.ha()};p.on(Fj.Cj,q)}}});h===M4.cs?(h=this.Jrc(l),this.Ce||null==h||(this.ks=null!=this.ks?this.ks.union(h):h,this.notify(Ce.Uq,this,this.ks)),this.ha(h)):x5.prototype.V4.call(this,h,k,l)};c.prototype.iPc=function(h){this.tra=h;return this};
c.prototype.nnd=function(){return this.tra};c.prototype.E4b=function(h){if(!this.tra)return this;var k=this.ea.annotations&&this.ea.annotations.strategy,l,m,n,p,q,r=h.ac(),t,u,w,y,A,x=this;r&&h.yh(null);this.tra.forEach(function(C){t=x.b_(C);if(t instanceof w4&&(w=t.pnd(),m=t.Gk(),y=t.gfa(),l=t.vP(),A=t.Rva(),u=t.Zva()||k,w.Ia())){var z=C.Fva();Array.isArray(z)||(z=[z]);p=C.getParent();u&&(n=u.bb(C,this),m.Eb(n));for(var v=0;v<z.length;++v)y.apply(z[v],w,h),l.apply(z[v],m,h),A&&A(C,w,h),p&&(q=t.ond(z[v],
p,h),q.render(h)),r&&h.yh(C),w.render(h),r&&h.yh(null),u&&m.Ia()&&m.render(h)}});return this};c.prototype.MGd=function(h){if(null!=this.rja&&!this.Cwa()&&!h.ac()){var k=this,l=this.rja,m=Zf.Ro,n=k.b_(l);if(n){var p=n.Hb(),q=n.gfa();n=n.Rva();p.MJ(m);k.notify(Ce.WJa,p,m);n&&n(l,p,h);n=l.Fva();l.OS()||(n=[n]);for(l=0;l<n.length;++l)q.apply(n[l],p,h),p.render(h);p.yI(m);k.notify(Ce.WJa,p,m);this.ea.annotations.visible&&0<=this.Lta.indexOf(this.rja)&&this.Aoa([this.rja],h)}}};c.prototype.ha=function(h,
k){this.CL=!0;return x5.prototype.ha.call(this,h,k)};c.prototype.notify=function(h,k,l){switch(h){case Ec.Ro:for(var m=this.wa().hd(l.qub(),d),n=l.getSelection(),p=Infinity,q=null,r=n.indexOf(this)+1;r<n.length&&!1!==n[r]instanceof i4;r++){var t=n[r],u=this.b_(t);if(u){u=u.Hb();u.MJ(Zf.Ro);var w=this.cdd(u);u.yI(Zf.Ro);w&&(t.F4()||t.OS()?q=t:(u=t.Vd(!0),u=M.Bfa(m.getX(),m.getY(),u.x,u.y),u<=p&&(q=t,p=u)))}}this.rja!==q&&(this.rja=q,this.notify(M4.iB,this,this.rja),this.Ag());break;case Ec.Tfb:null!=
this.rja&&(this.rja=null,this.notify(M4.iB,this,null),this.Ag())}return x5.prototype.notify.call(this,h,k,l)};c.prototype.cdd=function(h){if(null!=h.Kub()&&h.Kub().match(h))return!0;for(var k=this.getParent();null!=k;){if(null!=k.Kub()&&k.Kub().match(h))return!0;k=k.getParent()}return!1};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJyZXNldEZlYXR1cmVUZW1wbGF0ZXMiOiJ6SGQiLCJnZXRUZW1wbGF0ZSI6Ild2YSIsInNldFRlbXBsYXRlIjoiTEFiIiwiY2FsY3VsYXRlRGVmYXVsdE1vZGVsTGltaXRzIjoiZVMiLCJ1cGRhdGVHZW9tZXRyeSI6IlpnIiwiYWRkRmVhdHVyZSI6ImlsYSIsInJlbW92ZUZlYXR1cmUiOiJ5NGIiLCJjbGVhckZlYXR1cmVzIjoiQ0VhIiwic2V0QW5ub3RhdGlvblRleHRTdHlsZSI6Ing1YiIsInJlbmRlckFzeW5jIjoid2UiLCJyZW5kZXJDb250ZW50IjoiJGkiLCJyZW5kZXJGZWF0dXJlcyI6IkFnYSIsImdldE1vZGVsTGltaXRzIjoicGEiLCJnZXRHZW9tZXRyeVRvVGV4dCI6InZQIiwicmVuZGVyQW5ub3RhdGlvbnMiOiJBb2EiLCJoaXRUZXN0IjoiTGkiLCJzZXRNYXBDb29yZGluYXRlU3lzdGVtIjoiTEsiLCJvbkZlYXR1cmVzVXBkYXRlZCI6IlY0IiwiaW52YWxpZGF0ZSI6ImhhIn19fSAg");var F5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{source:a&&a.sources||new S4});null==a.templates&&(a.templates=[]);E5.call(this,a);null!=a.idfield&&this.xc.lpa(a.idfield);a=[F4.Oa(),G4.Oa(),D4.Oa(),E4.Oa(),t4.Oa(),C4.Oa(),u4.Oa()];for(var b=0;b<a.length;++b)if(null==this.K8a(a[b])){var d=this.Bmd(a[b]);null!=d&&this.LAb(a[b],d,!0)}}D(c,E5);L(c,"geotoolkit.map.layers.Vector");c.prototype.vzd=function(a){return this};c.prototype.lpa=function(a){this.xc.lpa(a);return this};c.prototype.Bmd=function(a){switch(a){case F4.Oa():case G4.Oa():return new k5;
case D4.Oa():case E4.Oa():return new i5;case t4.Oa():case C4.Oa():return new j5;case u4.Oa():return new w4}return null};c.prototype.ia=function(){var a=E5.prototype.ia.call(this);a.idfield=this.xc.w_b();return a};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;"string"===typeof a.idfield&&this.xc.lpa(a.idfield);E5.prototype.fa.call(this,a);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJsb2FkRGF0YSI6InZ6ZCIsInNldFVuaXF1ZUZpZWxkIjoibHBhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var G5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){d=G(d,{source:d&&(d.source||d.sources)||new D5,token:null,templates:[],annotations:{}},!0);H4.Qtc(d.annotations,"filter",$4);var e=Array.isArray(d.source)?1===d.source.length?d.source[0]:new T4(d.source):d.source;null!=d.requestresolution&&e.Wcb(d.requestresolution);null!=d.idfield&&e.lpa(d.idfield);null!=d.requestfields&&e.dP("setRequestFields",d.requestfields);null!=d.token&&e.dP("setToken",d.token);d.source=e;F5.call(this,d);null!=d.layer&&this.xc instanceof D5&&
this.xc.ZD(d.layer)}var a=Zd.ya().Wa("px"),b=Zd.ya().Wa("metre");D(c,F5);L(c,"geotoolkit.map.layers.ArcGISFeature");c.prototype.Nub=function(){return this.xc.Nub()};c.prototype.ia=function(){var d=F5.prototype.ia.call(this);d.requestresolution=this.xc.SCc();return d};c.prototype.fa=function(d){d=hc(d);if(null==d)return this;F5.prototype.fa.call(this,d);void 0!==d.requestresolution&&this.xc.Wcb(d.requestresolution);void 0!==d.requestfields&&this.xc.dP("setRequestFields",d.requestfields);void 0!==d.token&&
this.xc.dP("setToken",d.token);void 0!==d.layer&&this.xc instanceof D5&&this.xc.ZD(d.layer);return this};c.prototype.ZD=function(d){null!=this.xc&&this.xc.ZD(d);return this};c.prototype.kI=function(){return null!=this.xc?this.xc.kI():null};c.prototype.V4=function(d,e,f){F5.prototype.V4.call(this,d,e,f);d===Ce.Uq&&(1===this.VN&&(this.VN=e.dI()),d=new a5(e.Vua()),this.ea.annotations.filter.push(d),e=e.NZb(),null==this.OF&&null!=e&&(this.OF=new sm({minscale:b.convert(e[0],a),minscaleinclusive:!1,maxscale:b.convert(e[1],
a),maxscaleinclusive:!1})))};c.prototype.Aga=function(d,e){var f=[],g=[];if(null!=this.fd()&&this.fd().zwa()){var h=this.kI();d.forEach(function(l){var m=l.wSa().jab;if(null==m)g.push(l);else if(null==h||-1!==h.indexOf(m))f[m]=f[m]||[],f[m].push(l)});f.reverse()}else g=d instanceof Hg?d.toArray():d;0<g.length&&f.push(g);var k=a.convert(e.Fa().pb(),b);d=e.dI();f.forEach(function(l){if(0!==l.length){var m=l[0].wSa(),n=(m=l!==g?this.xc.d9a(m.jab):null)?m.NZb():null;null!=n&&(null!=n[0]&&n[0]>k||null!=
n[1]&&n[1]<k)||(m=m?m.dI():1,e.Nq(this.VN*m),F5.prototype.Aga.call(this,l,e),F5.prototype.Gx.call(this,e))}}.bind(this));e.Nq(d)};c.prototype.g5=function(d){var e=this.fd();e instanceof D5?e.g5(d):d(Error("ArcGISFeature source should be used to query a legend"));return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRSZXF1ZXN0RmllbGRzIjoiTnViIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwic2hvd0xheWVycyI6IlpEIiwiZ2V0VmlzaWJsZUxheWVycyI6ImtJIiwib25GZWF0dXJlc1VwZGF0ZWQiOiJWNCIsInJlbmRlckZlYXR1cmVzIjoiQWdhIiwicXVlcnlMZWdlbmQiOiJnNSJ9fX0g");var H5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){b=G(b,{connector:new y5({connector:new q5}),transparent:!0});I4.call(this,b);this.PMa=b.geometryconnector||new B4}function a(b){for(var d="&layers=show:"+b[0],e=1;e<b.length;e++)d+=","+b[e];return d}D(c,I4);L(c,"geotoolkit.map.sources.formats.ArcGISImage");c.prototype.query=function(b){var d=b.left,e=b.right,f=b.top,g=b.bottom,h=b.width,k=b.height,l=this.ua.url;if(!l)return this;var m=l.endsWith("/")?"":"/",n=a(this.ua.Vz),p="export",q=new Gj({lazyloading:!0,ax:(d+
e)/2,ay:(f+g)/2,width:e-d,height:g-f,ispointingup:!0,alignment:O.Na,crossorigin:"anonymous"});if((l+m).endsWith("ImageServer/"))p="exportImage",n="";else if(0===this.ua.Vz.length)return this.notify(Fj.Cj,q,null),this;l=this.ua.rk.mr().EA();d="?bbox="+d+"%2C"+f+"%2C"+e+"%2C"+g+"&size="+h+"%2C"+k;m=m+p+d+n+"&imageSR="+l+"&bboxSR="+l+"&f=image";this.Cl.send(this.hI(m),{token:this.ua.SG,dst:q,key:b.key},function(r,t){if(r)this.onError(r);else this.ge()||this.notify(Fj.Cj,t,t.url)}.bind(this));return this};
c.prototype.$$=function(b){if(!this.ua.url)return this;var d=b.geometry,e=this.ua.url.endsWith("/")?"":"/",f=null!=b.layer?b.layer+"/":"",g=this.ua.rk.mr(),h=g.jk();g=g.EA();if(d instanceof M){var k="esriGeometryPoint";d=d.getX()+","+d.getY()}else if(d instanceof U)k="esriGeometryEnvelope",d=d.la()+","+d.ka()+","+d.na()+","+d.ma();else if(d instanceof th){var l=d.ce(),m=d.Fe();k="esriGeometryPolygon";d=encodeURI('{"rings":[[');for(var n=0;n<l.length;n++){var p=h.la()+(l[n]+h.ca()-h.la())%h.ca();d+=
"["+p+","+m[n]+"]";d+=n+1!==l.length?",":encodeURI("]]}")}}else return this;e=e+f+"query?geometryType="+k+"&geometry="+d+"&inSR="+g+"&outFields=*&f=json";this.PMa.send(this.hI(e),{key:b.key},function(q,r){if("string"===typeof r)try{r=JSON.parse(r)}catch(t){r={}}this.notify(M4.iB,this,{layer:b.layer,data:r})}.bind(this));return this};c.prototype.$R=function(b){this.PMa.abort(b);return this};c.prototype.nwa=function(b){if(!this.ua.url)return this;var d=b.left,e=b.right,f=b.top,g=b.bottom,h=b.width,
k=b.height,l=this.ua.url.endsWith("/")?"":"/",m=this.ua.rk.mr(),n=m.jk();m=m.EA();var p=b.geometry;if(p instanceof M){var q="esriGeometryPoint";var r=p.getX()+","+p.getY()}else if(p instanceof U)q="esriGeometryPolygon",r='{"rings":[[',r+="["+p.la()+","+p.ka()+"],",r+="["+p.na()+","+p.ka()+"],",r+="["+p.na()+","+p.ma()+"],",r+="["+p.la()+","+p.ma()+"],",r+="["+p.la()+","+p.ka()+"]",r+="]]}";else if(p instanceof th){var t=p.ce();p=p.Fe();q="esriGeometryPolygon";r='{"rings":[[';for(var u=0;u<t.length;u++){var w=
n.la()+(t[u]+n.ca()-n.la())%n.ca();r+="["+w+","+p[u]+"]";r+=u+1!==t.length?",":"]]}"}}else return this;n=l+"identify?f=json&geometryType="+q+"&geometry="+r;(this.ua.url+l).endsWith("ImageServer/")?(n+="&inSR="+m,n+="&pixelSize={x:"+Math.abs(e-d)/h+",y:"+Math.abs(f-g)/k+"}"):(n+="&mapExtent="+d+","+f+","+e+","+g,n+="&imageDisplay="+h+","+k,n+="&sr="+m,null!=b.layers&&(n+="&layers="+b.layers),n+="&tolerance=0");n=encodeURI(n);this.PMa.send(this.hI(n),{key:b.key},function(y,A){if("string"===typeof A)try{A=
JSON.parse(A),A.results&&!A.features&&(A.features=A.results)}catch(x){A={}}this.notify(M4.iB,this,{layer:-1,data:A})}.bind(this));return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJxdWVyeUdlb21ldHJ5IjoiJCQiLCJhYm9ydEdlb21ldHJ5UXVlcmllcyI6IiRSIiwiaWRlbnRpZnkiOiJud2EifX19");var I5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{connector:new y5});n5.call(this,a)}D(c,n5);L(c,"geotoolkit.map.sources.loaders.ArcGISImage");c.prototype.parse=function(a,b){"string"===typeof a&&(a=JSON.parse(a));this.ua.data=a;if(null!=a.error)throw A5.warn(a.error),Error("ArcGISImage server returned error!");var d=a.spatialReference||a.sourceSpatialReference;this.ua.Vz=this.ua.Vz||[];if(Array.isArray(a.layers)){if(0===this.ua.Vz.length)for(var e=0;e<a.layers.length;++e){var f=a.layers[e];!0!==f.defaultVisibility||
f.subLayerIds||this.ua.Vz.push(f.id)}this.ua.layers=this.V2b(a.layers,a.type);this.vIa(a.fullExtent,d)}else this.ua.layers=null,this.vIa(a.extent,d);this.ua.initial=this.hYb(a.initialExtent,d);this.uib=a.copyrightText;this.loaded(b)};c.prototype.clear=function(){this.ua.layers=[];n5.prototype.clear.call(this)};c.prototype.iW=function(){return this.ua.url?this.ua.url+"?f=pjson":null};c.prototype.YSa=function(){return{token:this.ua.SG}};c.prototype.vIa=function(a,b){this.f8b(a.spatialReference||b);
b=this.ua.rk;var d=new M(parseFloat(a.xmin),parseFloat(a.ymin));a=new M(parseFloat(a.xmax),parseFloat(a.ymax));b.transform(d,d);b.transform(a,a);this.ua.Ub=new U(d.x,d.y,a.x,a.y);return this};c.prototype.hYb=function(a,b){if(!a)return this.ua.Ub;b=a.spatialReference||b;b=b.wkid||b.wkt||b;var d=this.ua.rk.eI();if(d.EA()===b)b=this.ua.rk;else{b=c4.ag().Tj(b);if(!b)return this.ua.Ub;b=new d4({initialcoordinatesystem:b,targetcoordinatesystem:this.ua.rk.mr()})}d=new M(parseFloat(a.xmin),parseFloat(a.ymin));
a=new M(parseFloat(a.xmax),parseFloat(a.ymax));b.transform(d,d);b.transform(a,a);return new U(d.x,d.y,a.x,a.y)};c.prototype.f8b=function(a){a=a.wkid||a.wkt||a;var b=this.ua.rk.eI();if(b.EA()===a)return this;b=c4.ag().Tj(a);if(!b)throw Error("ArcGISImage: coordinate system ("+a+") is not supported, use geotoolkit.map.coordinatesystems.Registry to register it manually.");this.ua.YZ.UIa(b);this.ua.rk.t5(b);return this};c.prototype.g5=function(a){this.ua.url?this.ua.x$?this.ua.x$.data?a(null,this.ua.x$.data):
this.ua.x$.error?a(this.ua.x$.error):this.ua.x$.Eqb.push(a):(this.ua.x$={Eqb:[a]},a=this.ua.url.endsWith("/")?"":"/",a=this.ua.url+a+"legend?f=json",a=H4.FRa(a,this.YC),this.Cl.send(a,null,function(b,d){if(b)this.kxb(b,d);else{if("string"===typeof d)try{d=JSON.parse(d)}catch(e){this.kxb(e,d);return}(b=A5.aDd(d,this.ua.url))?this.kxb(null,b):this.kxb(Error(d&&d.error||"Wrong Legend received"))}}.bind(this))):a(Error("Cannot load ArcGIS legend: no server provided"))};c.prototype.kxb=function(a,b){this.ua.x$.error=
a;this.ua.x$.data=b;for(var d=0;d<this.ua.x$.Eqb.length;++d)this.ua.x$.Eqb[d](a,b);this.ua.x$.Eqb=[]};c.prototype.V2b=function(a,b){b="Group Layer"===b?this.ua.url.substr(0,this.ua.url.lastIndexOf("/"))+"/":this.ua.url+"/";for(var d=0;d<a.length;++d){var e=a[d],f=a[e.parentLayerId];null!=f&&(0<f.minScale&&(e.minScale=0<e.minScale?Math.min(e.minScale,f.minScale):f.minScale),0<f.maxScale&&(e.maxScale=0<e.maxScale?Math.max(e.maxScale,f.maxScale):f.maxScale));e.url=b+e.id}return a};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc1VybCI6ImlXIiwiZ2V0UmVxdWVzdE9wdGlvbnMiOiJZU2EifX19");var J5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e,f,g){e=e.Ta(f);f=Math.floor(e.la());var h=Math.ceil(e.na());f<g.la()?(h+=g.la()-f,h=Math.min(h,g.na()),f=g.la()):h>g.na()&&(f+=g.na()-h,f=Math.max(f,g.la()),h=g.na());var k=Math.floor(e.ka()),l=Math.ceil(e.ma());k<g.ka()?(l+=g.ka()-k,l=Math.min(l,g.ma()),k=g.ka()):l>g.ma()&&(k+=g.ma()-l,k=Math.max(k,g.ka()),l=g.ma());return e.cb(f,k,h,l)}function a(e,f){var g=1E-5;return f.la()>=e.la()-g&&f.na()<=e.na()+g&&f.ka()>=e.ka()-g&&f.ma()<=e.ma()+g}function b(e,f){Q4.call(this,
e,f);this.uz=[]}var d=.001;D(b,Q4);L(b,"geotoolkit.map.sources.managers.Image");b.prototype.query=function(e,f){this.ua.CXa||(e=f.vb(!0));var g=f.wa();f=g.pb();e=this.Bh(e,f);if(!e)return!1;null!=this.Fy&&(clearTimeout(this.Fy),this.Fy=null);this.Fy=setTimeout(function(){for(var h=g.Ta(this.ua.CXa?this.ua.Ub:this.ua.rk.mr().jk()),k=0;k<this.uz.length;++k){var l=this.uz[k];if(!this.uz[k].Fyb){var m=c(g,l.Ka,h);g.pd(m,l.Ka);var n=Math.round(m.ca());m=Math.round(m.da());this.Ig.query({left:l.Ka.getX(),
top:l.Ka.ka(),right:l.Ka.na(),bottom:l.Ka.ma(),width:Math.max(n,1),height:Math.max(m,1)});l.Fyb=!0}}this.Fy=null}.bind(this),this.ua.timeout);return!0};b.prototype.Bh=function(e,f){var g=this.ua.rk.mr().jk(),h=[];if(g.Cz(e))this.ua.CXa&&e.intersect(this.ua.Ub),e.isEmpty()||h.push(e);else{var k=e.clone().intersect(g);this.ua.CXa&&k.intersect(this.ua.Ub);k.isEmpty()||h.push(k);k=e.getX()>g.getX()?g.ca():-g.ca();k=g.clone().intersect(e.translate(-k,0));this.ua.CXa&&k.intersect(this.ua.Ub);k.isEmpty()||
h.push(k)}var l;k=this.ua.Uc*e.ca();e=this.ua.Uc*e.da();g=this.ua.CXa?this.ua.Ub:g;if(!V.equals(this.Pg,f)||0===h.length){this.Pg=f;this.uz=[];for(f=0;f<h.length;++f)this.uz.push({Ka:h[f].Uc(k,e).intersect(g),Fyb:!1});return!0}var m=[],n=!1;for(f=0;f<h.length;f++){for(l=0;l<this.uz.length&&!a(this.uz[l].Ka,h[f]);l++);l===this.uz.length?(m.push({Ka:h[f].Uc(k,e).intersect(g),Fyb:!1}),n=!0):(this.uz[l].Fyb||(h[f].Uc(k,e).intersect(g),n=n||this.uz[l].Ka.Cz(h[f]),this.uz[l].Ka.union(h[f])),0>m.indexOf(this.uz[l])&&
m.push(this.uz[l]))}this.uz=m;return n};b.prototype.VM=function(){this.Ig.on(Fj.Cj,function(e,f){for(var g=!0,h=0;h<this.uz.length;++h)this.uz[h].Ka.wi(f.ga(),d)?this.uz[h].PTa=f:this.uz[h].PTa||(g=!1);g&&(f=this.uz.map(function(k){return k.PTa}),this.notify(e,this,f))}.bind(this));return this};b.prototype.abort=function(){null!=this.Fy&&(clearTimeout(this.Fy),this.Fy=null);return Q4.prototype.abort.call(this)};b.prototype.clear=function(){Q4.prototype.clear.call(this);this.uz=[];this.ck=[];this.Pg=
null;return this};b.prototype.Wm=function(){return null!=this.Fy||Q4.prototype.Wm.call(this)};return b}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0Rm9ybWF0IjoiVk0iLCJpc0xvYWRpbmciOiJXbSJ9fX0g");var K5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=a||{};P4.call(this,a);this.ua=this.ua||{};this.ua.Uc=a.hasOwnProperty("inflate")?a.inflate:.2;this.ua.timeout=a.hasOwnProperty("timeout")?a.timeout:50;this.ua.CXa=a.hasOwnProperty("uselayerlimits")?a.uselayerlimits:!1;this.ua.Vz=[]}D(c,P4);L(c,"geotoolkit.map.sources.Image");c.prototype.WM=function(a){this.Vh=new J5(a,this.ua);this.Vh.on(M4.Cj,function(b,d,e){this.notify(M4.Cj,this,e);this.HK(!0)}.bind(this));return this};c.prototype.clear=function(){this.notify(M4.uKa,
this,null);P4.prototype.clear.call(this);return this};c.prototype.eQc=function(a){this.ua.Uc=a;return this};c.prototype.AAc=function(){return this.ua.Uc};c.prototype.mSc=function(a){this.ua.timeout=a;return this};c.prototype.CDc=function(){return this.ua.timeout};c.prototype.ZD=function(a){this.ua.Vz=a?Array.isArray(a)?a:[a]:[];this.update();return this};c.prototype.w4=function(a){var b=[];if(null!=a)for(var d=0;d<this.ua.Vz.length;++d){var e=this.ua.Vz[d];(Array.isArray(a)?-1===a.indexOf(e):e!==
a)&&b.push(e)}this.ua.Vz=b;this.update();return this};c.prototype.kI=function(){return this.ua.Vz};c.prototype.L9=function(){return this.ua.layers};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRJbmZsYXRlUmF0aW8iOiJlUWMiLCJnZXRJbmZsYXRlUmF0aW8iOiJBQWMiLCJzZXRTb3VyY2VUaW1lb3V0IjoibVNjIiwiZ2V0U291cmNlVGltZW91dCI6IkNEYyIsInNob3dMYXllcnMiOiJaRCIsImhpZGVMYXllcnMiOiJ3NCIsImdldFZpc2libGVMYXllcnMiOiJrSSIsImdldExheWVycyI6Ikw5In19fSAg");var L5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){J5.call(this,a,b);this.Lc=null;this.xL={}}D(c,J5);L(c,"geotoolkit.map.sources.managers.ArcGISImage");c.prototype.$$=function(a){var b,d=[],e=[],f=this.ua.nXa||this.ua.Vz;if(this.gGc(a))for(b=0;b<f.length;++b){var g=f[b];this.xL.hasOwnProperty(g)?e.push.apply(e,this.xL[g]):d.push(g)}else d=f,this.Lc=a,this.xL={},this.Ig.$R();for(b=0;b<d.length;++b)this.Ig.$$({geometry:a,layer:d[b]}),this.xL[d[b]]=null;return 0===d.length||0<e.length?e:null};c.prototype.nwa=function(a,
b){if(this.gGc(a)){a=[];for(var d in this.xL)this.xL.hasOwnProperty(d)&&a.push.apply(a,this.xL[d]);return a}this.xL={};this.Lc=a;d=this.ua.nXa||this.ua.Vz;var e=b.vb();b=b.wa();b=b.Ta(e).round();this.Ig.nwa({geometry:a,left:e.la(),right:e.na(),top:e.ka(),bottom:e.ma(),width:b.ca(),height:b.da(),layers:"all:"+d.join(",")});return null};c.prototype.gGc=function(a){if(a===this.Lc)return!0;if(a instanceof U&&this.Lc instanceof U)return a.wi(this.Lc);if(a instanceof M&&this.Lc instanceof M)return a.Ew(this.Lc);
if(a instanceof th&&this.Lc instanceof th){if(a.getSize()!==this.Lc.getSize())return!1;var b=a.getSize(),d=a.ce();a=a.Fe();for(var e=this.Lc.ce(),f=this.Lc.Fe(),g=0;g<b;g++)if(d[g]!==e[g]||a[g]!==f[g])return!1;return!0}return!1};c.prototype.VM=function(){J5.prototype.VM.call(this);this.Ig.on(M4.iB,function(a,b,d){a=d.layer;b=d.data;if(Array.isArray(b.features)&&0<b.features.length)this.xL[a]=A5.jDd(b,a);else{this.xL[a]=[];for(var e in this.xL)if(!this.xL[e]||0<this.xL[e].length)return}this.notify(M4.iB,
this,d)}.bind(this));return this};c.prototype.$R=function(){this.Ig.$R();return this};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJxdWVyeUdlb21ldHJ5IjoiJCQiLCJpZGVudGlmeSI6Im53YSIsImluaXRGb3JtYXQiOiJWTSJ9fX0g");var M5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{format:new H5,loader:new I5});K5.call(this,a);this.ua=this.ua||{};this.ua.SG=a.token;this.ua.nXa=null;this.LOc(a.dpi);this.setTime(a.time);this.sX(a.transparent);this.aPc(a.dynamicLayers)}D(c,K5);L(c,"geotoolkit.map.sources.ArcGISImage");c.prototype.WM=function(a){this.Vh=new L5(a,this.ua);var b=function(d,e,f){this.notify(d,this,f);this.HK(!0)}.bind(this);this.Vh.on(M4.Cj,b);this.Vh.on(M4.iB,b);this.Ig=a;return this};c.prototype.g5=function(a){this.qFa()?this.qFa().g5(a):
a(Error("Cannot query ArcGIS legend, no loader provided!"))};c.prototype.$$=function(a){return this.Ena()?this.Vh.$$(a):[]};c.prototype.$R=function(){this.Vh.$R();return this};c.prototype.nwa=function(a,b){return this.Ena()?this.Vh.nwa(a,b):[]};c.prototype.iYb=function(){return this.ua.initial};c.prototype.PAb=function(a){this.ua.nXa=null==a?null:Array.isArray(a)?a:[a];return this};c.prototype.LOc=function(a){if(null==this.Ig||null==a)return this;this.Ig.kF("dpi",a);this.update();return this};c.prototype.setTime=
function(a){if(null==this.Ig||null==a)return this;a instanceof Jd&&(a=a.Ua()+", "+a.Za());this.Ig.kF("time",a);this.update();return this};c.prototype.sX=function(a){if(null==this.Ig||null==a)return this;this.Ig.kF("transparent",a);this.update();return this};c.prototype.aPc=function(a){if(null==this.Ig||null==a)return this;this.Ig.kF("dynamicLayers",JSON.stringify(a));this.update();return this};c.prototype.HWa=function(a){this.ua.SG=a;return this};c.prototype.oW=function(){return this.ua.SG};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0UXVlcnlNYW5hZ2VyIjoiV00iLCJxdWVyeUxlZ2VuZCI6Imc1IiwicXVlcnlHZW9tZXRyeSI6IiQkIiwiYWJvcnRHZW9tZXRyeVF1ZXJpZXMiOiIkUiIsImlkZW50aWZ5IjoibndhIiwiZ2V0SW5pdGlhbE1vZGVsTGltaXRzIjoiaVliIiwic2V0VG9vbHRpcExheWVycyI6IlBBYiIsInNldERQSSI6IkxPYyIsInNldFRyYW5zcGFyZW50Ijoic1giLCJzZXREeW5hbWljTGF5ZXJzIjoiYVBjIiwic2V0VG9rZW4iOiJIV2EiLCJnZXRUb2tlbiI6Im9XIn19fSAg");var N5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){l5.call(this,d);d&&d.showlayers&&(this.w4(),this.ZD(d.showlayers));this.ck=null}var a=new U,b=new U;D(c,l5);L(c,"geotoolkit.map.layers.Image");c.prototype.render=function(d){if(this.isVisible&&(null==this.OF||this.OF.filter(this,d)))if(d.ac())this.Qr()&&(d.qa(rf.kh),d.sc(this.pa()));else{var e=this.vb(!0);null!=e&&(this.fd().query(e,this),this.$i(d))}};c.prototype.we=function(d,e){if(!this.isVisible||null!=this.OF&&!this.OF.filter(this,d))e();else if(d.ac())this.Qr()&&
(d.qa(rf.kh),d.sc(this.pa())),e();else{var f=this.vb(!0);null==f?e():(this.fd().query(f,this),this.Hs(d,e))}};c.prototype.$i=function(d){if(null!=this.ck){var e=d.dI(),f=d.Fa(),g=d.Bs(),h=this.Tj().jk();h=f.Ta(h,a);var k=d.jg();d.zh({Oz:!0});d.Nq(this.VN);d.Tb(W.Xj);for(var l=h.na()>k.getX()-1&&h.na()<k.na()+1,m=h.getX()>k.getX()-1&&h.getX()<k.na()+1,n=0;n<this.ck.length;n++){var p=!1,q=this.ck[n],r=f.Ta(q.ga(),b);if(l){p=V.equals(h.na(),r.na(),1);var t=Math.round(Math.round(h.na())*g);var u=Math.round(t-
r.ca()*g)}else m&&(p=V.equals(h.la(),r.la(),1),u=Math.round(Math.round(h.la())*g),t=Math.round(u+r.ca()*g));p||(p=r.Nd(k),u=Math.round(Math.round(r.la())*g),t=Math.round(u+r.ca()*g));p&&null!=q.HA()&&(q=q.HA(),d.drawImage(q,0,0,q.width,q.height,u,r.ka()*g,t-u,r.da()*g))}d.Tb(f);d.Nq(e);d.ro()}};c.prototype.L9=function(){return null!=this.fd()?this.fd().L9():null};c.prototype.kI=function(){return null!=this.fd()?this.fd().kI():null};c.prototype.ZD=function(d){null!=this.fd()&&this.fd().ZD(d);return this};
c.prototype.w4=function(d){null!=this.fd()&&this.fd().w4(d);return this};c.prototype.$A=function(d){if(this.xc===d)return this;this.SR||(this.SR=function(e,f,g){this.notify(Ce.Uq,this,g)}.bind(this));this.T8||(this.T8=function(e,f,g){this.ck=g;this.ha()}.bind(this));null!=this.xc&&(this.xc.za(Ce.Uq,this.SR),this.xc.za(M4.Cj,this.T8),this.xc.za(M4.uKa,this.T8));this.xc=d;null!=this.xc&&(this.xc.on(Ce.Uq,this.SR),this.xc.on(M4.Cj,this.T8),this.xc.on(M4.uKa,this.T8),d=this.ea.url||this.ea.server,null!=
d&&null==this.xc.q4()&&this.xc.x5(d));return this};c.prototype.ia=function(){var d=l5.prototype.ia.call(this);d.showlayers=this.kI();return d};c.prototype.fa=function(d){d=hc(d);if(null==d)return this;void 0!==d.showlayers&&(this.w4(),this.ZD(d.showlayers));l5.prototype.fa.call(this,d);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJyZW5kZXJBc3luYyI6IndlIiwicmVuZGVyQ29udGVudCI6IiRpIiwiZ2V0TGF5ZXJzIjoiTDkiLCJnZXRWaXNpYmxlTGF5ZXJzIjoia0kiLCJzaG93TGF5ZXJzIjoiWkQiLCJoaWRlTGF5ZXJzIjoidzQiLCJzZXREYXRhU291cmNlIjoiJEEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var O5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e){e=xb(e,{source:e&&e.source||new M5,token:null,tooltip:{visible:!1,formatter:new c5(null,null,Infinity,!0)}});N5.call(this,e);e.tooltip.layers&&this.fd().PAb(e.tooltip.layers);null!=e.token&&this.fd().dP("setToken",e.token)}var a=new M,b=new Vd,d=2;D(c,N5);L(c,"geotoolkit.map.layers.ArcGISImage");c.prototype.g5=function(e){var f=this.fd();f instanceof M5?f.g5(e):e(Error("ArcGISImage source should be used to query a legend"));return this};c.prototype.Zla=function(e,f){return this.Li(f,
d)};c.prototype.Li=function(e,f){var g=this.dK();if(!g)return[];var h=g.jk();g=this.wa();e=g.hd(e,a);e.getX()<h.getX()?e.x+=h.ca():e.getX()>h.na()&&(e.x-=h.ca());h=this.pa();if(!h||!h.contains(e))return[];f=null==f?2:f;g.Sk(b.setSize(f,f),b);return this.xc.nwa(new U(e.getX()-b.ca(),e.getY()-b.da(),e.getX()+b.ca(),e.getY()+b.da()),this)};c.prototype.k$=function(){return!0===this.ea.tooltip.visible?this.ea.tooltip.formatter:null};c.prototype.$A=function(e){if(this.xc===e)return this;this.NCa||(this.NCa=
function(f,g,h){this.notify(M4.iB,this,h)}.bind(this));null!=this.xc&&this.xc.za(M4.iB,this.NCa);N5.prototype.$A.call(this,e);if(null!=this.xc)this.xc.on(M4.iB,this.NCa);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJxdWVyeUxlZ2VuZCI6Imc1IiwiZmlsdGVyVG9vbHRpcEluZm8iOiJabGEiLCJoaXRUZXN0IjoiTGkiLCJnZXRUb29sdGlwRm9ybWF0dGVyIjoiayQiLCJzZXREYXRhU291cmNlIjoiJEEifX19");var P5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{tilewidth:256,tileheight:256,imagepool:400,token:null,minlod:0,maxlod:15},!0);a.format=a.format||new s5({formatterfunction:a.formatterfunction,token:a.token});P4.call(this,a);this.ua=this.ua||{};this.ua.SG=a.token;this.ua.gu=a.tilewidth;this.ua.fu=a.tileheight;this.ua.WS=a.minlod;this.ua.aN=a.maxlod;this.ua.mbb=a.imagepool;this.ua.wxa=[]}D(c,P4);L(c,"geotoolkit.map.sources.Tile");c.prototype.WM=function(a){this.Vh=new u5(a,this.ua);this.Vh.on(M4.bL,function(b,
d,e){this.notify(M4.bL,this,e);this.HK(!0)}.bind(this));return this};c.prototype.clear=function(){null!=this.Vh&&this.Vh.clear();P4.prototype.clear.call(this);return this};c.prototype.wD=function(){return null!=this.Vh?this.Vh.wD():{}};c.prototype.bK=function(){return null!=this.Vh?this.Vh.bK():new Vd(1,1)};c.prototype.m9a=function(){return this.ua.WS};c.prototype.j9a=function(){return this.ua.aN};c.prototype.j$=function(){return this.ua.gu};c.prototype.i$=function(){return this.ua.fu};c.prototype.fa=
function(a){a=hc(a);if(null==a)return this;P4.prototype.fa.call(this,a);void 0!==a.formatterfunction&&this.Vh.xIa(a.formatterfunction);void 0!==a.tilewidth&&(this.ua.gu=a.tilewidth);void 0!==a.tileheight&&(this.ua.fu=a.tileheight);void 0!==a.minlod&&(this.ua.WS=a.minlod);void 0!==a.maxlod&&(this.ua.aN=a.maxlod);void 0!==a.imagepool&&(this.ua.mbb=a.imagepool);void 0!==a.token&&(this.ua.SG=a.token);this.Vh.G9().xt(this.ua);return this};c.prototype.ia=function(){var a=P4.prototype.ia.call(this);a.tilewidth=
this.ua.gu;a.tileheight=this.ua.fu;a.minlod=this.ua.WS;a.maxlod=this.ua.aN;a.imagepool=this.ua.mbb;a.token=this.ua.SG;return a};c.prototype.G9=function(){return this.Vh?this.Vh.G9():null};c.prototype.xIa=function(a){this.Vh&&this.Vh.xIa(a);return this};c.prototype.oK=function(){return null!=this.Vh?this.Vh.oK():this.ua.WS};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var Q5=/*#__PURE__*/function(){function c(a){I5.call(this,a)}D(c,I5);L(c,"geotoolkit.map.sources.loaders.ArcGISTile");c.prototype.parse=function(a,b){"string"===typeof a&&(a=JSON.parse(a));this.ua.data=a;if(null!=a.error)throw A5.warn(a.error),Error("ArcGISTile server returned error!");var d=a.spatialReference||a.sourceSpatialReference;this.vIa(Array.isArray(a.layers)?a.fullExtent:a.extent,d);null!=a.minLOD&&(this.ua.WS=Math.max(this.ua.WS,+a.minLOD));null!=a.maxLOD&&(this.ua.aN=Math.min(this.ua.aN,+a.maxLOD));
d=(d=a.tileInfo)?d.lods:null;if(Array.isArray(d)&&0<d.length){for(var e=Infinity,f=-Infinity,g=0;g<d.length;++g){var h=d[g].level;null!=h&&(e=Math.min(e,h),f=Math.max(f,h))}this.ua.WS=Math.max(this.ua.WS,e);this.ua.aN=Math.min(this.ua.aN,f)}this.ua.wxa=[0<a.minScale?1/a.minScale:null,0<a.maxScale?1/a.maxScale:null];this.ua.hsb=function(k,l,m){return"/tile/"+k+"/"+l+"/"+m};this.uib=a.copyrightText;this.loaded(b)};return c}();var R5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){b=G(b,{tilewidth:256,tileheight:256,minlod:0,maxlod:15,imagepool:400,source:null,format:b&&b.formatterfunction?new s5({formatterfunction:b.formatterfunction}):null,url:null},!0);b.source=b.source||new P5(b);l5.call(this,b)}var a=new U;D(c,l5);L(c,"geotoolkit.map.layers.Tile");c.prototype.render=function(b){!this.isVisible||this.OF&&!this.OF.filter(this,b)||(b.ac()?(b.qa(rf.kh),b.sc(this.pa())):this.$i(b))};c.prototype.we=function(b,d){if(this.isVisible&&(!this.OF||
this.OF.filter(this,b)))if(b.ac())b.qa(rf.kh),b.sc(this.pa());else{this.Hs(b,d);return}d()};c.prototype.$i=function(b){if(null!=this.q4()&&null!=this.dK()){var d=this.vb();this.fd().query(d,this);var e=b.Bs(),f=b.Fa(),g=b.jg(),h=this.Kvb(),k=f.Ta(h,a);h=k.ka()*e;g=k.na()>g.getX()-1&&k.na()<g.na()+1?Math.round(Math.round(k.na())*e)-k.ca()*e:k.getX()>g.getX()-1&&k.getX()<g.na()+1?Math.round(Math.round(k.getX())*e):k.getX()*e;var l=this.fd().bK();k={width:e*k.ca()/l.ca(),height:e*k.da()/l.da()};d=f.Ta(d,
a);e={hC:Math.floor((e*d.la()-g)/k.width),UA:Math.ceil((e*d.na()-g)/k.width),bN:Math.floor((e*d.ka()-h)/k.height),xK:Math.ceil((e*d.ma()-h)/k.height)};d=this.fd().wD();g+=e.hC*k.width;h+=e.bN*k.height;l=b.dI();b.zh({Oz:!0});b.Tb(W.Xj);b.Nq(this.VN);for(var m in d)d[m]instanceof Gj&&this.OGd(d[m],b,e,g,h,k);b.Nq(l);b.Tb(f);b.ro()}};c.prototype.OGd=function(b,d,e,f,g,h){var k=b.Jh,l=b.Mt;if(null==b.image||k<e.hC||k>e.UA||l<e.bN||l>e.xK)return this;var m=b.image,n=Math.round(f+(k-e.hC)*h.width),p=Math.round(g+
(l-e.bN)*h.height);f=Math.round(f+(k-e.hC+1)*h.width);e=Math.round(g+(l-e.bN+1)*h.height);d.drawImage(m,0,0,b.width,b.height,n,p,f-n,e-p);return this};c.prototype.m9a=function(){return this.fd().m9a()};c.prototype.j9a=function(){return this.fd().j9a()};c.prototype.oud=function(){return new Vd(this.fd().j$(),this.fd().i$())};c.prototype.LKd=function(b){this.fd().xIa(b);return this};c.prototype.Rod=function(){return this.fd().G9()};c.prototype.$A=function(b){if(this.xc===b)return this;this.SR||(this.SR=
function(d,e,f){this.notify(Ce.Uq,this,f)}.bind(this));this.tV||(this.tV=function(d,e,f){this.ha(f)}.bind(this));null!=this.xc&&(this.xc.za(Ce.Uq,this.SR),this.xc.za(M4.bL,this.tV));this.xc=b;null!=this.xc&&(this.xc.on(Ce.Uq,this.SR),this.xc.on(M4.bL,this.tV),b=this.ea.url||this.ea.server,null!=b&&null==this.xc.q4()&&this.xc.x5(b));return this};c.prototype.ia=function(){var b=l5.prototype.ia.call(this);b=xb(this.fd().ia(),b);b.formatterfunction=this.fd().G9();return b};c.prototype.fa=function(b){b=
hc(b);if(null==b)return this;l5.prototype.fa.call(this,b);this.xc.fa(b);return this};c.prototype.fLd=function(b,d){this.fd().fa({minlod:b,maxlod:d});return this};c.prototype.oK=function(){return this.fd().oK()};c.prototype.ENd=function(b,d){this.fd().fa({tilewidth:b,tileheight:d});return this};c.prototype.Kvb=function(){return this.dK().jk()};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJyZW5kZXJBc3luYyI6IndlIiwicmVuZGVyQ29udGVudCI6IiRpIiwiZ2V0TWluTG9kIjoibTlhIiwiZ2V0TWF4TG9kIjoiajlhIiwiZ2V0VGlsZVJlc29sdXRpb24iOiJvdWQiLCJzZXRJbWFnZUZvcm1hdHRlciI6IkxLZCIsImdldEltYWdlRm9ybWF0dGVyIjoiUm9kIiwic2V0RGF0YVNvdXJjZSI6IiRBIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwic2V0TG9kcyI6ImZMZCIsImdldFpvb21MZXZlbCI6Im9LIiwic2V0VGlsZVJlc29sdXRpb24iOiJFTmQifX19");var zGa=/*#__PURE__*/function(){function c(a){a=G(a,{source:a&&a.sources||new P5({loader:new Q5})});R5.call(this,a)}D(c,R5);L(c,"geotoolkit.map.layers.ArcGISTile");return c}();var S5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(g){n5.call(this,g)}var a="{quadkey}",b="{tileId}",d="{zoom}",e="{subdomain}",f="{culture}";D(c,n5);L(c,"geotoolkit.map.sources.loaders.Bing");c.prototype.parse=function(g,h){"string"===typeof g&&(g=JSON.parse(g));this.ua.data=g;if(200!==g.statusCode)throw h=g.errorDetails,hb("BingMap server returned error ("+g.statusCode+"): "+(Array.isArray(h)&&0<h.length?h.join("\n"):g.statusDescription)),Error("BingMap server returned error!");g=this.TCc(g);var k=g.imageUrl.replace(f,
this.ua.orb),l=k.indexOf(e),m=k.indexOf(a),n=k.indexOf(b),p=k.indexOf(d);m=Math.min.apply(null,[m,n,p,k.length].filter(function(t){return-1!==t}));var q=k.substr(0,m),r=H4.Wzc(k.substr(m),[a,b,d]);this.ua.url=0>l?q:g.imageUrlSubdomains.map(function(t){return q.replace(e,t)});"number"===typeof g.imageWidth&&(this.ua.gu=g.imageWidth);"number"===typeof g.imageHeight&&(this.ua.fu=g.imageHeight);"number"===typeof g.zoomMax&&(this.ua.aN=g.zoomMax);"number"===typeof g.zoomMin&&(this.ua.WS=g.zoomMin);if("number"===
typeof g.tilesX&&"number"===typeof g.tilesY){k=g.tilesX;l=g.tilesY;this.ua.qwe=k;this.ua.rwe=l;this.ua.J4={};for(m=this.ua.aN;m>=this.ua.WS;--m)this.ua.J4[m]={UA:k-1,xK:l-1,scale:1<<m},k=Math.ceil(k/2),l=Math.ceil(l/2);k=c4.ag().Tj(Z3.WT);n=k.jk();l=k.transform(this.ua.zEa.x,this.ua.zEa.y);m=n.ca()/this.ua.J4[this.ua.aN].scale;n=n.da()/this.ua.J4[this.ua.aN].scale;m=g.tilesX*m/2;g=g.tilesY*n/2;g=new U(l.x-m,l.y-g,l.x+m,l.y+g);this.ua.rk.mr()!==k&&(k=new d4(k,this.ua.rk.mr()),k.Ta(g,g));this.ua.Ub=
g}else this.ua.Ub=this.ua.rk.mr().jk();this.ua.hsb=function(t,u,w){for(var y="",A=0;A<r.length;++A)switch(r[A]){case a:y+=this.Urd(t,u,w);break;case b:y+=this.mud(t,u,w);break;case d:y+=t;break;default:y+=r[A]}return y}.bind(this);this.loaded(h)};c.prototype.iW=function(){var g=this.ua.teb+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.ua.owa+"?c="+this.ua.orb+"&uriScheme="+this.ua.teb;null!=this.ua.key&&(g+="&key="+this.ua.key);if(null!=this.ua.zEa)g+="&centerPoint="+this.ua.zEa.y+","+
this.ua.zEa.x;else if(this.ua.owa===T3.RCb||this.ua.owa===T3.TCb||this.ua.owa===T3.SCb)throw Error("Bing Maps Birdseye imagery requires centerPoint parameter!");return g};c.prototype.TCc=function(g){if(!Array.isArray(g.resourceSets))return null;for(var h=0;h<g.resourceSets.length;++h){var k=g.resourceSets[h];if(k&&Array.isArray(k.resources))for(var l=0;l<k.resources.length;++l){var m=k.resources[l];if(m&&m.imageUrl)return m}}return null};c.prototype.Urd=function(g,h,k){var l="";for(g=1<<g-1;0<g;g>>=
1){var m=0;0!==(k&g)&&m++;0!==(h&g)&&(m+=2);l+=m}return l};c.prototype.mud=function(g,h,k){g=this.ua.J4&&this.ua.J4[g]?this.ua.J4[g].UA+1:1<<g;return g*h+k};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc1VybCI6ImlXIn19fSAg");var T5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){u5.call(this,a,b)}D(c,u5);L(c,"geotoolkit.map.sources.managers.Bing");c.prototype.mua=function(a,b){function d(n,p,q,r){var t=Math.floor((n.la()-h.la())/p);p=Math.ceil((n.na()-h.la())/p)-1;var u=Math.floor((n.ka()-h.ka())/q);n=Math.ceil((n.ma()-h.ka())/q)-1;return{hC:Math.max(t,0),UA:Math.min(p,r.UA),bN:Math.max(u,0),xK:Math.min(n,r.xK)}}var e=u5.prototype.mua.call(this,a,b);if(null==this.ua.J4)return e;var f=this.ua.J4[e.z],g=this.ua.rk.mr();a=b.Ta(a);var h=b.Ta(this.ua.Ub),
k=b.Ta(g.jk());b=h.ca()/(f.UA+1);g=h.da()/(f.xK+1);var l=this.ua.J4[this.fG]||f,m=k.ca()/l.scale;k=k.da()/l.scale;return{z:e.z,ybb:d(a,b,g,f),ARd:d(a,m,k,l),l0b:d(a.Uc(a.ca()/10,a.da()/10).intersect(h),b,g,f)}};c.prototype.bK=function(a){null==a&&(a=this.fG);if(0<=a&&this.ua.J4&&this.ua.J4[this.ua.aN]){var b=this.ua.J4[this.ua.aN];a=1<<this.ua.aN-a;return new Vd((b.UA+1)/a,(b.xK+1)/a)}return u5.prototype.bK.call(this,a)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjYWxjdWxhdGVab29tTGV2ZWwiOiJtdWEiLCJnZXRHcmlkU2l6ZSI6ImJLIn19fSAg");var U5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{loader:a&&a.loader||new S5,format:a&&a.format||new s5,key:null,culture:"en-US",urischeme:"http",centerpoint:null,imageryset:T3.CCb},!0);P5.call(this,a);this.ua=this.ua||{};this.ua.owa=a.imageryset;this.ua.orb=a.culture;this.ua.teb=a.urischeme;this.ua.key=a.key;this.ua.zEa=a.centerpoint}D(c,P5);L(c,"geotoolkit.map.sources.Bing");c.prototype.WM=function(a){this.Vh=new T5(a,this.ua);this.Vh.on(M4.bL,function(b,d,e){this.notify(M4.bL,this,e);this.HK(!0)}.bind(this));
return this};c.prototype.VPc=function(a){this.ua.owa!==a&&(this.ua.owa=a,this.clear());return this};c.prototype.vAc=function(){return this.ua.owa};c.prototype.oQc=function(a){this.ua.key=a;return this};c.prototype.getKey=function(){return this.ua.key};c.prototype.xOc=function(a){this.ua.orb=a;return this};c.prototype.Sld=function(){return this.ua.orb};c.prototype.nTc=function(a){this.ua.teb=a;return this};c.prototype.Xud=function(){return this.ua.teb};c.prototype.ozb=function(a){this.ua.zEa=a;return this};
c.prototype.dld=function(){return this.ua.zEa};c.prototype.q4=function(){return this.ua.url?this.ua.url:this.ua.teb+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.ua.owa};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRJbWFnZXJ5U2V0IjoiVlBjIiwiZ2V0SW1hZ2VyeVNldCI6InZBYyIsInNldEtleSI6Im9RYyIsInNldEN1bHR1cmUiOiJ4T2MiLCJnZXRDdWx0dXJlIjoiU2xkIiwic2V0VXJpU2NoZW1lIjoiblRjIiwiZ2V0VXJpU2NoZW1lIjoiWHVkIiwic2V0Q2VudGVyUG9pbnQiOiJvemIiLCJnZXRDZW50ZXJQb2ludCI6ImRsZCIsImdldFNlcnZlclVSTCI6InE0In19fSAg");var V5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{source:a&&(a.source||a.sources)||new U5},!0);null!=a.key&&a.source.oQc(a.key);null!=a.culture&&a.source.xOc(a.culture);null!=a.centerpoint&&a.source.ozb(a.centerpoint);null!=a.imageryset&&a.source.VPc(a.imageryset);null!=a.urischeme&&a.source.nTc(a.urischeme);R5.call(this,a)}D(c,R5);L(c,"geotoolkit.map.layers.Bing");c.prototype.Kvb=function(){switch(this.fd().vAc()){case T3.RCb:case T3.SCb:case T3.TCb:return this.pa();default:return R5.prototype.Kvb.call(this)}};
return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRXb3JsZExpbWl0cyI6Ikt2YiJ9fX0g");var W5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f){I4.call(this,f)}function a(f){return Array.isArray(f)?f.map(a):f.toUpperCase()}function b(f,g){if(Array.isArray(g))for(var h=0;h<g.length;++h){if(0<=f.indexOf(g[h].toUpperCase()))return g[h]}else if(0<=f.indexOf(g))return g;return null}var d=new M,e=",";D(c,I4);L(c,"geotoolkit.map.sources.formats.CSV");c.vcb=function(f){e=f};c.prototype.parse=function(f){"string"===typeof f&&(f=TG.Qfd(f,this.ua.JUb||e));if(2>f.length)return this;var g=a(f[0]),h=g.length,k=b(g,a(this.ua.O$b)),
l=b(g,a(this.ua.Q$b));if(null==k||null==l)return this;for(var m=[],n=1,p=f[n];n<f.length;p=f[++n])if(p.length===h){for(var q={},r={},t=0;t<h;++t)q[f[0][t]]=p[t],g[t]===k?null!=p[t]&&(r.x=$3.PUc(p[t])):g[t]===l&&null!=p[t]&&(r.y=$3.PUc(p[t]));this.ua.rk.mr().transform(r.x,r.y,d);r.x=d.x;r.y=d.y;p=A5.Wva(q,this.ua.B0);q=new t4({id:this.ua.id.g4(q),attributes:q,geometry:r});null!=p&&(q.eu=p);m.push(q)}this.notify(M4.cs,this,m);return this};return c}(),2,"eyJzZXREZWxpbWl0ZXIiOiJ2Y2IifSAg");var X5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{system:Z3.MI,format:a&&a.format||new W5,delimiter:",",latitudefield:["latitude","lat"],longitudefield:["longitude","lon"]},!0);S4.call(this,a);this.ua=this.ua||{};this.ua.JUb=a.delimiter;this.ua.O$b=a.longitudefield;this.ua.Q$b=a.latitudefield}D(c,S4);L(c,"geotoolkit.map.sources.CSV");c.prototype.O6b=function(a){if("string"===typeof a||Array.isArray(a))this.ua.Q$b=a;return this};c.prototype.YAc=function(){return this.ua.Q$b};c.prototype.X6b=function(a){if("string"===
typeof a||Array.isArray(a))this.ua.O$b=a;return this};c.prototype.pBc=function(){return this.ua.O$b};c.prototype.vcb=function(a){"string"===typeof a&&(this.ua.JUb=a);return this};c.prototype.Wyc=function(){return this.ua.JUb};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRMYXRpdHVkZUZpZWxkIjoiTzZiIiwiZ2V0TGF0aXR1ZGVGaWVsZCI6IllBYyIsInNldExvbmdpdHVkZUZpZWxkIjoiWDZiIiwiZ2V0TG9uZ2l0dWRlRmllbGQiOiJwQmMiLCJzZXREZWxpbWl0ZXIiOiJ2Y2IiLCJnZXREZWxpbWl0ZXIiOiJXeWMifX19");var Y5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{source:a&&(a.source||a.sources)||new X5,system:Z3.MI,latitudefield:null,longitudefield:null,delimiter:null},!0);F5.call(this,a);var b=this.fd();null!=a.latitudefield&&b.O6b(a.latitudefield);null!=a.longitudefield&&b.X6b(a.longitudefield);null!=a.delimiter&&b.vcb(a.delimiter)}D(c,F5);L(c,"geotoolkit.map.layers.CSV");c.prototype.ia=function(){var a=F5.prototype.ia.call(this),b=this.fd();a.latitudefield=b.YAc();a.longitudefield=b.pBc();a.delimiter=b.Wyc();return a};
c.prototype.fa=function(a){a=hc(a);if(null==a)return this;var b=this.fd();null!=a.latitudefield&&b.O6b(a.latitudefield);null!=a.longitudefield&&b.X6b(a.longitudefield);null!=a.delimiter&&b.vcb(a.delimiter);F5.prototype.fa.call(this,a);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var Z5=/*#__PURE__*/function(){function c(a){a=G(a,{format:new N4});S4.call(this,a)}D(c,S4);L(c,"geotoolkit.map.sources.GeoJSON");return c}();var JGa=/*#__PURE__*/function(){function c(a){a=G(a,{source:a&&a.sources||new Z5});F5.call(this,a)}D(c,F5);L(c,"geotoolkit.map.layers.GeoJSON");return c}();var $5=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}var a;L(c,"geotoolkit.map.util.XML");c.parse=function(b){a=a||new Za.DOMParser;b=a.parseFromString(b,"text/xml");return"parsererror"===b.nodeName||0<b.getElementsByTagName("parsererror").length?(rb("Wrong XML received!"),null):b};c.bX=function(b,d,e){if(!b)return e?[]:null;d=d.split(", ");if(!sd.Fna()&&!sd.L0b())return d=d.map(function(l){return":scope > "+l}),d=d.join(", "),e?b.querySelectorAll(d):b.querySelector(d);b="#document"===b.nodeName?b.childNodes:[b];for(var f=
[],g=0;g<b.length;++g)for(var h=b[g].childNodes,k=0;k<h.length;++k)if(0<=d.indexOf(h[k].nodeName)){if(!e)return h[k];f.push(h[k])}return e?f:null};c.vf=function(b){if(b.children)return b.children;var d=[];b=b.childNodes;for(var e=0;e<b.length;++e)"#text"!==b[e].nodeName&&"#comment"!==b[e].nodeName&&d.push(b[e]);return d};c.Cya=function(b){var d=c.vf(b);if(0===d.length)return b.textContent;b={};for(var e=0;e<d.length;++e){var f=d[e].nodeName.toLowerCase(),g=c.Cya(d[e]);null!=g&&(null==b[f]?b[f]=g:
Array.isArray(b[f])?b[f].push(g):b[f]=[b[f],g])}return b};return c}(),1,"eyJxdWVyeVNjb3BlIjoiYlgiLCJnZXRDaGlsZHJlbiI6InZmIiwieG1sVG9PYmplY3QiOiJDeWEifSAg");var a6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}function a(m,n,p){var q;for(q=0;q<p.length;++q){var r=p[q].split(",");if(-1<r.indexOf(n))return m}for(q=0;q<p.length;++q)if(n=m.querySelector(p[q]))return n;return null}var b=new M,d=["MultiGeometry"],e=["MultiPoint"],f=["MultiCurve","Curve"],g=["MultiSurface, MultiSolid","Polygon, Solid, Surface, PolyhedralSurface, TriangulatedSurface"],h=["Point"],k=["LineString"],l=["Envelope"];L(c,"geotoolkit.map.util.GML");c.parse=function(m,n,p,q,r){r=r||m;q=q||[];var t,u=m.nodeName.lastIndexOf(":"),
w=-1===u?m.nodeName:m.nodeName.substr(u+1);if(t=a(m,w,d)){u=t.querySelectorAll("geometryMember");0===u.length&&(u=(u=t.querySelector("geometryMember"))&&u.children||[]);for(m=0;m<u.length;++m)c.parse(u[m],n,p,q,r);return q}u=[];if(t=a(m,w,e)){w=$5.bX(t,"pointMembers, pointMember",!0);for(m=0;m<w.length;++m)for(var y=$5.bX(w[m],"Point",!0),A=0;A<y.length;++A)(t=c.b5(y[m],p))&&u.push(t);c.ila(u,n,r,t4,C4,q)}else if(t=a(m,w,f)){w=t.querySelectorAll("LineString, LineStringSegment");for(m=0;m<w.length;++m)(t=
c.dbb(w[m],p))&&u.push(t);c.ila(u,n,r,D4,E4,q)}else if(t=a(m,w,g)){w=t.querySelectorAll("exterior");for(m=0;m<w.length;++m)(t=c.ebb(w[m],p))&&u.push(t);c.ila(u,n,r,F4,G4,q)}else if(t=a(m,w,h))(t=c.b5(t,p))&&u.push(t),c.ila(u,n,r,t4,C4,q);else if(t=a(m,w,k))(t=c.dbb(t,p))&&u.push(t),c.ila(u,n,r,D4,E4,q);else if(t=a(m,w,l))(t=c.nJc(t,p))&&u.push(t),c.ila(u,n,r,F4,G4,q);return q};c.b5=function(m,n){return m?(m=$5.bX(m,"pos, coordinates",!1))&&m.textContent?c.Mxb(m.textContent,n):null:null};c.nJc=function(m,
n){if(!m)return null;var p=$5.bX(m,"lowerCorner, upperCorner",!0);return 2===p.length&&p[0].textContent&&p[1].textContent?(m=c.Mxb(p[0].textContent,n),n=c.Mxb(p[1].textContent,n),{x:[m.x,m.x,n.x,n.x],y:[m.y,n.y,n.y,m.y]}):c.dbb(m,n)};c.Mxb=function(m,n){m=m.trim().split(/,\s*|\s+/);b.Ga(+m[1]||0,+m[0]||0);n&&(b=n(b,b));return{x:b.x,y:b.y}};c.dbb=function(m,n){if(!m)return null;var p=[],q=[],r=0<m.childElementCount?$5.bX(m,"posList, coordinates",!1):m;if(r&&r.textContent){var t=r.getAttribute("srsDimension")||
2;var u=r.textContent.trim().split(/,\s*|\s+/);for(m=0;m<u.length;m+=t)b.Ga(+u[m+1]||0,+u[m]||0),n&&(b=n(b,b)),p.push(b.x),q.push(b.y)}else for(r=m.querySelectorAll("pos, coordinates"),m=0;m<r.length;++m)r[m].textContent&&(u=r[m].textContent.trim().split(/,\s*|\s+/),b.Ga(+u[1]||0,+u[0]||0),n&&(b=n(b,b)),p.push(b.x),q.push(b.y));return 2>=p.length?null:{x:p,y:q}};c.ebb=function(m,n){if(!m)return null;var p=c.L2b(m,n);m=(m=m.parentNode)&&m.querySelectorAll("interior");if(!m||0===m.length||!p)return p;
var q=k4.oP(p);p.clip=[q];for(q=0;q<m.length;++q){var r=c.L2b(m[q],n);r&&p.clip.push(r)}return p};c.L2b=function(m,n){m=$5.bX(m,"LinearRing",!1)||m.querySelector("LineString, LineStringSegment");return c.dbb(m,n)};c.ila=function(m,n,p,q,r,t){0!==m.length&&(p=$5.Cya(p),1===m.length?t.push(new q({id:n.g4(p),attributes:p,geometry:m[0]})):t.push(new r({id:n.g4(p),attributes:p,geometry:m})))};return c}(),1,"eyJwYXJzZVBvaW50IjoiYjUiLCJwYXJzZUVudmVsb3BlIjoibkpjIiwicGFyc2VQb2ludEdlb21ldHJ5IjoiTXhiIiwicGFyc2VMaW5lU3RyaW5nIjoiZGJiIiwicGFyc2VQb2x5Z29uIjoiZWJiIiwicGFyc2VCb3VuZGFyeSI6IkwyYiIsImFkZEZlYXR1cmUiOiJpbGEifSAg");var b6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}var a={point:t4,line:D4,polygon:F4},b=new M;L(c,"geotoolkit.map.util.GeoRSS");c.parse=function(d,e,f){var g=[];c.Q2b(d.querySelectorAll("entry"),e,f,g);c.Q2b(d.querySelectorAll("channel > item"),e,f,g);var h=$5.bX(d,"entry, channel",!0);d=0<h.length&&h[0].parentNode||d;for(var k=0;k<h.length;++k)d.removeChild(h[k]);c.pv(d,e,f,g);return g};c.Q2b=function(d,e,f,g){for(var h=0;h<d.length;++h)c.pv(d[h],e,f,g);return g};c.pv=function(d,e,f,g){var h=c.PJc(d,e,f)||c.YJc(d,
e,f);h?g.push(h):a6.parse(d,e,f,g)};c.PJc=function(d,e,f){for(var g=Object.keys(a),h=0;h<g.length;++h){var k=$5.bX(d,g[h],!1);if(k&&k.textContent)return d=$5.Cya(d),g=a[g[h]],new g({id:e.g4(d),attributes:d,geometry:c.hoa(k.textContent,f)})}if((k=$5.bX(d,"box",!1))&&k.textContent){f=c.hoa(k.textContent,f);if(2!==f.x.length)return null;d=$5.Cya(d);return new F4({id:e.g4(d),attributes:d,geometry:{x:[f.x[0],f.x[0],f.x[1],f.x[1]],y:[f.y[0],f.y[1],f.y[1],f.y[0]]}})}return null};c.hoa=function(d,e){d=d.trim().split(/,\s*|\s+/);
for(var f=[],g=[],h=0;h<d.length;h+=2)b.Ga(+d[h+1]||0,+d[h]||0),e&&(b=e(b,b)),f.push(b.x),g.push(b.y);return 1<f.length?{x:f,y:g}:{x:f[0]||0,y:g[0]||0}};c.YJc=function(d,e,f){var g=d.querySelector("based_near");if(g){var h=g.attributes;for(var k=0;k<h.length;++k){var l=h[k].name;l=l.substr(l.lastIndexOf(":")+1).toLowerCase();if("lat"===l)var m=h[k].value;else if("long"===l)var n=h[k].value}d=g.parentNode||d}else(m=d.querySelector("lat_long"))&&m.textContent?(m=m.textContent.trim().split(/,\s*|\s+/),
n=m[1],m=m[0]):(m=(m=d.querySelector("lat"))&&m.textContent,n=(n=d.querySelector("long"))&&n.textContent);return null!=m&&null!=n?(h=$5.Cya(d),b.Ga(+n||0,+m||0),f&&(b=f(b,b)),new t4({id:e.g4(h),attributes:h,geometry:{x:b.x,y:b.y}})):null};return c}(),1,"eyJwYXJzZUVsZW1lbnRzIjoiUTJiIiwicGFyc2VFbGVtZW50IjoicHYiLCJwYXJzZVNpbXBsZSI6IlBKYyIsInBhcnNlR2VvbWV0cnkiOiJob2EiLCJwYXJzZVczQyI6IllKYyJ9");var c6=/*#__PURE__*/function(){function c(a){I4.call(this,a)}D(c,I4);L(c,"geotoolkit.map.sources.formats.GeoRSS");c.prototype.parse=function(a){if("string"===typeof a&&(a=$5.parse(a),null==a))return this;var b=this.ua.rk;a=b6.parse(a,this.ua.id,b.transform.bind(b));this.notify(M4.cs,this,a);return this};return c}();var d6=/*#__PURE__*/function(){function c(a){a=G(a,{format:new c6});S4.call(this,a)}D(c,S4);L(c,"geotoolkit.map.sources.GeoRSS");return c}();var e6=/*#__PURE__*/function(){function c(a){a=G(a,{system:Z3.MI,source:a&&a.sources||new d6});F5.call(this,a)}D(c,F5);L(c,"geotoolkit.map.layers.GeoRSS");return c}();var f6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(g,h){Q4.call(this,g,h);this.wu=new ii;this.Fy=null;this.z2={scale:null,rect:null}}var a=new M,b=new U,d=new W,e=10,f=10;D(c,Q4);L(c,"geotoolkit.map.sources.managers.Projection");c.prototype.query=function(g,h){var k=this.ua.node?this.ua.node.ga():null,l=this.ua.Ub;if(null==k||k.isEmpty()||null==l)return!1;var m=g.clone().Uc(this.ua.Uc*g.ca(),this.ua.Uc*g.da()).intersect(l),n=h.wa();if(m.isEmpty()||null!=this.z2.rect&&this.z2.rect.Cz(m)&&V.equals(this.z2.scale,n.pb()))return!1;
this.z2.rect=m;this.z2.scale=n.pb();null!=this.Fy&&clearTimeout(this.Fy);this.Fy=setTimeout(function(){this.Fy=null;var p,q=Infinity,r=-Infinity,t=Infinity,u=-Infinity,w=[],y=[];this.exc(m,l,function(J,K){p=this.Nw(J,K);isNaN(p.getX())||isNaN(p.getY())||(q=Math.min(q,p.getX()),r=Math.max(r,p.getX()),t=Math.min(t,p.getY()),u=Math.max(u,p.getY()),w.push((J-m.getX())/m.ca()),y.push((K-m.getY())/m.da()))});q=Math.max(Math.floor(q),k.la());r=Math.min(Math.ceil(r),k.na());t=Math.max(Math.floor(t),k.ka());
u=Math.min(Math.ceil(u),k.ma());var A=0<n.Ab()?new U(q,t,r,u):new U(q,k.ma()-u,r,k.ma()-t),x=n.Ta(l),C=Math.ceil(A.ca()*x.ca()/k.ca()),z=Math.ceil(A.da()*x.da()/k.da());A.Ra(C*k.ca()/x.ca()).Ya(z*k.da()/x.da());var v=new U(0,0,C,z);x=new li(0,0,C,z);if(x=this.wu.Kl(x,C,z,!1)){x.clear();W.Sd(A,v,!1,!1,!1,d);C=x.vq(d).vC(v);this.ua.node.render(C);x.Ko();var B=[],E=[];v=this.Ta(b.cb(q,t,r,u));z=n.Ta(v,b);C=Math.ceil(z.ca());z=Math.ceil(z.da());for(var H=0;H<w.length;H++){var F=w[H],I=y[H];F=this.Hc(A.getX()+
F*A.ca(),k.da()-(A.getY()+I*A.da()));B.push((F.getX()-v.getX())*C/v.ca());E.push((F.getY()-v.getY())*z/v.da())}A=WF.rga(x.wk(),{width:C,height:z,source:{x:B,y:E},destination:{x:w,y:y}});this.wu.release(x);this.notify(Fj.Cj,this,{image:A,bounds:v})}else hb("geotoolkit.map.layers.Projection: Memory limit is too low. Use .getResourceManager().setMemoryLimit() to fix it")}.bind(this),this.ua.timeout);return!0};c.prototype.VM=function(){return this};c.prototype.uG=function(){return this.wu};c.prototype.Hc=
function(g,h){return this.ua.rk.Ma(this.ua.I3b.Hc(g,h),a)};c.prototype.Nw=function(g,h){a.Ga(g,h);this.ua.YZ.Ma(a,a);this.ua.I3b.hd(a,a);return a};c.prototype.Ta=function(g){var h=Infinity,k=-Infinity,l=Infinity,m=-Infinity;this.exc(g,this.ua.node.ga(),function(n,p){if(n===g.getX()||n===g.na()||p===g.ka()||p===g.ma())n=this.Hc(n,p),isNaN(n.getX())||isNaN(n.getY())||(h=Math.min(h,n.getX()),l=Math.min(l,n.getY()),k=Math.max(k,n.getX()),m=Math.max(m,n.getY()))});return new U(h,l,k,m)};c.prototype.exc=
function(g,h,k){var l=2<<Math.log2(e*h.ca()/g.ca()),m=2<<Math.log2(f*h.da()/g.da());l=h.ca()/l;m=h.da()/m;for(var n=Math.floor((g.getX()-h.getX())/l),p=Math.ceil((g.na()-h.getX())/l),q=Math.floor((g.getY()-h.getY())/m),r=Math.ceil((g.ma()-h.getY())/m);n<=p;n++)for(var t=V.clamp(h.getX()+n*l,g.getX(),g.na()),u=q;u<=r;u++){var w=V.clamp(h.getY()+u*m,g.getY(),g.ma());k.call(this,t,w)}};c.prototype.clear=function(){this.z2={scale:null,rect:null};return Q4.prototype.clear.call(this)};c.prototype.abort=
function(){null!=this.Fy&&(clearTimeout(this.Fy),this.Fy=null);return Q4.prototype.abort.call(this)};c.prototype.Wm=function(){return null!=this.Fy||Q4.prototype.Wm.call(this)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0Rm9ybWF0IjoiVk0iLCJnZXRSZXNvdXJjZU1hbmFnZXIiOiJ1RyIsImlzTG9hZGluZyI6IldtIn19fSAg");var g6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{loader:null,projection:W.Xj,node:null});K5.call(this,a);this.ua=this.ua||{};this.ua.I3b=a.projection;this.Hlc=this.PIc.bind(this);this.qIa(a.node)}D(c,K5);L(c,"geotoolkit.map.sources.Projection");c.prototype.WM=function(a){this.Vh=new f6(a,this.ua);this.Vh.on(M4.Cj,function(b,d,e){this.notify(M4.Cj,this,e);this.HK(!0)}.bind(this));return this};c.prototype.qIa=function(a){if(this.ua.node===a)return this;null!=this.ua.node&&this.ua.node.Ty(this.Hlc);this.ua.node=
a;null!=this.ua.node&&this.ua.node.Aw(this.Hlc);this.PIc();return this};c.prototype.Rsb=function(){return this.ua.node};c.prototype.uG=function(){return this.Vh.uG()};c.prototype.dispose=function(){this.AMc();this.qIa(null);K5.prototype.dispose.call(this)};c.prototype.PIc=function(){var a=this.ua.node?this.ua.node.ga():null;null==a||a.isEmpty()?(this.ua.Ka=null,this.ua.Ub=null):a.wi(this.ua.Ka)||(this.ua.Ka=a,this.ua.Ub=this.Vh.Ta(a));this.update()};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0UXVlcnlNYW5hZ2VyIjoiV00iLCJzZXRDb250ZW50Tm9kZSI6InFJYSIsImdldENvbnRlbnROb2RlIjoiUnNiIiwiZ2V0UmVzb3VyY2VNYW5hZ2VyIjoidUcifX19");var h6=/*#__PURE__*/function(){function c(a,b){this.xoc=a;f6.call(this,null,b)}D(c,f6);L(c,"geotoolkit.map.sources.managers.GeoTile");c.prototype.UEd=function(a){this.xoc.query(a);return this};c.prototype.O8a=function(){return this.xoc};return c}();var i6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=a||{};if(null==a.loader||null==a.format)throw Error("GeoTile source needs GeoTile loader and GeoTile format");g6.call(this,a);this.ua.iXa=a.tiledshape;this.V2a=this.V2a||function(){var b=this,d=this.qFa().ua;this.notify(M4.iB,this,{epsg:d.Iid});this.ua.I3b=W.xCc(d.OTa.bd(),d.OTa.Vf(),d.OTa.Wf(),d.h0b[0],d.h0b[1],d.h0b[2]);null!=d.iXa&&(this.ua.iXa=G(d.iXa,this.ua.iXa));var e=G(this.ua.iXa,{modelarea:d.OTa.clone(),formatter:function(f){return f},imageloader:function(f,
g){f.callback=g;b.Vh.UEd(f)},loadertype:no.Fpa});e=new Do(e);d=(new oi).oa([e]).Ha(d.OTa.clone()).sa(d.OTa.clone());this.qIa(d)}.bind(this)}D(c,g6);L(c,"geotoolkit.map.sources.GeoTile");c.prototype.WM=function(a){this.Vh=new h6(a,this.ua);this.Vh.on(M4.Cj,function(b,d,e){this.notify(M4.Cj,this,e);this.HK(!0)}.bind(this));return this};c.prototype.clone=function(){var a=new c({loader:this.tx.clone(),format:this.Vh.O8a().clone()});return Cb(this,a)};c.prototype.Ba=function(a,b){b=!0===b?xb:G;this.ua=
b(a.ua,this.ua);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0UXVlcnlNYW5hZ2VyIjoiV00iLCJjb3B5Q29uc3RydWN0b3IiOiJCYSJ9fX0g");var j6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{source:new g6(a)});l5.call(this,a);this.Fo=this.xf=null}D(c,l5);L(c,"geotoolkit.map.layers.Projection");c.prototype.qIa=function(a){this.fd().qIa(a);return this};c.prototype.Rsb=function(){return this.fd().Rsb()};c.prototype.uG=function(){return this.fd().uG()};c.prototype.$A=function(a){if(this.xc===a)return this;this.T8||(this.T8=function(b,d,e){this.Fo=this.Fo||new Gh;this.xf=this.xf||new Gj({image:this.Fo.wk()});this.xf.sa(e.bounds);this.Fo.setSize(e.image.width,
e.image.height);this.Fo.drawImage(e.image,0,0);this.ha()}.bind(this));null!=this.xc&&(this.xc.za(M4.Cj,this.T8),this.xc.za(M4.uKa,this.T8));this.xc=a;null!=this.xc&&(this.xc.on(M4.Cj,this.T8),this.xc.on(M4.uKa,this.T8));return this};c.prototype.render=function(a){if(this.Ia()&&(null==this.OF||this.OF.filter(this,a)))if(a.ac())this.Qr()&&(a.qa(rf.kh),a.sc(this.pa()));else{var b=this.vb(!0);this.fd().query(b,this);this.$i(a)}};c.prototype.$i=function(a){null!=this.xf&&this.xf.render(a)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRDb250ZW50Tm9kZSI6InFJYSIsImdldENvbnRlbnROb2RlIjoiUnNiIiwiZ2V0UmVzb3VyY2VNYW5hZ2VyIjoidUciLCJzZXREYXRhU291cmNlIjoiJEEiLCJyZW5kZXJDb250ZW50IjoiJGkifX19");var k6=/*#__PURE__*/function(){function c(a){a=a||{};a.source=a.source||new i6(a);j6.call(this,a);this.xc.on(M4.iB,function(b,d,e){b=nc(e.epsg,U3)?e.epsg:"number"!==typeof e.epsg||isNaN(+e.epsg)?new g4(e.epsg):c4.ag().Tj(e.epsg);this.P5b(b);this.ha()}.bind(this))}D(c,j6);L(c,"geotoolkit.map.layers.GeoTile");c.prototype.clone=function(){var a=new c({source:this.xc.clone()});return Cb(this,a)};return c}();var l6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}var a=new M;L(c,"geotoolkit.map.util.GPX");c.parse=function(b,d,e){d||(d=new K4("name"));var f=[];b=b.querySelectorAll("wpt, rte, trk");for(var g=0;g<b.length;g++){var h=b[g],k=$5.Cya(h),l=d.g4(k);switch(h.tagName){case "wpt":f.push(new t4({id:l,attributes:k,geometry:c.b5(h,e).ia()}));break;case "rte":f.push(new D4({id:l,attributes:k,geometry:c.Z4(h,e,"rtept")}));break;case "trk":h=h.querySelectorAll("trkseg");for(var m=[],n=0;n<h.length;n++)m.push(c.Z4(h[n],e,"trkpt"));
f.push(new E4({id:l,attributes:k,geometry:m}))}}return f};c.b5=function(b,d){var e=+b.getAttribute("lon");b=+b.getAttribute("lat");a.Ga(e,b);d&&(a=d(a,a));return a};c.Z4=function(b,d,e){b=b.querySelectorAll(e);e=[];for(var f=[],g=0;g<b.length;g++){var h=c.b5(b[g],d);e.push(h.getX());f.push(h.getY())}return{x:e,y:f}};return c}(),1,"eyJwYXJzZVBvaW50IjoiYjUiLCJwYXJzZUFycmF5IjoiWjQifSAg");var m6=/*#__PURE__*/function(){function c(a){I4.call(this,a)}D(c,I4);L(c,"geotoolkit.map.sources.formats.GPX");c.prototype.parse=function(a){if("string"===typeof a&&(a=$5.parse(a),null==a))return this;var b=this.ua.rk;b=b.mr()instanceof $3?null:b.transform.bind(b);a=l6.parse(a,this.ua.id,b);this.notify(M4.cs,this,a);return this};return c}();var n6=/*#__PURE__*/function(){function c(a){a=G(a,{format:new m6});S4.call(this,a)}D(c,S4);L(c,"geotoolkit.map.sources.GPX");return c}();var $Ga=/*#__PURE__*/function(){function c(a){a=G(a,{system:Z3.MI,source:a&&a.sources||new n6});F5.call(this,a)}D(c,F5);L(c,"geotoolkit.map.layers.GPX");return c}();var o6=/*#__PURE__*/va(/*#__PURE__*/{rh:"Linear",vFb:"Quad",jYa:"Cubic",Cbc:"Exp"},2,"eyJMaW5lYXIiOiJyaCIsIlF1YWQiOiJ2RmIiLCJDdWJpYyI6ImpZYSIsIkV4cCI6IkNiYyJ9"),p6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f){f=G(f,{source:new S4,weight:null,radius:10,maxintensity:0,colorprovider:new Ro({scale:Mo.jEb}),mode:c.Av.Cbc},!0);x5.call(this,f);this.QBa=f.maxintensity;this.B5a=f.weight;this.te=f.mode;this.qc=f.colorprovider;this.wc=f.radius;this.oD=[];this.ui=0;this.bka={};this.Hhb=this.uA=null;this.CL=!1;this.nyb(this.wc,this.te);this.pi(new Hm)}var a=800,b=100,d=new Vd,e=new U;D(c,x5);L(c,"geotoolkit.map.layers.Heatmap");c.Av=
o6;c.prototype.MG=function(f){if(this.wc===f)return this;this.nyb(f,this.te);this.wc=f;this.ha();return this};c.prototype.Mw=function(){return this.wc};c.prototype.PQc=function(f){if(this.QBa===f)return this;this.QBa=f;this.ha();return this};c.prototype.Zpd=function(){return this.QBa||this.Prc()};c.prototype.setMode=function(f){if(this.te===f)return this;this.nyb(this.wc,f);this.te=f;this.ha();return this};c.prototype.qp=function(){return this.te};c.prototype.Ur=function(f){if(this.qc===f)return this;
this.qc=f;this.ha();return this};c.prototype.Vm=function(){return this.qc};c.prototype.CTc=function(f){if(this.B5a===f)return this;this.B5a=f;this.ha();return this};c.prototype.PEc=function(){return this.B5a};c.prototype.$i=function(f){if(f.ac()&&(f.qa(rf.kh),f.sc(this.pa()),this.Cwa()))return;this.v3b(f);this.Aga(this.uA,f);this.t3b(f)};c.prototype.v3b=function(f){var g=f.Fa();g=g.pb();var h=!V.equals(this.Hhb,g);if(null==this.uA||this.CL||this.dUa()&&h){this.fd().NHa(this.vb(),this);this.Hhb=g;
this.CL=!1;this.uA=this.FA();this.bka={};if(g=this.ea.features.filter)this.uA=this.c6a(this.uA,g,f);this.uA=this.uA.toArray();"function"===typeof this.wc&&this.nyb(Math.round(this.wc()),this.te)}};c.prototype.Aga=function(f,g){var h=g.Fa();h.Sk(d.setSize(1,1),d);g.ac()&&g.qa(rf.kh);var k=g.KM(),l=k.la(),m=k.ka(),n=k.ca(),p=k.da(),q=this.B5a,r="function"===typeof q,t=this.oD,u=Math.floor(t.length/2),w=e.cb(g.Rg()).Uc(u*d.ca(),u*d.da()),y={};f.forEach(function(A){if(!A.F4()&&!A.OS()){var x=A.Fva();
if(w.contains(x.x,x.y))if(g.ac())g.yh(A),g.sc(w);else{var C=h.Hc(x.x,x.y);x=Math.round(C.getX()*g.Bs()-l);C=Math.round(C.getY()*g.Bs()-m);A=r?q(A):A.getAttributes()[q]||1;for(var z=Math.min(2*u,n+u-x),v=Math.min(2*u,p+u-C),B=Math.max(u-C,0);B<v;B++)for(var E=Math.max(u-x,0),H=4*(E+x-u+(B+C-u)*n);E<z;E++,H+=4){var F=A*t[E][B];F&&(y[H]=y[H]?y[H]+F:F)}}}});this.bka=y};c.prototype.t3b=function(f){if(!f.ac()){var g=f.KM(),h=null;if("function"===typeof f.WJ)var k=f.WJ();else h=f.Hy(g.ca(),g.ca()),k=h.WJ();
var l="function"===typeof this.QBa?this.QBa():this.QBa||this.Prc(),m=k.getImageData(g.getX(),g.getY(),g.ca(),g.da()),n;for(n in this.bka){var p=this.qc.rb(this.bka[n]/l),q=+n;m.data[q]=p.lk();m.data[q+1]=p.kk();m.data[q+2]=p.ik();m.data[q+3]=p.Ek()*this.VN}k.putImageData(m,g.getX(),g.getY());null!=h&&(f.zh({Oz:!0}),f.drawImage(h,g.getX(),g.getY()),f.ro())}};c.prototype.dUa=function(){return!this.Cwa()};c.prototype.ha=function(f,g){this.CL=!0;return x5.prototype.ha.call(this,f,g)};c.prototype.Prc=
function(){if(0!==this.ui)return this.ui;var f=Infinity,g=-Infinity,h=Infinity,k=-Infinity,l=this.CL||null==this.uA?this.FA():this.uA;l.forEach(function(u){u.F4()||u.OS()||(u=u.Fva(),f=Math.min(f,u.x),g=Math.max(g,u.x),h=Math.min(h,u.y),k=Math.max(k,u.y))});var m=this.B5a,n="function"===typeof m,p=g>f?a/(g-f):1,q=k>h?a/(k-h):1,r=0,t={};l.forEach(function(u){if(!u.F4()&&!u.OS()){var w=u.Fva(),y=Math.floor((w.x-f)*p);w=Math.floor((w.y-h)*q);y=w*a+y;t[y]=t[y]||0;t[y]+=n?m(u):u.getAttributes()[m]||1;
r=Math.max(r,t[y])}});return this.ui=r};c.prototype.V4=function(f,g,h){this.ui=0;x5.prototype.V4.call(this,f,g,h);f!==M4.cs&&f!==M4.IQ||this.ha()};c.prototype.nyb=function(f,g){if("function"!==typeof f){f>b&&(f=b);this.oD=[];for(var h=0,k=f*f,l,m=-f;m<=f;m++){for(var n=[],p=-f;p<=f;p++)l=m*m+p*p,l>k?l=0:g===c.Av.rh?l=1-Math.sqrt(l)/f:g===c.Av.vFb?l=1-l/k:g===c.Av.jYa?(h=h||k*f,l=1-Math.pow(l,1.5)/h):(h=h||-k/4.5,l=Math.exp(l/h)),n.push(l);this.oD.push(n)}}};c.prototype.vP=function(f){return null};
c.prototype.fa=function(f){f=hc(f);if(null==f)return this;x5.prototype.fa.call(this,f);void 0!==f.weight&&this.CTc(f.weight);void 0!==f.radius&&this.MG(f.radius);void 0!==f.maxintensity&&this.PQc(f.maxintensity);void 0!==f.colorprovider&&this.Ur(f.colorprovider);void 0!==f.mode&&this.setMode(f.mode);return this};c.prototype.ia=function(){var f=x5.prototype.ia.call(this);f.weight=this.PEc();f.radius=this.Mw();f.maxintensity=this.QBa;f.colorprovider=this.Vm();f.mode=this.qp();return f};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRSYWRpdXMiOiJNRyIsImdldFJhZGl1cyI6Ik13Iiwic2V0TWF4SW50ZW5zaXR5IjoiUFFjIiwiZ2V0TWF4SW50ZW5zaXR5IjoiWnBkIiwiZ2V0TW9kZSI6InFwIiwic2V0Q29sb3JQcm92aWRlciI6IlVyIiwiZ2V0Q29sb3JQcm92aWRlciI6IlZtIiwic2V0V2VpZ2h0RmllbGQiOiJDVGMiLCJnZXRXZWlnaHRGaWVsZCI6IlBFYyIsInJlbmRlckNvbnRlbnQiOiIkaSIsImludmFsaWRhdGUiOiJoYSIsIm9uRmVhdHVyZXNVcGRhdGVkIjoiVjQiLCJnZXRHZW9tZXRyeVRvVGV4dCI6InZQIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIn19fSAg");var q6=/*#__PURE__*/function(){function c(){}function a(e,f,g){e.on(Fj.Cj,function(){if(null!=f&&1!==f){var h=e.HA();e.setSize(f*h.width,f*h.height)}null!=g&&g()});return e}var b=new M,d={Point:[t4,C4],LineString:[D4,E4],"LinearRing, Polygon":[F4,G4]};L(c,"geotoolkit.map.util.KML");c.parse=function(e,f,g,h,k,l){l=l||[];switch(e.nodeName){case "Document":case "#document":var m=$5.bX(e,"Style, StyleMap",!0);k=c.Pxb(m,k,h);case "kml":case "Folder":e=$5.bX(e,"Document, kml, Folder, Placemark",!0);for(m=0;m<e.length;++m)c.parse(e[m],
f,g,h,k,l);return l;case "Placemark":f=c.MCd(e,f,g);if(0===f.length)return l;break;default:return l}g=c.CK(e,"styleUrl");for(h=0;h<f.length;++h)g&&k&&k[g]&&k[g][f[h].Oa()]&&(f[h].eu=k[g][f[h].Oa()]),l.push(f[h]);return l};c.Pxb=function(e,f,g){if(0===e.length)return f;f=xb(f,{});for(var h=0;h<e.length;++h){var k;var l=e[h];var m=l.getAttribute("id")||"";if("StyleMap"===l.tagName){var n=l.querySelectorAll("Pair"),p=!1;for(k=0;k<n.length;++k)if("normal"===c.CK(n[k],"key")){var q;(q=c.CK(n[k],"styleUrl"))?
f["#"+m]=f[q]:(l=c.i4(n[k],"Style"),p=!0);break}if(!p)continue}k=p=n=null;l=l.querySelectorAll("IconStyle, LineStyle, PolyStyle");for(q=0;q<l.length;++q){var r=l[q];switch(r.tagName){case "IconStyle":var t=c.i4(r,"Icon");k=c.CK(t,"href");t=c.CK(r,"scale");break;case "LineStyle":var u=c.CK(r,"color");n=new X({color:c.Sg(u)||"black",width:c.CK(r,"width")||1});break;case "PolyStyle":u=c.CK(r,"color"),p=new rf({color:c.Sg(u)})}}if(null!=k)l=new j5({shape:a(new Gj({url:k,alignment:O.Na,sizeisindevicespace:!0,
ispointingup:!0,linestyle:null}),t,g)}),k={},k[t4.Oa()]=l,k[C4.Oa()]=l;else if(null!=n)l=new i5({shape:new $n({linestyle:n})}),k={},k[D4.Oa()]=l,k[E4.Oa()]=l,null!=p&&(l=new k5({shape:new Vm({linestyle:n,fillstyle:p})}),k[F4.Oa()]=l,k[G4.Oa()]=l);else continue;f["#"+m]=k}return f};c.i4=function(e,f){return $5.bX(e,f,!1)};c.CK=function(e,f){return(e=c.i4(e,f))?e.textContent:null};c.Sg=function(e){if(null==e)return null;var f=(parseInt(e.substr(0,2),16)/256).toFixed(2),g=parseInt(e.substr(2,2),16),
h=parseInt(e.substr(4,2),16);e=parseInt(e.substr(6,2),16);return"rgba("+e+","+h+","+g+","+f+")"};c.MCd=function(e,f,g){if(null==e)return null;f=f instanceof K4?f.Sea():"name";f=c.CK(e,f);var h=$5.Cya(e);e=c.i4(e,"MultiGeometry")||e;var k=[],l;for(l in d)if(d.hasOwnProperty(l)){for(var m=$5.bX(e,l,!0),n=[],p=0;p<m.length;++p)n.push(c.hoa(m[p],g));0!==n.length&&k.push(new (d[l][Math.sign(n.length-1)])({id:f,attributes:h,geometry:1===n.length?n[0]:n}))}return k};c.hoa=function(e,f){switch(e.nodeName){case "Point":return c.b5(e,
f);case "LineString":case "LinearRing":return c.Z4(e,f);case "Polygon":var g=c.i4(e,"outerBoundaryIs");e=e.getElementsByTagName("innerBoundaryIs");g=c.Z4(c.i4(g,"LinearRing"),f);if(0<e.length){var h=k4.oP(g);g.clip=[h];for(h=0;h<e.length;++h){var k=c.i4(e[h],"LinearRing");g.clip.push(c.Z4(k,f))}}return g}return null};c.b5=function(e,f){if(null==e)return null;e=(e=c.CK(e,"coordinates"))?e.split(","):[NaN,NaN];b.Ga(+e[0],+e[1]);f&&(b=f(b,b));return{x:b.getX(),y:b.getY()}};c.Z4=function(e,f){e=e&&c.CK(e,
"coordinates");if(null==e)return null;e=e.split(" ");for(var g=[],h=[],k=0;k<e.length;++k){var l=e[k].split(",");2>l.length||(b.Ga(+l[0],+l[1]),f&&(b=f(b,b)),g.push(b.getX()),h.push(b.getY()))}return{x:g,y:h}};return c}();var r6=/*#__PURE__*/function(){function c(a){I4.call(this,a)}D(c,I4);L(c,"geotoolkit.map.sources.formats.KML");c.prototype.parse=function(a){if("string"===typeof a&&(a=$5.parse(a),null==a))return this;var b=this.ua.rk,d=function(){this.notify(M4.cs,this,null)}.bind(this);a=q6.parse(a,this.ua.id,b.transform.bind(b),d);this.notify(M4.cs,this,a);return this};return c}();var s6=/*#__PURE__*/function(){function c(a){a=G(a,{format:new r6});S4.call(this,a)}D(c,S4);L(c,"geotoolkit.map.sources.KML");return c}();var t6=/*#__PURE__*/function(){function c(a){a=G(a,{source:a&&a.sources||new s6});F5.call(this,a)}D(c,F5);L(c,"geotoolkit.map.layers.KML");return c}();var u6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){l5.call(this,b);this.Nh=new Eo({clipchild:!1});this.Vs=function(d,e){this.ha(d,e)}.bind(this);this.Nh.rf(this);this.Nh.Aw(this.Vs);this.Nh.Ha(this.N_a.jk());this.Nh.sa(this.Nh.pa());this.pi(new Hm)}var a=new M;D(c,l5);L(c,"geotoolkit.map.layers.Shape");c.prototype.eS=function(){return this.Nh.pa()};c.prototype.LK=function(b){l5.prototype.LK.call(this,b);if(b=this.dK())this.Nh.Ha(b.jk()),this.Nh.sa(this.Nh.pa());return this};c.prototype.Zv=function(b){return this.Nh.vf(b)};
c.prototype.addShape=function(b){if(null==b)return this;Hg.getIterator(b).forEach(function(d){this.Nh.oa(d);this.Nh.RVa(d,!0)}.bind(this));this.Ce||(this.ks=this.eS(),this.notify(Ce.Uq,this,this.ks));this.ha();return this};c.prototype.mGd=function(b,d){if(null==b)return this;var e=!1;if(b instanceof Fe)b=[b];else if(!Array.isArray(b))if(b instanceof Hg)b=Hg.toArray(b);else throw Error("Wrong parameter type");var f=this.Nh.Yb();b.forEach(function(g){this.Nh.removeChild(g);this.Nh.RVa(g,!1);f!==this.Nh.Yb()&&
(this.notify(Ce.zo,this,g),d&&"function"===typeof g.dispose&&g.dispose(),e=!0,f--)}.bind(this));e&&(this.Ce||(this.ks=this.eS(),this.notify(Ce.Uq,this,this.ks)),this.ha());return this};c.prototype.Wdd=function(b){var d=this.Nh.vf();this.Nh.dh(b);this.notify(Ce.zo,this,d);this.Ce||(this.ks=this.eS(),this.notify(Ce.Uq,this,this.ks));return this};c.prototype.$i=function(b){var d=b.dI();b.Nq(this.VN);this.Nh.render(b);b.Nq(d)};c.prototype.Hs=function(b,d){var e=b.dI();b.Nq(this.VN);this.Nh.we(b,function(){b.Nq(e);
d()})};c.prototype.$A=function(){return this};c.prototype.k$=function(){return this.ea.tooltip&&this.ea.tooltip.visible?this.ea.tooltip.formatter:null};c.prototype.Li=function(b,d){var e=this.dK();if(!e)return[];var f=this.wa();b=f.hd(b,a);e=e.jk();b.getX()<e.getX()?b.x+=e.ca():b.getX()>e.na()&&(b.x-=e.ca());var g=this.pa();e=this.Nh.Yb();if(!e||!g||!g.contains(b))return[];d=(d||2)/f.pb();b=new U(b.x-d,b.y-d,b.x+d,b.y+d);d=[];for(f=0;f<e;++f)if(g=this.Nh.eb(f),g.Ia()){var h=g.ga&&g.ga();Cg.C_(h,g.lb(),
b)&&d.push(g)}return d};c.prototype.xa=function(b,d){l5.prototype.xa.call(this,b,d);this.Nh.xa(b,d);return this};c.prototype.dispose=function(){this.Nh.Ty(this.Vs);this.Nh.dispose();l5.prototype.dispose.call(this)};c.prototype.Zla=function(b,d){var e=this.Nh;return b.filter(function(f){return 0<=e.Ik(f)})};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjYWxjdWxhdGVEZWZhdWx0TW9kZWxMaW1pdHMiOiJlUyIsInNldE1hcENvb3JkaW5hdGVTeXN0ZW0iOiJMSyIsImdldFNoYXBlcyI6Ilp2IiwicmVtb3ZlU2hhcGUiOiJtR2QiLCJjbGVhclNoYXBlcyI6IldkZCIsInJlbmRlckNvbnRlbnQiOiIkaSIsInJlbmRlckNvbnRlbnRBc3luYyI6IkhzIiwic2V0RGF0YVNvdXJjZSI6IiRBIiwiZ2V0VG9vbHRpcEZvcm1hdHRlciI6ImskIiwiaGl0VGVzdCI6IkxpIiwidXBkYXRlU3RhdGUiOiJ4YSIsImZpbHRlclRvb2x0aXBJbmZvIjoiWmxhIn19fSAg");var v6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){A4.call(this)}D(c,A4);L(c,"geotoolkit.map.sources.connectors.WebSocket");c.prototype.send=function(a,b,d){if(a){var e=new Za.WebSocket(a),f=b&&b.key;e.onerror=function(g){d(g)};e.onclose=function(g){this.Gbb(f,e);d(g)}.bind(this);e.onmessage=function(g){d(null,g.data)};this.Upb(f,e)}else d(Error(this.Oa()+": No url provided"))};c.prototype.Vta=function(a){a.close();return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhYm9ydENvbm5lY3Rpb24iOiJWdGEifX19");var w6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{connector:new y5({connector:new v6})});I4.call(this,a)}D(c,I4);L(c,"geotoolkit.map.sources.formats.Stream");c.prototype.parse=function(a){if("string"===typeof a)try{a=JSON.parse(a)}catch(f){return this.onError(f),this}var b=this.ua.rk,d=this.ua.id.Sea(),e=a.attributes;a=a.geometry;if(null!=this.ua.B0){if(a)if(a=a[this.ua.B0.type[2]]||a,a=A5.hoa(a,b),1<a.length)b=this.ua.B0.type[1];else if(1===a.length)b=this.ua.B0.type[0],a=a[0];else return this;else b=t4,a=
{x:NaN,y:NaN};d=new b({id:e[d],geometry:a,attributes:e});e=A5.Wva(e,this.ua.B0);null!=e&&(d.eu=e);this.notify(M4.cs,this,[d])}return this};c.prototype.onError=function(a){a&&!a.wasClean&&I4.prototype.onError.call(this,a.reason)};c.prototype.hI=function(a,b){return I4.prototype.hI.call(this,a,b||this.ua.STc)};c.prototype.query=function(a){null!=this.ua.SG&&(a.token=this.ua.SG);return I4.prototype.query.call(this,a)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRSZXF1ZXN0VXJsIjoiaEkifX19");var x6=/*#__PURE__*/function(){function c(a){C5.call(this,a)}D(c,C5);L(c,"geotoolkit.map.sources.loaders.Stream");c.prototype.parse=function(a,b){"string"===typeof a&&(a=JSON.parse(a));this.ua.data=a;if(null!=a.error)throw A5.warn(a.error),Error("ArcGIS Stream server returned error!");var d=a.drawingInfo,e=a.spatialReference||a.sourceSpatialReference;this.ua.id=this.DWc(a.fields,a.displayField);this.ua.fv=this.Cwc(a);this.ua.rJa=A5.K2b(d.labelingInfo);this.ua.B0=A5.parse(a,this.ua.url,this.ua.rJa);this.ua.alpha=
0<d.transparency?(100-d.transparency)/100:1;this.vIa(a.extent,e);a=a.streamUrls;this.ua.STc=[];d=this.ua.rk.eI().EA();for(e=0;e<a.length;++e){var f=a[e],g=null!=f.token?"token="+f.token+"&":"";f=f.urls;for(var h=0;h<f.length;++h)this.ua.STc.push(f[h]+"/subscribe?"+g+"outSR="+d)}this.loaded(b)};return c}();var y6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{format:new w6,loader:new x6,token:null});S4.call(this,a);this.ua=this.ua||{};this.ua.SG=a.token}D(c,S4);L(c,"geotoolkit.map.sources.Stream");c.prototype.sab=function(){return this.xUa()};c.prototype.owb=function(){return this.Ena()};c.prototype.HWa=function(a){this.ua.SG=a;return this};c.prototype.oW=function(){return this.ua.SG};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJsb2FkU291cmNlRGF0YSI6InNhYiIsImlzRGF0YVJlYWR5Ijoib3diIiwic2V0VG9rZW4iOiJIV2EiLCJnZXRUb2tlbiI6Im9XIn19fSAg");var z6=/*#__PURE__*/function(){function c(a){a=G(a,{source:a&&a.sources||new y6});if(null!=a.token){var b=Array.isArray(a.source)?1===a.source.length?a.source[0]:new T4(a.source):a.source;b.dP("setToken",a.token);a.source=b}F5.call(this,a)}D(c,F5);L(c,"geotoolkit.map.layers.Stream");return c}();var A6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){b=xb(b,{source:b&&(b.source||b.sources)||new w5(b),converters:null,annotations:{strategy:null,visible:!0,filter:new a5({weight:null})}});F5.call(this,b)}function a(){}lc(a,W4);L(a,"geotoolkit.map.layers.VectorTile.MapboxAnnotation");a.prototype.mS=function(b,d,e){return new Ng(b,function(f){f=e.b_(f);return null!=f&&null!=f.Zva()})};a.prototype.reset=function(){return this};D(c,F5);L(c,"geotoolkit.map.layers.VectorTile");c.prototype.setOptions=function(b){if(b&&b.annotations&&
b.annotations.hasOwnProperty("filter")){var d=b.annotations,e=[new a];d.filter=d.filter?e.concat(d.filter):e}return F5.prototype.setOptions.call(this,b)};c.prototype.Aoa=function(b,d){!this.ea.annotations.visibleonzoom&&this.fd().Ivb()>this.fd().oK()||F5.prototype.Aoa.call(this,b,d)};c.prototype.FA=function(b){var d=this.getParent();if(!d)return Hg.gi([]);var e=null;b instanceof m5&&(e=b.Vd(),b=b.getFilter());d=null!=e?e:d.pa();return this.xc.wD(d,this.wa(),b)};c.prototype.$A=function(b){if(this.xc===
b)return this;this.tV||(this.tV=function(d,e,f){this.uA=null;this.ha(f)}.bind(this));null!=this.xc&&this.xc.za(M4.bL,this.tV);if(null!=b)b.on(M4.bL,this.tV);F5.prototype.$A.call(this,b);return this};c.prototype.Etb=function(){return this.fd().Etb()};c.prototype.Obb=function(b,d,e,f){d.Bj&&!0===d.Bj.oFc||F5.prototype.Obb.call(this,b,d,e,f)};c.prototype.b_=function(b){return b.eu||F5.prototype.b_.call(this,b)};c.prototype.dUa=function(){var b=this.fd();return F5.prototype.dUa.call(this)&&(b.Ivb()===
b.oK()||b.LGa())};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJyZW5kZXJBbm5vdGF0aW9ucyI6IkFvYSIsImdldEZlYXR1cmVzIjoiRkEiLCJzZXREYXRhU291cmNlIjoiJEEiLCJnZXRGb250cyI6IkV0YiIsInJlbmRlckZlYXR1cmVXaXRoT3B0aW1pemF0aW9uIjoiT2JiIiwiZ2V0Q29tYmluZWRUZW1wbGF0ZSI6ImJfIiwiaXNDYWNoZUVuYWJsZWQiOiJkVWEifX19");var B6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){b=G(b,{format:"json",parser:new N4});var d=b.format,e=b.parser;b.format=null;b.parser=null;I4.call(this,b);this.Ig=d;this.Lv=e;this.Kfc=function(f,g,h){this.notify(M4.cs,this,h)}.bind(this);this.Lv.on(M4.cs,this.Kfc)}var a=new M;D(c,I4);L(c,"geotoolkit.map.sources.formats.WFS");c.prototype.xt=function(b){null!=b&&(this.ua=b,this.Lv.xt(b));return this};c.prototype.query=function(b){var d=this.ua.YZ;d.Ma(a.Ga(b.left,b.top),a);var e=a.getX(),f=a.getY();d.Ma(a.Ga(b.right,
b.bottom),a);var g=a.getX(),h=a.getY();var k=this.ua.xJa;k=Array.isArray(k)?"typeNames=("+k.join(")(")+")":"1.1.0">=this.ua.version?"typeName="+k:"typeNames=("+k+")";d="1.1.0"<=this.ua.version&&4326===d.mr().EA()?f+","+e+","+h+","+g:e+","+f+","+g+","+h;d="?service=WFS&request=GetFeature&outputFormat="+this.Ig+"&"+k+"&bbox="+d+"&version="+this.ua.version;this.Cl.send(this.hI(d),{key:b.key},function(l,m){if(l)this.onError(l);else this.ge()||this.Lv.parse(m)}.bind(this));return this};c.prototype.dispose=
function(){this.Lv.za(M4.cs,this.Kfc);this.Lv.dispose();I4.prototype.dispose.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTZXR0aW5ncyI6Inh0In19fSAg");var C6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e){n5.call(this,e)}function a(e,f){b=b||new M;e="number"===typeof e?[e,f]:e.textContent.split(" ");return b.Ga(+e[0],+e[1])}var b,d;D(c,n5);L(c,"geotoolkit.map.sources.loaders.WFS");c.prototype.parse=function(e,f){if("string"===typeof e&&(e=$5.parse(e),null==e))return;this.ua.data=e;if(e.querySelector("ExceptionReport"))throw Error("Wrong GetCapabilities info!");d=d||new U;var g=null;e=this.hjd(e.querySelectorAll("FeatureTypeList > FeatureType"));for(var h=0;h<e.length;++h)g=
this.XPd(e[h],g);if(null!=g){e=this.ua.rk.mr();h=g.bd();var k=g.nf();e.transform(h.x,h.y,h);e.transform(k.x,k.y,k);this.ua.Ub=g.cb(h.x,h.y,k.x,k.y)}else this.ua.Ub=this.ua.rk.mr().jk();this.loaded(f)};c.prototype.iW=function(){return this.ua.url?this.ua.url+"?service=WFS&version="+this.ua.version+"&request=GetCapabilities":null};c.prototype.XPd=function(e,f){var g=e.querySelector("DefaultSRS, DefaultCRS"),h=this.ua.rk.eI();g&&g.textContent&&(g=g.textContent.match(/\d+$/),null!=g&&h.EA()!==+g[0]&&
((h=c4.ag().Tj(g[0]))?(this.ua.rk.t5(h),this.ua.YZ.UIa(h)):hb("WFS: coordinate system ("+g[0]+") is not supported, use geotoolkit.map.coordinatesystems.Registry to register it manually.")));if(h=e.querySelector("LatLongBoundingBox"))return e=a(+h.getAttribute("minx"),+h.getAttribute("miny")),f=f?f.AN(e.x,e.y):d.cb(e.x,e.y,e.x,e.y),e=a(+h.getAttribute("maxx"),+h.getAttribute("maxy")),f.AN(e.x,e.y),f;if(h=e.querySelector("WGS84BoundingBox")||e.querySelector("BoundingBox"))e=a(h.querySelector("LowerCorner")),
f=f?f.AN(e.x,e.y):d.cb(e.x,e.y,e.x,e.y),e=a(h.querySelector("UpperCorner")),f.AN(e.x,e.y);return f};c.prototype.hjd=function(e){for(var f=[],g=null,h=0;h<e.length;++h){var k=e[h].querySelector("Name");k&&(g=null===g?h:g,(Array.isArray(this.ua.xJa)&&0<=this.ua.xJa.indexOf(k.textContent)||this.ua.xJa===k.textContent)&&f.push(e[h]))}0===f.length&&null!==g&&(this.ua.xJa=e[g].querySelector("Name").textContent,f.push(e[g]));return f};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc1VybCI6ImlXIn19fSAg");var D6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{format:new B6,loader:new C6});S4.call(this,a);this.ua=this.ua||{};this.ua.version=a.version||"1.1.0";this.ua.xJa=a.featureTypes||null}D(c,S4);L(c,"geotoolkit.map.sources.WFS");c.prototype.l6b=function(a){this.ua.xJa=a;return this};c.prototype.Fzc=function(){return this.ua.xJa};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRGZWF0dXJlVHlwZXMiOiJsNmIiLCJnZXRGZWF0dXJlVHlwZXMiOiJGemMifX19");var E6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{source:a&&(a.source||a.sources)||new D6,templates:[],server:null},!0);F5.call(this,a);null!=a.featuretypes&&this.xc.l6b(a.featuretypes)}D(c,F5);L(c,"geotoolkit.map.layers.WFS");c.prototype.ia=function(){var a=F5.prototype.ia.call(this);a.featuretypes=this.xc instanceof D6?this.xc.Fzc():null;return a};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;null!=a.featuretypes&&this.xc instanceof D6&&this.xc.l6b(a.featuretypes);F5.prototype.fa.call(this,a);
return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var F6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){b=G(b,{connector:new q5});I4.call(this,b);this.PMa=new B4}function a(b){for(var d="&layers="+b[0],e=1;e<b.length;++e)d+=","+b[e];return d}D(c,I4);L(c,"geotoolkit.map.sources.formats.WMS");c.prototype.query=function(b){var d=b.left,e=b.right,f=b.top,g=b.bottom,h=b.width,k=b.height,l=this.ua.rk.mr().EA(),m=new Gj({lazyloading:!0,ax:(d+e)/2,ay:(f+g)/2,width:e-d,height:g-f,ispointingup:!0,alignment:O.Na,crossorigin:"anonymous"});if(0===this.ua.Vz.length)return this.notify(Fj.Cj,
m,null),this;var n=a(this.ua.Vz);h="?service=WMS&request=GetMap&version="+this.ua.version+n+"&styles=&crs=EPSG:"+l+"&bbox="+d+"%2C"+f+"%2C"+e+"%2C"+g+"&width="+h+"&height="+k+"&format="+this.ua.format+"&transparent="+this.ua.transparent;this.Cl.send(this.hI(h),{dst:m,key:b.key},function(p,q){if(p)this.onError(p);else this.ge()||(q.tc(O.Na),q.Db((d+e)/2,(f+g)/2),q.vt(!0),q.setSize(e-d,g-f),this.notify(Fj.Cj,q,q.url))}.bind(this));return this};c.prototype.lva=function(b){var d=V.clamp(Math.round(b.x),
0,b.width),e=V.clamp(Math.round(b.y),0,b.height),f=("1.0.0"===this.ua.version?"&wmtver=":"&version=")+this.ua.version,g="&request="+("1.0.0"===this.ua.version?"feature_info":"GetFeatureInfo");d=("1.3.0"===this.ua.version?"&i=":"&x=")+d;e=("1.3.0"===this.ua.version?"&j=":"&y=")+e;var h=this.ua.rk.mr().EA();h=("1.3.0"===this.ua.version?"&crs":"&srs")+"=epsg:"+h;f="?service=WMS"+f+g+"&query_layers="+b.layers+"&layers="+b.layers+"&info_format=application/json&bbox="+b.left+","+b.top+","+b.right+","+b.bottom+
"&width="+b.width+"&height="+b.height+d+e+h;this.PMa.send(this.hI(f),{key:b.key},function(k,l){if(k)l=[];else try{"string"===typeof l&&(l=JSON.parse(l)),l=L4.parse(l)}catch(m){l=[]}this.notify(M4.iB,this,l)}.bind(this));return this};c.prototype.$R=function(b){this.PMa.abort(b);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGZWF0dXJlSW5mbyI6Imx2YSIsImFib3J0R2VvbWV0cnlRdWVyaWVzIjoiJFIifX19");var G6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){n5.call(this,b)}function a(b){return b.map(function(d){return'BoundingBox[CRS="EPSG:'+d+'"]'}).join(", ")}D(c,n5);L(c,"geotoolkit.map.sources.loaders.WMS");c.prototype.parse=function(b,d){if("string"===typeof b&&(b=$5.parse(b),null==b))return;this.ua.data=b;var e=b.querySelectorAll("GetMap > Format");this.CQd(e);e=b.querySelectorAll('Layer[queryable="1"] > Name');b=[];for(var f=0;f<e.length;++f){var g=e[f].firstChild?e[f].firstChild.nodeValue:null;if(null!=g)if(0===
this.ua.Vz.length){this.ua.Vz.push(g);b=[e[f].parentNode];break}else 0<=this.ua.Vz.indexOf(g)&&b.push(e[f].parentNode)}e=this.ua.rk.mr();g=[e.EA()];f=null;g=a(g);for(var h="1.1.0"<this.ua.version&&4326===e.EA(),k=0;k<b.length;++k){var l=b[k].querySelector(g);if(null!=l){var m=+l.getAttribute(h?"miny":"minx"),n=+l.getAttribute(h?"minx":"miny"),p=+l.getAttribute(h?"maxy":"maxx");l=+l.getAttribute(h?"maxx":"maxy");f?(f.AN(m,n),f.AN(p,l)):f=new U(m,n,p,l)}}this.ua.Ub=null!=f?f.intersect(e.jk()):e.jk();
this.loaded(d)};c.prototype.iW=function(){return this.ua.url?this.ua.url+"?service=WMS&version="+this.ua.version+"&request=GetCapabilities":null};c.prototype.CQd=function(b){var d=this.ua.format;if(null!=d)for(var e=0;e<b.length;++e)if(b[e].firstChild&&b[e].firstChild.nodeValue===d)return this;if(0<b.length&&b[0].firstChild)this.ua.format=b[0].firstChild.nodeValue;else throw Error("No formats available");return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc1VybCI6ImlXIn19fSAg");var H6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b,d){J5.call(this,b,d);this.Lc=null;this.xL=[]}var a=new Vd;D(c,J5);L(c,"geotoolkit.map.sources.managers.WMS");c.prototype.lva=function(b,d){var e=d.wa();e.Sk(a.setSize(1,1),a);if(null!=this.Lc&&Math.abs(this.Lc.getX()-b.getX())<a.ca()&&Math.abs(this.Lc.getY()-b.getY())<a.da())return this.xL;this.xL=[];this.Lc=b;var f=this.ua.nXa||this.ua.Vz;d=d.vb();var g=e.Ta(d).round();this.Ig.$R();this.Ig.lva({x:e.M5(b.getX(),b.getY()),y:e.Paa(b.getX(),b.getY()),left:d.la(),right:d.na(),
top:d.ka(),bottom:d.ma(),width:g.ca(),height:g.da(),layers:f.join(",")});return null};c.prototype.VM=function(){J5.prototype.VM.call(this);this.Ig.on(M4.iB,function(b,d,e){this.xL=e;this.notify(M4.iB,this,e)}.bind(this));return this};c.prototype.$R=function(){this.Ig.$R();return this};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGZWF0dXJlSW5mbyI6Imx2YSIsImluaXRGb3JtYXQiOiJWTSJ9fX0g");var I6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=a||{};a=G(a,{format:new F6,loader:new G6,system:Z3.MI});K5.call(this,a);this.ua=this.ua||{};this.ua.version=a.hasOwnProperty("version")?a.version:"1.3.0";this.ua.transparent=a.hasOwnProperty("transparent")?a.transparent:!0;this.ua.format=a.imageformat||null;this.ua.nXa=null}D(c,K5);L(c,"geotoolkit.map.sources.WMS");c.prototype.WM=function(a){this.Vh=new H6(a,this.ua);this.Vh.on(M4.Cj,function(b,d,e){this.notify(M4.Cj,this,e);this.HK(!0)}.bind(this));this.Vh.on(M4.iB,
function(b,d,e){this.notify(M4.iB,this,e)}.bind(this));return this};c.prototype.s5=function(a){this.ua.format=a;return this};c.prototype.J9=function(){return this.ua.format};c.prototype.sX=function(a){this.ua.transparent=a;return this};c.prototype.m$=function(){return this.ua.transparent};c.prototype.tX=function(a){this.ua.version=a;return this};c.prototype.pm=function(){return this.ua.version};c.prototype.lva=function(a,b){return this.Ena()?this.Vh.lva(a,b):[]};c.prototype.PAb=function(a){this.ua.nXa=
null==a?null:Array.isArray(a)?a:[a];return this};c.prototype.$R=function(){this.Vh.$R();return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0UXVlcnlNYW5hZ2VyIjoiV00iLCJzZXRJbWFnZUZvcm1hdCI6InM1IiwiZ2V0SW1hZ2VGb3JtYXQiOiJKOSIsInNldFRyYW5zcGFyZW50Ijoic1giLCJnZXRUcmFuc3BhcmVudCI6Im0kIiwic2V0VmVyc2lvbiI6InRYIiwiZ2V0VmVyc2lvbiI6InBtIiwiZ2V0RmVhdHVyZUluZm8iOiJsdmEiLCJzZXRUb29sdGlwTGF5ZXJzIjoiUEFiIiwiYWJvcnRHZW9tZXRyeVF1ZXJpZXMiOiIkUiJ9fX0g");var J6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=xb(a,{imageformat:null,layers:null,version:"1.3.0",transparent:!0,inflate:.2,timeout:50,tooltip:{formatter:new d5,visible:!1}},!0);var b=a.source||new I6(a);null!=a.imageformat&&b.s5(a.imageformat);null!=a.layers&&b.ZD(a.layers);a.source=b;N5.call(this,a);this.Eoc=a.tooltip}D(c,N5);L(c,"geotoolkit.map.layers.WMS");c.prototype.$A=function(a){if(this.xc===a)return this;this.NCa||(this.NCa=function(b,d,e){this.notify(M4.iB,this,e)}.bind(this));null!=this.xc&&this.xc.za(M4.iB,
this.NCa);N5.prototype.$A.call(this,a);if(null!=this.xc)this.xc.on(M4.iB,this.NCa);return this};c.prototype.s5=function(a){this.xc instanceof I6&&this.xc.s5(a);return this};c.prototype.J9=function(){return this.xc instanceof I6?this.xc.J9():null};c.prototype.sX=function(a){this.xc instanceof I6&&this.xc.sX(a);return this};c.prototype.m$=function(){return this.xc instanceof I6?this.xc.m$():null};c.prototype.tX=function(a){this.xc instanceof I6&&this.xc.tX(a);return this};c.prototype.pm=function(){return this.xc instanceof
I6?this.xc.pm():null};c.prototype.ia=function(){var a=N5.prototype.ia.call(this);a.format=this.J9();a.imageformat=a.format;a.version=this.pm();a.inflate=this.xc instanceof I6?this.xc.AAc():null;a.transparent=this.m$();a.timeout=this.xc instanceof I6?this.xc.CDc():null;a.layers=this.xc instanceof I6?this.xc.kI():null;return a};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;this.xc instanceof I6&&(void 0!==a.format&&(hb("geotoolkit.map.layers.WMS.setProperties parameter 'format' is deprecated since since 2021.1 (3.3) use 'imageformat' instead."),
a.imageformat=a.format),void 0!==a.imageformat&&this.xc.s5(a.imageformat),void 0!==a.layers&&this.xc.ZD(a.layers),void 0!==a.version&&this.xc.tX(a.version),void 0!==a.inflate&&this.xc.eQc(a.inflate),void 0!==a.transparent&&this.xc.sX(a.transparent),void 0!==a.timeout&&this.xc.mSc(a.timeout));N5.prototype.fa.call(this,a);return this};c.prototype.k$=function(){return this.Eoc.visible?this.Eoc.formatter:null};c.prototype.Zla=function(a,b){return this.Li(b)};c.prototype.Li=function(a,b){b=this.dK();if(!b)return[];
b=b.jk();var d=this.wa();a=d.hd(a);a.getX()<b.getX()?a.translate(b.ca(),0):a.getX()>b.na()&&a.translate(-b.ca(),0);return(b=this.pa())&&b.contains(a)?this.xc.lva(a,this):[]};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXREYXRhU291cmNlIjoiJEEiLCJzZXRJbWFnZUZvcm1hdCI6InM1IiwiZ2V0SW1hZ2VGb3JtYXQiOiJKOSIsInNldFRyYW5zcGFyZW50Ijoic1giLCJnZXRUcmFuc3BhcmVudCI6Im0kIiwic2V0VmVyc2lvbiI6InRYIiwiZ2V0VmVyc2lvbiI6InBtIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0VG9vbHRpcEZvcm1hdHRlciI6ImskIiwiZmlsdGVyVG9vbHRpcEluZm8iOiJabGEiLCJoaXRUZXN0IjoiTGkifX19");var K6=/*#__PURE__*/function(){function c(b){s5.call(this,b)}function a(b){for(var d="&layers="+b[0],e=1;e<b.length;++e)d+=","+b[e];return d}D(c,s5);L(c,"geotoolkit.map.sources.formats.WMSTile");c.prototype.query=function(b){var d=this.ua.YZ.mr(),e=d.jk(),f=a(this.ua.Vz),g=e.ca()/b.grid.ca(),h=e.da()/b.grid.da(),k=e.la()+g*b.x,l=e.ma()-h*(b.y+1);g=e.la()+g*(b.x+1);e=e.ma()-h*b.y;k="1.1.0"<this.ua.version&&4326===d.EA()?l+","+k+","+e+","+g:k+","+l+","+g+","+e;d="&crs=EPSG:"+d.EA()+"&srs=EPSG:"+d.EA();f="?service=WMS&request=GetMap&version="+
this.ua.version+f+"&styles="+d+"&bbox="+k+"&width="+this.ua.gu+"&height="+this.ua.fu+"&format="+this.ua.format+"&transparent="+this.ua.transparent;this.Cl.send(this.hI(f),{dst:b.dst,key:b.key,priority:b.priority},function(m,n){if(!this.ge())if(m)this.onError(m);else this.notify(Fj.Cj,n,n.url)}.bind(this));return this};return c}();var L6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=a||{};a=G(a,{format:new K6,loader:new G6,system:Z3.WT});P5.call(this,a);this.ua=this.ua||{};this.ua.version=a.hasOwnProperty("version")?a.version:"1.3.0";this.ua.transparent=a.hasOwnProperty("transparent")?a.transparent:!0;this.ua.format=a.imageformat||null;this.ua.Vz=[];this.ua.layers=null}D(c,P5);L(c,"geotoolkit.map.sources.WMSTile");c.prototype.s5=function(a){this.ua.format=a;return this};c.prototype.J9=function(){return this.ua.format};c.prototype.sX=function(a){this.ua.transparent=
a;return this};c.prototype.m$=function(){return this.ua.transparent};c.prototype.tX=function(a){this.ua.version=a;return this};c.prototype.pm=function(){return this.ua.version};c.prototype.ZD=function(a){this.ua.Vz=null!=a?Array.isArray(a)?a:[a]:[];this.update();return this};c.prototype.w4=function(a){this.ua.Vz=this.ua.Vz.filter(function(b){return Array.isArray(a)?0>a.indexOf(b):b!==a});this.update();return this};c.prototype.kI=function(){return this.ua.Vz.slice()};c.prototype.L9=function(){return this.ua.layers};
return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRJbWFnZUZvcm1hdCI6InM1IiwiZ2V0SW1hZ2VGb3JtYXQiOiJKOSIsInNldFRyYW5zcGFyZW50Ijoic1giLCJnZXRUcmFuc3BhcmVudCI6Im0kIiwic2V0VmVyc2lvbiI6InRYIiwiZ2V0VmVyc2lvbiI6InBtIiwic2hvd0xheWVycyI6IlpEIiwiaGlkZUxheWVycyI6Inc0IiwiZ2V0VmlzaWJsZUxheWVycyI6ImtJIiwiZ2V0TGF5ZXJzIjoiTDkifX19");var M6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{source:a&&a.sources||new L6});R5.call(this,a)}D(c,R5);L(c,"geotoolkit.map.layers.WMSTile");c.prototype.s5=function(a){this.fd()instanceof L6&&this.fd().s5(a);return this};c.prototype.J9=function(){return this.fd()instanceof L6?this.xc.J9():null};c.prototype.sX=function(a){this.fd()instanceof L6&&this.fd().sX(a);return this};c.prototype.m$=function(){return this.fd()instanceof L6?this.fd().m$():null};c.prototype.tX=function(a){this.fd()instanceof L6&&this.fd().tX(a);
return this};c.prototype.pm=function(){return this.fd()instanceof L6?this.fd().pm():null};c.prototype.L9=function(){return this.fd()instanceof L6?this.fd().L9():null};c.prototype.kI=function(){return this.fd()instanceof L6?this.fd().kI():null};c.prototype.ZD=function(a){this.fd()instanceof L6&&this.fd().ZD(a);return this};c.prototype.w4=function(a){this.fd()instanceof L6&&this.fd().w4(a);return this};c.prototype.ia=function(){var a=R5.prototype.ia.call(this);a.format=this.J9();a.version=this.pm();
a.transparent=this.m$();a.showlayers=this.kI();return a};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;R5.prototype.fa.call(this,a);return this};c.prototype.setOptions=function(a){null!=a.format&&this.s5(a.format);null!=a.version&&this.tX(a.version);null!=a.transparent&&this.sX(a.transparent);null!=a.showlayers&&(this.w4(),this.ZD(a.showlayers));return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRJbWFnZUZvcm1hdCI6InM1IiwiZ2V0SW1hZ2VGb3JtYXQiOiJKOSIsInNldFRyYW5zcGFyZW50Ijoic1giLCJnZXRUcmFuc3BhcmVudCI6Im0kIiwic2V0VmVyc2lvbiI6InRYIiwiZ2V0VmVyc2lvbiI6InBtIiwiZ2V0TGF5ZXJzIjoiTDkiLCJnZXRWaXNpYmxlTGF5ZXJzIjoia0kiLCJzaG93TGF5ZXJzIjoiWkQiLCJoaWRlTGF5ZXJzIjoidzQiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var N6=/*#__PURE__*/function(){function c(a){A4.call(this);this.ja=a&&a.data||null}D(c,A4);L(c,"geotoolkit.map.sources.connectors.Stub");c.prototype.send=function(a,b,d){return d(null,this.ja)};c.prototype.abort=function(a){return this};return c}();var O6=/*#__PURE__*/function(){function c(){}var a=function(){function d(l,m,n){var p={},q=new Uint8Array(l,m,10);p.Xla=String.fromCharCode.apply(null,q);if("CntZImage"!==p.Xla.trim())throw Error("Unexpected file identifier string: "+p.Xla);m+=10;var r=new DataView(l,m,24);p.$Ea=r.getInt32(0,!0);p.tW=r.getInt32(4,!0);p.height=r.getUint32(8,!0);p.width=r.getUint32(12,!0);p.Pwa=r.getFloat64(16,!0);m+=24;if(!n)if(r=new DataView(l,m,16),p.mask={},p.mask.U4=r.getUint32(0,!0),p.mask.N$=r.getUint32(4,!0),p.mask.aF=r.getUint32(8,
!0),p.mask.maxValue=r.getFloat32(12,!0),m+=16,0<p.mask.aF){n=new Uint8Array(Math.ceil(p.width*p.height/8));r=new DataView(l,m,p.mask.aF);q=r.getInt16(0,!0);var t=2,u=0;do{if(0<q)for(;q--;)n[u++]=r.getUint8(t++);else{var w=r.getUint8(t++);for(q=-q;q--;)n[u++]=w}q=r.getInt16(t,!0);t+=2}while(t<p.mask.aF);if(-32768!==q||u<n.length)throw Error("Unexpected end of mask RLE encoding");p.mask.LQa=n;m+=p.mask.aF}else 0===(p.mask.aF|p.mask.U4|p.mask.maxValue)&&(p.mask.LQa=new Uint8Array(Math.ceil(p.width*p.height/
8)));r=new DataView(l,m,16);p.Zi={};p.Zi.U4=r.getUint32(0,!0);p.Zi.N$=r.getUint32(4,!0);p.Zi.aF=r.getUint32(8,!0);p.Zi.maxValue=r.getFloat32(12,!0);m+=16;n=p.Zi.N$;q=p.Zi.U4;n+=0<p.width%n?1:0;q+=0<p.height%q?1:0;p.Zi.GSb=[];for(u=t=0;u<q;u++)for(w=0;w<n;w++){var y=0;r=l.byteLength-m;r=new DataView(l,m,Math.min(10,r));var A={};p.Zi.GSb[t++]=A;var x=r.getUint8(0);y++;A.encoding=x&63;if(3<A.encoding)throw Error("Invalid block encoding ("+A.encoding+")");if(2===A.encoding)m++;else{if(0!==x&&2!==x){x>>=
6;A.wue=x;if(2===x)A.offset=r.getInt8(1),y++;else if(1===x)A.offset=r.getInt16(1,!0),y+=2;else if(0===x)A.offset=r.getFloat32(1,!0),y+=4;else throw Error("Invalid block offset type");if(1===A.encoding)if(x=r.getUint8(y),y++,A.FSb=x&63,x>>=6,A.sue=x,2===x)A.Mab=r.getUint8(y),y++;else if(1===x)A.Mab=r.getUint16(y,!0),y+=2;else if(0===x)A.Mab=r.getUint32(y,!0),y+=4;else throw Error("Invalid valid pixel count type");}m+=y;if(3!==A.encoding)if(0===A.encoding){x=(p.Zi.aF-1)/4;if(x!==Math.floor(x))throw Error("uncompressed block has invalid length");
r=new ArrayBuffer(4*x);y=new Uint8Array(r);y.set(new Uint8Array(l,m,4*x));r=new Float32Array(r);A.V3b=r;m+=4*x}else 1===A.encoding&&(x=Math.ceil(A.Mab*A.FSb/8),r=Math.ceil(x/4),r=new ArrayBuffer(4*r),y=new Uint8Array(r),y.set(new Uint8Array(l,m,x)),A.k9b=new Uint32Array(r),m+=x)}}p.Dua=m;return p}function e(l,m,n,p,q){var r=0,t=l.Zi.N$,u=l.Zi.U4,w=Math.floor(l.width/t),y=Math.floor(l.height/u),A=2*l.Pwa,x=Number.MAX_VALUE;n=n||(l.mask?l.mask.LQa:null);var C;m=new m(l.width*l.height);q&&n&&(C=new Uint8Array(l.width*
l.height));for(var z=new Float32Array(w*y),v,B,E=0;E<=u;E++){var H=E!==u?y:l.height%u;if(0!==H)for(var F=0;F<=t;F++){var I=F!==t?w:l.width%t;if(0!==I){var J=E*l.width*y+F*w,K=l.width-I,N=l.Zi.GSb[r],P=[],Q=0,R=0;2>N.encoding?(0===N.encoding?P=N.V3b:(f(N.k9b,N.FSb,N.Mab,N.offset,A,z,l.Zi.maxValue),P=z),Q=0):R=2===N.encoding?0:N.offset;if(n)for(B=0;B<H;B++){if(J&7){var Y=n[J>>3];Y<<=J&7}for(v=0;v<I;v++)J&7||(Y=n[J>>3]),Y&128?(C&&(C[J]=1),q=2>N.encoding?P[Q++]:R,x=x>q?q:x,m[J++]=q):(C&&(C[J]=0),m[J++]=
p),Y<<=1;J+=K}else if(2>N.encoding)for(B=0;B<H;B++){for(v=0;v<I;v++)q=P[Q++],x=x>q?q:x,m[J++]=q;J+=K}else for(x=x>R?R:x,B=0;B<H;B++){for(v=0;v<I;v++)m[J++]=R;J+=K}if(1===N.encoding&&Q!==N.Mab)throw Error("Block and Mask do not match");r++}}}return{kT:m,T_:C,minValue:x}}function f(l,m,n,p,q,r,t){var u=(1<<m)-1,w=0,y=0,A=Math.ceil((t-p)/q);var x=4*l.length-Math.ceil(m*n/8);l[l.length-1]<<=8*x;for(x=0;x<n;x++){if(0===y){var C=l[w++];y=32}if(y>=m){var z=C>>>y-m&u;y-=m}else y=m-y,z=(C&u)<<y&u,C=l[w++],
y=32-y,z+=C>>>y;r[x]=z<A?p+z*q:t}return r}function g(l){for(var m=l.Zi.N$*l.Zi.U4,n={},p=0;p<m;p++){var q=l.Zi.GSb[p];0===q.encoding?n.yqe=!0:1===q.encoding?n[q.FSb]=!0:n[0]=!0}return Object.keys(n)}function h(l){return{Xla:l.Xla,$Ea:l.$Ea,tW:l.tW,height:l.height,width:l.width,Pwa:l.Pwa,Dua:l.Dua,mask:l.mask?{N$:l.mask.N$,U4:l.mask.U4,aF:l.mask.aF,maxValue:l.mask.maxValue}:null,Zi:{N$:l.Zi.N$,U4:l.Zi.U4,aF:l.Zi.aF,maxValue:l.Zi.maxValue,J_:l.J_}}}var k={bhd:-3.4027999387901484E38,decode:function(l,
m){m=m||{};var n=m.C7a||null===m.C7a;l=d(l,m.YTa||0,n);var p=null!==m.J_?m.J_:k.bhd;n=e(l,m.lxa||Float32Array,m.C7a,p,m.RHd);p={width:l.width,height:l.height,o3b:n.kT,minValue:n.minValue,maxValue:l.Zi.maxValue,J_:p};n.T_&&(p.aHa=n.T_);m.QHd&&l.mask&&(p.C7a=l.mask.LQa?l.mask.LQa:null);m.KMc&&(p.HRa=h(l),m.tpe&&(p.HRa.Uoe=g(l)));return p}};return k}(),b=function(){function d(g,h,k){this.UG=g;this.left=h;this.right=k}var e={vVc:function(g,h,k,l,m,n,p,q){var r=(1<<k)-1,t=0,u=0;var w=4*g.length-Math.ceil(k*
l/8);g[g.length-1]<<=8*w;if(m)for(w=0;w<l;w++){if(0===u){var y=g[t++];u=32}if(u>=k){var A=y>>>u-k&r;u-=k}else u=k-u,A=(y&r)<<u&r,y=g[t++],u=32-u,A+=y>>>u;h[w]=m[A]}else for(m=Math.ceil((q-n)/p),w=0;w<l;w++)0===u&&(y=g[t++],u=32),u>=k?(A=y>>>u-k&r,u-=k):(u=k-u,A=(y&r)<<u&r,y=g[t++],u=32-u,A+=y>>>u),h[w]=A<m?n+A*p:q},aQd:function(g,h,k,l,m,n){var p=(1<<h)-1,q=0;var r=0;var t=[];var u=4*g.length-Math.ceil(h*k/8);g[g.length-1]<<=8*u;for(var w=Math.ceil((n-l)/m),y=0;y<k;y++){if(0===r){var A=g[q++];r=32}r>=
h?(u=A>>>r-h&p,r-=h):(r=h-r,u=(A&p)<<r&p,A=g[q++],r=32-r,u+=A>>>r);t[y]=u<w?l+u*m:n}t.unshift(l);return t},wVc:function(g,h,k,l,m,n,p,q){var r=(1<<k)-1,t=0,u,w=0,y=0;if(m)for(u=0;u<l;u++){if(0===w){var A=g[t++];w=32;y=0}if(w>=k){var x=A>>>y&r;w-=k;y+=k}else{var C=k-w;x=A>>>y&r;A=g[t++];w=32-C;x|=(A&(1<<C)-1)<<k-C;y=C}h[u]=m[x]}else for(m=Math.ceil((q-n)/p),u=0;u<l;u++)0===w&&(A=g[t++],w=32,y=0),w>=k?(x=A>>>y&r,w-=k,y+=k):(C=k-w,x=A>>>y&r,A=g[t++],w=32-C,x|=(A&(1<<C)-1)<<k-C,y=C),h[u]=x<m?n+x*p:q;
return h},bQd:function(g,h,k,l,m,n){for(var p=(1<<h)-1,q=0,r,t=0,u,w=0,y,A=[],x=Math.ceil((n-l)/m),C=0;C<k;C++)0===t&&(y=g[q++],t=32,w=0),t>=h?(u=y>>>w&p,t-=h,w+=h):(r=h-t,u=y>>>w&p,y=g[q++],t=32-r,u|=(y&(1<<r)-1)<<h-r,w=r),A[C]=u<x?l+u*m:n;A.unshift(l);return A},$Bd:function(g,h,k,l){var m=(1<<k)-1,n=0,p=0;var q=4*g.length-Math.ceil(k*l/8);g[g.length-1]<<=8*q;for(var r=0;r<l;r++){if(0===p){var t=g[n++];p=32}p>=k?(q=t>>>p-k&m,p-=k):(p=k-p,q=(t&m)<<p&m,t=g[n++],p=32-p,q+=t>>>p);h[r]=q}return h},aCd:function(g,
h,k,l){for(var m=(1<<k)-1,n=0,p=0,q=0,r,t,u,w=0;w<l;w++)0===p&&(t=g[n++],p=32,q=0),p>=k?(r=t>>>q&m,p-=k,q+=k):(u=k-p,r=t>>>q&m,t=g[n++],p=32-u,r|=(t&(1<<u)-1)<<k-u,q=u),h[w]=r;return h}},f={s_c:12,jed:function(g){for(var h=65535,k=65535,l=g.length,m=Math.floor(l/2),n=0;m;){var p=359<=m?359:m;m-=p;do h+=g[n++]<<8,k+=h+=g[n++];while(--p);h=(h&65535)+(h>>>16);k=(k&65535)+(k>>>16)}l&1&&(k+=h+=g[n]<<8);h=(h&65535)+(h>>>16);k=(k&65535)+(k>>>16);return(k<<16|h)>>>0},gFd:function(g,h){var k=h.zb,l=new Uint8Array(g,
k,6),m={};m.Xla=String.fromCharCode.apply(null,l);if(0!==m.Xla.lastIndexOf("Lerc2",0))throw Error("Unexpected file identifier string (expect Lerc2): "+m.Xla);k+=6;l=new DataView(g,k,8);var n=l.getInt32(0,!0);m.$Ea=n;k+=4;3<=n&&(m.rsc=l.getUint32(4,!0),k+=4);l=new DataView(g,k,12);m.height=l.getUint32(0,!0);m.width=l.getUint32(4,!0);k+=8;4<=n?(m.O$=l.getUint32(8,!0),k+=4):m.O$=1;l=new DataView(g,k,40);m.Ywa=l.getUint32(0,!0);m.R1b=l.getInt32(4,!0);m.qEa=l.getInt32(8,!0);m.tW=l.getInt32(12,!0);m.Pwa=
l.getFloat64(16,!0);m.S$b=l.getFloat64(24,!0);m.zeb=l.getFloat64(32,!0);k+=40;h.Gu=m;h.zb=k;if(3<=n&&(h=4<=n?52:48,g=this.jed(new Uint8Array(g,k-h,m.qEa-14)),g!==m.rsc))throw Error("Checksum failed.");return!0},ydd:function(g,h){var k=h.Gu,l=this.Pyc(k.tW),m=k.O$*this.atb(k.tW),n=this.VKc(g,h.zb,l,m);g=this.VKc(g,h.zb+m,l,m);h.zb+=2*m;m=!0;for(h=0;h<k.O$;h++)if(n[h]!==g[h]){m=!1;break}k.EHc=n;k.P1b=g;return m},VKc:function(g,h,k,l){if(k===Uint8Array)g=new Uint8Array(g,h,l);else{var m=new ArrayBuffer(l),
n=new Uint8Array(m);n.set(new Uint8Array(g,h,l));g=new k(m)}return g},kFd:function(g,h){var k=h.zb,l=h.Gu,m=l.width*l.height,n=l.Ywa,p=new DataView(g,k,4);l={};l.aF=p.getUint32(0,!0);k+=4;if((0===n||m===n)&&0!==l.aF)throw Error("invalid mask");if(0===n)n=new Uint8Array(Math.ceil(m/8)),l.LQa=n,p=new Uint8Array(m),h.Zi.T_=p,k+=l.aF;else if(0<l.aF){n=new Uint8Array(Math.ceil(m/8));p=new DataView(g,k,l.aF);g=p.getInt16(0,!0);var q=2,r=0;do{if(0<g)for(;g--;)n[r++]=p.getUint8(q++);else{var t=p.getUint8(q++);
for(g=-g;g--;)n[r++]=t}g=p.getInt16(q,!0);q+=2}while(q<l.aF);if(-32768!==g||r<n.length)throw Error("Unexpected end of mask RLE encoding");p=new Uint8Array(m);for(q=0;q<m;q++)q&7?(g=n[q>>3],g<<=q&7):g=n[q>>3],g&128&&(p[q]=1);h.Zi.T_=p;l.LQa=n;k+=l.aF}h.zb=k;h.mask=l;return!0},dFd:function(g,h,k){var l=h.zb,m=h.Gu,n=m.O$,p=m.width*m.height,q=m.tW;m=m.Ywa*f.atb(q)*n;q=h.Zi.T_;if(k===Uint8Array)g=new Uint8Array(g,l,m);else{var r=new ArrayBuffer(m),t=new Uint8Array(r);t.set(new Uint8Array(g,l,m));g=new k(r)}if(g.length===
p*n)h.Zi.kT=g;else if(h.Zi.kT=new k(p*n),k=0,1<n)for(var u=0;u<n;u++)for(t=u*p,r=0;r<p;r++)q[r]&&(h.Zi.kT[t+r]=g[k++]);else for(r=0;r<p;r++)q[r]&&(h.Zi.kT[r]=g[k++]);l+=m;h.zb=l;return!0},iFd:function(g,h){var k=this.s_c,l=new DataView(g,h.zb,16);h.zb+=16;var m=l.getInt32(0,!0);if(2>m)throw Error("unsupported Huffman version");m=l.getInt32(4,!0);var n=l.getInt32(8,!0);l=l.getInt32(12,!0);if(n>=l)return!1;var p=new Uint32Array(l-n);f.Luc(g,h,p);var q=[],r;for(r=n;r<l;r++){var t=r-(r<m?0:m);q[t]={first:p[r-
n],second:null}}r=g.byteLength-h.zb;p=Math.ceil(r/4);p=new ArrayBuffer(4*p);var u=new Uint8Array(p);u.set(new Uint8Array(g,h.zb,r));g=new Uint32Array(p);p=h=0;u=g[0];for(r=n;r<l;r++){t=r-(r<m?0:m);var w=q[t].first;0<w&&(q[t].second=u<<h>>>32-w,32-h>=w?(h+=w,32===h&&(h=0,p++,u=g[p])):(h+=w-32,p++,u=g[p],q[t].second|=u>>>32-h))}u=0;var y=new d;for(r=0;r<q.length;r++)void 0!==q[r]&&(u=Math.max(u,q[r].first));k=u>=k?k:u;var A=[],x;for(r=n;r<l;r++)if(t=r-(r<m?0:m),w=q[t].first,0<w)if(n=[w,t],w<=k){t=q[t].second<<
k-w;var C=1<<k-w;for(w=0;w<C;w++)A[t|w]=n}else for(t=q[t].second,C=y,--w;0<=w;w--)(x=t>>>w&1)?(C.right||(C.right=new d),C=C.right):(C.left||(C.left=new d),C=C.left),0!==w||C.UG||(C.UG=n[1]);return{Ugd:A,VAd:k,UAd:u,MBb:y,k9b:g,JOd:p,dcd:h}},hFd:function(g,h,k){var l=h.Gu,m=l.O$,n=h.Gu.height,p=h.Gu.width,q=p*n,r=this.iFd(g,h);g=r.Ugd;var t=r.MBb,u=r.k9b,w=r.JOd,y=r.dcd,A=r.VAd;r=r.UAd;var x=0===h.Gu.tW?128:0,C=h.Zi.T_,z,v,B,E,H,F,I=0;0<y&&(w++,y=0);var J=u[w],K=1===h.Bid,N=new k(q*m),P=N,Q;for(Q=
0;Q<l.O$;Q++){1<m&&(P=new k(N.buffer,q*Q,q),I=0);if(h.Gu.Ywa===p*n)for(B=H=0;B<n;B++)for(E=0;E<p;E++,H++){var R=0;var Y=z=J<<y>>>32-A;32-y<A&&(Y=z|=u[w+1]>>>64-y-A);if(g[Y])R=g[Y][1],y+=g[Y][0];else for(z=J<<y>>>32-r,32-y<r&&(z|=u[w+1]>>>64-y-r),Y=t,F=0;F<r;F++)if(Y=(v=z>>>r-F-1&1)?Y.right:Y.left,!Y.left&&!Y.right){R=Y.UG;y=y+F+1;break}32<=y&&(y-=32,w++,J=u[w]);R-=x;K?(R=0<E?R+I:0<B?R+P[H-p]:R+I,R&=255,I=P[H]=R):P[H]=R}else for(B=H=0;B<n;B++)for(E=0;E<p;E++,H++)if(C[H]){R=0;Y=z=J<<y>>>32-A;32-y<A&&
(Y=z|=u[w+1]>>>64-y-A);if(g[Y])R=g[Y][1],y+=g[Y][0];else for(z=J<<y>>>32-r,32-y<r&&(z|=u[w+1]>>>64-y-r),Y=t,F=0;F<r;F++)if(Y=(v=z>>>r-F-1&1)?Y.right:Y.left,!Y.left&&!Y.right){R=Y.UG;y=y+F+1;break}32<=y&&(y-=32,w++,J=u[w]);R-=x;K?(R=0<E&&C[H-1]?R+I:0<B&&C[H-p]?R+P[H-p]:R+I,R&=255,I=P[H]=R):P[H]=R}h.zb=h.zb+4*(w+1)+(0<y?4:0)}h.Zi.kT=N},Luc:function(g,h,k,l,m){var n=h.Gu,p=n.$Ea,q=0,r=new DataView(g,h.zb,5),t=r.getUint8(0);q++;var u=t>>6;u=0===u?4:3-u;var w=0<(t&32);t&=31;if(1===u)u=r.getUint8(q),q++;
else if(2===u)u=r.getUint16(q,!0),q+=2;else if(4===u)u=r.getUint32(q,!0),q+=4;else throw Error("Invalid valid pixel count type");var y=2*n.Pwa;m=1<n.O$?n.P1b[m]:n.zeb;if(w){h.counter.Lzd++;w=r.getUint8(q);q++;n=Math.ceil((w-1)*t/8);var A=Math.ceil(n/4);A=new ArrayBuffer(4*A);var x=new Uint8Array(A);h.zb+=q;x.set(new Uint8Array(g,h.zb,n));q=new Uint32Array(A);h.zb+=n;for(r=0;w-1>>>r;)r++;n=Math.ceil(u*r/8);A=Math.ceil(n/4);A=new ArrayBuffer(4*A);x=new Uint8Array(A);x.set(new Uint8Array(g,h.zb,n));
g=new Uint32Array(A);h.zb+=n;h=3<=p?e.bQd(q,t,w-1,l,y,m):e.aQd(q,t,w-1,l,y,m);3<=p?e.wVc(g,k,r,u,h):e.vVc(g,k,r,u,h)}else h.counter.ecd++,r=t,h.zb+=q,0<r&&(n=Math.ceil(u*r/8),A=Math.ceil(n/4),A=new ArrayBuffer(4*A),x=new Uint8Array(A),x.set(new Uint8Array(g,h.zb,n)),g=new Uint32Array(A),h.zb+=n,3<=p?null==l?e.aCd(g,k,r,u):e.wVc(g,k,r,u,!1,l,y,m):null==l?e.$Bd(g,k,r,u):e.vVc(g,k,r,u,!1,l,y,m))},WKc:function(g,h,k){var l=h.Gu,m=l.width,n=l.height,p=l.R1b,q=l.tW,r=f.atb(q),t=Math.ceil(m/p),u=Math.ceil(n/
p);h.Zi.U4=u;h.Zi.N$=t;h.Zi.zb=0;var w,y=new k(p*p),A=n%p||p,x=m%p||p,C=l.O$,z,v=h.Zi.T_,B=h.Zi.kT;for(l=0;l<u;l++){var E=l!==u-1?p:A;for(w=0;w<t;w++){var H=w!==t-1?p:x;var F=l*m*p+w*p;var I=m-H;for(z=0;z<C;z++){1<C&&(B=new k(h.Zi.kT.buffer,m*n*z*r,m*n));var J=g.byteLength-h.zb;var K=new DataView(g,h.zb,Math.min(10,J));var N={};J=0;var P=K.getUint8(0);J++;var Q=P>>6&255;var R=P>>2&15;if(R!==(w*p>>3&15))throw Error("integrity issue");P&=3;if(3<P)throw h.zb+=J,Error("Invalid block encoding ("+P+")");
if(2===P)h.counter.constant++,h.zb+=J;else if(0===P){h.counter.RPd++;h.zb+=J;J=E*H*r;K=g.byteLength-h.zb;J=J<K?J:K;K=new ArrayBuffer(0===J%r?J:J+r-J%r);N=new Uint8Array(K);N.set(new Uint8Array(g,h.zb,J));Q=new k(K);J=0;if(v)for(K=0;K<E;K++){for(N=0;N<H;N++)v[F]&&(B[F]=Q[J++]),F++;F+=I}else for(K=0;K<E;K++){for(N=0;N<H;N++)B[F++]=Q[J++];F+=I}h.zb+=J*r}else if(Q=f.qmd(q,Q),R=f.Qqd(N,J,Q,K),J+=f.atb(Q),3===P)if(h.zb+=J,h.counter.yed++,v)for(K=0;K<E;K++){for(N=0;N<H;N++)v[F]&&(B[F]=R),F++;F+=I}else for(K=
0;K<E;K++){for(N=0;N<H;N++)B[F++]=R;F+=I}else if(h.zb+=J,f.Luc(g,h,y,R,z),J=0,v)for(K=0;K<E;K++){for(N=0;N<H;N++)v[F]&&(B[F]=y[J++]),F++;F+=I}else for(K=0;K<E;K++){for(N=0;N<H;N++)B[F++]=y[J++];F+=I}}}}},Hjd:function(g){return{Xla:g.Gu.Xla,$Ea:g.Gu.$Ea,tW:g.Gu.tW,height:g.Gu.height,width:g.Gu.width,Ywa:g.Gu.Ywa,R1b:g.Gu.R1b,qEa:g.Gu.qEa,Pwa:g.Gu.Pwa,lxa:f.xrd(g.Gu.tW),Dua:g.Dua,mask:g.mask?{aF:g.mask.aF}:null,Zi:{N$:g.Zi.N$,U4:g.Zi.U4,maxValue:g.Gu.zeb,minValue:g.Gu.S$b,J_:g.J_}}},ltc:function(g){var h=
g.Gu.zeb,k=g.Gu.O$,l=g.Gu.height*g.Gu.width,m=l*k,n,p=g.Zi.T_;if(p)if(1<k)for(m=0;m<k;m++){var q=m*l;for(n=0;n<l;n++)p[n]&&(g.Zi.kT[q+n]=h)}else for(n=0;n<l;n++)p[n]&&(g.Zi.kT[n]=h);else if(g.Zi.kT.fill)g.Zi.kT.fill(h);else for(n=0;n<m;n++)g.Zi.kT[n]=h},Pyc:function(g){switch(g){case 0:return Int8Array;case 1:return Uint8Array;case 2:return Int16Array;case 3:return Uint16Array;case 4:return Int32Array;case 5:return Uint32Array;case 6:return Float32Array;case 7:return Float64Array;default:return Float32Array}},
xrd:function(g){switch(g){case 0:return"S8";case 1:return"U8";case 2:return"S16";case 3:return"U16";case 4:return"S32";case 5:return"U32";case 6:return"F32";case 7:return"F64";default:return"F32"}},Gyd:function(g,h){if(null==h)return!1;switch(g){case 0:return-128<=h&&127>=h;case 1:return 0<=h&&255>=h;case 2:return-32768<=h&&32767>=h;case 3:return 0<=h&&65536>=h;case 4:return-2147483648<=h&&2147483647>=h;case 5:return 0<=h&&4294967296>=h;case 6:return-3.4027999387901484E38<=h&&3.4027999387901484E38>=
h;case 7:return 4.9E-324<=h&&1.7976931348623157E308>=h;default:return!1}},atb:function(g){switch(g){case 0:case 1:return 1;case 2:case 3:return 2;case 4:case 5:case 6:return 4;case 7:return 8;default:return g}},qmd:function(g,h){switch(g){case 2:case 4:return g-h;case 3:case 5:return g-2*h;case 6:return 0===h?g:1===h?2:1;case 7:return 0===h?g:g-2*h+1;default:return g}},Qqd:function(g,h,k,l){switch(k){case 0:return l.getInt8(h);case 1:return l.getUint8(h);case 2:return l.getInt16(h,!0);case 3:return l.getUint16(h,
!0);case 4:return l.getInt32(h,!0);case 5:return l.hse(h,!0);case 6:return l.getFloat32(h,!0);case 7:return l.getFloat64(h,!0);default:throw Error("the decoder does not understand this pixel type");}}};return{decode:function(g,h){h=h||{};var k=h.J_,l={};l.zb=h.YTa||0;l.Zi={};if(!f.gFd(g,l))return null;var m=l.Gu,n=m.$Ea,p=f.Pyc(m.tW);f.kFd(g,l);m.Ywa===m.width*m.height||l.Zi.T_||(l.Zi.T_=h.aHa);var q=m.width*m.height;l.Zi.kT=new p(q*m.O$);l.counter={Aue:0,RPd:0,Lzd:0,ecd:0,constant:0,yed:0};if(0!==
m.Ywa)if(m.zeb===m.S$b)f.ltc(l);else if(4<=n&&f.ydd(g,l))f.ltc(l);else{var r=new DataView(g,l.zb,2),t=r.getUint8(0);l.zb++;if(t)f.dFd(g,l,p);else if(1<n&&1>=m.tW&&1E-5>Math.abs(m.Pwa-.5)){r=r.getUint8(1);l.zb++;l.Bid=r;if(2<r||4>n&&1<r)throw Error("Invalid Huffman flag "+r);r?f.hFd(g,l,p):f.WKc(g,l,p)}else f.WKc(g,l,p)}l.Dua=l.zb;h.YTa?(g=l.Gu.qEa+h.YTa-l.zb,1<=Math.abs(g)&&(l.Dua=h.YTa+l.Gu.qEa)):(g=l.Gu.qEa-l.zb,1<=Math.abs(g)&&(l.Dua=l.Gu.qEa));g={width:m.width,height:m.height,o3b:l.Zi.kT,minValue:m.S$b,
maxValue:m.zeb,Nwe:m.Ywa,evc:m.O$,fvc:{EHc:m.EHc,P1b:m.P1b},aHa:l.Zi.T_};if(l.Zi.T_&&f.Gyd(m.tW,k)){m=l.Zi.T_;for(n=0;n<q;n++)m[n]||(g.o3b[n]=k);g.J_=k}l.J_=k;h.KMc&&(g.HRa=f.Hjd(l));return g}}}();c.decode=function(d,e){if(!V.kUa())throw Error("Big endian system is not supported.");e=e||{};var f=e.YTa||0,g=new Uint8Array(d,f,10);g=String.fromCharCode.apply(null,g);if("CntZImage"===g.trim()){var h=a;var k=1}else if("Lerc2"===g.substring(0,5))h=b,k=2;else throw Error("Unexpected file identifier string: "+
g);var l=0,m=d.byteLength-10;g=[];for(var n,p={width:0,height:0,Zi:[],lxa:e.lxa,mask:null,aq:[]};f<m;){var q=h.decode(d,{YTa:f,C7a:r,aHa:n,RHd:0===l,QHd:0===l,KMc:!0,lxa:e.lxa||null,J_:e.J_||null});f=q.HRa.Dua;if(0===l){var r=q.C7a;n=q.aHa;p.width=q.width;p.height=q.height;p.evc=q.evc||1;p.lxa=q.lxa||q.HRa.lxa;p.mask=q.aHa}1<k&&q.HRa.mask&&0<q.HRa.mask.aF&&g.push(q.aHa);l++;p.Zi.push(q.o3b);p.aq.push({minValue:q.minValue,maxValue:q.maxValue,J_:q.J_,fvc:q.fvc})}if(1<k&&1<g.length){r=p.width*p.height;
p.Soe=g;n=new Uint8Array(r);n.set(g[0]);for(e=1;e<g.length;e++)for(d=g[e],f=0;f<r;f++)n[f]&=d[f];p.aHa=n}return p};return c}();var P6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){d=G(d,{connector:new B4});I4.call(this,d);this.Et=null}var a,b;D(c,I4);L(c,"geotoolkit.map.sources.formats.Lerc");c.prototype.query=function(d){var e=this.ua.url;if(!e)return this;var f=this.u$c||1,g=e.endsWith("/")?"":"/";e=(e+g).endsWith("ImageServer/")?"exportImage":"export";var h=this.ua.rk.mr().EA();if(1<f){var k=f/d.width*(d.right-d.left);k=Math.round(this.ua.Ub.width/k)||1;var l=this.ua.Ub.width/k;f=f/d.height*(d.bottom-d.top);f=Math.round(this.ua.Ub.height/
f)||1;var m=this.ua.Ub.height/f;var n=Math.floor((d.left-this.ua.Ub.x)/l);var p=Math.ceil((d.right-this.ua.Ub.x)/l);var q=Math.floor((d.top-this.ua.Ub.y)/m);var r=Math.ceil((d.bottom-this.ua.Ub.y)/m);var t=this.ua.Ub.x+n*l;var u=this.ua.Ub.x+(p+1)*l;var w=this.ua.Ub.y+q*m;var y=this.ua.Ub.y+(r+1)*m;n=p-n+1;q=r-q+1;k=1/k;f=1/f;n="?bbox="+t+"%2C"+w+"%2C"+u+"%2C"+y+"&size="+n+"%2C"+q;g=g+e+n+"&transparent=true&imageSR="+h+"&bboxSR="+h+"&f=image&format=lerc&renderingRule=%7B%22rasterFunction%22%3A%22Resample%22%2C%22rasterFunctionArguments%22%3A%7B%22ResamplingType%22%3A10%2C%22InputCellSize%22%3A%7B%22x%22%3A"+
k+"%2C%22y%22%3A"+f+"%7D%7D%7D";this.Cl.send(this.hI(g),{responseType:"arraybuffer",key:d.key},function(A,x){if(A)this.onError(A);else if(!this.ge()){x=this.NCd(x,t,y,l,m);for(A=0;A<x.length;++A){var C=A5.Wva(x[A].getAttributes(),this.ua.B0);null!=C&&(x[A].eu=C)}this.notify(M4.cs,this,x)}}.bind(this))}else t=d.left,u=d.right,w=d.top,y=d.bottom,n=d.width,q=d.height,n="?bbox="+t+"%2C"+w+"%2C"+u+"%2C"+y+"&size="+n+"%2C"+q,g=g+e+n+"&transparent=true&imageSR="+h+"&bboxSR="+h+"&f=image&format=lerc",this.Cl.send(this.hI(g),
{responseType:"arraybuffer",key:d.key},function(A,x){if(A)this.onError(A);else this.ge()||(A=this.BCd(x),A=new Gj({url:A,alignment:O.Na,ax:(t+u)/2,ay:(w+y)/2,ispointingup:!0,width:u-t,height:w-y}),A.on(Fj.Cj,this.sb()))}.bind(this));return this};c.prototype.NCd=function(d,e,f,g,h){var k=O6.decode(d);d=k.width;var l=k.height,m=k.Zi;k=k.mask;var n=[];f-=h/2;for(var p=0,q=0;q<l;f-=h,q++)for(var r=e+g/2,t=0;t<d;r+=g,t++)k&&!k[p]||n.push(new t4({attributes:{Magnitude:m[0]&&m[0][p],Direction:m[1]&&m[1][p]},
geometry:{x:r,y:f}})),p++;return n};c.prototype.BCd=function(d){var e=O6.decode(d),f=e.width,g=e.height;d=e.Zi;var h=e.mask;a=null!=a?a.setSize(f,g):new Gh(f,g,!0);var k=a.WJ().getImageData(0,0,f,g),l=k.data,m;f*=g;g=d.length;if(1===g){g=e.aq[0].minValue;e=e.aq[0].maxValue;var n=255/(e-g);if(h)for(m=0;m<f;m++)h[m]?(e=this.rb((d[0][m]-g)*n),l[4*m]=e.lk(),l[4*m+1]=e.kk(),l[4*m+2]=e.ik(),l[4*m+3]=e.Ek()):(l[4*m]=0,l[4*m+1]=0,l[4*m+2]=0,l[4*m+3]=0);else for(m=0;m<f;m++)e=this.rb((d[0][m]-g)*n),l[4*m]=
e.lk(),l[4*m+1]=e.kk(),l[4*m+2]=e.ik(),l[4*m+3]=e.Ek()}else if(3<=g)if(g=Math.min.apply(null,e.aq.map(function(p){return p.minValue})),e=Math.max.apply(null,e.aq.map(function(p){return p.maxValue})),n=255/(e-g),h)for(m=0;m<f;m++)h[m]?(l[4*m]=(d[0][m]-g)*n,l[4*m+1]=(d[1][m]-g)*n,l[4*m+2]=(d[2][m]-g)*n,l[4*m+3]=255):(l[4*m]=0,l[4*m+1]=0,l[4*m+2]=0,l[4*m+3]=0);else for(m=0;m<f;m++)l[4*m]=(d[0][m]-g)*n,l[4*m+1]=(d[1][m]-g)*n,l[4*m+2]=(d[2][m]-g)*n,l[4*m+3]=255;a.WJ().putImageData(k,0,0);return a.wk().toDataURL()};
c.prototype.sb=function(){if(null==this.Et){var d=this;this.Et=function(e,f,g){f.za(Fj.Cj,d.Et);d.notify(Fj.Cj,f,g)}}return this.Et};c.prototype.rb=function(d){this.my=this.my||{};d=Math.round(d);if(!this.my[d]){var e=this.qc||b;null==e&&(e=b=new Ro({values:[0,1],colors:["black","white"]}));this.my[d]=e.rb(d/255)}return this.my[d]};c.prototype.kF=function(d,e){d=d.toLowerCase();"colorprovider"===d&&e instanceof Oo?this.qc=e:"symboltilesize"===d?this.u$c=e:I4.prototype.kF.call(this,d,e);return this};
return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRRdWVyeVBhcmFtZXRlciI6ImtGIn19fSAg");var Q6=/*#__PURE__*/function(){function c(a){a=G(a,{format:new P6({symbolTileSize:50})});S4.call(this,a)}D(c,S4);L(c,"geotoolkit.map.sources.Lerc");return c}();var R6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){A4.call(this);this.Cl=a&&a.connector||new B4(a);this.Et=a&&a.callback||null}D(c,A4);L(c,"geotoolkit.map.sources.connectors.Proxy");c.prototype.send=function(a,b,d){var e=this;this.Cl.send(a,b,function(f,g){"function"===typeof e.Et&&(g=e.Et(f,g));d(f,g)})};c.prototype.abort=function(a){this.Cl.abort(a);return this};c.prototype.Wm=function(){return this.Cl.Wm()};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc0xvYWRpbmciOiJXbSJ9fX0g");var S6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}function a(e,f){if(!e&&!f)return null;var g=Zd.ya().Wa("px"),h=Zd.ya().Wa("m");return new sm({minscale:0<e?h.convert(1/e,g):null,minscaleinclusive:!1,maxscale:0<f?h.convert(1/f,g):null,maxscaleinclusive:!1})}var b,d;L(c,"geotoolkit.map.util.WebMap");c.load=function(e,f){b=b||new B4;var g="string"===typeof f?b:new N6({data:f});return new Eg(function(h,k){g.send(f,null,function(l,m){if(!e.ge())if(l)k(l);else{if("string"===typeof m)try{m=JSON.parse(m)}catch(p){k(p);return}var n=
c.parse(m);l=[];for(m=0;m<n.length;++m)e.NJ(n[m]),l.push(n[m].load());Eg.all(l).then(function(){h(e,n)},function(){k()})}})})};c.cJd=function(e){d=e};c.parse=function(e){e=new Og(e&&e.baseMap&&e.baseMap.baseMapLayers||[],e&&e.operationalLayers||[]);for(var f=[],g=[];e.Kg();){var h=e.next(),k,l=h.hasOwnProperty("opacity")?h.opacity:1,m=h.hasOwnProperty("visibility")?h.visibility:!0,n=h.layerDefinition||{},p=h.layerType||h.type;switch(p){case "ArcGISImageServiceVectorLayer":var q=new F5({id:h.id,name:h.title,
visible:m,url:h.url,alpha:l,source:new Q6({mode:O4.PCb,loader:c.Gqc(h,C5),format:new P6({symbolTileSize:h.symbolTileSize})}),layerfilter:a(h.minScale,h.maxScale)});break;case "ArcGISImageServiceLayer":case "ArcGISMapServiceLayer":q=new O5({id:h.id,name:h.title,visible:m,url:h.url,alpha:l,layerfilter:a(h.minScale,h.maxScale)});null!=h.visibleLayers&&q.ZD(h.visibleLayers);break;case "ArcGISTiledImageServiceLayer":case "ArcGISTiledMapServiceLayer":q=new R5({id:h.id,name:h.title,visible:m,loader:new Q5,
url:h.url,alpha:l,formatterfunction:function(u,w,y){return"/tile/"+u+"/"+w+"/"+y},layerfilter:a(h.minScale,h.maxScale)});break;case "WebTiledLayer":q=new R5(c.xDd(h.templateUrl,h.subDomains,{id:h.id,name:h.title,visible:m,alpha:l,layerfilter:a(h.minScale,h.maxScale)}));break;case "WMS":q=new J6({id:h.id,name:h.title,visible:m,url:h.url,alpha:l,layers:h.visibleLayers||null,layerfilter:a(h.minScale,h.maxScale)});break;case "ArcGISFeatureLayer":null!=h.url?q=new G5({id:h.id,name:h.title,visible:m,source:new D5({loader:c.Gqc(h,
C5)}),alpha:l,url:h.url,layerfilter:a(n.minScale,n.maxScale)}):k="ArcGISFeatureLayer with featureCollection are not supported!!!";break;case "KML":q=new t6({id:h.id,name:h.title,visible:m,system:Z3.MI,alpha:l,url:h.url,layerfilter:a(h.minScale,h.maxScale)});break;case "OpenStreetMap":q=new R5({id:h.id,name:h.title,visible:m,url:"//{a-c}.tile.openstreetmap.org/",formatterfunction:function(u,w,y){return u+"/"+y+"/"+w+".png"},layerfilter:a(h.minScale,h.maxScale)});break;case "CSV":q=h.locationInfo;q=
new Y5({id:h.id,name:h.title,visible:m,delimiter:h.columnDelimiter,alpha:l,annotations:{visible:h.showLabels||!1},source:new X5({idfield:n.objectIdField,latitudefield:q&&q.latitudeFieldName,longitudefield:q&&q.longitudeFieldName,url:h.url,loader:new C5({connector:new N6({data:n})})})});break;case "ArcGISStreamLayer":q=new z6({id:h.id,name:h.title,visible:m,url:h.url,alpha:l,layerfilter:a(n.minScale,n.maxScale)});break;case "GeoRSS":n=A5.loa(h.pointSymbol);q=A5.loa(h.lineSymbol);p=A5.loa(h.polygonSymbol);
var r=[];null!=n&&(r.push({featureclassname:t4.Oa(),template:n}),r.push({featureclassname:C4.Oa(),template:n}));null!=q&&(r.push({featureclassname:D4.Oa(),template:q}),r.push({featureclassname:E4.Oa(),template:q}));null!=p&&(r.push({featureclassname:F4.Oa(),template:p}),r.push({featureclassname:G4.Oa(),template:p}));q=new e6({id:h.id,name:h.title,visible:m,url:h.url,alpha:l,templates:r,layerfilter:a(h.minScale,h.maxScale)});break;case "BingMapsAerial":case "BingMapsRoad":case "BingMapsHybrid":null==
d?k="Bing Maps API key is not set. Use "+c.Oa()+".setBingMapsKey() to support Bing layers in Webmap.":(n={BingMapsAerial:T3.Z$b,BingMapsRoad:T3.$dc,BingMapsHybrid:T3.CCb},q=new V5({id:h.id,name:h.title,visible:m,imagerySet:n[p],alpha:l,key:d,layerfilter:a(h.minScale,h.maxScale)}));break;case "VectorTileLayer":q=new A6({id:h.id,name:h.title,visible:m,source:new w5({styleUrl:h.styleUrl}),alpha:l,annotations:{visible:!0,filter:new a5},layerfilter:a(h.minScale,h.maxScale)});if(null==h.styleUrl)k="VectorTile layer hasn't styleUrl property.";
else if("string"===typeof h.styleUrl)b.send(h.styleUrl,null,function(u,w){u?hb(u):(t=p5.NJc(w),null!=t&&this.x5(c.HJc(t,h.styleUrl)))}.bind(q));else if("object"===typeof h.styleUrl){var t=p5.NJc(h.styleUrl);null!=t&&q.x5(c.HJc(t,h.styleUrl))}else k="VectorTile layer has wrong styleUrl property.";break;case "WFS":if(q=h.wfsInfo||{},p=n.drawingInfo||{},p=A5.K2b(p.labelingInfo),n=A5.parse(n,h.url,p),q=new E6({id:h.id,name:h.title,visible:m,alpha:l,url:h.url,featureTypes:q.name,layerfilter:a(h.minScale,
h.maxScale)}),n&&n.gF)q.fd().on(M4.cs,function(u,w,y){for(u=0;u<y.length;u++)y[u].eu=A5.Wva(y[u].getAttributes(),this)}.bind(n))}null==q?(k||(k=h.layerType+" layer type is not supported!!!"),hb(k)):(h.isReference?g.push(q):f.push(q),null!=h.customParameters&&q.fd().kF(h.customParameters))}return f.concat(g)};c.xDd=function(e,f,g){var h=[e.indexOf("{level}"),e.indexOf("{col}"),e.indexOf("{row}")].filter(function(m){return-1!==m});if(0===h.length)return g;h=Math.min.apply(null,h);var k=e.substr(0,h),
l=e.substr(h);g.formatterfunction=function(m,n,p){return l.replace("{level}",m).replace("{col}",p).replace("{row}",n)};g.url=Array.isArray(f)?f.map(function(m){return k.replace("{subDomain}",m)}):[k];return g};c.HJc=function(e,f){if(e.startsWith("http")||e.startsWith("//"))return e;f=f.split("/");e=e.split("/");var g=f[f.length-1];(!g||0<=g.indexOf("."))&&f.pop();for(g=0;g<e.length;g++)".."===e[g]?f.pop():""!==e[g]&&"."!==e[g]&&f.push(e[g]);return f.join("/")};c.Gqc=function(e,f){if(!e||!e.layerDefinition||
!e.layerDefinition.drawingInfo)return new f;var g=e.layerDefinition.drawingInfo;return new f({connector:new R6({callback:function(h,k){if(h||!k)return k;if("string"===typeof k)try{k=JSON.parse(k)}catch(l){return k}null!=g&&(k.drawingInfo=g);return k}})})};return c}(),2,"eyJzZXRCaW5nTWFwc0tleSI6ImNKZCJ9");var T6=/*#__PURE__*/va(/*#__PURE__*/{Sphere:"Sphere",h_c:"Flat"},2,"eyJGbGF0IjoiaF9jIn0g");var U6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(k){k=G(k,{unit:"km",system:Z3.WT});RT.call(this,k);this.Qd=Zd.ya().Wa(k.unit);this.Rv=c4.ag().Tj(k.system);this.Yia=null}function a(k,l){var m=6378137,n=1/298.257223563,p=n*(2-n);m*=1-n;n=(-1/3+(-31/180-59/560*p)*p)*p;for(var q=(17/360+61/1260*p)*p*p,r=-383/45360*p*p*p,t=k.length,u=0,w,y=0,A=0,x=0,C=w=0;C<t;C++){var z=V.degToRad(k[C]),v=V.degToRad(l[C]);z+=n*Math.sin(2*z)+q*Math.sin(4*z)+r*Math.sin(6*z);if(0<C){var B=b(y,A,z,v);1===C?u=B:(w=.5-(w-B)/2/Math.PI,x+=w-Math.round(w));
w=b(z,v,y,A)}y=z;A=v}w=.5-(w-u)/2/Math.PI;x+=w-Math.round(w);return 2*Math.PI*(1-Math.abs(x))*m*m*(1+(2/3+(.6+4/7*p)*p)*p)}function b(k,l,m,n){var p=Math.cos(m),q=p*Math.cos(n);n=p*Math.sin(n);m=Math.sin(m);p=Math.cos(l);var r=Math.sin(l);l=q*p+n*r;q=-q*r+n*p;k=-m*Math.cos(k)+l*Math.sin(k);return Math.PI-Math.atan2(q,k)}function d(k,l,m){k+=Math.floor((l-k)/m)*m;m=k+m;return l-k>m-l?m:k}var e=new M,f=new M,g=6371E3,h=Zd.ya().Wa("m");D(c,RT);L(c,"geotoolkit.map.tools.editors.FlatArea");c.prototype.MZ=
function(k,l,m,n){var p=this.Rv.jk();k=p.la()+(k-p.la()+3*p.ca())%p.ca();m=p.la()+(m-p.la()+3*p.ca())%p.ca();this.Rv.nc(k,l,e);this.Rv.nc(m,n,f);k=V.degToRad(e.getY());l=V.degToRad(f.getY());m=V.degToRad(e.getX());n=V.degToRad(f.getX());m=(n-m)/2;n=(l-k)/2;n=Math.sin(n);m=Math.sin(m);k=n*n+Math.cos(k)*Math.cos(l)*m*m;k=2*g*Math.atan2(Math.sqrt(k),Math.sqrt(1-k));return h.convert(k,this.Qd)};c.prototype.tla=function(k,l){k=k||this.ce();l=l||this.Fe();var m=k.length;if(3>m)return null;var n,p=[],q=
this.nW().jk();for(n=0;n<m;n++){var r=q.la()+(k[n]-q.la()+3*q.ca())%q.ca();p.push(new oh.Ppa(r,l[n]))}p=oh.hDb.PTc(p,oh.Oi.oC);for(n=k=0;n<p.length;n++){l=p[n];m=[];q=[];for(r=0;r<l.length;r++)this.Rv.nc(l[r].Aa,l[r].Ca,e),q.push(e.x),m.push(e.y);m.push(m[0]);q.push(q[0]);l=a(m,q);if(0>l)return this.tb().qa(null),null;k+=l}k=h.convert(k,this.Qd);k=h.convert(k,this.Qd);this.tb().qa(this.Yia);return k};c.prototype.push=function(k){var l=this.ce(),m=this.Rv.jk();switch(k.vh()){case iT.HQ:var n=this.getSize();
k.getPoint().setX(d(k.getX(),l[n-1],m.ca()));break;case iT.iba:n=k.getIndex();var p=l[n];l=p+k.hf();m=d(l,p,m.ca());m!==l&&k.merge(new uT(m-l,0,n))}return RT.prototype.push.call(this,k)};c.prototype.oF=function(k){var l=this.getSize();this.Lw().clear();if(0<l&&null!=k&&!this.Hd()&&null==this.MM(k)&&0>=this.Ut(k)){var m=this.lb(),n=this.intersect(k);if(null!=n)l=m.Hc(n.x,n.y),this.Kw().Db(l),this.bl().oa(this.Kw());else if(this.bl().removeChild(this.Kw()),0!==(this.Mo()&jT.EQ)){n=this.ce();var p=this.Fe(),
q=this.Rv.jk(),r=m.Hc(n[0],p[0]);k=this.Kd(this.ec(),k);q=d(k.x,n[l-1],q.ca());this.Lw().moveTo(r.getX(),r.getY()).lineTo(q,k.getY());1<l&&(l=m.Hc(n[l-1],p[l-1]),this.Lw().moveTo(l.getX(),l.getY()).lineTo(q,k.getY()))}}else this.bl().removeChild(this.Kw());this.Lw().ha()};c.prototype.intersect=function(k){var l=k.Zd(),m=this.wa(),n=this.Rv.jk();m=m.Ta(n);n=RT.prototype.intersect.call(this,k);null==n&&(l.translate(m.ca(),0),n=RT.prototype.intersect.call(this,k),l.translate(-m.ca(),0));null==n&&(l.translate(-m.ca(),
0),n=RT.prototype.intersect.call(this,k),l.translate(m.ca(),0));return n};c.prototype.fa=function(k){k=hc(k);if(null==k)return this;RT.prototype.fa.call(this,k);this.Yia=this.tb().fb();void 0!==k.unit&&(this.Qd=Zd.ya().Wa(k.unit));void 0!==k.system&&(this.Rv=c4.ag().Tj(k.system));return this};c.prototype.ia=function(){var k=RT.prototype.ia.call(this);k.unit=this.Qd;k.system=this.Rv;return k};c.prototype.format=function(k){return RT.prototype.format.call(this,k)+" "+this.Qd.Tc()+"<sup>2</sup>"};c.prototype.nW=
function(){return this.Rv};c.prototype.Wa=function(){return this.Qd};c.prototype.$l=function(k){this.Qd=Zd.ya().Wa(k);return this.update()};c.prototype.fb=function(){return this.Yia};c.prototype.qa=function(k){this.se=k;return this.update()};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjYWxjdWxhdGVEaXN0YW5jZSI6Ik1aIiwiY2FsY3VsYXRlQXJlYSI6InRsYSIsInVwZGF0ZVByZXZpZXciOiJvRiIsInNldFByb3BlcnRpZXMiOiJmYSIsImdldFByb3BlcnRpZXMiOiJpYSIsImdldFN5c3RlbSI6Im5XIiwiZ2V0VW5pdCI6IldhIiwic2V0VW5pdCI6IiRsIiwiZ2V0RmlsbFN0eWxlIjoiZmIiLCJzZXRGaWxsU3R5bGUiOiJxYSJ9fX0g");var V6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(g){g=G(g,{unit:"km",system:Z3.WT});UT.call(this,g);this.Qd=Zd.ya().Wa(g.unit);this.Rv=c4.ag().Tj(g.system)}function a(g,h,k){g+=Math.floor((h-g)/k)*k;k=g+k;return h-g>k-h?k:g}var b=new M,d=new M,e=6371E3,f=Zd.ya().Wa("m");D(c,UT);L(c,"geotoolkit.map.tools.editors.FlatDistance");c.prototype.MZ=function(g,h,k,l){var m=this.Rv.jk();g=m.la()+(g-m.la()+3*m.ca())%m.ca();k=m.la()+(k-m.la()+3*m.ca())%m.ca();this.Rv.nc(g,h,b);this.Rv.nc(k,l,d);g=V.degToRad(b.getY());h=V.degToRad(d.getY());
k=V.degToRad(b.getX());l=V.degToRad(d.getX());k=(l-k)/2;l=(h-g)/2;l=Math.sin(l);k=Math.sin(k);g=l*l+Math.cos(g)*Math.cos(h)*k*k;g=2*e*Math.atan2(Math.sqrt(g),Math.sqrt(1-g));return f.convert(g,this.Qd)};c.prototype.push=function(g){var h=this.ce(),k=this.Rv.jk();switch(g.vh()){case iT.HQ:var l=this.getSize();g.getPoint().setX(a(g.getX(),h[l-1],k.ca()));break;case iT.iba:l=g.getIndex();var m=h[l],n=this.Fe()[l];h=m+g.hf();n+=g.We();m=a(h,m,k.ca());k=V.clamp(n,k.ka(),k.ma());m===h&&k===n||g.merge(new uT(m-
h,k-n,l))}return UT.prototype.push.call(this,g)};c.prototype.oF=function(g){var h=this.ce(),k=this.Fe(),l=this.getSize();this.Lw().clear();if(0<l&&null!=g&&!this.Hd()&&null==this.MM(g)&&0>=this.Ut(g)){var m=this.lb(),n=this.intersect(g);null!=n?(l=n.index,g=1<l?this.X1[l-2]:0,g+=this.MZ(h[l-1],k[l-1],n.x,n.y),g=this.format(g),m=m.Hc(n.x,n.y),h=RT.kua(this,h[l-1],k[l-1],n.x,n.y,h[l],k[l]),this.vD().Eb(g).Db(m).tc(h),this.Kw().Db(m),this.bl().oa([this.Kw(),this.vD()])):(this.bl().removeChild([this.Kw(),
this.vD()]),0!==(this.Mo()&jT.EQ)&&(n=this.Rv.jk(),k=m.Hc(h[l-1],k[l-1]),m=this.Kd(this.ec(),g),h=a(m.x,h[l-1],n.ca()),this.Lw().moveTo(k.getX(),k.getY()).lineTo(h,m.getY())))}else this.bl().removeChild([this.Kw(),this.vD()]);this.Lw().ha()};c.prototype.intersect=function(g){var h=g.Zd(),k=this.wa(),l=this.Rv.jk();k=k.Ta(l);l=UT.prototype.intersect.call(this,g);null==l&&(h.translate(k.ca(),0),l=UT.prototype.intersect.call(this,g),h.translate(-k.ca(),0));null==l&&(h.translate(-k.ca(),0),l=UT.prototype.intersect.call(this,
g),h.translate(k.ca(),0));return l};c.prototype.format=function(g){return UT.prototype.format.call(this,g)+" "+this.Qd.Tc()};c.prototype.nW=function(){return this.Rv};c.prototype.Wa=function(){return this.Qd};c.prototype.$l=function(g){this.Qd=Zd.ya().Wa(g);return this.update()};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjYWxjdWxhdGVEaXN0YW5jZSI6Ik1aIiwidXBkYXRlUHJldmlldyI6Im9GIiwiZ2V0U3lzdGVtIjoiblciLCJnZXRVbml0IjoiV2EiLCJzZXRVbml0IjoiJGwifX19");var W6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(p){p=G(p,{node:new dh({linestyle:{width:2,pixelsnapmode:!0}})});U6.call(this,p);this.Vc=[];this.zd=[];this.M1=[]}function a(p,q,r){var t=q.x,u=q.y,w=q.Q6a,y=q.R6a,A=q.S6a;q=q.T6a;for(var x=1;x<t.length;x++)p.bezierCurveTo(w[x-1]+r,y[x-1],A[x-1]+r,q[x-1],t[x]+r,u[x])}function b(p,q,r,t,u){e.Ga(q[t-1]+u,r[t-1]);f.Ga(q[t]+u,r[t]);g.Ga(q[t+1]+u,r[t+1]);h.Ga(q[t+2]+u,r[t+2]);return(p=VT.fwb(p,e,f,g,h))?{x:p.point.getX()-u,y:p.point.getY()}:null}function d(p,q,r,t){p=q+(p-q+
t)%t;var u=Math.abs(r-p)+(p-q),w=Math.abs(r-(p-t))+(q-(p-t)),y=p+t-r+(p+t)-q;w<u&&w<y?p-=t:y<u&&y<w&&(p+=t);return V.clamp(p,q,r)}var e=new M,f=new M,g=new M,h=new M,k=Zd.ya().Wa("m"),l=50,m=89,n=6371E3;D(c,U6);L(c,"geotoolkit.map.tools.editors.SphereArea");c.prototype.update=function(){U6.prototype.update.call(this);this.tb().clear();var p=this.getSize();if(0<p){var q=this.nW().jk();for(var r=[0,q.ca(),-q.ca()],t=0;t<r.length;t++){var u=this.Vc[0]+r[t];this.tb().moveTo(u,this.zd[0]);for(var w=1;w<
p;w++)q=this.M1[w-1]||c.y9(u,this.zd[w-1],this.Vc[w],this.zd[w],this),a(this.tb(),q,u-q.x[0]),u+=q.x[q.x.length-1]-q.x[0],this.tb().lineTo(u,this.zd[w]),this.M1[w-1]=q;this.vW()&&(q=c.y9(u,this.zd[p-1],this.Vc[0],this.zd[0],this),a(this.tb(),q,u-q.x[0]))}this.tb().qa(0<this.getArea()?this.fb():null)}this.tb().ha();return this};c.prototype.oF=function(p){var q=this.ce(),r=this.Fe(),t=this.getSize();this.Lw().clear();if(0<t&&null!=p&&!this.Hd()&&null==this.MM(p)&&0>=this.Ut(p)){var u=this.lb(),w=this.intersect(p);
null!=w?(q=u.Hc(w.x,w.y),this.Kw().Db(q),this.bl().oa(this.Kw())):(this.bl().removeChild(this.Kw()),0!==(this.Mo()&jT.EQ)&&(p=this.Kd(this.ec(),p),w=u.Hc(q[0],r[0]),w=c.y9(w.getX(),w.getY(),p.getX(),p.getY(),this),this.Lw().moveTo(w.x[0],w.y[0]),a(this.Lw(),w,0),1<t&&(q=u.Hc(q[t-1],r[t-1]),w=c.y9(q.getX(),q.getY(),p.getX(),p.getY(),this),this.Lw().moveTo(w.x[0],w.y[0]),a(this.Lw(),w,0))))}else this.bl().removeChild(this.Kw());this.Lw().ha()};c.prototype.intersect=function(p){var q=p.Zd(),r=this.nW().jk().ca();
p=this.Gm(p)?this.pW():this.zS();q=new U(q.getX()-p,q.getY()-p,q.getX()+p,q.getY()+p);this.wa().pd(q,q);p=this.tb().Vd();for(var t=p.getTags(),u=p.getX(),w=p.getY(),y,A=0;A<p.getLength();A++){var x=p.getIndex(A);switch(t[A]){case Dd.ey:y=1;break;case Dd.bz:y++;break;case Dd.BC:if(x=b(q,u,w,x,0)||b(q,u,w,x,r)||b(q,u,w,x,-r))return{index:y,x:x.x,y:x.y}}}return null};c.prototype.apply=function(p){var q=this.M1,r=this.ce(),t=this.Fe();switch(p.vh()){case iT.Vu:this.tb().getParent()||(q=this.ec().Ik(this.bl()),
this.ec().Mf(q,this.tb()));case iT.HQ:return r.push(p.getX()),t.push(p.getY()),this;case iT.iba:return r[p.getIndex()]+=p.hf(),t[p.getIndex()]+=p.We(),0<p.getIndex()&&(q[p.getIndex()-1]=null),p.getIndex()<q.length&&(q[p.getIndex()]=null),this;case iT.Vya:return r.splice(p.getIndex(),1),t.splice(p.getIndex(),1),q.splice(p.getIndex(),1),0<p.getIndex()&&(q[p.getIndex()-1]=null),this;case iT.NYa:return r.splice(p.getIndex(),0,p.getX()),t.splice(p.getIndex(),0,p.getY()),q.splice(p.getIndex(),0,null),0<
p.getIndex()&&(q[p.getIndex()-1]=null),this}return U6.prototype.apply.call(this,p)};c.prototype.ce=function(){return this.Vc||[]};c.prototype.Fe=function(){return this.zd||[]};c.prototype.getSize=function(){return this.ce().length};c.prototype.zl=function(p){V6.prototype.zl.call(this,p);this.se=this.tb().fb();p=this.tb().Vd();var q=p.getTags(),r=p.getX(),t=p.getY();this.Vc=[];this.zd=[];this.M1=[];for(var u=0;u<p.getLength();u++){var w=p.getIndex(u);switch(q[u]){case Dd.ey:if(0!==u)return this.update();
case Dd.bz:this.Vc.push(r[w]),this.zd.push(t[w])}}return this.update()};c.prototype.hF=function(){this.M1.length=0;this.Vc.length=0;this.zd.length=0;this.tb().Kc(null);this.tb().clear();return this.update()};c.prototype.vW=function(){return!0};c.y9=function(p,q,r,t,u){var w=u.nW().jk(),y=Math.pow(l/u.wa().pb(),2);p=w.la()+(p-w.la()+3*w.ca())%w.ca();r=w.la()+(r-w.la()+3*w.ca())%w.ca();var A=u.Wa().convert(u.MZ(p,q,r,t),k);u.nW().nc(p,q,e);u.nW().nc(r,t,f);var x=V.degToRad(e.y),C=V.degToRad(f.y),z=
V.degToRad(e.x),v=V.degToRad(f.x),B=Math.cos(x);x=Math.sin(x);var E=Math.cos(C);C=Math.sin(C);var H=Math.cos(z),F=Math.sin(z),I=Math.cos(v),J=Math.sin(v);A/=n;var K=Math.sin(A);Math.abs(v-z)>Math.PI&&(r=r>p?r-w.ca():r+w.ca());z=[p,r];q=[q,t];t=[0,1];v=Math.min(p,r);p=Math.max(p,r);for(r=0;r<z.length-1;)if(Infinity===q[r+1])r+=2;else if(.001>t[r+1]-t[r]||q[r]<w.ka()&&q[r+1]<w.ka()||q[r]>w.ma()&&q[r+1]>w.ma()||M.Bfa(z[r],q[r],z[r+1],q[r+1])<=y)r++;else{var N=(t[r]+t[r+1])/2,P=Math.sin((1-N)*A)/K,Q=
Math.sin(N*A)/K,R=P*B*H+Q*E*I,Y=P*B*F+Q*E*J;P=P*x+Q*C;P=V.radToDeg(Math.atan2(P,Math.sqrt(R*R+Y*Y)));R=V.radToDeg(Math.atan2(Y,R));u.nW().transform(R,P,e,!1);e.x=d(e.x,v,p,w.width);P>=m||P<-m||e.y<w.ka()||e.y>w.ma()?(z.splice(r+1,0,e.x,e.x,e.x),q.splice(r+1,0,e.y,Infinity,e.y),t.splice(r+1,0,N,N,N)):(z.splice(r+1,0,e.x),q.splice(r+1,0,e.y),t.splice(r+1,0,N))}u=q.indexOf(Infinity);0<=u?(w=q.lastIndexOf(Infinity),z.splice(u,w-u+1),q.splice(u,w-u+1),w=gh.e_(z,q,0,u-1),y=w.JV,B=w.KV,x=w.gX,E=w.hX,y.push((z[u]+
z[u-1])/2),B.push((q[u]+q[u-1])/2),x.push((z[u]+z[u-1])/2),E.push((q[u]+q[u-1])/2),w=gh.e_(z,q,u,z.length-1),Array.prototype.push.apply(y,w.JV),Array.prototype.push.apply(B,w.KV),Array.prototype.push.apply(x,w.gX),Array.prototype.push.apply(E,w.hX)):(w=gh.e_(z,q),y=w.JV,B=w.KV,x=w.gX,E=w.hX);return{x:z,y:q,Q6a:y,R6a:B,S6a:x,T6a:E}};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVQcmV2aWV3Ijoib0YiLCJnZXRQb2ludHNYIjoiY2UiLCJnZXRQb2ludHNZIjoiRmUiLCJzZXROb2RlIjoiemwiLCJyZXNldE5vZGUiOiJoRiJ9fX0g");var X6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){d&&d.directionsymbol&&(d.directionsymbol=d.directionsymbol instanceof Nm?d.directionsymbol:new Nm(d.directionsymbol));d=G(d,{directionmode:TT.Bc,directionsymbol:new Nm({width:12,height:21,painter:Zm,alignment:O.Na,sizeisindevicespace:!0,selectable:!1,linestyle:"black",fillstyle:"black"})});W6.call(this,d);this.Le=[];this.X1=[];this.Mia=d.directionsymbol;this.DAa=d.directionmode}function a(d,e){var f=0,g=e.x.length-1,h=e.x.slice(),k=e.y.slice();d.Naa(h,k);d=[];for(var l=
0;l<g;l++)d[l]=M.Uf(h[l],k[l],h[l+1],k[l+1]);for(k=h=0;1<g-f;)Math.abs(h+d[f]-k)<Math.abs(k+d[g-1]-h)?(h+=d[f],f++):(k+=d[g-1],g--);if(f===g)return{angle:0,aP:e.x[0],bP:e.y[0]};if(h>k+d[f])return{angle:Math.atan2(e.R6a[f]-e.y[f],e.Q6a[f]-e.x[f]),aP:e.x[f],bP:e.y[f]};if(k>h+d[f])return{angle:Math.atan2(e.y[g]-e.T6a[f],e.x[g]-e.S6a[f]),aP:e.x[g],bP:e.y[g]};d=(k+d[f]-h)/2/d[f];h=1-d;l=d*e.Q6a[f]+h*e.x[f];var m=d*e.R6a[f]+h*e.y[f],n=d*e.S6a[f]+h*e.Q6a[f];k=d*e.T6a[f]+h*e.R6a[f];l=d*n+h*l;m=d*k+h*m;n=
d*(d*(d*e.x[g]+h*e.S6a[f])+h*n)+h*l;e=d*(d*(d*e.y[g]+h*e.T6a[f])+h*k)+h*m;return{angle:Math.atan2(e-m,n-l),aP:n,bP:e}}function b(d,e,f){d+=Math.floor((e-d)/f)*f;f=d+f;return e-d>f-e?f:d}D(c,W6);L(c,"geotoolkit.map.tools.editors.SphereDistance");c.prototype.le=function(d){!0!==this.hh&&(W6.prototype.le.call(this,d),this.pY=[],this.EAa=new oi,d=this.bl().Ik(this.o_()),this.bl().Mf(d,this.EAa))};c.prototype.oF=function(d){var e=this.ce(),f=this.Fe(),g=this.getSize();this.Lw().clear();if(0<g&&null!=d&&
!this.Hd()&&null==this.MM(d)&&0>=this.Ut(d)){var h=this.lb(),k=this.intersect(d);if(null!=k)g=k.index,d=1<g?this.X1[g-2]:0,d+=this.MZ(e[g-1],f[g-1],k.x,k.y),d=this.format(d),h=h.Hc(k.x,k.y),e=RT.kua(this,e[g-1],f[g-1],k.x,k.y,e[g],f[g]),this.vD().Eb(d).Db(h).tc(e),this.Kw().Db(h),this.bl().oa([this.Kw(),this.vD()]);else if(this.bl().removeChild([this.Kw(),this.vD()]),0!==(this.Mo()&jT.EQ))for(k=this.Rv.jk(),d=this.Kd(this.ec(),d),f=h.Hc(e[g-1],f[g-1]),e=b(d.x,e[g-1],k.ca()),e=W6.y9(f.getX(),f.getY(),
e,d.getY(),this),this.Lw().moveTo(e.x[0],e.y[0]),f=1;f<e.x.length;f++)this.Lw().bezierCurveTo(e.Q6a[f-1],e.R6a[f-1],e.S6a[f-1],e.T6a[f-1],e.x[f],e.y[f])}else this.bl().removeChild([this.Kw(),this.vD()]);this.Lw().ha()};c.prototype.update=function(){W6.prototype.update.call(this);if(null==this.Le)return this;var d=this.getSize(),e=this.ce(),f=this.Fe(),g=this.lb(),h=[],k=[],l=0,m=this.wa();this.X1=[];for(var n=1;n<d;n++){l+=this.MZ(e[n-1],f[n-1],e[n],f[n]);var p=this.Le[n-1]||this.vD().clone(),q=this.format(l),
r=g.Hc(e[n],f[n]),t=UT.lp(this,n);p.Eb(q).Db(r).tc(t);k.push(p);this.X1.push(l);this.wEa(this.M1[n-1],m,h,TT.Vu);this.wEa(this.M1[n-1],m,h,TT.Nk);this.wEa(this.M1[n-1],m,h,TT.Ao)}k.length!==this.Le.length&&(this.o_().removeChild(this.Le),this.o_().oa(k),this.Le=k);h.length!==this.pY.length&&(this.EAa.removeChild(this.pY),this.EAa.oa(h),this.pY=h);return this};c.prototype.tla=function(){return null};c.prototype.vW=function(){return!1};c.prototype.format=function(d){return this.Ig.format(d)+" "+this.Wa().Tc()};
c.prototype.D9=function(){return this.X1.slice()};c.prototype.wEa=function(d,e,f,g){if(0!==(this.DAa&g)){var h=this.pY[f.length]||this.Mia.clone(),k=V.sign(e.Ab())*Math.PI/2;switch(g){case TT.Vu:var l=d.x[0];var m=d.y[0];k-=Math.atan2(d.y[1]-d.y[0],d.x[1]-d.x[0]);h.tc(O.Je);break;case TT.Nk:d=a(e,d);l=d.aP;m=d.bP;k-=d.angle;h.tc(O.Na);break;case TT.Ao:g=d.x.length-1,l=d.x[g],m=d.y[g],k-=Math.atan2(m-d.y[g-1],l-d.x[g-1]),h.tc(O.Xd)}e=W.Xi(k,l,m).st(e.rc()).Qp(e);l=this.lb().Hc(l,m);h.Db(e.hd(l,l));
h.Kc(e);f.push(h)}};c.prototype.Grc=function(d,e){if(1>this.getSize())return null;var f=this.ce(),g=this.Fe(),h=this.D9();h=0<h.length?h[h.length-1]:0;return this.MZ(f[f.length-1],g[g.length-1],d,e)+h};c.prototype.fa=function(d){if(null==d)return this;d=hc(d);null!=d.directionmode&&(this.DAa=d.directionmode);null!=d.directionsymbol&&(d.directionsymbol instanceof Wi?this.Mia=d.directionsymbol:this.Mia.fa(d.directionsymbol));return W6.prototype.fa.call(this,d)};c.prototype.ia=function(){var d=W6.prototype.ia.call(this);
d.directionmode=this.DAa;d.directionsymbol=this.Mia;return d};c.prototype.l_=function(){return this.Le};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoibGUiLCJ1cGRhdGVQcmV2aWV3Ijoib0YiLCJjYWxjdWxhdGVBcmVhIjoidGxhIiwiaXNDbG9zZWQiOiJ2VyIsImdldERpc3RhbmNlcyI6IkQ5Iiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwiZ2V0TGFiZWxzIjoibF8ifX19");var Y6=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){d=G(d,{unit:"km",wrapped:!0,system:Z3.WT,pathmode:T6.Sphere},!0);var e=c4.ag().Tj(d.system),f=d.layer;d.layer=(new Eo({wrapped:d.wrapped,clipchild:!0,childspread:!0})).Ha(e.jk()).on(Ce.Qn,b).on(Ce.zo,a);ZT.call(this,d);this.Qd=Zd.ya().Wa(d.unit);f.oa(this.ec());this.zRc(d.pathmode)}function a(d,e,f){e.RVa(f,!1)}function b(d,e,f){e.RVa(f,!0)}D(c,ZT);L(c,"geotoolkit.map.tools.Measure");c.prototype.zRc=function(d){if(this.smc===d)return this;this.smc=d;this.zJa();return this};
c.prototype.oZb=function(){return this.smc};c.prototype.$l=function(d){d=Zd.ya().Wa(d);if(null==d||this.Qd===d)return this;this.Qd=d;null!=this.DA()&&this.DA().$l(d);return this};c.prototype.Wa=function(){return this.Qd};c.prototype.zJa=function(){var d=this.Hb(),e={layer:this.ec(),editmode:this.Mo(),unit:this.Qd,label:{},history:this.rx};this.qp()===zS.DX?this.oZb()===T6.Sphere?this.UD(new W6(e)):this.UD(new U6(e)):this.oZb()===T6.Sphere?this.UD(new X6(e)):this.UD(new V6(e));null!=d&&d.dispose()};
return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQYXRoTW9kZSI6InpSYyIsImdldFBhdGhNb2RlIjoib1piIiwic2V0VW5pdCI6IiRsIiwiZ2V0VW5pdCI6IldhIiwidXBkYXRlRWRpdG9yIjoiekphIn19fSAg");var Z6=/*#__PURE__*/va(/*#__PURE__*/{jxb:"LayerAdded",NIc:"LayerRemoved",p2b:"LayersModified",ZP:"onZoomStart",ov:"onZoomEnd",Lq:"onDoubleClick",PD:"onResize"},2,"eyJvbkxheWVyQWRkZWQiOiJqeGIiLCJvbkxheWVyUmVtb3ZlZCI6Ik5JYyIsIm9uTGF5ZXJzTW9kaWZpZWQiOiJwMmIiLCJvblpvb21TdGFydCI6IlpQIiwib25ab29tRW5kIjoib3YiLCJvbkRvdWJsZUNsaWNrIjoiTHEiLCJvblJlc2l6ZSI6IlBEIn0g"),$6=/*#__PURE__*/va(/*#__PURE__*/{dKa:"Done",Ncc:"Interrupted"},2,"eyJEb25lIjoiZEthIiwiSW50ZXJydXB0ZWQiOiJOY2MifSAg"),a7=/*#__PURE__*/va(/*#__PURE__*/function(){function c(g){g=G(g,{title:"Change map layers",icon:"fas fa-layer-group",formatter:function(h){var k="fas fa-database";h instanceof R5?k="fas fa-th":h instanceof N5&&(k="fas fa-image");return new BS({title:h.Da()||"",text:h.Da()||"",icon:k,border:this.TE(),color:this.rb(),checkbox:{enabled:!0,checked:h.Ia()},init:function(l,
m){m?(this.lTb=function(){this.kcb(h.Ia())}.bind(this),h.on(Ce.UN,this.lTb)):this.lTb&&h.za(Ce.UN,this.lTb)},action:function(l,m){h.va(m)}})}},!0);g.buttons=[];CS.call(this,g);this.gn=xc("div",f);this.tu=g.formatter}function a(g){g=xb(g,{model:null,north:void 0,south:void 0,east:void 0,west:void 0,annotationssizes:{west:0,east:0,north:0,south:0},tools:{horizontalscroll:{visible:!1},verticalscroll:{visible:!1}},bounds:new U(0,0,300,300),border:{color:"white"},system:Z3.WT,maplimits:void 0,layerscontainer:null,
wrapped:!0,viewcache:!1,viewcachesize:{width:256,height:256},zoom:{min:0,max:Infinity,speed:1.5,time:400,easing:kd.IDb},viewcachemode:fi.xba,viewcachememorylimit:null,viewcacheasync:!1,tooltip:{divelement:null,offsetx:10,offsety:-10,alignment:O.Ld,mode:XS.Ro,delay:10,max:1,autoupdate:!0},webmap:null,scaleunit:Zd.ya().Wa("px")});var h=null!=g.layerscontainer?g.layerscontainer:new oi;null==g.model&&(g.wrapped?(g.model=new Eo({clipchild:!0,wrapped:!0}),g.model.RVa(h,!0)):g.model=new oi);!0===g.viewcache&&
h.pi(new ni(g.viewcachesize.width,g.viewcachesize.height,g.viewcachemode,g.viewcachememorylimit,g.viewcacheasync));null==g.layerscontainer&&g.model.Mf(0,h);UZ.call(this,g);this.gn=h;this.gDa=d;this.SJb=this.Cjb=this.MY=this.P8=this.z6=this.LBa=null;g=this.ea.system;this.Rv="string"===typeof g?c4.ag().Tj(g):g;this.Kb().Te(!0);this.tr(new zm({keepAspectRatio:!0,alignment:O.Na,wrapped:this.ea.wrapped}));this.Et=function(){this.j$b()}.bind(this);var k=!1;this.Flc=function(){k||(k=!0,this.Kn(),k=!1)}.bind(this);
this.Coc=function(){this.xta.pya()}.bind(this);this.A5a=this.sRb=this.rRb=null;this.Swd();this.setOptions(this.ea);null==this.ea.maplimits&&(this.z6=this.Rv.jk(),this.iF(this.z6))}var b=256,d=Zd.ya().Wa("px");D(a,UZ);L(a,"geotoolkit.map.Map");a.Ja=Z6;a.Yya=$6;a.prototype.Oaa=function(g,h){return this.Ma(g,h,this.Rv)};a.prototype.P9b=function(g,h){return this.Ma(g,this.Rv,h)};a.prototype.Ma=function(g,h,k){h=h instanceof U3?h:c4.ag().Tj(h);k=k instanceof U3?k:c4.ag().Tj(k);if(null!=h&&null!=k){if(null==
this.P8||this.P8.eI()!==h||this.P8.mr()!==k)this.P8=new d4(h,k);return this.P8.transform(g)}return null};a.prototype.kLd=function(g){null==g&&null!=this.MY&&this.MY.getParent().removeChild(this.MY);g instanceof Gj&&(null!=this.MY&&this.MY.getParent().removeChild(this.MY),this.MY=g,this.MY.tc(O.lh),this.MY.y5(!0),this.MY.Db(this.Kb().ga().na(),this.Kb().ga().ma()),this.Kb().getParent().oa(this.MY));return this};a.prototype.Upd=function(){return this.MY};a.prototype.zoom=function(g,h,k){var l=g;if(0!==
this.ea.zoom.min||Infinity!==this.ea.zoom.max){var m=this.KFa(),n=1/(m*g);1>g&&n>this.ea.zoom.max?l=1/(this.ea.zoom.max*m):1<g&&n<this.ea.zoom.min&&(l=1/(this.ea.zoom.min*m))}this.Is(l,l,h,k);return this};a.prototype.Sga=function(g,h){this.Kb().Ep();h&&(g/=this.Ezc());g=this.gDa.convert(g,d);0!==this.ea.zoom.min&&(g=Math.min(g,1/this.ea.zoom.min));Infinity!==this.ea.zoom.max&&(g=Math.max(g,1/this.ea.zoom.max));h=Math.abs(g/this.Kb().wa().pb());g=Math.abs(g/this.Kb().wa().Ab());this.Is(h,g);return this};
a.prototype.KFa=function(g){this.Kb().Ep();var h=Math.abs(this.Kb().wa().pb());g&&(h*=this.Ezc());return d.convert(h,this.gDa)};a.prototype.cBb=function(g){var h=this.jna(),k=this.Kb().Ki(),l=this.Tj().jk();h=h.ca()/l.ca();g=k.ca()/b/Math.pow(2,g);this.zoom(h/g);return this};a.prototype.oK=function(){var g=this.jna(),h=this.Kb().Ki(),k=this.Tj().jk();g=g.ca()/k.ca();return Math.log(h.ca()/b/g)/Math.LN2};a.prototype.ta=function(){var g={};g.maplimits=null===this.LBa?null:this.LBa.clone();g.mapimage=
this.MY;g.system=this.Rv;g.mapscale=this.KFa();g.mapscaleobject=this.E2;g.scaleunit=this.Cs();g.webmap=this.rRb;return g};a.prototype.setOptions=function(g){void 0!==g.mapimage&&this.kLd(g.mapimage);void 0!==g.maplimits&&(this.LBa=g.maplimits,this.iF(this.ea.maplimits));this.Kb().Tk(this.Rv.HGc());null!=g.scaleunit&&this.Aaa(g.scaleunit);void 0!==g.mapscale&&this.Sga(g.mapscale);void 0!==g.mapscaleobject&&this.MQc(g.mapscaleobject);null!=g.zoom&&this.mM.fa(g.zoom);if(g.webmap&&g.webmap!==this.rRb){if(this.A5a){for(var h=
0;h<this.A5a.length;++h)this.yga(this.A5a[h]);this.A5a=null}this.rRb=g.webmap;this.sRb=S6.load(this,g.webmap).then(function(k,l){this.A5a=l}.bind(this),function(k){hb(k)})}return this};a.prototype.Tj=function(){return this.Rv};a.prototype.Pz=function(g){this.ea=g||{};return UZ.prototype.Pz.call(this,this.ea)};a.prototype.Swd=function(){this.wd.Tk(!0);var g=this.ec();this.UF.removeListener(aU.MD).addListener(aU.MD,function(h,k){var l=k.vh();"wheel"!==l&&"mousewheel"!==l&&"onmousewheel"!==l&&"DOMMouseScroll"!==
l&&(this.lQ(null),this.fJc(h,k))}.bind(this)).H6b(!0).On(!0);this.mM.removeListener(SU.bT).addListener(SU.bT,function(h,k){this.nXc(h,k)}.bind(this)).addListener(SU.Lq,function(h,k){this.notify(a.Ja.Lq,this,k);h=k.ye().button!==Dc.$b?this.ea.zoom.speed:1/this.ea.zoom.speed;this.mM.zoom(h,h,k.Zd().x,k.Zd().y)}.bind(this)).addListener(SU.ZP,function(h,k){this.lQ(null);this.Uzb(!0);this.notify(a.Ja.ZP,this,k)}.bind(this)).addListener(SU.ov,function(h,k){this.Uzb(!1);this.notify(a.Ja.ov,this,k)}.bind(this)).setMode(RU.ZFb);
this.Ov.removeListener(HR.aw);this.wka.removeListener(HR.aw).removeListener(iU.ov).addListener(iU.ov,function(h,k){k=k.getArea();if(!k.isEmpty()&&(h=this.Kb().vb())&&!h.isEmpty()){var l=k.ca()/k.da(),m=h.ca()/h.da();l<m?(l=k.da()*m,k.Uc((l-k.ca())/2,0)):(l=k.ca()/m,k.Uc(0,(l-k.da())/2));l=W.Sd(k,h);k=this.Kb().wa().transform(k);h=this.Kb().wa().transform(h);this.mM.zoom(l.pb(),l.Ab(),(k.cc()-h.cc()/l.pb())/(1-1/l.pb()),(k.zc()-h.zc()/l.Ab())/(1-1/l.Ab()))}}.bind(this)).Ob(!0).oaa(!1).Jcb(Cc.$b);this.Ymb=
(new eU(g)).Ob(!1).addListener(HR.Mi,function(h){h.isEnabled()?(this.KVa(),this.Ov.Ob(!1)):null!=this.qV&&(this.gt.Ob(this.qV.oUb),this.wka.Ob(this.qV.b5b),this.Ov.Ob(this.qV.selection),this.qV=null)}.bind(this)).addListener(iT.Vu,function(){this.Oqb()}.bind(this)).addListener(iT.HQ,function(){this.Oqb()}.bind(this)).addListener(iT.Ao,function(){this.Oqb()}.bind(this));this.LY.add(this.Ymb);this.xta=new PU({divelement:this.ea.tooltip.divelement,offsetx:this.ea.tooltip.offsetx,offsety:this.ea.tooltip.offsety,
alignment:this.ea.tooltip.alignment,delay:this.ea.tooltip.delay,mode:this.ea.tooltip.mode,autoupdate:this.ea.tooltip.autoupdate,layer:this.gn,callback:function(h,k,l){var m,n=this.c9a();for(m=0;m<n&&null==this.wD(m).k$();m++);if(m===n)return null;n="";var p=this.ea.tooltip.max;m=k.target&&l.Gm(k)?l.pW():l.zS();k=bk.select(this.getRoot(),h.x,h.y,m);l=[];for(m=k.length-1;0<=m&&0<p&&k[m]!==this;m--)if(k[m]instanceof l5){var q=k[m].k$();if(null!=q){if(l=k[m].Zla(l,h))l.length>p&&(l.sort(H4.Usc),l.length=
p),p-=l.length;n="function"===typeof q?q.call(k[m],l,n,h):q.format(l,n,h)}l=[]}else l.push(k[m]);return n}.bind(this)});this.LY.add(this.xta);this.K7=(new Y6({wrapped:this.ea.wrapped,system:this.Tj(),layer:g})).Ob(!1).Wr("pointermove",!1).Wr("pointermove",!0,Za);g=this.LY.f$a(this.UF);this.LY.Jn(g,this.K7);return this};a.prototype.Uzb=function(g){for(var h=0;h<this.c9a();++h)this.wD(h).eOd(g);this.gn.ha();return this};a.prototype.NJ=function(g){return this.IFc(g,null)};a.prototype.iF=function(g){var h,
k=this.Kb().lb();k=k?k.pb():0;(k=!V.equals(k,this.ea.wrapped?3:1))&&(h=this.KFa(!0));g&&this.ea.wrapped&&!V.equals(g.ca(),this.Tj().jk().ca())&&(this.iGa().setOptions({wrapped:!1}),this.Kb().HTc(!1));UZ.prototype.iF.call(this,g);g!==this.z6?(this.LBa=g,this.WZ()):k&&this.Sga(h,!0);this.ha();return this};a.prototype.CA=function(){if(null==this.LBa){var g=this.ga();if(null==g)return null;null==this.z6&&this.j$b();return this.z6}return this.LBa.lock()};a.prototype.MQc=function(g){null!=this.E2&&(this.E2.Ty(this.Flc),
this.E2.getParent().removeChild(this.E2));this.E2=g;null!=this.E2&&(this.E2.Aw(this.Flc),this.Kb().getParent().oa(this.E2),this.E2.mHc(this));return this};a.prototype.Vpd=function(){return this.E2};a.prototype.Tpd=function(){var g=this.Kb().vb(!0);return g.getCenter()};a.prototype.AHa=function(g,h,k){g=this.Ma(g,h,this.Rv)||g;if(null==g)return this;this.Oqb();if(!0===k)return hb("geotoolkit.map.Map.panTo (elastic) param is deprecated since 2020 (3.0), use flyTo instead"),this.eFa({location:g,system:this.Tj()});
h=this.Kb().vb();g=h.clone().LG(g.getX(),g.getY());h=this.Kb().pa();g.la()<h.la()?g.setX(h.la()):g.na()>h.na()&&g.setX(h.na()-g.ca());g.ka()<h.ka()?g.setY(h.ka()):g.ma()>h.ma()&&g.setY(h.ma()-g.da());this.YAb(g);return this};a.prototype.c9a=function(){return this.gn.Yb()};a.prototype.wD=function(g){return this.gn.eb(g)};a.prototype.yga=function(g){if(null!=g){var h=this.gn.MF().indexOf(g);0<=h&&(this.gn.removeChild(g),this.ha(),g.za(Ce.Uq,this.Et),g.za(M4.iB,this.Coc));g.LK(null);this.notify(a.Ja.NIc,
this,this.gn.MF().slice(0))}return this};a.prototype.IFc=function(g,h){if(g instanceof l5){var k=this.gn.Ik(g);this.gn.removeChild(g);null!=h&&h<this.gn.Yb()&&0<=h?(this.gn.Mf(h,g),this.notify(a.Ja.p2b,this,this.gn.MF().slice(0))):0>h?(this.gn.Mf(0,g),this.notify(a.Ja.p2b,this,this.gn.MF().slice(0))):this.gn.oa(g);-1===k&&(g.LK(this.Rv),this.j$b(),g.on(Ce.Uq,this.Et),g.on(M4.iB,this.Coc),this.notify(a.Ja.jxb,this,this.gn.MF().slice(0)))}else rb("Layer can not be inserted! It must be based on geotoolkit.map.layers.AbstractLayer");
return this};a.prototype.eFa=function(g){this.lQ(null);var h=g.location,k=g.scale,l=g.level,m=g.callback;if(null==h&&null==k&&null==l)return m&&m(a.Yya.dKa),this;var n=g.easing,p=g.system||Z3.MI,q=g.duration||2E3,r=g=this.oK(),t=this.jna(),u=[t.getCenter()];null!=k?r=g+Math.log(k/this.KFa())/Math.LN2:null!=l&&(r=l);if(h)if(Array.isArray(h)&&"number"!==typeof h[0]){var w=h;for(t=0;t<w.length;t++)h=this.Oaa(M.Pa(w[t]),p),u.push(h);if(null==k&&null==l){var y=0,A=function(x){y++;x===a.Yya.dKa&&y<u.length?
this.eFa({location:u[y],system:this.Tj(),"function":n,duration:q/w.length,callback:A}):m&&m(x)}.bind(this);A(a.Yya.dKa);return this}}else{h=this.Oaa(M.Pa(h),p);k=Math.abs(u[0].getX()-h.getX());l=Math.abs(u[0].getY()-h.getY());k=Math.max(k/t.ca(),l/t.da());l=Math.max(0,g-Math.log(k+1)/Math.LN2)+1;if(2<k&&l<g&&l<r)return this.eFa({level:l,location:[(u[0].getX()+h.getX())/2,(u[0].getY()+h.getY())/2],system:this.Tj(),"function":n,duration:q/2,callback:function(x){x===a.Yya.dKa?this.eFa({level:r,location:h,
system:this.Tj(),"function":n,duration:q/2,callback:m}):m&&m(x)}.bind(this)});u.push(h)}k=kd;this.lQ(new Me([{attributeName:"location","function":2<u.length&&k.rh||n||r>g&&k.wbc||k.tbc,values:u,duration:q},{attributeName:"scale","function":n||r<g&&k.vbc||k.sbc,from:g,to:r,duration:q}]));this.Cjb=m;return this};a.prototype.Kn=function(){null!=this.E2&&this.E2.mHc(this)};a.prototype.j$b=function(){if(null==this.LBa){var g=this.Acd();g&&g.isEmpty()&&(g=this.z6);if(null==this.z6&&this.z6!==g||null!==
this.z6&&!this.z6.wi(g))this.z6=g,this.iF(g)}return this};a.prototype.Oqb=function(){this.mM.E5();this.UF.E5()};a.prototype.Acd=function(){for(var g=null,h=this.gn.Yb(),k=0;k<h;k++)if(this.gn.eb(k)instanceof l5){var l=this.gn.eb(k).pa();null!=l&&(null==g?g=l.clone():g.union(l))}if((h=this.Rv.jk())&&!h.isEmpty()&&g&&!g.isEmpty()){var m=h.ca()/h.da(),n=g.ca()/g.da();k=g.ca();l=g.da();m>n?(k=g.da()*m,k>h.ca()&&(k=h.ca(),l=k/m)):m<n&&(l=g.ca()/m,l>h.da()&&(l=h.da(),k=l*m));m=(k-g.ca())/2;n=(l-g.da())/
2;0!==m&&(g.getX()-h.getX()<m?(g.setX(h.getX()),g.Ra(k)):h.na()-g.na()<m?(g.setX(h.na()-k),g.Ra(k)):g.Uc(m,0));0!==n&&(g.getY()-h.getY()<n?(g.setY(h.getY()),g.Ya(l)):h.ma()-g.ma()<n?(g.setY(h.ma()-l),g.Ya(l)):g.Uc(0,n))}return g};a.prototype.Ezc=function(){var g=this.Kb().vb();if(2E3>g.da()){var h=this.Ma(g.getCenter(),this.Tj(),Z3.MI);h=Math.abs(1/Math.cos(h.getY()*Math.PI/180))}else if(4E3>g.da()){h=g.bd();var k=g.nf();h=this.Ma(h,this.Tj(),Z3.MI);k=this.Ma(k,this.Tj(),Z3.MI);h=(Math.abs(1/Math.cos(h.getY()*
Math.PI/180))+Math.abs(1/Math.cos(k.getY()*Math.PI/180)))/2}else h=g.bd(),k=g.nf(),g=g.getCenter(),h=this.Ma(h,this.Tj(),Z3.MI),k=this.Ma(k,this.Tj(),Z3.MI),g=this.Ma(g,this.Tj(),Z3.MI),h=(Math.abs(1/Math.cos(h.getY()*Math.PI/180))+Math.abs(1/Math.cos(k.getY()*Math.PI/180))+Math.abs(4*(1/Math.cos(g.getY()*Math.PI/180))))/6;return h};a.prototype.Cs=function(){return this.gDa};a.prototype.Aaa=function(g){g=Zd.ya().Wa(g);this.gDa=null!=g?g:d;return this};a.prototype.yCb=function(g){var h=this.jna();
if(g&&h){h=h.ca()/(h.da()||1);var k=g.ca()/(g.da()||1);g=g.clone();k<h?g.Uc((g.da()*h-g.ca())/2,0):g.Uc(0,(g.ca()/h-g.da())/2)}UZ.prototype.yCb.call(this,g)};a.prototype.sa=function(g){var h=this.KFa();UZ.prototype.sa.call(this,g);this.Sga(h);return this};a.prototype.load=function(){for(var g=[],h=this.c9a(),k=0;k<h;k++)g.push(this.wD(k).load());null!=this.sRb&&g.push(this.sRb);var l=this;return Eg.all(g).then(function(){return l},function(){return l})};a.prototype.bxc=function(g){if(null!=this.Cjb){var h=
this.Cjb;this.Cjb=null;h(g)}return this};a.prototype.lQ=function(g){this.bxc(a.Yya.Ncc);return UZ.prototype.lQ.call(this,g)};a.prototype.kFa=function(){if(null==this.SJb){var g=UZ.prototype.kFa.call(this);this.SJb=function(h){h===Le.QXa?this.Uzb(!0):(this.Uzb(!1),this.bxc(a.Yya.dKa));g(h)}.bind(this)}return this.SJb};a.prototype.awb=function(){var g=UZ.prototype.awb.call(this);this.Qe=new yN({location:vN.vc,componentsizes:{colorbox:10,axis:20,title:20},title:{text:"Color Bar",textstyle:{color:"#757575"}},
colorprovider:new Ro({values:[0,100],colors:["#ffffff","#000000"]})});return g};a.prototype.pP=function(){return this.Qe};var e=function(){function g(h){h=h||{};h.fill=hd.nKa;rd.call(this,h)}D(g,rd);g.prototype.qm=function(h,k){return"scale"===h.attributeName&&k instanceof a};g.prototype.SE=function(h){return h.oK()};g.prototype.apply=function(h){h.cBb(this.dd.current)};return g}();re.ya().IG(e);e=function(){function g(h){h=h||{};h.fill=hd.nKa;rd.call(this,h);this.bv=be.ya()}D(g,rd);g.prototype.qm=
function(h,k){return"location"===h.attributeName&&k instanceof a};g.prototype.SE=function(h){return h.jna().getCenter()};g.prototype.apply=function(h){h.AHa(this.dd.current,h.Tj(),!1)};return g}();re.ya().IG(e);var f="cg-toolbar-maplayers";D(c,CS);L(c,"geotoolkit.controls.toolbar.MapLayers");c.prototype.Ba=function(g){this.gn=g.gn.cloneNode(!0);this.tu=g.tu};c.prototype.setSize=function(g,h){CS.prototype.setSize.call(this,g,h);var k,l=this.IWb(),m=-Infinity;for(k=0;k<l.length;k++)m=Math.max(m,l[k].ca());
if(m>g)for(null==h&&(h=g),k=0;k<l.length;k++)l[k].ca()<m&&l[k].setSize(m,h);return this};c.prototype.init=function(g,h,k,l,m,n){CS.prototype.init.call(this,g,h,k,l,m,n);l&&this.rd().appendChild(l.cloneNode(!0));this.rd().appendChild(this.gn);var p=this;k=g.tb();this.Amb=function(){p.Ftc(g,h,l,n)};k.on(Z6.jxb,this.Amb);this.Ftc(g,h,l,n)};c.prototype.clear=function(g,h){this.gn&&this.gn.parentNode===this.rd()&&(this.rd().removeChild(this.gn),this.gn=null);if(this.Amb){var k=g.tb();k.za(Z6.jxb,this.Amb);
this.Amb=null}CS.prototype.clear.call(this,g,h)};c.prototype.Ftc=function(g,h,k,l){var m=g.tb(),n=this.IWb(),p;for(p=0;p<n.length;p++)n[p].clear(g,h);n.length=0;this.gn.innerHTML="";p=m.c9a();var q=-Infinity,r=this.gn.style.display;this.gn.style.display="block";for(var t=0;t<p;t++){var u=m.wD(t);u=this.tu.call(this,u);n.push(u);u.init(g,h,this.gn,k,null,l);u.setSize(this.da());q=Math.max(q,u.ca())}this.gn.style.display=r;if(q>this.ca())for(p=0;p<n.length;p++)n[p].setSize(q,this.da())};AS.ya().register("map-layers",
new c).register("map-location",{title:"Show current location",icon:"fas fa-location-arrow",action:function(g){var h=g.tb();null!=Za.navigator.geolocation&&h instanceof a&&Za.navigator.geolocation.getCurrentPosition(function(k){h.eFa({level:14,location:[k.coords.longitude,k.coords.latitude]})})}}).register("map-home",{title:"Zoom to fit",icon:"fas fa-home",action:function(g){g=g.tb();if(g instanceof a){var h=g.oK(),k=1500;3>h?k=500:6>h&&(k=1E3);g.eFa({level:1,location:[0,16],duration:k})}}});return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ0cmFuc2Zvcm1Ub01hcCI6Ik9hYSIsInRyYW5zZm9ybUZyb21NYXAiOiJQOWIiLCJ0cmFuc2Zvcm1Qb2ludCI6Ik1hIiwiZ2V0TWFwSW1hZ2UiOiJVcGQiLCJzZXRNYXBTY2FsZSI6IlNnYSIsImdldE1hcFNjYWxlIjoiS0ZhIiwic2V0Wm9vbUxldmVsIjoiY0JiIiwiZ2V0Wm9vbUxldmVsIjoib0siLCJnZXRPcHRpb25zIjoidGEiLCJnZXRDb29yZGluYXRlU3lzdGVtIjoiVGoiLCJpbml0aWFsaXplTGF5b3V0IjoiUHoiLCJhZGRMYXllciI6Ik5KIiwic2V0Q2VudGVyTW9kZWxMaW1pdHMiOiJpRiIsImdldENlbnRlck1vZGVsTGltaXRzIjoiQ0EiLCJzZXRNYXBTY2FsZU9iamVjdCI6Ik1RYyIsImdldE1hcFNjYWxlT2JqZWN0IjoiVnBkIiwiZ2V0TWFwQ2VudGVyIjoiVHBkIiwicGFuVG8iOiJBSGEiLCJnZXRMYXllckNvdW50IjoiYzlhIiwiZ2V0TGF5ZXIiOiJ3RCIsInJlbW92ZUxheWVyIjoieWdhIiwiaW5zZXJ0TGF5ZXIiOiJJRmMiLCJmbHlUbyI6ImVGYSIsIm9uTW92ZSI6IktuIiwiZ2V0U2NhbGVVbml0IjoiQ3MiLCJzZXRTY2FsZVVuaXQiOiJBYWEiLCJ6b29tVG9SZWN0IjoieUNiIiwic2V0Qm91bmRzIjoic2EiLCJzZXRBbmltYXRpb25TdHlsZSI6ImxRIiwiZ2V0QW5pbWF0aW9uRXZlbnRzTWV0aG9kIjoia0ZhIiwiaW5pdGlhbGl6ZUZsb2F0aW5nQ29sb3JCYXJUb29sIjoiYXdiIiwiZ2V0Q29sb3JCYXIiOiJwUCJ9fX0g");var c7=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){I4.call(this,a)}D(c,I4);L(c,"geotoolkit.map.sources.formats.GeoTile");c.prototype.query=function(a){var b=this,d=a.callback;this.Cl.send(this.wEc(a),this.jCc(a),function(e,f){null==e?d(null,b.Myc(f)):d(e)});return this};c.prototype.wEc=Fb;c.prototype.jCc=function(a){return{cancel:a.cancel,responseType:"json"}};c.prototype.Myc=Fb;return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRVUkxGcm9tUXVlcnkiOiJ3RWMiLCJnZXRPcHRpb25zRnJvbVF1ZXJ5IjoiakNjIiwiZ2V0RGF0YUZyb21SZXNwb25zZSI6Ik15YyJ9fX0g");var d7=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){n5.call(this,a)}D(c,n5);L(c,"geotoolkit.map.sources.loaders.GeoTile");c.prototype.parse=function(a,b){var d=this;this.uDc(a,function(e){d.ua.Iid=e.epsg;d.ua.OTa=e.imagedevicelimits;d.ua.h0b=e.imagemodelpoints;null!=e.tiledshapeoptions&&(d.ua.iXa=e.tiledshapeoptions);b()})};c.prototype.uDc=Fb;return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc0RhdGEiOiJ1RGMifX19");var e7=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{name:"aggregation-selection",layer:a instanceof Th?a:null});aT.call(this,a);this.l8=[];this.tWa(XS.GX);this.sm(xb(a.slots,{pointerdown:this.Xc.bind(this),pointermove:this.Ac.bind(this),pointerup:{callback:this.Oc.bind(this),object:Za},keydown:{callback:this.Uw.bind(this),object:Za}}))}D(c,aT);L(c,"geotoolkit.map.tools.AggregationSelection");c.prototype.aUa=function(a,b){if(0!==a.length){for(var d=null,e=null,f=0;f<=a.length;f++)a[f]instanceof u4?d=a[f]:a[f]instanceof
E5&&(e=a[f]);if(null!=e&&null!=d){a=e.nnd()||[];a=a[a.length-1]||null;d.EXb()?(d.p5(!1),d===a&&(a=null)):d.getParent()?d.p5(!0):(null!=a&&a.p5(!1),d.p5(!0),a=d);if(null==a)this.l8=[];else{d=[a];for(a=0;a<d.length;++a)d[a].EXb()&&d.push.apply(d,d[a].vf());d.reverse();this.l8=d}e.iPc(this.l8);e.ha();b.stopPropagation(!0,!0)}}};c.prototype.Uw=function(a){if(27===a.ye().keyCode&&0<this.l8.length){var b=this.l8[this.l8.length-1];b.p5(!1);this.l8.length=0;a.Pe().ha()}};c.prototype.Ob=function(a){aT.Ob.call(this,
a);!a&&0<this.l8.length&&(a=this.l8[this.l8.length-1],a.p5(!1),this.l8.length=0);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnRlcm5hbFNlbGVjdCI6ImFVYSIsInNldEVuYWJsZWQiOiJPYiJ9fX0g");var f7=/*#__PURE__*/va(/*#__PURE__*/{jba:"Edge",CKa:"Max",dFb:"NoOverlap",gB:"All"},2,"eyJFZGdlIjoiamJhIiwiTWF4IjoiQ0thIiwiTm9PdmVybGFwIjoiZEZiIiwiQWxsIjoiZ0IifSAg");var g7=/*#__PURE__*/va(/*#__PURE__*/{b1:"Metric",LYa:"Imperial"},2,"eyJNZXRyaWMiOiJiMSIsIkltcGVyaWFsIjoiTFlhIn0g");var h7=/*#__PURE__*/va(/*#__PURE__*/function(){function c(l){null!=l&&l.hasOwnProperty("metric")&&(hb('geotoolkit.map.util.MapScale properties["metric"] deprecated since 2020 (3.1). Use "system" instead'),l.system=l.metric?g7.b1:g7.LYa);l=G(l,{x:20,y:10,width:160,height:40,textstyle:new Ki({color:"black",autosize:!0}),linestyle:new X({color:"black",width:2}),alignment:O.cg,textalign:O.Na,tickheight:.25,metric:!0,system:g7.b1,sizeisindevicespace:!0},!0);Wi.call(this,l);this.Xn=l.x;this.mq=l.y;this.sta=l.tickheight;this.Qd=l.system===
g7.b1?b:d;this.K7=null;this.Elb=!1;this.Pb=new ek({textstyle:l.textstyle,sizeisindevicespace:!0,alignment:l.textalign});if(l=this.Ea())l.Ooa(yg.Zpa),l.Mg(!0)}var a=Zd.ya().Wa("px"),b=Zd.ya().Wa("metre"),d=Zd.ya().Wa("ft"),e=[.2,1,5,10,20,50,100,200,500,1E3,2E3,5E3,1E4,2E4,5E4,1E5,2E5,5E5,1E6,2E6],f="< 1m;1 m;5 m;10 m;20 m;50 m;100 m;200 m;500 m;1 km;2 km;5 km;10 km;20 km;50 km;100 km;200 km;500 km;1000 km;2000 km".split(";"),g=[.2,1,5,20,50,100,200,500,1E3,2E3,5280,10560,26400,52800,105600,264E3,
528E3,1056E3,264E4,528E4],h="< 1 ft;1 ft;5 ft;20 ft;50 ft;100 ft;200 ft;500 ft;1000 ft;2000 ft;1 mi;2 mi;5 mi;10 mi;20 mi;50 mi;100 mi;200 mi;500 mi;1000 mi".split(";"),k=new U;D(c,Wi);L(c,"geotoolkit.map.util.MapScale");c.prototype.Ba=function(l,m){this.Xn=l.Xn;this.mq=l.mq;this.sta=l.sta;this.Qd=l.Qd;this.Pb=l.Pb.clone();this.K7=null;this.Elb=!1};c.prototype.Sga=function(l){for(var m=this.Qd.convert(this.width/l,b),n=this.Xma(this.Qd),p=this.l_(this.Qd),q=1;m>n[q]&&q<n.length;)q++;this.K7=b.convert(n[q-
1]*l,this.Qd);this.K7=Math.min(this.K7,this.width)/this.width;this.Pb.Eb(p[q-1]);l=this.Ea()?this.Ea().ca():0;l=(l+1)/this.ca();m=this.Xn/this.ca();n=this.mq/this.da();k.setX(m+l).setY(n).Ra(this.K7-2*l).Ya(1);l=Wi.q9(k,this.Pb.lp());this.Pb.Db(l);this.ha();return this};c.prototype.LSc=function(l){if(this.nW()===l)return this;this.Qd=l===g7.b1?b:d;this.ha();return this};c.prototype.nW=function(){return b===this.Qd?g7.b1:g7.LYa};c.prototype.jb=function(){return this.Pb.jb()};c.prototype.ib=function(l,
m){this.Pb.ib(l,m);this.ha();return this};c.prototype.mHc=function(l){if(!this.Elb){var m=Wi.q9(l.Kb().ga(),this.lp());this.Db(m);this.Elb=!0}this.Sga(l.Cs().convert(l.KFa(!0),a))};c.prototype.render=function(l){l=null!=this.Qa()?l.Zb(this.Qa()):l;this.Eh(l);var m=l.Fa(),n=this.a4(l.Fa()),p=this.Xn/this.ca(),q=this.mq/this.da();l.Tb(n);l.ra(this.Ea());l.Nc(p,q,p,q+this.sta);l.Nc(p,q+this.sta,p+this.K7,q+this.sta);l.Nc(p+this.K7,q,p+this.K7,q+this.sta);this.Pb.render(l);l.Tb(m);this.jh(l)};c.prototype.fa=
function(l){if(null==l)return this;Wi.prototype.fa.call(this,l);void 0!==l.x&&(this.Xn=l.x);void 0!==l.y&&(this.mq=l.y);void 0!==l.tickheight&&(this.sta=l.tickheight);void 0!==l.metric&&(hb('geotoolkit.map.util.MapScale properties["metric"] deprecated since 2020 (3.1). Use "system" instead'),l.system=l.metric?g7.b1:g7.LYa);void 0!==l.system&&this.LSc(l.system);null!=l.textstyle&&this.Pb.ib(l.textstyle);null!=l.textalign&&this.Pb.tc(l.textalign);this.Elb=!1;this.ha();return this};c.prototype.ia=function(){var l=
Wi.prototype.ia.call(this);l.x=this.Xn;l.y=this.mq;l.tickheight=this.sta;l.system=this.nW();l.textstyle=this.jb();l.textalign=this.Pb.lp();return l};c.prototype.Fmd=function(){return this.Xn};c.prototype.Gmd=function(){return this.mq};c.prototype.JYb=function(){return this.K7};c.prototype.Gk=function(){return this.Pb};c.prototype.Xma=function(l){return b.Sz(l)?e:g};c.prototype.l_=function(l){return b.Sz(l)?f:h};c.prototype.Wa=function(){return this.Qd};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsInNldE1hcFNjYWxlIjoiU2dhIiwic2V0U3lzdGVtIjoiTFNjIiwiZ2V0U3lzdGVtIjoiblciLCJnZXRUZXh0U3R5bGUiOiJqYiIsInNldFRleHRTdHlsZSI6ImliIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIn19fSAg");var i7=/*#__PURE__*/va(/*#__PURE__*/{nb:"Top",xd:"Bottom",CC:"Both"},2,"eyJUb3AiOiJuYiIsIkJvdHRvbSI6InhkIiwiQm90aCI6IkNDIn0g"),j7=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e){e=G(e,{fillstyles:["black","white"],minortickheight:.5,majortickheight:1,ticksamount:5,tickvisible:!0,tickposition:c.Yha.nb,secondsystem:null,labelmode:a.CKa,height:8,y:20},!0);h7.call(this,e);this.Dra=[];this.A2a=e.minortickheight;this.h2a=e.majortickheight;this.RPa=e.ticksamount;this.QPa=e.tickvisible;this.Uda=e.tickposition;this.ER=null;this.EL=e.labelmode;this.ALb=null;this.B1a=0;this.fa(e)}var a=f7,b=Zd.ya().Wa("ft"),d=Zd.ya().Wa("metre");
D(c,h7);L(c,"geotoolkit.map.util.BarScale");c.Yha=i7;c.prototype.Ba=function(e,f){this.A2a=e.A2a;this.h2a=e.h2a;this.RPa=e.RPa;this.QPa=e.QPa;this.Uda=e.Uda;this.ER=e.ER;this.EL=e.EL;this.ALb=null;this.B1a=0;this.Izb(e.Dra.map(function(g){return g.clone()}))};c.prototype.Izb=function(e){var f;for(f=0;f<this.Dra.length;f++)this.hk(this.Dra[f],Ce.gb,this.sb());this.Dra=[];for(f=0;f<e.length;f++){var g=tg.ad(e[f]);null!=g&&(this.gg(g,Ce.gb,this.sb()),this.Dra.push(g))}return this};c.prototype.Hzc=function(){return this.Dra};
c.prototype.qa=function(e,f){return this.Izb([e,"white"])};c.prototype.Sga=function(e){h7.prototype.Sga.call(this,e);this.B1a=this.l_(this.Wa()).indexOf(this.Gk().ee());return this};c.prototype.YQc=function(e){if(this.A2a===e)return this;this.A2a=e;this.ha();return this};c.prototype.oub=function(){return this.A2a};c.prototype.LQc=function(e){if(this.h2a===e)return this;this.h2a=e;this.ha();return this};c.prototype.jub=function(){return this.h2a};c.prototype.bSc=function(e){if(this.PZb()===e)return this;
this.ER=null==e?e:e===g7.b1?d:b;this.ha();return this};c.prototype.PZb=function(){return null==this.ER?null:d.Sz(this.ER)?g7.b1:g7.LYa};c.prototype.wQc=function(e){hb("geotoolkit.map.util.BarScale.setLabelVisible is deprecated since 2021 (3.2), use setLabelMode instead");return this.Dcb(e?a.dFb:a.CKa)};c.prototype.opd=function(){hb("geotoolkit.map.util.BarScale.getLabelVisible is deprecated since 2021 (3.2), use getLabelMode instead");return this.zSa()!==a.CKa};c.prototype.Dcb=function(e){if(this.EL===
e)return this;this.EL=e;this.ha();return this};c.prototype.zSa=function(){return this.EL};c.prototype.USc=function(e){if(this.QPa===e)return this;this.QPa=e;this.ha();return this};c.prototype.aEc=function(){return this.QPa};c.prototype.Zl=function(e){if(this.Uda===e)return this;this.Uda=e;this.ha();return this};c.prototype.h$=function(){return this.Uda};c.prototype.VSc=function(e){if(this.RPa===e)return this;this.RPa=e;this.ha();return this};c.prototype.bEc=function(){return this.RPa};c.prototype.render=
function(e){e=null!=this.Qa()?e.Zb(this.Qa()):e;this.Eh(e);var f=e.Fa(),g=this.a4(e.Fa());e.Tb(g);g=2;null!==this.ER&&g++;this.Uda===c.Yha.CC&&g++;g=1/g;var h=this.cEc(this.Wa()),k=this.Fmd()/this.ca(),l=-this.Gmd()/this.da();if(this.Uda===c.Yha.nb||this.Uda===c.Yha.CC)this.Lea(e,k,l,g,h,0),l+=g;this.Aua(e,k,l,g,h,0);l+=g;null!==this.ER&&(h=this.cEc(this.ER),this.Aua(e,k,l,g,h,1),l+=g);this.Uda!==c.Yha.xd&&this.Uda!==c.Yha.CC||this.Lea(e,k,l,g,h,1);e.Tb(f);this.jh(e)};c.prototype.Lea=function(e,f,
g,h,k,l){f+=this.JYb();var m=this.JYb()/k,n=0===l?g:g+h*Math.max(this.jub(),this.oub()),p=0===l?this.Wa():this.ER||this.Wa();if(null==this.ER||this.ER.Sz(this.Wa())||0===l){var q=this.l_(p)[this.B1a];p=parseInt(q)||this.Xma(p)[this.B1a]}else p=this.Xma(this.Wa())[this.B1a],p=this.ER.convert(p,this.Wa()),d.Sz(this.ER)?1E3<p?(p=Math.round(p/100)/10,q=p+" km"):(p=Math.round(10*p)/10,q=p+" m"):5280<p?(p=Math.round(p/528)/10,q=p+" mi"):(p=Math.round(10*p)/10,q=p+" ft");for(var r=k;0<=r;r--,f-=m){var t=
0===r||r===k?this.jub():this.oub();this.QPa&&(e.ra(this.Ea()),e.Nc(f,g+h*(1-t),f,g+h));t=Math.round(r*p*10/k)/10;this.Gk().Eb(t);t=this.Gk().ca()/2/e.Fa().pb();if(r===k)this.Gk().tc(0===l?O.cg:O.Ld).Db(f-t,n).Eb(q).render(e);else{if(this.EL===a.CKa)continue;if(this.EL===a.jba&&0!==r)continue;if(this.EL===a.dFb&&this.ALb<=f+t)continue;this.Gk().tc(0===l?O.Je:O.Xd).Db(f,n).render(e)}this.ALb=f-t}};c.prototype.Aua=function(e,f,g,h,k,l){e.ra(this.Ea());for(var m=this.JYb()/k,n=0;n<k;n++)e.qa(this.Dra[(n+
l)%this.Dra.length]),e.sc(f,g,m,h),f+=m};c.prototype.fa=function(e){if(null==e)return this;e=hc(e);void 0!==e.fillstyles&&this.Izb(e.fillstyles);void 0!==e.secondsystem&&this.bSc(e.secondsystem);void 0!==e.minortickheight&&this.YQc(e.minortickheight);void 0!==e.majortickheight&&this.LQc(e.majortickheight);void 0!==e.labelvisible&&this.wQc(e.labelvisible);void 0!==e.labelmode&&this.Dcb(e.labelmode);void 0!==e.tickvisible&&this.USc(e.tickvisible);void 0!==e.tickposition&&this.Zl(e.tickposition);void 0!==
e.ticksamount&&this.VSc(e.ticksamount);return h7.prototype.fa.call(this,e)};c.prototype.ia=function(){var e=h7.prototype.ia.call(this);e.fillstyles=this.Hzc();e.secondsystem=this.PZb();e.labelmode=this.zSa();e.labelvisible=this.zSa()!==a.CKa;e.tickvisible=this.aEc();e.tickposition=this.h$();e.ticksamount=this.bEc();e.minortickheight=this.oub();e.majortickheight=this.jub();return e};c.prototype.cEc=function(e){return null==this.ER||this.ER.Sz(this.Wa())?this.RPa:e.Sz(d)?8:5};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsInNldEZpbGxTdHlsZUxpc3QiOiJJemIiLCJnZXRGaWxsU3R5bGVMaXN0IjoiSHpjIiwic2V0RmlsbFN0eWxlIjoicWEiLCJzZXRNYXBTY2FsZSI6IlNnYSIsInNldE1pbm9yVGlja0hlaWdodCI6IllRYyIsImdldE1pbm9yVGlja0hlaWdodCI6Im91YiIsInNldE1ham9yVGlja0hlaWdodCI6IkxRYyIsImdldE1ham9yVGlja0hlaWdodCI6Imp1YiIsInNldFNlY29uZFN5c3RlbSI6ImJTYyIsImdldFNlY29uZFN5c3RlbSI6IlBaYiIsInNldExhYmVsVmlzaWJsZSI6IndRYyIsImdldExhYmVsVmlzaWJsZSI6Im9wZCIsInNldExhYmVsTW9kZSI6IkRjYiIsImdldExhYmVsTW9kZSI6InpTYSIsInNldFRpY2tWaXNpYmxlIjoiVVNjIiwiZ2V0VGlja1Zpc2libGUiOiJhRWMiLCJzZXRUaWNrUG9zaXRpb24iOiJabCIsImdldFRpY2tQb3NpdGlvbiI6ImgkIiwic2V0VGlja3NBbW91bnQiOiJWU2MiLCJnZXRUaWNrc0Ftb3VudCI6ImJFYyIsInNldFByb3BlcnRpZXMiOiJmYSIsImdldFByb3BlcnRpZXMiOiJpYSJ9fX0g");export {T3,U3,V3,W3,X3,Y3,Z3,$3,a4,b4,c4,d4,e4,f4,g4,h4,i4,j4,k4,l4,m4,n4,o4,p4,q4,r4,s4,t4,u4,v4,w4,x4,y4,z4,A4,B4,C4,D4,E4,F4,G4,H4,I4,J4,K4,L4,M4,N4,O4,P4,Q4,R4,S4,T4,U4,V4,W4,X4,Y4,Z4,$4,a5,b5,c5,d5,e5,f5,g5,h5,i5,j5,k5,l5,m5,n5,o5,p5,q5,r5,s5,t5,u5,v5,w5,x5,y5,z5,A5,B5,C5,D5,E5,F5,G5,H5,I5,J5,K5,L5,M5,N5,O5,P5,Q5,R5,zGa,S5,T5,U5,V5,W5,X5,Y5,Z5,JGa,$5,a6,b6,c6,d6,e6,f6,g6,h6,i6,j6,k6,l6,m6,n6,$Ga,o6,p6,q6,r6,s6,t6,u6,v6,w6,x6,y6,z6,A6,B6,C6,D6,E6,F6,G6,H6,I6,J6,K6,L6,M6,N6,O6,P6,Q6,R6,S6,T6,U6,V6,W6,X6,Y6,Z6,$6,a7,c7,d7,e7,f7,g7,h7,i7,j7};