/* eslint-disable */
import {ho,D,L,hc,rf,M,ng,xb,oi,yf,zf,Rh,U,Yh,Dk,G,ek,ck,Ki,rk,Ro,Wo,Vo,Zo,Yo,sk,Zi,kp,jp,Jd,Lo,Kk,xl,ll,Cb,bj,rg,Vd,Cg,tg,X,W,Nm,Sn,Fk,ue,Fb,O,lg,V,Ko,Pd,Pe,$m,bk,Hd,Hg,wg,Zg,Ce,Zd,eo,sd,Oo,Ee,To,Gh,Vj,Sg,Di,Ug,Vi,qk,Xg,td,Sm,No,Be,pk,dh,io,Km,jo,rd,ge,ud,re,Hb,Ob,hb,jl,lc,Wi,jg,Io,Ho,Vh,bf,pd,ac,nc,$n,ni,kk,Lk,Fe,Xn,Vn,gh,Th,Vm,Il,Za,Me,xg,ci,Am,Al,Fi,Cd,Ed,wb,xc,Ml,Cc,Mm,jf,mc,Zh,fp,Tm,Zm,Pm,Ec,Zf,xe,rm,yc,Ac,Gj,Fj,Dd,Dc,cj,oh,Ym,ae,$h,Kl,Jl,md,kd,va} from './geotoolkit.base.js';import {xG,PG,jG,mG,kH,oG,rG,HG,RG,KG,wG,uG,NG} from './geotoolkit.data.js';var aa,ha=ha||{};ha.scope={};ha.Nqc=function(c){var a=0;return function(){return a<c.length?{done:!1,value:c[a++]}:{done:!0}}};ha.Moe=function(c){return{next:ha.Nqc(c)}};ha.qXc=!1;ha.URd=!1;ha.VRd=!1;ha.Mfe=!1;ha.Acc=!1;ha.defineProperty=ha.qXc||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,a,b){if(c==Array.prototype||c==Object.prototype)return c;c[a]=b.value;return c};
ha.cod=function(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<c.length;++a){var b=c[a];if(b&&b.Math==Math)return b}return function(){throw Error("Cannot find global object");}()};ha.global=ha.cod(this);ha.nEb="function"===typeof Symbol&&"symbol"===typeof Symbol("x");ha.hje=!ha.Acc||ha.nEb;ha.r3b={};ha.L3b={};ha.S1c="$jscp$";
function aaa(c,a){var b=ha.L3b[a];if(null==b)return c[a];b=c[b];return void 0!==b?b:c[a]}ha.lKc=function(c,a,b,d){a&&(ha.Acc?ha.ZDd(c,a,b,d):ha.$Dd(c,a,b,d))};ha.$Dd=function(c,a,b,d){b=ha.global;c=c.split(".");for(d=0;d<c.length-1;d++){var e=c[d];if(!(e in b))return;b=b[e]}c=c[c.length-1];d=b[c];a=a(d);a!=d&&null!=a&&ha.defineProperty(b,c,{configurable:!0,writable:!0,value:a})};
ha.ZDd=function(c,a,b,d){var e=c.split(".");c=1===e.length;d=e[0];d=!c&&d in ha.r3b?ha.r3b:ha.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];b=ha.nEb&&"es6"===b?d[e]:null;a=a(b);null!=a&&(c?ha.defineProperty(ha.r3b,e,{configurable:!0,writable:!0,value:a}):a!==b&&(ha.L3b[e]=ha.nEb?ha.global.Symbol(e):ha.S1c+e,e=ha.L3b[e],ha.defineProperty(d,e,{configurable:!0,writable:!0,value:a})))};ha.Ise=function(){};
ha.lKc("Symbol",function(c){function a(f){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new b(d+(f||"")+"_"+e++,f)}function b(f,g){this.oXc=f;ha.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})}if(c)return c;b.prototype.toString=function(){return this.oXc};var d="jscomp_symbol_",e=0;return a},"es6","es3");ha.Kse=function(){};
ha.lKc("Symbol.iterator",function(c){if(c)return c;c=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),b=0;b<a.length;b++){var d=ha.global[a[b]];"function"===typeof d&&"function"!=typeof d.prototype[c]&&ha.defineProperty(d.prototype,c,{configurable:!0,writable:!0,value:function(){return ha.Nyd(ha.Nqc(this))}})}return c},"es6","es3");ha.Jse=function(){};
ha.Nyd=function(c){c={next:c};c[Symbol.iterator]=function(){return this};return c};var vN=/*#__PURE__*/va(/*#__PURE__*/{me:"north",Ic:"east",vc:"south",dc:"west"},2,"eyJOb3J0aCI6Im1lIiwiRWFzdCI6IkljIiwiU291dGgiOiJ2YyIsIldlc3QiOiJkYyJ9");var wN=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d,e,f){ho.call(this,0,0,1,1);this.ra(d);this.qc=a;this.Nqa=b;this.Ei="number"!=typeof e||isNaN(e)?this.qc?this.qc.uc():0:e;this.ui="number"!=typeof f||isNaN(f)?this.qc?this.qc.Dc():1:f;this.M$a()}D(c,ho);L(c,"geotoolkit.controls.shapes.ColorBox");c.prototype.clone=function(){return new c(this.qc,this.Nqa,this.Ea(),this.Ei,this.ui)};c.prototype.M9=function(){return this.Nqa};c.prototype.qX=function(a){if(this.Nqa===a)return this;this.Nqa=a;this.M$a();return this};c.prototype.Vm=
function(){return this.qc};c.prototype.Ur=function(a){this.qc=a;this.M$a();return this};c.prototype.Icb=function(a,b){if(this.Ei===a&&this.ui===b)return this;this.Ei=a;this.ui=b;this.ha();this.M$a();return this};c.prototype.sf=function(){return this.Ei};c.prototype.kg=function(){return this.ui};c.prototype.M$a=function(){if(null==this.qc)return this;if(this.ui===this.Ei){var a=this.qc.rb(this.Ei);a&&this.qa(new rf(a.fB()));return this}a=isFinite(this.ui)&&this.qc.rb(this.ui)?this.qc.rb(this.ui).fB():
null;var b=isFinite(this.Ei)&&this.qc.rb(this.Ei)?this.qc.rb(this.Ei).fB():null;if(null!=a&&null==b)return this.qa(new rf(a)),this;if(null==a&&null!=b)return this.qa(new rf(b)),this;var d=null==a&&null==b;var e=1/(this.ui-this.Ei);var f=d?0:e*(this.qc.uc()-this.Ei);e=d?1:e*(this.qc.Dc()-this.Ei);this.Nqa===vN.dc||this.Nqa===vN.Ic?(f=new M(.5,f),e=new M(.5,e)):(f=new M(f,.5),e=new M(e,.5));a=new ng({startPoint:f,endPoint:e,colorProvider:d?void 0:this.qc,startColor:d?void 0:b,endColor:d?void 0:a});
this.qa(a);return this};c.prototype.ia=function(){var a=ho.prototype.ia.call(this);a.colorprovider=this.qc;a.colorbarlocation=this.Nqa;a.min=this.Ei;a.max=this.ui;return a};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;void 0!==a.colorprovider&&(this.qc=a.colorprovider);void 0!==a.colorbarlocation&&(this.Nqa=a.colorbarlocation);void 0!==a.min&&(this.Ei=a.min);void 0!==a.max&&(this.ui=a.max);this.M$a();return this};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var xN=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d,e){a=xb(a,{colorgroup:a instanceof oi?a:null,annotationgroup:b,coloritem:d,annotationitem:e},!0);oi.call(this,a);this.LC=a.colorgroup;this.VHb=a.coloritem;this.lia=a.annotationgroup;this.bH=a.annotationitem;this.oa([this.LC,this.lia])}D(c,oi);L(c,"geotoolkit.controls.shapes.ColorAnnotation");c.prototype.fa=function(a){a=hc(a);if(null==a)return this;oi.prototype.fa.call(this,a);void 0!==a.annotationgroup&&(this.removeChild(this.lia),this.lia=a.annotationgroup,this.oa(this.lia));
void 0!==a.colorgroup&&(this.removeChild(this.LC),this.LC=a.colorgroup,this.oa(this.LC));void 0!==a.coloritem&&(this.VHb=a.coloritem);void 0!==a.annotationitem&&(this.bH=a.annotationitem);return this};c.prototype.ia=function(){var a=oi.prototype.ia.call(this);a.annotationgroup=this.lia;a.colorgroup=this.LC;a.coloritem=this.VHb;a.annotationitem=this.bH;return a};c.prototype.qld=function(){return this.VHb};c.prototype.qX=function(a){if(null!=this.bH)switch(a){case vN.dc:this.bH.Zl(yf.$b);this.bH.Vr(zf.$b);
this.bH.setOrientation(Rh.ob);this.bH.Ha(new U(0,0,1,1));break;case vN.Ic:this.bH.Zl(yf.kc);this.bH.Vr(zf.kc);this.bH.setOrientation(Rh.ob);this.bH.Ha(new U(0,0,1,1));break;case vN.me:this.bH.Zl(yf.xd);this.bH.Vr(zf.xd);this.bH.setOrientation(Rh.xb);this.bH.Ha(new U(0,0,1,1));break;default:this.bH.Zl(yf.nb),this.bH.Vr(zf.nb),this.bH.setOrientation(Rh.xb),this.bH.Ha(new U(0,0,1,1))}};c.prototype.Yv=function(a){return a?[this.LC,this.lia]:[this.lia,this.LC]};c.prototype.Ra=function(a,b,d){this.La(new Yh({width:void 0,
height:d}));this.LC.La(new Yh({width:a,height:void 0}));this.lia.La(new Yh({width:b,height:void 0}))};c.prototype.Ya=function(a,b,d){this.La(new Yh({height:void 0,width:d}));this.LC.La(new Yh({height:a,width:void 0}));this.lia.La(new Yh({height:b,width:void 0}))};c.prototype.qa=function(a){this.LC.qa(a)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var yN=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f,g,h,k,l,m){f=g.Da();if("\u221e"===f){if(1!==l)return null}else if("+\u221e"===f){if(1!==m)return null}else if(0!==l)return null;k=k.co().Ta(k.fwa());k=d.bx(!0).Gaa(k.ca(),k.da()).Wj(ck.pB).Eb(f).rP();return k!==e?k:null}function a(f){f=f||{};f.clipping=!0;oi.call(this,f);this.ea=f;this.js=this.ie=this.od=this.j3a=null;this.aj=new Dk({preciselimits:f.preciselimits||!1});this.QY=this.LC=this.I0a=this.jja=null;this.qPb="33%";this.nDa=this.wPa="50%";this.xPa="8%";this.fH=
{};this.tL=this.KY=null;this.setOptions(f)}var b={NegativeInfinity:"-\u221e",PositiveInfinity:"+\u221e"};D(a,oi);L(a,"geotoolkit.controls.shapes.ColorBar");a.prototype.clone=function(){var f=xb(this.ta(),{});f.axis&&f.axis.item&&(f.axis.item=f.axis.item.clone());return(new a(f)).La(this.Mb())};var d=new ek,e="...";a.prototype.setOptions=function(f){f||(f={});if(f.min>f.max){var g=f.min;f.min=f.max;f.max=g;"undefined"===typeof f.flip&&(f.flip=null!=this.ta()?this.ta().flip:!0)}else"undefined"===typeof f.flip&&
(f.flip=null!=this.ta()?this.ta().flip:!1);null!=this.ea&&(f=xb(f,this.ea));f=G(f,{title:{},axis:{},colorbox:{},range:{},namedcolors:{}});null!=f.componentsizes&&(null!=f.componentsizes.title&&(f.title.size=f.componentsizes.title),null!=f.componentsizes.colorbox&&(f.colorbox.size=f.componentsizes.colorbox),null!=f.componentsizes.axis&&(f.axis.size=f.componentsizes.axis),null!=f.componentsizes.namedcolors&&(f.namedcolors.size=f.componentsizes.namedcolors));null!=f.min&&(f.range.min=f.min);null!=f.max&&
(f.range.max=f.max);null!=f.titletext&&(null!=f.title?f.title.text=f.titletext:f.title={text:f.titletext});null!=f.titletextstyle&&(null!=f.title?f.title.textstyle=f.titletextstyle:f.title={textstyle:f.titletextstyle});var h=f.title;null!=h&&(h=G(h,{size:void 0,visible:!0,item:new ek("",.5,.5,void 0,void 0,new Ki,!0)}),h.text&&h.item.Eb(h.text),h.textstyle&&h.item.ib(h.textstyle),h.item.yaa(!0),h.item.y5(!1),h.item.bx(!0));var k=f.axis;k=G(k,{visible:!0,size:void 0,item:this.od||new rk,autolabelrotation:!1,
visiblebaseline:!0});g=f.colorbox;g=G(g,{visible:!0,size:void 0,linestyle:null,independentrange:!1});f=G(f,{colorprovider:new Ro,location:vN.Ic,flip:!1,linestyle:null});f.axis=k;f.title=h;f.colorbox=g;var l=f.colorprovider instanceof Wo||f.colorprovider instanceof Zo;this.ea=f;this.j3a||(this.j3a=(new ho).ug(!1));this.j3a.ra(f.linestyle);null==f.range.min&&(f.range.min=f.colorprovider.uc());null==f.range.max&&(f.range.max=f.colorprovider.Dc());h=f.range.min;k=f.range.max;this.jja?void 0!==f.axis.item&&
this.od!==f.axis.item&&(null!=this.od&&this.jja.removeChild(this.od),this.od=f.axis.item,null!=this.od&&(this.od.sa(this.jja.pa()),this.jja.oa(this.od))):(this.jja=(new oi).Ha(new U(0,0,1,1)),this.od=f.axis.item,this.od.sa(this.jja.pa()),this.jja.oa(this.od));this.od=f.axis.item;void 0!==f.axis.visible&&this.jja.va(f.axis.visible);void 0!==f.axis.autolabelrotation&&this.od.Uy(f.axis.autolabelrotation);null!=f.axis.autolabelrotationangle&&this.od.Jga(f.axis.autolabelrotationangle);null!=f.axis.title&&
this.od.Qq(f.axis.title);if(void 0!==f.axis.baseline){var m={};void 0!==f.axis.baseline.visible&&(m.visiblebaseline=f.axis.baseline.visible);void 0!==f.axis.baseline.linestyle&&(m.baselinestyle=f.axis.baseline.linestyle);this.od.fa(m)}void 0!==f.axis.tickgenerator&&(m={tickgenerator:f.axis.tickgenerator},this.od.fa(m));!l||f.colorprovider.pS()!==Vo.Sn&&f.colorprovider.pS()!==Yo.Sn||this.od.Ge()instanceof sk||this.od.pg(new sk);null!=f.tickgenerator&&f.tickgenerator instanceof Zi&&this.od.pg(f.tickgenerator);
if(f.colorprovider instanceof kp&&f.colorprovider.pS()===jp.nac){m=f.colorprovider;h=m.ia();var n=h.values,p=h.colors;h=0;k=n.length;var q=[],r=[],t=[];for(l=0;l<k;l+=1){if(0===l){var u=n[0].Ua();r.push(-Infinity!==u?u:"");t.push(l)}u=n[l].Za();r.push(Infinity!==u?u:"");t.push(l+1);q.push(new Jd(l,l+1))}m=(new kp({values:q,colors:p})).Zoa(Lo.NaN,m.Iw(Lo.NaN)).Zoa(Lo.PQ,m.Iw(Lo.PQ)).Zoa(Lo.QQ,m.Iw(Lo.QQ));f.colorprovider=m;l=(new Kk({labels:r,positions:t})).KK("major",null).KK("minor",null).KK("edge",
null);this.od.pg(l)}null!=f.axis.labelrotation&&this.od.Ge().tN("edge",f.axis.labelrotation).tN("major",f.axis.labelrotation);void 0!==f.axis.size&&(this.wPa=f.axis.size);null!=f.axis.hideoverlappedtext&&this.od.D6b(f.axis.hideoverlappedtext);this.ie=f.title.item;this.o7?this.o7.lcb(0,this.ie):(this.o7=(new oi).Wd(new xl),this.o7.oa(this.ie));void 0!==f.title.visible&&this.o7.va(f.title.visible);void 0!==f.title.size&&(this.qPb=f.title.size);null==this.js&&(this.js=(new wN(f.colorprovider,f.location,
f.colorbox.linestyle,h,k)).cb(0,0,1,1));null!=f.colorbox.visible&&this.js.va(f.colorbox.visible);l=f.colorprovider;void 0!==l&&this.js.Ur(l);void 0!==f.location&&this.js.qX(f.location);void 0!==f.colorbox.linestyle&&this.js.ra(f.colorbox.linestyle);!0===g.independentrange&&null!=l?this.js.Icb(l.uc(),l.Dc()):this.js.Icb(h,k);void 0!==f.preciselimits&&(this.od.Nu(this.aj),this.aj.setOptions(f),h=this.js.sf(),k=this.js.kg(),this.od.T9b(h,k));this.I0a||(this.I0a=new oi,this.I0a.Ha(new U(0,0,1,1)),this.I0a.oa(this.js));
this.LC||(this.LC=new xN(this.I0a,this.jja));this.QY||(this.QY=new oi,this.QY.oa(this.LC));void 0!==f.colorbox.size&&(this.nDa=f.colorbox.size);void 0!==f.namedcolors.size&&(this.xPa=f.namedcolors.size);this.wpb=f.namedcolors.visible;1>this.Yb()&&(g=[this.QY,this.o7,this.j3a],this.oa(g));if(null!=l&&this.wpb)for(g=l.Iw(),l=0;l<g.length;l++)h=g[l],h.name!==Lo.NaN&&h.name!==Lo.PQ&&h.name!==Lo.QQ||this.ufd(h,f.colorbox.linestyle);null!=f.layoutstyle&&this.La(f.layoutstyle);this.qX(f.location);this.JK(f.flip);
return this};a.prototype.ufd=function(f,g){var h=this.fH[f.name],k=f.value,l=null!=b[f.name]?b[f.name]:f.name;null!=k&&k.hasOwnProperty("value")&&(void 0!==k.title&&(l=k.title),k=k.value);if(null!=h){var m=h.qld();if(null!=m)return m.ra(g).qa(k),h;this.QY.removeChild(f.name)}m=new ho(0,0,1,1,void 0,void 0,!0,g,k);g=(new oi).Ha(new U(0,0,1,1)).oa(m);l=(new rk).kb(l);l.Ge().Ng("major",!1).Ng("minor",!1).Qu(c);h=(new oi).Ha(new U(0,0,1,1)).oa(l);h=new xN(g,h,m,l);this.QY.Mf(0,h);return this.fH[f.name]=
h};a.prototype.ta=function(){return this.ea};a.prototype.mb=function(f){this.pX(!1);f=this.ue();if(!f)return this;var g=this.pa();if(!g)return this;g=new U(g);f.cb(g);this.j3a.cb(g);f.oc();return this};a.prototype.qX=function(f){this.KY=f;var g=this.pa(),h=Rh,k=this.js.sf(),l=this.js.kg();if(k===l||!isFinite(k)||!isFinite(l)||!isFinite(l-k)){k=.1;l=1;var m=this.js.sf().toString(),n=this.js.kg().toString();this.od.Ge().Ng("minor",!1);this.od.Ge().Ng("major",!1);this.od.Ge().Qu(function(w,y,A,x,C,z){return"edge"!==
x.li()?"":0===C?m:n})}var p=this.js.Vm();if(p instanceof Wo&&p.pS()===Vo.Sn||p instanceof Zo&&p.pS()===Yo.Sn)k=p.$y(k),l=p.$y(l);var q=!1,r=xl;switch(this.KY){case vN.dc:g=new ll(g);p=new ll;var t=new xl;g.add([this.o7,this.QY]);p.add(this.LC.Yv());r=ll;this.od.Zl(yf.$b);this.od.Vr(zf.$b);this.od.setOrientation(h.ob);this.od.Ha(new U(0,k,1,l));this.ie.Yy(-Math.PI/2);break;case vN.Ic:g=new ll(g);p=new ll;t=new xl;g.add([this.QY,this.o7]);p.add(this.LC.Yv(!0));q=!0;r=ll;this.od.Zl(yf.kc);this.od.Vr(zf.kc);
this.od.setOrientation(h.ob);this.od.Ha(new U(0,k,1,l));this.ie.Yy(-Math.PI/2);break;case vN.me:g=new xl(g);p=new xl;t=new ll;g.add([this.o7,this.QY]);p.add(this.LC.Yv());this.od.Zl(yf.xd);this.od.Vr(zf.xd);this.od.setOrientation(h.xb);this.od.Ha(new U(k,0,l,1));this.ie.Yy(0);break;default:g=new xl(g),p=new xl,t=new ll,g.add([this.QY,this.o7]),p.add(this.LC.Yv(!0)),q=!0,this.od.Zl(yf.nb),this.od.Vr(zf.nb),this.od.setOrientation(h.xb),this.od.Ha(new U(k,0,l,1)),this.ie.Yy(0)}for(var u in this.fH)this.fH.hasOwnProperty(u)&&
(h=new r,h.add(this.fH[u].Yv(q)),this.fH[u].Wd(h),this.fH[u].qX(this.KY));u=[];null!=this.fH[Lo.NaN]&&u.push(this.fH[Lo.NaN]);null!=this.fH[Lo.PQ]&&u.push(this.fH[Lo.PQ]);u.push(this.LC);null!=this.fH[Lo.QQ]&&u.push(this.fH[Lo.QQ]);t.add(u);this.js.qX(f);this.JQd(g);this.Wd(g);this.QY.Wd(t);this.LC.Wd(p);return this};a.prototype.M9=function(){return this.KY};a.prototype.JQd=function(f){if(!f)return this;var g,h=this.nDa+this.wPa;if(isNaN(h)||!isFinite(h))h=void 0;if(f instanceof ll)for(g in this.QY.La(new Yh({width:h,
height:void 0})),this.LC.Ra(this.nDa,this.wPa),this.o7.La(new Yh({width:this.qPb,height:void 0})),this.fH)this.fH.hasOwnProperty(g)&&this.fH[g].Ra(this.nDa,this.wPa,this.xPa);else{this.QY.La(new Yh({height:h,width:void 0}));this.LC.Ya(this.nDa,this.wPa);this.o7.La(new Yh({height:this.qPb,width:void 0}));for(var k in this.fH)this.fH.hasOwnProperty(k)&&this.fH[k].Ya(this.nDa,this.wPa,this.xPa)}return this};a.prototype.ia=function(){var f=oi.prototype.ia.call(this);f.min=this.ea.min;f.max=this.ea.max;
f.flip=this.ea.flip;f.linestyle=this.ea.linestyle;f.colorprovider=this.ea.colorprovider;f.location=this.ea.location;f.namedcolors={size:this.xPa,visible:this.wpb};f.range={min:this.js.sf(),max:this.js.kg()};f.title={item:this.ie};f.axis={item:this.od};f.colorbox={size:this.nDa,visible:this.js.Ia(),linestyle:this.js.Ea()};f.titletextstyle=this.ea.title.textstyle;f.titlesize=this.ea.title.size;f.titletext=this.ea.title.text;f.titlevisible=this.ea.title.visible;f.titleitem=this.ea.title.item;f.axisautolabelrotation=
this.ea.axis.autolabelrotation;f.axisautolabelrotationangle=this.ea.axis.autolabelroationangle;f.axissize=this.ea.axis.size;f.axisvisible=this.ea.axis.visible;f.axistitle=this.ea.axis.title;f.axisitem=this.ea.axis.item;null!=this.od&&(f.axisbaselinevisible=this.od.Esb(),f.axisbaselinestyle=this.od.lma());f.colorboxindependentrange=this.ea.colorbox.independentrange;f.colorboxlinestyle=this.ea.colorbox.linestyle;f.colorboxsize=this.ea.colorbox.size;f.preciselimits=this.ea.preciselimits;return f};a.prototype.fa=
function(f){f=hc(f);if(null==f)return this;var g={axis:{},colorbox:{}};xb(f,g);this.setOptions(g);return this};a.prototype.JK=function(f){this.tL=f;this.KY===vN.dc||this.KY===vN.Ic?(this.nl(!1),this.Tk(f)):(this.nl(f),this.Tk(!1));this.xa();return this};a.prototype.Ge=function(){return this.od.Ge()};a.prototype.pg=function(f){if(this.Ge()===f)return this;this.od.pg(f);this.xa().ha();return this};a.prototype.nva=function(){return this.tL};a.prototype.vCc=function(f){var g=this.js.Vm().uc(),h=this.js.Vm().Dc(),
k=this.xl(),l=this.ga(),m=k?l.ca():l.da();f<g?f=-Infinity:f>h&&(f=Infinity);f=Number.isFinite(f)?this.xdd(f,m,g,h):this.wdd(f,m);return 0>f||f>m?-Infinity:k?l.getX()+f:l.getY()+f};a.prototype.xl=function(){var f=this.M9();return f===vN.me||f===vN.vc};a.prototype.wdd=function(f,g){var h=g,k=-1,l=this.nva(),m=null!=this.js.qc.Iw(Lo.PQ),n=null!=this.js.qc.Iw(Lo.QQ),p=null!=this.js.qc.Iw(Lo.NaN),q=parseInt(this.xPa);if(!this.wpb)return k;switch(f){case Infinity:if(!n)return-1;m&&(h-=q);p&&(h-=q);if(0>
h)return-1;h-=q;k=0>h?l?q/2+h:g-h-q/2:l?q/2:g-q/2;break;case -Infinity:if(!m)return-1;k=p?l?g-3*q/2:3*q/2:l?g-q/2:q/2;break;default:if(!p)return-1;k=l?g-q/2:q/2}return k};a.prototype.xdd=function(f,g,h,k){var l=!1,m=g,n=0,p=this.nva(),q=null!=this.js.qc.Iw(Lo.PQ),r=null!=this.js.qc.Iw(Lo.QQ),t=null!=this.js.qc.Iw(Lo.NaN),u=parseInt(this.xPa);if(this.wpb){q&&(n+=p?0:u,m-=u);t&&(n+=p?0:u,m-=u);if(0>m)return-1;r&&(n+=p?u:0,m-=u);0>m&&(m=1,l=!0)}f=m*(f-h)/(k-h);p&&(l?(f=g,q&&(f-=u),t&&(f-=u)):f=m-f);
l||(f+=n);return f};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJ1cGRhdGVMYXlvdXQiOiJtYiIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSIsImdldFRpY2tHZW5lcmF0b3IiOiJHZSIsInNldFRpY2tHZW5lcmF0b3IiOiJwZyIsImdldFBvaW50QXRWYWx1ZSI6InZDYyJ9fX0g");var LP=/*#__PURE__*/va(/*#__PURE__*/{jba:0,Range:1,Na:2},2,"eyJFZGdlIjoiamJhIiwiQ2VudGVyIjoiTmEifSAg"),MP=/*#__PURE__*/va(/*#__PURE__*/function(){function c(g){g="number"===typeof g?{bins:g}:g;g=xb(g,{minor:{ticksize:5,tickstyle:{color:b,pixelsnapmode:{x:!0,y:!0}},lablestyle:{color:b,baseline:"middle",alignment:"center",font:d},tickvisible:!1,labelvisible:!1},major:{labelformat:(new bj).fw(2),ticksize:e,tickstyle:{color:a,pixelsnapmode:{x:!0,y:!0}},labelstyle:{color:a,baseline:"middle",alignment:"center",font:d}},edge:{ticksize:e,tickstyle:{color:a,pixelsnapmode:{x:!0,y:!0}},labelstyle:{color:a,baseline:"middle",
alignment:"center",font:d}},formatlabeleventhandler:null,rotatelabels:!1,minimumspan:40,labelstrategy:c.LQ.jba},!0);Zi.call(this,g);this.VNa=this.k8=this.E3a=this.AJb=this.CLb=this.bnb=0;this.YBa=1}var a="#757575",b="#e0e0e0",d="12px Roboto",e=5,f=["major","edge"];D(c,Zi);L(c,"geotoolkit.controls.axis.HistogramTickGenerator");c.LQ=LP;c.prototype.Qu=function(g){this.Jt=g;return this};c.prototype.fa=function(g){g=hc(g);if(!g)return this;Zi.prototype.fa.call(this,g);null!=g.major&&null!=g.major.labelformat&&
this.IQc(g.major.labelformat);null!=g.labelstrategy&&this.vQc(g.labelstrategy);null!=g.minimumspan&&this.pWa(g.minimumspan);null!=g.bins&&this.o5(g.bins);void 0!==g.formatlabeleventhandler&&this.Qu(g.formatlabeleventhandler);null!=g.rotatelabels&&this.RRc(g.rotatelabels);return this};c.prototype.ia=function(){var g=Zi.prototype.ia.call(this);null==g&&(g={});0!==this.mYb()&&(g.labelstrategy=this.mYb());g.minimumspan=this.KSa();g.bins=this.Xo;g.formatlabeleventhandler=this.Jt;g.rotatelabels=this.bD;
return g};c.prototype.IQc=function(g){this.Ig=g;return this};c.prototype.Rpd=function(){return this.Ig};c.prototype.o5=function(g){this.Xo=g;return this};c.prototype.vQc=function(g){this.qO=g;return this};c.prototype.mYb=function(){return this.qO};c.prototype.pWa=function(g){this.O7=g;return this};c.prototype.KSa=function(){return this.O7};c.prototype.clone=function(){return Object.getPrototypeOf(this)!==c.prototype?Cb(this):(new c).Ba(this,!0)};c.prototype.Ba=function(g,h){!0===h&&Zi.prototype.Ba.call(this,
g,h);this.Xo=g.Xo;this.O7=g.O7;this.qO=g.qO;this.bD=g.bD;this.Jt=g.Jt;this.Ig=g.Ig.clone();return this};c.prototype.reset=function(g,h,k){this.YBa=(k.tp()-k.el())/this.Xo;this.E3a=this.k8=0;this.bD?k.Yy(Math.PI/2):k.Yy(0);return this.hwa(f)};c.prototype.RRc=function(g){this.bD=g;return this};c.prototype.lWc=function(g,h){g=g===Rh.xb?h.co().pb():h.co().Ab();this.VNa=Math.abs(this.O7/g)};c.prototype.so=function(g,h,k){g=k.li();k.ra(this.jj(g));this.lWc(h,k);if(this.qO===c.LQ.jba){if("edge"===g)return 2;
if("major"===g)return this.k8=k.el(),this.Xo-1}return this.qO!==c.LQ.Na&&this.qO!==c.LQ.Range||"edge"===g||"major"!==g?0:(this.k8=k.el(),this.Xo)};c.prototype.Mu=function(g,h,k){g=k.li();k.ib(this.Rk(g));this.lWc(h,k);if(this.qO===c.LQ.jba){if("edge"===g)return g=k.co().pd(rg.measureText(this.Ig.format(k.el()),k.jb()).jya()),this.AJb=h===Rh.xb?this.bD?g.da():g.ca():this.bD?g.ca():g.da(),g=k.co().pd(rg.measureText(this.Ig.format(k.tp()),k.jb()).jya()),this.CLb=h===Rh.xb?this.bD?g.da():g.ca():this.bD?
g.ca():g.da(),2;if("major"===k.li())return this.k8=k.el(),this.E3a=k.el(),this.bnb=0,this.Xo-1}if(this.qO===c.LQ.Na||this.qO===c.LQ.Range)if("edge"===g)g=k.co().pd(rg.measureText(this.Ig.format(k.el()),k.jb()).jya()),this.AJb=h===Rh.xb?this.bD?g.da():g.ca():this.bD?g.ca():g.da(),g=k.co().pd(rg.measureText(this.Ig.format(k.tp()),k.jb()).jya()),this.CLb=h===Rh.xb?this.bD?g.da():g.ca():this.bD?g.ca():g.da();else if("major"===k.li())return this.k8=k.el(),this.E3a=k.el(),this.bnb=0,this.Xo;return 0};c.prototype.VHc=
function(g,h,k,l){h=g+(h+1)*k;return this.mo("edge")&&null!=this.jj("edge")&&(Math.abs(h-g)<this.VNa||Math.abs(h-l)<this.VNa)||Math.abs(this.k8-h)<this.VNa?Number.NaN:this.k8=h};c.prototype.WHc=function(g,h,k){h=g+(h+.5)*k;if(this.k8===g){if(Math.abs(this.k8-h)<this.VNa/2)return Number.NaN}else if(Math.abs(this.k8-h)<this.VNa)return Number.NaN;return this.k8=h};c.prototype.Tw=function(g,h,k,l){var m=this.YBa,n=k.li();g=k.el();var p=k.tp();if(this.qO===c.LQ.jba){if("edge"===n)return m=new Vd(1,1),
l=0===l?p:g,h===Rh.ob&&0>k.co().Ab()&&(k.co().Sk(m,m),l+=m.height),h===Rh.xb&&0>k.co().pb()&&(k.co().Sk(m,m),l+=m.width),l;if("major"===n)return this.VHc(g,l,m,p)}else if((this.qO===c.LQ.Na||this.qO===c.LQ.Range)&&"major"===n)return this.WHc(g,l,m);return Number.NaN};c.prototype.Sw=function(g,h,k,l){var m=this.YBa,n=k.li();g=k.el();var p=k.tp();if(this.qO===c.LQ.jba){if("edge"===n)return 0===l?g:p;if("major"===n){l=this.VHc(g,l,m,p);m=rg.measureText(this.Ig.format(l),k.jb()).jya();m=k.co().pd(m);
h=h===Rh.xb?this.bD?m.da():m.ca():this.bD?m.ca():m.da();if(Math.abs(l-g)<this.AJb+.5*h||Math.abs(l-p)<this.CLb+.5*h||Math.abs(this.E3a-l)<.5*(this.bnb+h))return Number.NaN;this.E3a=l;this.bnb=h;return l}}return this.qO!==c.LQ.Na&&this.qO!==c.LQ.Range||"major"!==n?Number.NaN:this.WHc(g,l,m)};c.prototype.Dk=function(g,h,k,l,m){if(this.qO===c.LQ.Range){var n=k.li();if("major"===n)return n=k.el(),m=n+l*this.YBa,n+=(l+1)*this.YBa,null==this.Jt?(g=this.Ig.format(m),h=this.Ig.format(n),g+"-"+h):this.Jt(this,
g,h,k,l,m)+"-"+this.Jt(this,g,h,k,l,n)}return null==this.Jt?this.Ig.format(m):this.Jt(this,g,h,k,l,m)};c.prototype.zP=function(g,h,k,l){if(l<k)return[];g=[{type:"edge",value:k},{type:"edge",value:l}];k+=this.YBa;l-=this.YBa;l>=k&&(g.push({type:"major",value:k}),g.push({type:"major",value:l}));return g};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRGb3JtYXRMYWJlbEhhbmRsZXIiOiJRdSIsInNldFByb3BlcnRpZXMiOiJmYSIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldE1ham9yTGFiZWxGb3JtYXQiOiJJUWMiLCJnZXRNYWpvckxhYmVsRm9ybWF0IjoiUnBkIiwic2V0QmluQ291bnQiOiJvNSIsInNldExhYmVsU3RyYXRlZ3kiOiJ2UWMiLCJnZXRMYWJlbFN0cmF0ZWd5IjoibVliIiwic2V0TWluaW11bVNwYW4iOiJwV2EiLCJnZXRNaW5pbXVtU3BhbiI6IktTYSIsImNvcHlDb25zdHJ1Y3RvciI6IkJhIiwic2V0Um90YXRlTGFiZWxzIjoiUlJjIiwicmVzZXRUaWNrcyI6InNvIiwicmVzZXRMYWJlbHMiOiJNdSIsIm5leHRUaWNrIjoiVHciLCJuZXh0TGFiZWwiOiJTdyIsImZvcm1hdExhYmVsIjoiRGsiLCJnZXRNYXhMYWJlbHMiOiJ6UCJ9fX0g");var OP=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d){this.O9c=a;this.H9c=b;this.Zh=d}c.prototype={tDc:function(){return this.O9c},hDc:function(){return this.H9c},Kx:function(){return this.Zh}};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXJpZUlkIjoidERjIiwiZ2V0U2FtcGxlSWQiOiJoRGMiLCJnZXRPd25lciI6Ikt4In19fSAg");var PP=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){b=G(b,{activefillstyle:"#0f0",inactivefillstyle:"#fff",activelinestyle:a,inactivelinestyle:a,operationinfo:null,shapeadapter:null,active:!1});Cg.call(this);this.dEa=tg.ad(b.activefillstyle);this.yGa=tg.ad(b.inactivefillstyle);this.Wta=X.Pa(b.activelinestyle);this.pwa=X.Pa(b.inactivelinestyle);this.NNb=b.operationinfo;this.kPb=b.shapeadapter;this.Dv=b.active}var a={color:"#000",pixelsnapmode:!0};D(c,Cg);L(c,"geotoolkit.controls.editing.AbstractHandle");c.prototype.Ba=
function(b){this.fa(b.ia());return this};c.prototype.YA=function(b){this.kPb=b;return this};c.prototype.aI=function(){return this.kPb};c.prototype.setActive=function(b){this.Dv!==b&&(this.Dv=b,this.ha());return this};c.prototype.Hd=function(){return this.Dv};c.prototype.osb=function(){return this.dEa};c.prototype.yxa=function(b,d){if(this.dEa===b)return this;this.dEa=tg.$t(this,this.dEa,b,d,this.sb());this.xa().ha();return this};c.prototype.bzb=function(b,d){if(this.Wta===b)return this;this.Wta=X.He(this,
this.Wta,b,d,this.sb());this.xa().ha();return this};c.prototype.gWb=function(){return this.Wta};c.prototype.Pzb=function(b,d){if(this.pwa===b)return this;this.pwa=X.He(this,this.pwa,b,d,this.sb());this.xa().ha();return this};c.prototype.xAc=function(){return this.pwa};c.prototype.wAc=function(){return this.yGa};c.prototype.iWa=function(b,d){if(this.yGa===b)return this;this.yGa=tg.$t(this,this.yGa,b,d,this.sb());this.xa().ha();return this};c.prototype.Al=function(b){this.NNb=b;return this};c.prototype.wh=
function(){return this.NNb};c.prototype.ia=function(){var b=Cg.prototype.ia.call(this);b.activefillstyle=this.dEa;b.inactivefillstyle=this.yGa;b.activelinestyle=this.Wta;b.inactivelinestyle=this.pwa;b.operationinfo=this.NNb;b.shapeadapter=this.kPb;b.active=this.Dv;return b};c.prototype.fa=function(b){b=hc(b);if(null==b)return this;Cg.prototype.fa.call(this,b);void 0!==b.activefillstyle&&this.yxa(b.activefillstyle,!1===b.activefillstyle instanceof rf);void 0!==b.inactivefillstyle&&this.iWa(b.inactivefillstyle,
!1===b.inactivefillstyle instanceof rf);void 0!==b.activelinestyle&&this.bzb(b.activelinestyle,!1===b.activelinestyle instanceof X);void 0!==b.inactivelinestyle&&this.Pzb(b.inactivelinestyle,!1===b.inactivelinestyle instanceof X);void 0!==b.operationinfo&&this.Al(b.operationinfo);void 0!==b.shapeadapter&&this.YA(b.shapeadapter);void 0!==b.active&&this.setActive(b.active);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsInNldEFkYXB0ZXIiOiJZQSIsImdldEFkYXB0ZXIiOiJhSSIsImlzQWN0aXZlIjoiSGQiLCJnZXRBY3RpdmVGaWxsU3R5bGUiOiJvc2IiLCJzZXRBY3RpdmVGaWxsU3R5bGUiOiJ5eGEiLCJzZXRBY3RpdmVMaW5lU3R5bGUiOiJiemIiLCJnZXRBY3RpdmVMaW5lU3R5bGUiOiJnV2IiLCJzZXRJbmFjdGl2ZUxpbmVTdHlsZSI6IlB6YiIsImdldEluYWN0aXZlTGluZVN0eWxlIjoieEFjIiwiZ2V0SW5hY3RpdmVGaWxsU3R5bGUiOiJ3QWMiLCJzZXRJbmFjdGl2ZUZpbGxTdHlsZSI6ImlXYSIsInNldE9wZXJhdGlvbkluZm8iOiJBbCIsImdldE9wZXJhdGlvbkluZm8iOiJ3aCIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSJ9fX0g");var QP=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{ghostlinestyle:{color:"rgba(0, 0, 0, 0.4)",pixelsnapmode:!0},ghostfillstyle:"rgba(0, 0, 0, 0.2)",isghost:!1});PP.call(this,a);this.GTa=tg.ad(a.ghostfillstyle);this.HTa=X.Pa(a.ghostlinestyle);this.oLb=a.isghost;this.mz=this.qnb=null;this.Kc(new W)}D(c,PP);L(c,"geotoolkit.controls.editing.GhostBearingHandle");c.prototype.RM=function(){return null!==this.mz};c.prototype.XFd=function(){this.RM()&&this.mz.dispose();this.mz=null;return this};c.prototype.dispose=function(){this.RM()&&
this.mz.dispose();PP.prototype.dispose.call(this)};c.prototype.X6a=function(){if(null!==this.mz)return this.Foa(),this.mz;this.mz=this.clone();this.mz.yxa(this.GTa);this.mz.iWa(this.GTa);this.mz.bzb(this.HTa);this.mz.Pzb(this.HTa);this.mz.Nzb(!0);this.mz.yRc(this);this.getParent().oa(this.mz);return this.mz};c.prototype.gUa=function(){return this.oLb};c.prototype.cI=function(){return this.mz};c.prototype.Foa=function(){this.RM()&&(this.mz.fa(this.ia()),this.mz.lb().kdb(),this.mz.yxa(this.GTa),this.mz.iWa(this.GTa),
this.mz.bzb(this.HTa),this.mz.Pzb(this.HTa),this.mz.Nzb(!0),this.mz.xa());return this};c.prototype.Nzb=function(a){this.oLb=a;return this};c.prototype.Gub=function(){return this.qnb};c.prototype.yRc=function(a){this.qnb=a;return this};c.prototype.YA=function(a){return this.gUa()?this.qnb.YA(a):PP.prototype.YA.call(this,a)};c.prototype.aI=function(){return this.gUa()?this.qnb.aI():PP.prototype.aI.call(this)};c.prototype.ia=function(){var a=PP.prototype.ia.call(this);a.ghostfillstyle=this.GTa;a.ghostlinestyle=
this.HTa;a.isghost=a.isGhost=this.oLb;return a};c.prototype.fa=function(a){a=hc(a);PP.prototype.fa.call(this,a);void 0!==a.ghostfillstyle&&(this.GTa=tg.ad(a.ghostfillstyle));void 0!==a.ghostlinestyle&&(this.HTa=X.Pa(a.ghostlinestyle));void 0!==a.isghost&&this.Nzb(a.isghost);return this};c.prototype.va=function(a){this.RM()&&this.mz.va(a);PP.prototype.va.call(this,a);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJoYXNHaG9zdCI6IlJNIiwicmVtb3ZlR2hvc3QiOiJYRmQiLCJjcmVhdGVHaG9zdCI6Ilg2YSIsImlzR2hvc3QiOiJnVWEiLCJnZXRHaG9zdCI6ImNJIiwicmVzZXRHaG9zdCI6IkZvYSIsInNldEdob3N0TW9kZSI6Ik56YiIsImdldFBhcmVudEhhbmRsZSI6Ikd1YiIsInNldFBhcmVudEhhbmRsZSI6InlSYyIsInNldEFkYXB0ZXIiOiJZQSIsImdldEFkYXB0ZXIiOiJhSSIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSIsInNldFZpc2libGUiOiJ2YSJ9fX0g");var RP=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}var a=new Nm;L(c,"geotoolkit.controls.editing.SymbolHandleDriver");c.nn=function(b,d,e,f,g,h){a.Db(d);a.vN(e);a.Ra(f.ca());a.Ya(f.da());a.ra(h);a.qa(g);b.ac()&&a.qa(rf.kh);a.render(b)};c.bf=function(b,d,e){a.Ra(d.ca());a.Ya(d.da());a.Db(e);return a.bf(b)};return c}(),1,"eyJkcmF3Ijoibm4iLCJjaGVja0NvbGxpc2lvbiI6ImJmIn0g");var SP=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d){a=G(a,{x:"number"===typeof a?a:0,y:"number"===typeof b?b:0,size:d,width:null,height:null,painter:Sn,isindevicespace:!0});QP.call(this,a);this.Ne=this.Suc(a.size,a.width,a.height);this.Fkb=new Vd(8,8);this.u1=new M(a.x,a.y);this.PPb=a.painter;this.Nkb=a.isindevicespace}D(c,QP);L(c,"geotoolkit.controls.editing.AnchoredHandle");c.prototype.Db=function(a){this.ha();this.u1=a;this.ha();return this};c.prototype.Fk=function(){return this.u1};c.prototype.dWa=function(a){this.ha();
this.Ne=this.Suc(a);this.ha();return this};c.prototype.H9=function(){return this.Ne};c.prototype.render=function(a){a=null!=this.Qa()?a.Zb(this.Qa()):a;var b=a.pp();b.yC(this.Ne,this.Fkb);b=this.Nkb?this.Fkb:this.Ne;if(this.Hd()){var d=this.dEa;var e=this.Wta}else d=this.yGa,e=this.pwa;d=this.fb()||d;e=this.Ea()||e;RP.nn(a,this.u1,this.PPb,b,d,e)};c.prototype.bf=function(a){var b=null!=this.Qa()?a.Zb(this.Qa()):a;a=a.pp();a.yC(this.Ne,this.Fkb);a=this.Nkb?this.Fkb:this.Ne;return!0===this.Ia()&&RP.bf(b,
a,this.u1)};c.prototype.Suc=function(a,b,d){return a instanceof Vd?a:"number"===typeof a?new Vd(a,a):new Vd(b||8,d||8)};c.prototype.ia=function(){var a=QP.prototype.ia.call(this);a.size=this.Ne;a.x=this.u1.x;a.y=this.u1.y;a.painter=this.PPb;a.isindevicespace=this.Nkb;return a};c.prototype.fa=function(a){QP.prototype.fa.call(this,a);void 0!==a.size&&this.dWa(a.size);void 0!==a.x&&(this.u1.x=a.x);void 0!==a.y&&(this.u1.y=a.y);void 0!==a.painter&&(this.PPb=a.painter);void 0!==a.isindevicespace&&(this.Nkb=
a.isindevicespace);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRBbmNob3IiOiJEYiIsImdldEFuY2hvciI6IkZrIiwic2V0SGFuZGxlU2l6ZSI6ImRXYSIsImdldEhhbmRsZVNpemUiOiJIOSIsImNoZWNrQ29sbGlzaW9uIjoiYmYiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var TP=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d,e){a=G(a,{left:"number"===typeof a?a:0,top:"number"===typeof b?b:0,right:"number"===typeof d?d:0,bottom:"number"===typeof e?e:0,activefillstyle:"rgba(0, 255, 0, 0.1)",inactivefillstyle:"transparent"});QP.call(this,a);this.PCa=new ho(null!=a.rect?a.rect:a)}D(c,QP);L(c,"geotoolkit.controls.editing.BoxHandle");c.prototype.fa=function(a){QP.prototype.fa.call(this,a);void 0!==a.rect&&this.cb(a.rect);return this};c.prototype.ha=function(a,b){null==a&&null!=this.PCa&&(a=
this.PCa.ga());this.Ia()&&this.Ag(a,b);return this};c.prototype.ia=function(){var a=QP.prototype.ia.call(this);a.rect=this.Eq();return a};c.prototype.cb=function(a){this.PCa.sa(a);return this};c.prototype.Eq=function(){return this.PCa.ga()};c.prototype.render=function(a){a=null!=this.Qa()?a.Zb(this.Qa()):a;this.Hd()?this.PCa.qa(this.dEa).ra(this.Wta):this.PCa.qa(this.yGa).ra(this.pwa);this.PCa.render(a)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJpbnZhbGlkYXRlIjoiaGEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRSZWN0IjoiY2IiLCJnZXRSZWN0IjoiRXEifX19");var UP=/*#__PURE__*/va(/*#__PURE__*/{Lpa:"dragstart",Dha:"dragging",Cha:"dragend",Uya:"delete",cy:"insert",DKa:"move"},2,"eyJEcmFnU3RhcnQiOiJMcGEiLCJEcmFnZ2luZyI6IkRoYSIsIkRyYWdFbmQiOiJDaGEiLCJEZWxldGUiOiJVeWEiLCJJbnNlcnQiOiJjeSIsIk1vdmUiOiJES2EifSAg");var VP=/*#__PURE__*/function(){function c(a,b,d){SP.call(this,a,b,d)}D(c,SP);L(c,"geotoolkit.controls.editing.Handle");return c}();var WP=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d,e){QP.call(this,a);a=G(a,{x1:"number"===typeof a?a:0,y1:"number"===typeof b?b:0,x2:"number"===typeof d?d:0,y2:"number"===typeof e?e:0,linewidth:1});this.rz=new M(a.x1,a.y1);this.jA=new M(a.x2,a.y2);this.zy=a.linewidth;this.slb=new Fk(this.rz,this.jA)}D(c,QP);L(c,"geotoolkit.controls.editing.LineBox");c.prototype.ia=function(){var a=QP.prototype.ia.call(this);a.x1=this.rz.getX();a.y1=this.rz.getY();a.x2=this.jA.getX();a.y2=this.jA.getY();a.linewidth=this.zy;return a};
c.prototype.fa=function(a){QP.prototype.fa.call(this,a);void 0!==a.x1&&this.rz.setX(a.x1);void 0!==a.y1&&this.rz.setY(a.y1);void 0!==a.x2&&this.jA.setX(a.x2);void 0!==a.y2&&this.jA.setY(a.y2);void 0!==a.linewidth&&(this.zy=a.linewidth);this.gWc();return this};c.prototype.gWc=function(){this.slb.Oq({from:this.rz,to:this.jA});return this};c.prototype.render=function(a){a=null!=this.Qa()?a.Zb(this.Qa()):a;this.Hd()?this.slb.ra(this.Wta.Ra(this.zy)):this.slb.ra(this.pwa.Ra(this.zy));this.slb.render(a)};
c.prototype.Oq=function(a,b){a instanceof M?this.rz=a:"object"===typeof a&&(void 0!==a.from&&(this.rz=a.from),void 0!==a.to&&(this.jA=a.to));b instanceof M&&(this.jA=b);this.gWc();return this};c.prototype.np=function(){return this.rz};c.prototype.nr=function(){return this.jA};c.prototype.Db=function(a){var b=this.jA.x-this.rz.x,d=this.jA.y-this.rz.y;this.Oq(new M(a.getX()-b/2,a.getY()-d/2),new M(a.getX()+b/2,a.getY()+d/2));return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJzZXRMaW5lIjoiT3EiLCJnZXRGcm9tIjoibnAiLCJnZXRUbyI6Im5yIiwic2V0QW5jaG9yIjoiRGIifX19");var XP=/*#__PURE__*/va(/*#__PURE__*/{fgb:"moved",qza:"positionChanged",U$b:"activeStateChanged"},2,"eyJNb3ZlZCI6ImZnYiIsIlBvc2l0aW9uQ2hhbmdlZCI6InF6YSIsIkFjdGl2ZVN0YXRlQ2hhbmdlZCI6IlUkYiJ9"),YP=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){ue.call(this);this.jm=this.Pt=null;this.hh=!1;this.De=this.Ed=null}D(c,ue);L(c,"geotoolkit.controls.editing.ShapeAdapter");c.Ja=XP;c.prototype.s$=function(){return this.hh};c.prototype.le=function(){(this.hh=this.ml())&&this.update();return this.hh};c.prototype.zaa=function(a){this.jm=a;return this};c.prototype.Fa=function(){return this.jm.Fa()};c.prototype.update=function(){this.jm.update()};c.prototype.ec=
function(){return this.jm.ec()};c.prototype.Lm=function(a){this.Pt=a;return this};c.prototype.Hb=function(){return this.Pt};c.prototype.setActive=function(a){this.Dv!==a&&(this.Dv=a,this.Km(a),this.notify(XP.U$b,this));return this};c.prototype.Hd=function(){return this.Dv};c.prototype.sr=function(a){if(this.Ed===a)return this;null!=this.Ed&&this.Ed.setActive(!1).yI("active");this.Ed=a;null!=this.Ed&&this.Ed.setActive(!0).MJ("active");return this};c.prototype.Uv=function(){return this.Ed};c.prototype.setPosition=
function(a,b){this.De=null==a?null:new M(a,b);this.notify(XP.qza,this,this.bc());return this};c.prototype.bc=function(){return this.De};c.prototype.move=function(a,b){this.Kn(a,b);this.setPosition(a,b);this.notify(XP.fgb,this,this.bc());return this};c.prototype.ia=function(){return{}};c.prototype.fa=function(a){return this};c.prototype.Kn=Fb;c.prototype.Km=Fb;c.prototype.ml=Fb;return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc0luaXRpYWxpemVkIjoicyQiLCJpbml0aWFsaXplIjoibGUiLCJzZXRSZWdpc3RyeSI6InphYSIsImdldFRyYW5zZm9ybWF0aW9uIjoiRmEiLCJnZXRNYW5pcHVsYXRvckxheWVyIjoiZWMiLCJzZXRTaGFwZSI6IkxtIiwiZ2V0U2hhcGUiOiJIYiIsImlzQWN0aXZlIjoiSGQiLCJzZXRBY3RpdmVIYW5kbGUiOiJzciIsImdldEFjdGl2ZUhhbmRsZSI6IlV2IiwiZ2V0UG9zaXRpb24iOiJiYyIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSIsIm9uTW92ZSI6IktuIiwib25BY3RpdmVTdGF0ZUNoYW5nZWQiOiJLbSIsIm9uSW5pdGlhbGl6ZSI6Im1sIn19fSAg");var $P=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){YP.call(this);this.Fb=[];this.lR=8}D(c,YP);L(c,"geotoolkit.controls.editing.LineShapeAdapter");c.prototype.ml=function(){var a=this.Hb();this.Fb.push((new WP(a.np().x,a.np().y,a.nr().x,a.nr().y)).Al({x:1,y:1,width:0,height:0}));this.sr(this.Fb[0]);this.Fb.push((new VP(a.np().x,a.np().y,new Vd(this.lR,this.lR))).Pc("resize").Al({x:-99}));this.Fb.push((new VP(a.nr().x,a.nr().y,new Vd(this.lR,this.lR))).Pc("resize").Al({y:-99}));for(a=0;a<this.Fb.length;a++)this.ec().oa(this.Fb[a]),
this.Fb[a].YA(this);return!0};c.prototype.Lm=function(a){YP.prototype.Lm.call(this,a);this.s$()?(this.Fh(),this.sr(this.Fb[0])):(this.Fb=[],this.le());return this};c.prototype.Km=function(a){this.Fh();for(var b=0;b<this.Fb.length;b++)this.Fb[b].va(a)};c.prototype.Kn=function(a,b){var d=this.Uv();if(null==d)return this;var e=this.bc();if(e.x===a&&e.y===b)return this;var f=this.Hb();f.ha();var g=f.wa().rc();e=new M(e.x,e.y);g.Ma(e,e);var h=new M(a,b);g.Ma(h,h);g=h.x-e.x;e=h.y-e.y;if(d=d.wh())if(-99===
d.x||-99===d.y){h=f.np();var k=f.nr();-99===d.x?f.Oq({from:new M(h.x+g,h.y+e),to:k}):-99===d.y&&f.Oq({from:h,to:new M(k.x+g,k.y+e)})}else h=f.ga(),k=h.clone(),k.setX(k.getX()+d.x*g),k.setY(k.getY()+d.y*e),g=W.Sd(h,k,!1,!1,!1),e=null!=f.lb()?f.lb():new W,f.Kc(W.multiply(e,g));this.Fh();this.setPosition(a,b);f.ha();return this};c.prototype.Fh=function(){if(this.Hb()&&this.ec()){var a=this.Hb(),b=W.multiply(this.ec().wa().rc(),this.Hb().wa()),d=b.Ma(a.np());a=b.Ma(a.nr());this.Fb[0].Oq({from:d,to:a});
this.Fb[1].Db(d);this.Fb[2].Db(a)}return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkluaXRpYWxpemUiOiJtbCIsInNldFNoYXBlIjoiTG0iLCJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6IkttIiwib25Nb3ZlIjoiS24iLCJ1cGRhdGVIYW5kbGVzIjoiRmgifX19");var aQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){YP.call(this);this.Fb=[];this.lR=8}D(c,YP);L(c,"geotoolkit.controls.editing.PolyLineShapeAdapter");c.prototype.ml=function(){var a=this.Hb(),b=a.ga();this.Fb.push((new WP(b.la(),b.ka(),b.na(),b.ma())).Al({x:1,y:1,width:0,height:0}));this.sr(this.Fb[0]);b=a.ce();var d=a.Fe();for(a=0;a<b.length;++a){var e=(new VP({x:b[a],y:d[a],size:this.lR})).Pc("resize").Al({index:a});this.Fb.push(e);this.ec().oa(e);e.YA(this)}return!0};c.prototype.Lm=function(a){YP.prototype.Lm.call(this,
a);this.s$()?(this.Fh(),this.sr(this.Fb[0])):(this.Fb=[],this.le());return this};c.prototype.Km=function(a){this.Fh();for(var b=0;b<this.Fb.length;b++)this.Fb[b].va(a)};c.prototype.Kn=function(a,b){var d=this.Uv();if(null==d)return this;var e=this.bc();if(e.x===a&&e.y===b)return this;var f=this.Hb();f.ha();var g=f.wa().rc();e=new M(e.x,e.y);g.Ma(e,e);var h=new M(a,b);g.Ma(h,h);g=h.x-e.x;e=h.y-e.y;if(d=d.wh())if(null!=d.index){h=f.ce();var k=f.Fe();h[d.index]+=g;k[d.index]+=e;f.he(h,k)}else h=f.ga(),
k=h.clone(),k.setX(k.getX()+d.x*g),k.setY(k.getY()+d.y*e),g=W.Sd(h,k,!1,!1,!1),e=null!=f.lb()?f.lb():new W,f.Kc(W.multiply(e,g));this.Fh();this.setPosition(a,b);f.ha();return this};c.prototype.Fh=function(){var a=this.Hb(),b=this.Hb().ga(),d=null!=a.lb()?a.lb():new W,e=a.wa(),f=this.ec().wa().rc(),g=a.ce(),h=a.Fe();for(a=0;a<this.Fb.length;a++){var k=this.Fb[a].wh();null!=k&&void 0!==k.index?(k=e.Hc(g[k.index],h[k.index]),this.Fb[a].Db(f.transform(k))):(this.Fb[a].Oq(new M(b.la(),b.ka()),new M(b.na(),
b.ma())),this.Fb[a].Kc(d))}return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkluaXRpYWxpemUiOiJtbCIsInNldFNoYXBlIjoiTG0iLCJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6IkttIiwib25Nb3ZlIjoiS24iLCJ1cGRhdGVIYW5kbGVzIjoiRmgifX19");var bQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){YP.call(this);this.ea=xb(b,{handlers:[O.Ld,O.Qf,O.lh,O.cg]});this.JC=null;this.Fb=[];this.AKb={}}function a(b,d){if(!b)return null;switch(d){case O.Na:return new M(this.cc(),this.zc());case O.Ld:return(new VP(b.la(),b.ka())).Al({x:1,y:1,width:-1,height:-1});case O.cg:return(new VP(b.la(),b.ma())).Pc("resize").Al({x:1,y:0,width:-1,height:1});case O.Qf:return(new VP(b.na(),b.ka())).Pc("resize").Al({x:0,y:1,width:1,height:-1});case O.lh:return(new VP(b.na(),b.ma())).Pc("resize").Al({x:0,
y:0,width:1,height:1});case O.vd:return(new VP(b.la(),b.zc())).Pc("resize").Al({x:1,y:0,width:-1,height:0});case O.Xd:return(new VP(b.cc(),b.ka())).Pc("resize").Al({x:0,y:1,width:0,height:-1});case O.pe:return(new VP(b.na(),b.zc())).Pc("resize").Al({x:0,y:0,width:1,height:0});case O.Je:return(new VP(b.cc(),b.ma())).Pc("resize").Al({x:0,y:0,width:0,height:1})}return null}D(c,YP);c.prototype.setOptions=function(b){this.ea=xb(b,this.ea);null!=this.JC&&this.JC.fa({activefillstyle:null!=this.ea.box?tg.ad(this.ea.box.activefillstyle):
this.JC.osb(),inactivefillstyle:null!=this.ea.box?tg.ad(this.ea.box.inactivefillstyle):this.JC.wAc(),activelinestyle:null!=this.ea.handlestyle?X.Pa(this.ea.handlestyle.activelinestyle):this.JC.gWb(),inactivelinestyle:null!=this.ea.handlestyle?X.Pa(this.ea.handlestyle.inactivelinestyle):this.JC.xAc()});if(null!=this.ea.handlestyle)for(b=1;b<this.Fb.length;b++){var d=this.Fb[b];d.fa({activefillstyle:tg.ad(this.ea.handlestyle.activefillstyle),inactivefillstyle:tg.ad(this.ea.handlestyle.inactivefillstyle)})}return this};
c.prototype.ta=function(){return this.ea};c.prototype.Lm=function(b){YP.prototype.Lm.call(this,b);this.s$()?(this.Fh(),this.sr(this.Fb[0])):this.le();return this};c.prototype.a$=function(){return this.Hb()?this.Hb().ga():null};c.prototype.Km=function(b){this.Fh();for(var d=0;d<this.Fb.length;d++)this.Fb[d].va(b)};c.prototype.sod=function(){return this.JC};c.prototype.ml=function(){this.Fb=[];this.AKb={};var b=this.a$(),d,e;this.JC=new TP(b);this.JC.Al({x:1,y:1,width:0,height:0});this.Fb.push(this.JC);
this.sr(this.Fb[0]);for(d=0;d<this.ea.handlers.length;++d)if(e=a(b,this.ea.handlers[d]))e=this.Fb.push(e)-1,this.AKb[e]=this.ea.handlers[d];for(d=0;d<this.Fb.length;d++)this.ec().oa(this.Fb[d]),this.Fb[d].YA(this);this.setOptions(this.ea);return!0};c.prototype.move=function(b,d){this.Kn(b,d);this.notify(XP.fgb,this,this.bc());return this};c.prototype.Kn=function(b,d){var e=this.Uv();if(null==e)return this;var f=this.Hb();if(!(f instanceof lg))return this;var g=e.wh();if(null==g)return this;var h=
this.yxb(b,d);if(!h)return this.setPosition(b,d),this;e=null!=f.lb()?f.lb():new W;0>=h.J$.da()&&(h.J$.Ya(e.Ab()>V.Qb?1:h.kJa.da()),h.J$.setY(g.y?h.kJa.ma():h.kJa.getY()),d=h.point.y);0>=h.J$.ca()&&(h.J$.Ra(e.pb()>V.Qb?1:h.kJa.ca()),h.J$.setX(g.x?h.kJa.na():h.kJa.getX()),b=h.point.x);g=W.Sd(h.kJa,h.J$,!1,!1,!1);f.Kc(W.multiply(e,g));this.Fh();this.setPosition(b,d);f.ha();return this};c.prototype.yxb=function(b,d){var e=this.bc();e||(e=new M(b,d));if(e.x===b&&e.y===d)return null;var f=this.Hb();f.ha();
var g=f.ga(),h=g.clone();f=f.getParent()?f.lb()?W.multiply(f.getParent().wa(),f.lb()).rc():f.getParent().wa().rc():f.wa().rc();e=new M(e.x,e.y);f.Ma(e,e);d=new M(b,d);f.Ma(d,d);b=d.x-e.x;d=d.y-e.y;e=this.Uv();e=e.wh();var k=e.width,l=e.height;h.setX(g.getX()+e.x*b);h.setY(g.getY()+e.y*d);h.Ra(g.ca()+k*b);h.Ya(g.da()+l*d);return{kJa:g,J$:h,point:f.nc(g.bd())}};c.prototype.setStyle=function(b){function d(g){return g=g instanceof rf?{fillstyle:g.ia()}:{fillstyle:g}}function e(g){return g=g instanceof
X?{linestyle:g.ia()}:{linestyle:g}}var f={};void 0!==b.main&&(void 0!==b.main.linestyle&&(f=G(f,e(b.main.linestyle))),void 0!==b.main.fillstyle&&(f=G(f,d(b.main.fillstyle))),this.Fb[0].fa(f));f={};if(void 0!==b.corners)for(void 0!==b.corners.linestyle&&(f=G(f,e(b.corners.linestyle))),void 0!==b.corners.fillstyle&&(f=G(f,d(b.corners.fillstyle))),b=1;b<this.Fb.length;++b)this.Fb[b].fa(f);return this};c.prototype.Fh=function(){var b=this.a$();if(this.Hb().getParent()){var d=this.Hb().lb()?W.multiply(this.Hb().getParent().wa(),
this.Hb().lb()):this.Hb().getParent().wa();d=W.multiply(this.ec().wa().rc(),d)}else d=this.ec().wa().rc();b=d.Ta(b);this.Fb[0].cb(b);for(d=1;d<this.Fb.length;++d){var e=this.AKb[d];(e=b.Hx(e))&&this.Fb[d].Db(e)}};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJzZXRTaGFwZSI6IkxtIiwiZ2V0U2hhcGVCb3VuZHMiOiJhJCIsIm9uQWN0aXZlU3RhdGVDaGFuZ2VkIjoiS20iLCJnZXRIYW5kbGUiOiJzb2QiLCJvbkluaXRpYWxpemUiOiJtbCIsIm9uTW92ZSI6IktuIiwidXBkYXRlSGFuZGxlcyI6IkZoIn19fSAg");var cQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){bQ.call(this,a)}D(c,bQ);L(c,"geotoolkit.controls.editing.scaling.GroupAdapter");c.prototype.Kn=function(a,b){var d=this.Uv();if(null==d)return this;var e=this.Hb();if(null==d.wh())return this;d=this.yxb(a,b);if(null==d||null==d.J$||0>=d.J$.da()||0>=d.J$.ca())return this;e.ha();e.sa(d.J$);this.Fh();this.setPosition(a,b);e.ha();return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdmUiOiJLbiJ9fX0g");var dQ=/*#__PURE__*/va(/*#__PURE__*/{ebc:"deactivated",T$b:"activated"},2,"eyJEZWFjdGl2YXRlZCI6ImViYyIsIkFjdGl2YXRlZCI6IlQkYiJ9"),eQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){ue.call(this);this.lc=a;this.Oj=null!=a?a.getRoot():null;this.gia=null;this.$a=b;this.jm=new Ko}D(c,ue);L(c,"geotoolkit.controls.editing.ShapeAdapterRegistry");c.Ja=dQ;c.prototype.update=function(){null!=this.lc&&this.lc.update()};c.prototype.ec=function(){return this.$a};c.prototype.rX=function(a){this.$a=a;return this};c.prototype.register=function(a,b){b.zaa(this);this.jm.put(a,b);return this};c.prototype.aI=function(a){if("string"!==
typeof a){if(null==a.Oa)return null;a=a.Oa()}return this.jm.Cw(a)?this.jm.get(a):null};c.prototype.hsd=function(){return this.jm.keys()};c.prototype.Tb=function(a){this.Rc=a;return this};c.prototype.Fa=function(){return this.Rc};c.prototype.FK=function(a){if(this.gia===a)return this;null!=this.gia&&(this.gia.setActive(!1),this.notify(dQ.ebc,this,this.gia));this.gia=a;null!=this.gia&&(this.gia.setActive(!0),this.notify(dQ.T$b,this,this.gia));this.lc&&this.lc.update();return this};c.prototype.Sua=function(){return this.gia};
return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRNYW5pcHVsYXRvckxheWVyIjoiZWMiLCJnZXRBZGFwdGVyIjoiYUkiLCJnZXRSZWdpc3RlcmVkQ2xhc3NlcyI6ImhzZCIsInNldFRyYW5zZm9ybWF0aW9uIjoiVGIiLCJnZXRUcmFuc2Zvcm1hdGlvbiI6IkZhIiwic2V0QWN0aXZlQWRhcHRlciI6IkZLIiwiZ2V0QWN0aXZlQWRhcHRlciI6IlN1YSJ9fX0g");var gQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){YP.call(this);this.Nj=null;this.MO=!1;this.Ria=!0;this.rl={}}D(c,YP);L(c,"geotoolkit.controls.editing.SymbolAdapter");c.prototype.ml=function(){return this.hh=this.Ala()};c.prototype.Ala=function(){var a=this.Hb();if(null===a||!(a instanceof Nm))return!1;this.Nj=new VP;this.Nj.YA(this);var b=a.Fk(),d=a.wa(),e=this.ec().wa().rc();b=d.Ma(b);e.Ma(b,b);var f=a.getSize();a.ppa||(d.yC(f,f),e.yC(f,f));this.Nj.fa({size:f,x:b.getX(),y:b.getY(),painter:a.T9(),isindevicespace:a.Lz()});
this.Nj.fa(this.rl);this.ec().oa(this.Nj);return!0};c.prototype.Fh=function(){if(!this.hh)return this.ml(),this;var a=this.Hb();if(null===a)return this;var b=a.Fk(),d=a.wa();a=this.ec().wa().rc();b=d.Ma(b);a.Ma(b,b);this.Nj.Db(b);this.Nj.lb().kdb();this.Nj.Foa();return this};c.prototype.Lm=function(a){YP.prototype.Lm.call(this,a);this.Fh();return this};c.prototype.jF=function(a){null!==this.Nj&&this.Nj.va(a);return this};c.prototype.Km=function(a){this.hh||this.ml();this.jF(a);this.sr(a?this.Nj:null);
this.Nj.setActive(a)};c.prototype.Kn=function(a,b,d){var e=this.Uv(),f=this.Hb();if(null===e||null===f)return this;var g=this.ec().wa().rc(),h=this.bc();f=f.Fk().clone();g=this.qXb(h,a,b,g);this.MO?(e.RM()||e.X6a(),e=e.cI(),e.translate(g.Oh,g.Ch),e=this.qma()):(e.translate(g.Oh,g.Ch),e=this.qma(),this.Ria&&this.Hb().Db(e.x,e.y));this.setPosition(a,b);this.notify(UP.Dha,this,this.E8a(f,e,d));return this};c.prototype.release=function(a,b,d){a=this.qma();this.Ria&&(this.Hb().Db(a.x,a.y),this.Uv().Db(a).Kc(new W));
this.Uv().Foa();this.notify(UP.Cha,this,this.F8a(a,d));return this};c.prototype.qma=function(){if(this.MO&&this.Nj.RM()){var a=this.Nj.cI();a=a.wa().Ma(a.Fk())}else a=this.Nj.wa().Ma(this.Nj.Fk());this.Hb().wa().hd(a,a);return a};c.prototype.mVb=function(a,b,d){a=this.qma();this.notify(UP.Lpa,this,this.D8a(a,d))};c.prototype.F8a=function(a,b){return{x:a.x,y:a.y,nativeeventargs:b}};c.prototype.D8a=function(a,b){return{x:a.x,y:a.y,nativeeventargs:b}};c.prototype.E8a=function(a,b,d){return{oldx:a.getX(),
oldy:a.getY(),x:b.getX(),y:b.getY(),nativeeventargs:d}};c.prototype.qXb=function(a,b,d,e){a=e.Ma(a);b=new M(b,d);e.Ma(b,b);return{Oh:b.x-a.x,Ch:b.y-a.y}};c.prototype.u5b=function(a){this.Ria=a;return this};c.prototype.mWb=function(){return this.Ria};c.prototype.AWa=function(a){this.MO=a;return this};c.prototype.zfa=function(){return this.MO};c.prototype.zIa=function(a){void 0!==a.ghostlinestyle&&(this.rl.JTa=X.Pa(a.ghostlinestyle));void 0!==a.ghostfillstyle&&(this.rl.ITa=tg.ad(a.ghostfillstyle));
void 0!==a.activefillstyle&&(this.rl.kea=tg.ad(a.activefillstyle));void 0!==a.inactivefillstyle&&(this.rl.Qfa=tg.ad(a.inactivefillstyle));void 0!==a.activelinestyle&&(this.rl.lea=X.Pa(a.activelinestyle));void 0!==a.inactivelinestyle&&(this.rl.Rfa=X.Pa(a.inactivelinestyle));this.Fh();return this};c.prototype.update=function(){this.jm.update();this.Fh();return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkluaXRpYWxpemUiOiJtbCIsInVwZGF0ZUhhbmRsZXMiOiJGaCIsInNldFNoYXBlIjoiTG0iLCJzZXRIYW5kbGVzVmlzaWJsZSI6ImpGIiwib25BY3RpdmVTdGF0ZUNoYW5nZWQiOiJLbSIsIm9uTW92ZSI6IktuIiwiZW5nYWdlIjoibVZiIiwic2V0QWxsb3dTaGFwZUVkaXQiOiJ1NWIiLCJnZXRBbGxvd1NoYXBlRWRpdCI6Im1XYiIsInNldFNob3dHaG9zdCI6IkFXYSIsImdldFNob3dHaG9zdCI6InpmYSIsInNldEhhbmRsZVN0eWxlcyI6InpJYSJ9fX0g");var hQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){bQ.call(this)}D(c,bQ);L(c,"geotoolkit.controls.editing.TextShapeAdapter");c.prototype.ml=function(){var a=this.a$();this.Fb.push((new TP(a)).Al({x:1,y:1,width:0,height:0}));this.sr(this.Fb[0]);for(a=0;a<this.Fb.length;a++)this.ec().oa(this.Fb[a]),this.Fb[a].YA(this);return!0};c.prototype.Lm=function(a){bQ.prototype.Lm.call(this,a);this.s$()?(this.Fh(),this.sr(this.Fb[0])):(this.Fb=[],this.le());return this};c.prototype.Km=function(a){this.Fh();for(var b=0;b<this.Fb.length;b++)this.Fb[b].va(a)};
c.prototype.a$=function(){var a=this.Hb();return null!=a?a.PV(a.wa()):null};c.prototype.Fh=function(){if(this.Hb()&&this.ec()){var a=W.multiply(this.ec().wa().rc(),this.Hb().wa()),b=this.a$();this.Fb[0].cb(a.Ta(b))}return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkluaXRpYWxpemUiOiJtbCIsInNldFNoYXBlIjoiTG0iLCJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6IkttIiwiZ2V0U2hhcGVCb3VuZHMiOiJhJCIsInVwZGF0ZUhhbmRsZXMiOiJGaCJ9fX0g");var iQ=/*#__PURE__*/va(/*#__PURE__*/{hu:"Default",$pa:"Stacked",Iha:"Float"},2,"eyJEZWZhdWx0IjoiaHUiLCJTdGFja2VkIjoiJHBhIiwiRmxvYXQiOiJJaGEifSAg"),jQ=/*#__PURE__*/va(/*#__PURE__*/{oha:"Associative",RQ:"Single"},2,"eyJBc3NvY2lhdGl2ZSI6Im9oYSIsIlNpbmdsZSI6IlJRIn0g"),kQ=/*#__PURE__*/va(/*#__PURE__*/{ZKa:"TopOutside",EZa:"TopInside",ZXa:"BottomInside",Na:"Center"},2,"eyJUb3BPdXRzaWRlIjoiWkthIiwiVG9wSW5zaWRlIjoiRVphIiwiQm90dG9tSW5zaWRlIjoiWlhhIiwiQ2VudGVyIjoiTmEifSAg"),lQ=/*#__PURE__*/va(/*#__PURE__*/{xd:"Bottom",kc:"Left",nb:"Top",$b:"Right"},2,"eyJCb3R0b20iOiJ4ZCIsIkxlZnQiOiJrYyIsIlRvcCI6Im5iIiwiUmlnaHQiOiIkYiJ9"),mQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(y,A){y=xb(y,{clipping:!0});oi.call(this,y);this.i4a=[];this.Cg=null;this.qic=!1;this.mj=(new ho).wb(!1);this.Pb=(new ek).sn(NaN).Bp(NaN).yaa(!0).vt(!0).bpa(!0).apa(!0).wb(!1);this.Zc=new Nm;this.U_a=this.wIb=null;this.ea={orientation:c.So.xd,barmode:c.W5.hu,barvalues:{totalonly:!1,
visible:!1,textstyle:new Ki,location:c.FQ.ZKa,decimalprecision:2,rotationangle:0,margins:{anchorx:0,anchory:0}},barwidth:5,barpad:5,barmaxwidth:null,autogradient:!1,ismissingvalue:b,createselectedstyle:a,series:!0,symbol:{visible:!1,sizeisindevicespace:!0,width:5,height:5,painter:$m,fillstyle:"black"}};this.H2=0;this.aOa=!1;this.ZF=[];this.k4a=[];this.gka=this.Gd=null;this.FCa=1;this.GCa=null;this.wb(!1);this.setOptions(y);A&&this.setData(A);this.wb(!0)}function a(y){if(y instanceof X){var A=new X;
A.fa(y.ia());A.Ra(y.ca()+3)}else y instanceof rf&&(A=new rf,A.fa(y.ia()));return A}function b(y){return null===y}function d(y,A){var x=Pd.Sg(y.rb());x=new Pe(x);x.Y8(-.2);x.nM(.2);x=x.zN();var C=Pd.Sg(y.rb());y=new Pe(C);y.Y8(.2);y.nM(-.2);C=y.zN();y=C.Nl();x=x.Nl();C=C.Nl();var z=new ng;z.bRa();z.$n(0,y);z.$n(.5,x);z.$n(1,C);z.Xga(new M(0,0));A?z.setEndPoint(new M(0,1)):z.setEndPoint(new M(1,0));return z}function e(y,A){y[3]=A}function f(y,A){y[1]=A}function g(y,A){y[2]=A}function h(y,A){y[0]=A}function k(y){return y[3]}function l(y){return y[2]}function m(y){return y[1]+y[3]}function n(y){return y[1]}function p(y){return y[0]+y[2]}function q(y){return y[0]}var r={color:"lightgrey"},t={color:"darkgrey",width:1},u="regular",w="total";D(c,oi);L(c,"geotoolkit.controls.shapes.BarChart");c.W5=iQ;c.KI=jQ;c.FQ=kQ;c.So=lQ;c.prototype.setData=function(y){y.mode&&(this.dra=y.mode);this.dra||(this.dra=c.KI.oha);var A=y.datasets;if(null!=A){A instanceof Array||(A=[A]);this.H2=A.length;this.eSc(y?y.series:
this.mL);for(var x=[],C=0;C<this.H2;++C){var z=t,v=r;null!=this.ea.barstyles&&null!=this.ea.barstyles[C]&&(z=X.Pa(this.ea.barstyles[C].linestyles||z),v=tg.ad(this.ea.barstyles[C].fillstyles||v));x.push({linestyles:z,fillstyles:v})}this.$vb(x)}y.positions instanceof xG?this.Gd=y.positions.toArray():Array.isArray(y.positions)&&(this.Gd=y.positions);null!=this.Gd&&this.Gd.some(function(B){return"number"!==typeof B})&&(this.Gd=null);this.sMd();this.FRc();this.WVb(A,y.append);this.qic=!0;this.ha();return this};
c.prototype.U_b=function(){return this.qic};c.prototype.wzb=function(y){this.ha();this.eSc(y);this.ha();return this};c.prototype.$sb=function(){return this.mL};c.prototype.getData=function(){return{mode:this.dra,datasets:this.qu,series:this.mL}};c.prototype.setOptions=function(y){y=G(y,{});xb(y,this.ea);this.$vb(this.ea.barstyles);this.ea.valuelimits&&(this.Sc=this.ea.valuelimits.minvalue,this.ld=this.ea.valuelimits.maxvalue);"boolean"==typeof this.ea.neatlimits&&(this.aOa=this.ea.neatlimits);this.ea.barmode&&
(this.WQ=this.ea.barmode);this.ea.barvalues&&(this.T4c=this.ea.barvalues.totalonly,this.D1=this.ea.barvalues.visible,Array.isArray(this.D1)&&0===this.D1.length&&(this.D1=!1),this.p_a=this.ea.barvalues.location,this.S4c=this.ea.barvalues.decimalprecision,this.Vba=this.ea.barvalues.rotationangle,this.Pb.ib(this.ea.barvalues.textstyle),this.ea.barvalues.margins&&(this.ALa=this.ea.barvalues.margins));null!=this.ea.symbol&&this.Zc.fa(this.ea.symbol);this.FRc();this.WVb();this.ha();return this};c.prototype.ta=
function(){return this.ea};c.prototype.YMd=function(){this.k4a=[];for(var y=0;y<this.H2;++y)null!=this.mL&&null!=this.mL[y]&&!0!==this.mL[y].visible||this.k4a.push(y);return this};c.prototype.aPd=function(){null==this.mL&&(this.mL=[]);this.H2>this.mL.length&&this.mL.splice(this.H2);for(var y=0;y<this.H2;++y)null==this.mL[y]?this.mL[y]={visible:!0}:void 0===this.mL[y].visible&&(this.mL[y].visible=!0);this.YMd()};c.prototype.eSc=function(y){if(y){var A=[],x,C=Math.max(this.H2,y.length);if(Array.isArray(y))for(x=
0;x<C;++x){var z=null!=y[x]&&!1===y[x].visible?!1:!0;A.push({visible:z})}else for(z=!0,x=0;x<this.H2;++x)A.push({visible:z});this.mL=A}this.aPd();this.WVb();return this};c.prototype.FRc=function(){if(null!=this.Gd){var y=this.PXb(this.H2);null!=this.ea.positionlimits?(this.gka=this.ea.positionlimits.maxvalue,this.GCa=this.ea.positionlimits.minvalue,this.gka=null!=this.gka?this.gka+y:Math.max.apply(null,this.Gd)+this.FCa,this.GCa=null!=this.GCa?this.GCa-y:Math.min.apply(null,this.Gd)-this.FCa):(this.gka=
Math.max.apply(null,this.Gd)+this.FCa,this.GCa=Math.min.apply(null,this.Gd)-this.FCa)}return this};c.prototype.sMd=function(){this.FCa=1;if(Array.isArray(this.Gd))for(var y=Number.MAX_VALUE,A=1;A<this.Gd.length;++A){var x=Math.abs(this.Gd[A]-this.Gd[A-1]);x<y&&(this.FCa=y=x)}return this};c.prototype.JAb=function(y,A){this.Cg||(this.Cg={});var x=y.label,C=y[A];if(!this.Cg[x]){if(!C)throw Error("No styles provided for the property: "+x);this.Cg[x]={}}var z=this.xl(),v=this.Cg[x],B,E;v[A]=[];x=v[A];
if(C instanceof Array){if(2>C.length)throw Error("Array of "+A+" must contain _TWO_ elements");x.push(C[0].clone());x.push(C[1].clone())}else x.push(C.clone()),x.push(C.clone());C="selected-"+A;v[C]=[];v=v[C];if(y=y[C])if(y instanceof Array){if(2>y.length)throw Error("Array of "+A+" must contain _TWO_ elements");v.push(y[0].clone());v.push(y[1].clone())}else v.push(y.clone()),v.push(y.clone());else v.push(this.ea.createselectedstyle(x[0])),v.push(this.ea.createselectedstyle(x[1]));v.push(B);v.push(E);
"fillstyles"===A&&this.ea.autogradient&&(x[0]=d(x[0],z),x[1]=d(x[1],z),v[0]=d(v[0],z),v[1]=d(v[1],z))};c.prototype.$vb=function(y){if(y)for(var A=0;A<y.length;++A){var x=y[A];x.label||(x.label=A.toString());var C;if(Array.isArray(x.linestyles))for(C=0;C<x.linestyles.length;C++)x.linestyles[C]=X.Pa(x.linestyles[C]);else x.linestyles=X.Pa(x.linestyles);if(Array.isArray(x.fillstyles))for(C=0;C<x.fillstyles.length;C++)x.fillstyles[C]=tg.ad(x.fillstyles[C]);else x.fillstyles=tg.ad(x.fillstyles);this.JAb(x,
"linestyles");this.JAb(x,"fillstyles")}};c.prototype.PXb=function(y){return this.WQ===c.W5.$pa?this.ea.barwidth:this.ea.barwidth*y};c.prototype.PS=function(){return this.ea.orientation===c.So.nb||this.ea.orientation===c.So.xd};c.prototype.xl=function(){return this.ea.orientation===c.So.kc||this.ea.orientation===c.So.$b};c.xqd=function(y,A){return V.ip(y,A,!1,!1).Ua()};c.wqd=function(y,A){return V.ip(y,A,!1,!1).Za()};c.prototype.EEc=function(y){y||(y=this.CV);if(!y)return[];if(!this.ea.valuelimits&&
!this.aOa)return[y.min,y.max];var A=!1,x=null;null!=this.Sc&&(x="function"==typeof this.Sc?this.Sc(y.min,y.max):this.Sc,A=!0);null===x&&(x=y.min);var C=null;null!=this.ld&&(C="function"==typeof this.ld?this.ld(y.min,y.max):this.ld,A=!0);null===C&&(C=y.max);C<x&&(y=C,C=x,x=y);this.aOa&&!A&&(A=V.ip(x,C,!1,!1),x=A.Ua(),C=A.Za());return[x,C]};c.prototype.WVb=function(y,A){if(y)if(this.qu&&A)for(var x=0;x<y.length;++x)this.qu[x].values=this.qu[x].values.concat(y[x].values);else this.qu=y;else{if(!this.qu){null!=
this.Sc&&null!=this.ld&&(this.xl()?this.Ha(new U(this.Sc,0,this.ld,null!=this.Gd?this.gka:1)):this.Ha(new U(0,this.Sc,null!=this.Gd?this.gka:1,this.ld)));return}y=this.qu;A=!1}y=this.BBb(y);var C=this.EEc(y);x=0===y.data.length?0:y.data[0].Xz.length;var z=this.PXb(x),v=y.data.length,B=0;if(this.CV&&A){B=this.EEc(this.CV);C[0]=Math.min(C[0],B[0]);C[1]=Math.max(C[1],B[1]);var E=this.CV.data.length;B=E+this.ea.barpad/(z+this.ea.barpad);v+=E}v+=this.ea.barpad/(z+this.ea.barpad);this.oHb=this.ea.barpad/
(z+this.ea.barpad);this.sB=this.ea.barwidth/(z+this.ea.barpad);E=-(z/2)/(this.ea.barpad+z);null!=this.Gd&&0===this.ea.barpad&&(this.sB=Math.min(this.ea.barwidth,this.FCa/this.H2),this.oHb=0,E=-z/2);this.wb(!1);z=E-this.oHb;this.xl()?null!=this.Gd?this.Ha(new U(C[0],this.GCa,C[1],this.gka)):this.Ha(new U(C[0],z,C[1],v+z)):null!=this.Gd?this.Ha(new U(this.GCa,C[0],this.gka,C[1])):this.Ha(new U(z,C[0],v+z,C[1]));C=0===B?E:z+B;this.Sed(y,x,C,A);this.wb(!0)};c.prototype.BBb=function(y){var A,x,C,z=Number.POSITIVE_INFINITY,
v=Number.NEGATIVE_INFINITY,B={};for(A=0;A<y.length;A++)if(!this.mL||!this.mL[A]||!1!==this.mL[A].visible){var E=y[A];for(x=0;x<E.values.length;x++){var H=E.values[x];B.hasOwnProperty(x)||(B[x]={Xz:[]});if(this.WQ===c.W5.Iha)z=Math.min(H[0],H[1],z),v=Math.max(H[0],H[1],v);else if(z=Math.min(H,z),v=Math.max(H,v),null==H||isNaN(H)){B[x].Xz.push(H);continue}B[x].Xz.push(H)}}y=[];for(C in B)if(B.hasOwnProperty(C)&&(x=B[C],y.push({nve:C,Xz:x.Xz}),this.WQ===c.W5.$pa)){for(A=H=E=0;A<x.Xz.length;A++)0<=x.Xz[A]?
E+=x.Xz[A]:H+=x.Xz[A];v=Math.max(E,v);z=Math.min(H,z)}z=Math.floor(z);v=Math.ceil(v);this.wIb=z;this.U_a=v;return{min:z,max:v,data:y}};c.prototype.al=function(){var y=this.pa();null==this.U_a&&null!=this.qu&&this.BBb(this.qu);if(null!=this.U_a){var A=0>this.wIb?this.wIb:0;return this.xl()?new U({x:A,y:y.getY(),width:this.U_a-A,height:y.da()}):new U({x:y.getX(),y:A,width:y.ca(),height:this.U_a-A})}return new U({x:y.getX(),y:y.getY(),width:y.ca(),height:y.da()})};c.prototype.Sed=function(y,A,x,C){for(var z=
this.xl(),v=this.WQ===c.W5.$pa,B=this.WQ===c.W5.Iha,E=y.data,H=null!=this.ea.barmaxwidth&&!isNaN(this.ea.barmaxwidth),F=this.PXb(A),I=0;I<E.length;I++){var J=E[I];J.HG=[];for(var K=0,N=0,P=0;P<A;P++){H&&(this.ZF[P]=[]);var Q=J.Xz[P],R=this.ea.ismissingvalue(Q);if(R)v||(x+=this.sB),J.HG.push(null);else{var Y=0;R=Q;v?(Y=P-1,0<=Y&&(0>J.Xz[Y]?N+=J.Xz[Y]:K+=J.Xz[Y]),Y=0>Q?N:K):B&&(Y=Q[0],R=Q[1]-Q[0]);if(z){Q=Y;if(null==this.Gd)Y=x;else{var ca=this.WQ===c.W5.$pa?-.5:-this.H2/2+P;Y=this.Gd[I]+ca*this.sB}ca=
R;R=this.sB}else null==this.Gd?Q=x:(ca=this.WQ===c.W5.$pa?-.5:-this.H2/2+P,Q=this.Gd[I]+ca*this.sB),ca=this.sB;J.HG.push([Q,Y,ca,R]);v||(x+=null==this.Gd?this.sB:F)}}v&&(x+=null==this.Gd?this.sB:F);x+=this.oHb}C&&this.CV?(this.CV.data=this.CV.data.concat(y.data),this.CV.min=Math.min(this.CV.min,y.min),this.CV.max=Math.max(this.CV.max,y.max)):this.CV=y};c.prototype.DWa=function(){if(this.xl())switch(this.p_a){case c.FQ.ZKa:var y=this.Vba?O.Xd:O.vd;break;case c.FQ.EZa:y=this.Vba?O.Je:O.pe;break;case c.FQ.ZXa:y=
this.Vba?O.Xd:O.vd;break;default:y=O.Na}else switch(this.p_a){case c.FQ.ZKa:y=this.Vba?O.pe:O.Xd;break;case c.FQ.EZa:y=this.Vba?O.vd:O.Je;break;case c.FQ.ZXa:y=this.Vba?O.pe:O.Xd;break;default:y=O.Na}this.Pb.tc(y)};c.prototype.Zyb=function(y,A,x){y=this.Li(y instanceof M?y:new M(y,A));x&&(this.i4a=y.slice(0),this.ha());return y};c.prototype.Li=function(y,A){function x(B){B instanceof ho&&(B=B.Vj())&&B instanceof OP&&B.Kx()===v&&z.push(B)}var C=new bk,z=[],v=this;y instanceof U?(A=[y.la(),y.na(),y.na(),
y.la()],y=[y.ka(),y.ka(),y.ma(),y.ma()],C.ola(x,this.getRoot(),A,y,!0)):C.ola(x,this.getRoot(),y.x,y.y,A?A:1);return z};c.prototype.Fu=function(y,A){var x=this.getData(),C=x.datasets;x=x.series;return null==C[y]||x&&x[y]&&!0!==x[y].visible?null:C[y].values[A]};c.prototype.Nfa=function(y,A){y=0<y.length?y.slice(0):[];A?this.i4a.concat(y):this.i4a=y;this.ha();return this};c.prototype.Qu=function(y){"function"==typeof y&&this.Q7a!==y&&(this.Q7a=y);return this};c.prototype.LLc=function(y,A,x,C,z){this.mj.cb(A[0],
A[1],A[0]+A[2],A[1]+A[3]);if(y.filter(this.mj)){x&&(this.mj.Js(new OP(this.k4a[C],z,this)),y.yh(this.mj));A="linestyles";x="fillstyles";for(var v=0;v<this.i4a.length;++v){var B=this.i4a[v];if(B.tDc()===this.k4a[C]&&B.hDc()===z){A="selected-linestyles";x="selected-fillstyles";break}}v=[];for(var E in this.Cg)v.push(this.Cg[E]);v=v[this.k4a[C]];C=0;this.dra===c.KI.RQ?(E=Object.keys(this.Cg).length,z=z<E?z:E-1,this.mj.ra(this.Cg[z][A][C]),this.mj.qa(this.Cg[z][x][C])):(this.mj.ra(v[A][C]),this.mj.qa(v[x][C]));
this.mj.render(y);return!0}return!1};c.prototype.pMc=function(y,A,x,C){var z=A[0],v=A[1],B=A[2],E=A[3],H=A[4];A=1;if(this.xl()){v+=E/2;switch(this.p_a){case c.FQ.ZKa:z+=B;A=0>B?-1:1;break;case c.FQ.EZa:z+=B;A=0>B?1:-1;break;case c.FQ.ZXa:A=0>B?-1:1;break;default:z+=B/2}var F=this.ALa.anchorx;var I=this.ALa.anchory*A;var J=this.X0b()?H:B}else{z+=B/2;switch(this.p_a){case c.FQ.ZKa:v+=E;A=0>E?-1:1;break;case c.FQ.EZa:v+=E;A=0>E?1:-1;break;case c.FQ.ZXa:A=0>E?-1:1;break;default:v+=E/2}F=this.ALa.anchorx*
A;I=this.ALa.anchory;J=this.X0b()?H:E}H=parseFloat(J.toFixed(this.S4c));this.Q7a&&(H=this.Q7a(H,x,C,J));this.Pb.Eb(H);this.Zc.Ia()&&this.Zc.Db(z,v).render(y);v+=I?A*Math.abs(y.pp().Ab())*I:0;z+=F?A*Math.abs(y.pp().pb())*F:0;this.p_a!==c.FQ.Na&&(this.xl()?z+=0>B?Math.abs(y.pp().pb())*A*this.Pb.ca():0:v+=0>E?Math.abs(y.pp().Ab())*A*this.Pb.da():0);this.Pb.Db(z,v);this.Vba&&this.Pb.rotate(this.Vba,z,v);this.Pb.render(y);this.Vba&&this.Pb.rotate(-this.Vba,z,v)};c.prototype.j8b=function(y,A,x,C,z,v,B,
E){y?(A||x||1===E?f(this.ZF[B],n(C)+v/2):0===B?f(this.ZF[B],n(C)+v):f(this.ZF[B],n(this.ZF[B-1])+k(this.ZF[B-1])),e(this.ZF[B],z),h(this.ZF[B],q(C)),g(this.ZF[B],l(C))):(A||x||1===E?h(this.ZF[B],q(C)+v/2):0===B?h(this.ZF[B],q(C)+v):h(this.ZF[B],q(this.ZF[B-1])+l(this.ZF[B-1])),g(this.ZF[B],z),f(this.ZF[B],n(C)),e(this.ZF[B],k(C)))};c.prototype.MLc=function(y){if(this.CV&&0<this.CV.data.length){var A=y.Fa(),x=this.CV.data,C=this.xl(),z=this.WQ===c.W5.$pa,v=this.dra===c.KI.RQ||Array.isArray(this.qu)&&
1===this.qu.length,B=this.D1&&!y.ac();B&&this.DWa();var E=y.Rg();if(C){var H=E.ka();E=E.ma()}else H=E.la(),E=E.na();var F=x[0].HG[0],I=x[0].HG.length,J=0,K=0,N=this.ea.barmaxwidth,P=I/2;if(null!=N&&!isNaN(N))if(C){var Q=V.nN(Hd.ih(0,k(F),A),2);Q>N&&(J=Hd.qb(0,N,A),K=k(F)-J,z||v||(F=V.nN(Hd.ih(0,n(F)+K,A),2),P*=N,P=F-P,0<P&&(K=Hd.qb(0,P,A)+K)))}else Q=V.nN(Hd.ih(l(F),0,A),2),Q>N&&(J=Hd.qb(N,0,A),K=l(F)-J,z||v||(F=V.nN(Hd.ih(q(F)+K,0,A),2),P*=N,P=F-P,0<P&&(K=Hd.qb(P,0,A)+K)));P=0;for(A=0;A<x.length;++A)for(F=
x[A],P=0;P<F.HG.length;++P)Q=F.HG[P],null!=Q&&(null!=N&&!isNaN(N)&&0<K?(this.j8b(C,z,v,F.HG[P],J,K,P,I),this.LLc(y,this.ZF[P],y.ac(),P,A)):this.LLc(y,Q,y.ac(),P,A));P=Math.max(0,--P);if(B)for(A=0;A<x.length;++A)if(F=x[A],0<F.HG.length)if(this.X0b()){for(Q=B=0;Q<F.Xz.length;Q++)B+=isNaN(F.Xz[Q])||null==F.Xz[Q]?0:F.Xz[Q];null!=N&&!isNaN(N)&&0<K?(this.j8b(C,z,v,F.HG[P],J,K,F.HG.length-1,I),Q=this.ZF[F.HG.length-1]):Q=F.HG[F.HG.length-1];if(null!=Q){var R=C?Q[3]:Q[2];if(this.gBb(y,A,null,B,w,R)&&null!==
Q){Q[4]=B;if(C){R=n(Q);B=m(Q);var Y=this.Pb.da()}else R=q(Q),B=p(Q),Y=this.Pb.ca();H-Y<=B&&E>=R&&this.pMc(y,Q,A,P)}}}else for(P=0;P<F.HG.length;++P)if(!isNaN(F.Xz[P])&&null!=F.Xz[P]||Array.isArray(F.Xz[P])&&!isNaN(F.Xz[P][0])&&null!=F.Xz[P][0]&&!isNaN(F.Xz[P][1])&&null!=F.Xz[P][1])null!=N&&!isNaN(N)&&0<K?(this.j8b(C,z,v,F.HG[P],J,K,P,I),Q=this.ZF[P]):Q=F.HG[P],R=C?Q[3]:Q[2],this.gBb(y,A,P,F.Xz[P],u,R)&&null!==Q&&(C?(R=n(Q),B=m(Q),Y=this.Pb.da()):(R=q(Q),B=p(Q),Y=this.Pb.ca()),H-Y<=B&&E>=R&&this.pMc(y,
Q,A,P))}};c.prototype.$i=function(y){this.Eh(y);for(var A=this.Yb(),x=0;x<A;x++){var C=this.eb(x);y.filter(C)&&(y.ac()&&y.yh(C),C.render(y))}this.MLc(y);this.jh(y)};c.prototype.Hs=function(y,A){var x=this;this.Eh(y);Hg.sM(this.vf(),function(C,z){y.filter(C)?(y.yh(C),C.we(y,z)):z()},function(){x.MLc(y);x.jh(y);A()})};c.prototype.X0b=function(){return this.WQ===c.W5.$pa&&!0===this.T4c};c.prototype.gBb=function(y,A,x,C,z,v){if("boolean"===typeof this.D1)return this.D1;if("function"===typeof this.D1){var B=
Math.abs(y.pp().pb());y=Math.abs(y.pp().Ab());var E=rg.measureText(C.toString(),this.Pb.jb());B*=E.ca()+this.ALa.anchorx;y*=E.da()+this.ALa.anchory;A=this.D1(A,x,C,z,B,y,v,C,this.ea.orientation);return!0===A?A:!1}return Array.isArray(this.D1)?!0===this.D1[A]?!0:Array.isArray(this.D1[A])&&!0===this.D1[A][x]:!1};c.prototype.ia=function(){var y=oi.prototype.ia.call(this);return y=xb(this.ta(),y)};c.prototype.fa=function(y){if(null==y)return this;oi.prototype.fa.call(this,y);this.setOptions(y);return this};
return c}(),2,"eyJnZXROZWF0TWluVmFsdWUiOiJ4cWQiLCJnZXROZWF0TWF4VmFsdWUiOiJ3cWQiLCJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJoYXNEYXRhIjoiVV9iIiwic2V0RGF0YVNlcmllc1Zpc2libGUiOiJ3emIiLCJnZXREYXRhU2VyaWVzVmlzaWJsZSI6IiRzYiIsImdldE9wdGlvbnMiOiJ0YSIsImdldERhdGFMaW1pdHMiOiJhbCIsInNlbGVjdEJhcnNBdCI6Ilp5YiIsImhpdFRlc3QiOiJMaSIsImdldFZhbHVlQXQiOiJGdSIsImhpZ2hsaWdodEJhcnMiOiJOZmEiLCJzZXRGb3JtYXRMYWJlbEhhbmRsZXIiOiJRdSIsInJlbmRlckNvbnRlbnQiOiIkaSIsInJlbmRlckNvbnRlbnRBc3luYyI6IkhzIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var oQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a||(a={});a=G(a,{left:"number"===typeof a.left?a.left:0,width:"number"===typeof a.width?a.width:1,whiskerswidth:"number"===typeof a.whiskerswidth?a.whiskerswidth:1,min:"number"===typeof a.min?a.min:0,max:"number"===typeof a.max?a.max:1,median:"number"===typeof a.median?a.median:1,firstquartile:"number"===typeof a.firstquartile?a.firstquartile:1,thirdquattile:"number"===typeof a.thirdquattile?a.thirdquattile:1,isoutliersvisible:"boolean"===typeof a.isoutliersvisible?
a.isoutliersvisible:!0,ishorizontal:"boolean"===typeof a.ishorizontal?a.ishorizontal:!1,linestyle:a.linestyle instanceof X?a.linestyle:null,connectedlinepattern:Array.isArray(a.connectedlinepattern)||null==a.connectedlinepattern?a.connectedlinepattern:wg.TX,primaryfillstyle:a.primaryfillstyle instanceof rf?a.primaryfillstyle:null});a.primaryfillstyle=tg.ad(a.primaryfillstyle);a.secondaryfillstyle=tg.ad(a.secondaryfillstyle)||a.primaryfillstyle;Zg.call(this,a);this.sH=a.left;this.$c=a.width;this.dla=
a.whiskerswidth>a.width?a.width:a.whiskerswidth;this.Ei=a.min;this.ui=a.max;this.sR=a.median;this.JF=a.firstquartile;this.FJ=a.thirdquartile;this.esa=a.ishorizontal;this.gsa=a.isoutliersvisible;this.aZ=a.primaryfillstyle;this.FR=a.secondaryfillstyle;this.QLa=a.connectedlinepattern;this.Sa=this.esa?new U(this.Ei,this.sH,this.ui,this.sH+this.$c):new U(this.sH,this.Ei,this.sH+this.$c,this.ui)}D(c,Zg);L(c,"geotoolkit.controls.shapes.Box");c.prototype.ga=function(){return this.Sa.lock()};c.prototype.render=
function(a){a=null!=this.Qa()?a.Zb(this.Qa()):a;a.yh(this);var b=a.Fa();var d=7;var e=this.ga(),f=this.FJ-this.JF,g=this.Ea().gw(null);a.ra(g);this.Eh(a);a.ac()&&(a.qa(rf.kh),a.sc(e));if(!0!==this.esa){var h=this.sH;var k=this.Ei;var l=this.$c;var m=this.dla;m=(l-m)/2;d=l/d;b=Math.abs(b.Wt()/b.Hw());this.JF-this.Ei>1.5*f&&this.gsa&&(a.qa(this.FR,e),a.Rp(h+(l-d)/2,k-b*d/2,d,b*d),k=this.JF-1.5*f);this.ui-this.FJ>1.5*f&&this.gsa&&(a.qa(this.aZ,e),a.Rp(h+(l-d)/2,this.ui-b*d/2,d,b*d),this.ui=this.FJ+1.5*
f);a.Nc(h+m,k,h+l-m,k);a.qa(this.FR,e);a.sc(h,this.JF,l,this.sR-this.JF);a.qa(this.aZ,e);a.sc(h,this.sR,l,this.FJ-this.sR);a.Nc(h,this.sR,h+l,this.sR);a.Nc(h+m,this.ui,h+l-m,this.ui);a.ra(g.gw(this.QLa));a.Nc(h+l/2,k,h+l/2,this.JF);a.Nc(h+l/2,this.FJ,h+l/2,this.ui)}else h=this.Ei,k=this.sH,l=this.$c,m=this.dla,m=(l-m)/2,d=l/d,b=Math.abs(b.Hw()/b.Wt()),this.JF-this.Ei>1.5*(this.FJ-this.JF)&&this.gsa&&(a.qa(this.FR),a.Rp(h-b*d/2,k+(l-d)/2,b*d,d),h=this.JF-1.5*(this.FJ-this.JF)),this.ui-this.FJ>1.5*
(this.FJ-this.JF)&&this.gsa&&(a.qa(this.aZ),a.Rp(this.ui-b*d/2,k+(l-d)/2,b*d,d),this.ui=this.FJ+1.5*(this.FJ-this.JF)),a.Nc(h,k+m,h,k+l-m),a.qa(this.FR),a.sc(this.JF,k,this.sR-this.JF,l),a.qa(this.aZ),a.sc(this.sR,k,this.FJ-this.sR,l),a.Nc(this.sR,k,this.sR,k+l),a.Nc(this.ui,k+m,this.ui,k+l-m),a.ra(g.gw(this.QLa)),a.Nc(h,k+l/2,this.JF,k+l/2),a.Nc(this.FJ,k+l/2,this.ui,k+l/2);this.jh(a)};c.prototype.setData=function(a){a&&(this.sH="number"===typeof a.left?a.left:this.sH,this.$c="number"===typeof a.width?
a.width:this.$c,this.dla="number"===typeof a.whiskerswidth?a.whiskerswidth:this.dla,this.dla>this.$c&&(this.dla=this.$c),this.Ei="number"===typeof a.min?a.min:this.Ei,this.ui="number"===typeof a.max?a.max:this.ui,this.JF="number"===typeof a.firstquartile?a.firstquartile:this.JF,this.sR="number"===typeof a.median?a.median:this.sR,this.FJ="number"===typeof a.thirdquartile?a.thirdquartile:this.FJ,this.Sa=this.esa?new U(this.Ei,this.sH,this.ui,this.sH+this.$c):new U(this.sH,this.Ei,this.sH+this.$c,this.ui),
this.xa())};c.prototype.getData=function(){return{left:this.sH,width:this.$c,whiskerswidth:this.dla,min:this.Ei,firstquartile:this.JF,median:this.sR,thirdquartile:this.FJ,max:this.ui}};c.prototype.tRc=function(a){this.gsa="boolean"===typeof a?a:this.gsa;this.ha();return this};c.prototype.frd=function(){return this.gsa};c.prototype.NPc=function(a){this.Sa=(this.esa="boolean"===typeof a?a:this.esa)?new U(this.Ei,this.sH,this.ui,this.sH+this.$c):new U(this.sH,this.Ei,this.sH+this.$c,this.ui);this.ha();
return this};c.prototype.xl=function(){return this.esa};c.prototype.Tcb=function(a){if(this.aZ===a)return this;null!=this.aZ&&this.hk(this.aZ,Ce.gb,this.sb());this.aZ=tg.ad(a);this.ha();null!=this.aZ&&this.gg(this.aZ,Ce.gb,this.sb());return this};c.prototype.Nrd=function(){return this.aZ};c.prototype.Zcb=function(a){if(this.FR===a)return this;null!=this.FR&&this.hk(this.FR,Ce.gb,this.sb());this.FR=tg.ad(a);this.FR=null==this.FR?this.aZ:this.FR;this.ha();null!=this.FR&&this.gg(this.FR,Ce.gb,this.sb());
return this};c.prototype.Nsd=function(){return this.FR};c.prototype.lOc=function(a){this.QLa=a instanceof Array||null==a?a:this.QLa;this.ha();return this};c.prototype.Dld=function(){return this.QLa};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;Zg.prototype.fa.call(this,a);void 0!==a.primaryfillstyle&&this.Tcb(a.primaryfillstyle);void 0!==a.secondaryfillstyle&&this.Zcb(a.secondaryfillstyle);void 0!==a.connectedlinepattern&&this.lOc(a.connectedlinepattern);void 0!==a.isoutliersvisible&&
this.tRc(a.isoutliersvisible);void 0!==a.ishorizontal&&this.NPc(a.ishorizontal);void 0!==a.left&&(this.sH=a.left);void 0!==a.width&&(this.$c=a.width);void 0!==a.whiskerswidth&&(this.dla=a.whiskerswidth>a.width?a.width:a.whiskerswidth);void 0!==a.min&&(this.Ei=a.min);void 0!==a.max&&(this.ui=a.max);void 0!==a.median&&(this.sR=a.median);void 0!==a.firstquartile&&(this.JF=a.firstquartile);void 0!==a.thirdquartile&&(this.FJ=a.thirdquartile);return this};c.prototype.ia=function(){var a=Zg.prototype.ia.call(this);
a.primaryfillstyle=this.aZ;a.secondaryfillstyle=this.FR;a.connectedlinepattern=this.QLa;a.ishorizontal=this.esa;a.isoutliersvisible=this.gsa;a.left=this.sH;a.width=this.$c;a.whiskerswidth=this.dla;a.min=this.Ei;a.firstquartile=this.JF;a.median=this.sR;a.thirdquartile=this.FJ;a.max=this.ui;return a};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRCb3VuZHMiOiJnYSIsInNldE91dGxpZXJzVmlzaWJsZSI6InRSYyIsImdldE91dGxpZXJzVmlzaWJsZSI6ImZyZCIsInNldEhvcml6b250YWwiOiJOUGMiLCJpc0hvcml6b250YWwiOiJ4bCIsInNldFByaW1hcnlGaWxsU3R5bGUiOiJUY2IiLCJnZXRQcmltYXJ5RmlsbFN0eWxlIjoiTnJkIiwic2V0U2Vjb25kYXJ5RmlsbFN0eWxlIjoiWmNiIiwiZ2V0U2Vjb25kYXJ5RmlsbFN0eWxlIjoiTnNkIiwic2V0Q29ubmVjdGVkTGluZVBhdHRlcm4iOiJsT2MiLCJnZXRDb25uZWN0ZWRMaW5lUGF0dGVybiI6IkRsZCIsInNldFByb3BlcnRpZXMiOiJmYSIsImdldFByb3BlcnRpZXMiOiJpYSJ9fX0g");var pQ=/*#__PURE__*/va(/*#__PURE__*/{Tha:"Raw",oha:"Associative"},2,"eyJSYXciOiJUaGEiLCJBc3NvY2lhdGl2ZSI6Im9oYSJ9"),qQ=/*#__PURE__*/va(/*#__PURE__*/{nb:"Top",Jeb:"Below",kc:"Left",$b:"Right"},2,"eyJUb3AiOiJuYiIsIkJlbG93IjoiSmViIiwiTGVmdCI6ImtjIiwiUmlnaHQiOiIkYiJ9"),rQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b,d){Zg.call(this,b);this.Vq=(new oQ).wb(!1);this.Pb=(new ek).sn(NaN).Bp(NaN).yaa(!0).vt(!0).bpa(!0).apa(!0).wb(!1);this.ea={boxvalues:{visible:!0,suppress:!1,textstyle:new Ki,location:null,verticaloffset:0,horizontaloffset:0,decimalprecision:2},boxwidth:1,boxpad:2,whiskerswidth:1,linestyle:new X({color:"grey",width:1,pixelsnapmode:{x:!0,y:!0}}),primaryfillstyle:new rf({color:"lightblue"}),
secondaryfillstyle:new rf({color:"lightgreen"}),orientation:Rh.ob,connectedlinepattern:wg.TX,isoutliersvisible:!1,ismissingvalue:a};null==this.ea.whiskerswidth&&(this.ea.whiskerswidth=this.ea.boxwidth);this.BHb=this.ea.boxvalues.visible;this.zHb=this.ea.boxvalues.suppress;this.xHb=this.ea.boxvalues.location;this.yHb=this.ea.boxvalues.decimalprecision;this.AHb=this.ea.boxvalues.verticaloffset;this.CHb=this.ea.boxvalues.horizontaloffset;this.E1=this.ea.boxwidth;this.uHb=this.ea.boxpad;this.xRb=this.ea.whiskerswidth;
this.ld=this.Sc=null;this.dra=c.KI.Tha;this.yIb=0;this.ria=[];this.ah=[];this.EY=[];this.Hja=0;this.qu=this.Ce=null;this.u_a=0;this.sLb=!0;this.pjc=!1;this.fpb=[];this.wb(!1);this.setOptions(b);d&&this.setData(d);this.wb(!0)}function a(b){return null===b}D(c,Zg);L(c,"geotoolkit.controls.shapes.BoxPlot");c.KI=pQ;c.$Xa=qQ;c.prototype.ga=function(){return this.Ce};c.prototype.setData=function(b){b=G(b,{mode:c.KI.oha,datasets:null});this.dra=b.mode;b=b.datasets;null!==b&&(Array.isArray(b)||(b=[b]),this.Hja=
b.length);this.XVb(b);this.xa().ha();return this};c.prototype.setOptions=function(b){b=G(b,{});xb(b,this.ea);this.ea.linestyle=X.Pa(this.ea.linestyle);this.ea.valuelimits&&(this.Sc=this.ea.valuelimits.minvalue,this.ld=this.ea.valuelimits.maxvalue,this.pjc=this.ea.valuelimits.neatlimits);this.ea.boxvalues&&(this.BHb=this.ea.boxvalues.visible,this.zHb=this.ea.boxvalues.suppress,this.xHb=this.ea.boxvalues.location,this.yHb=this.ea.boxvalues.decimalprecision,this.AHb=this.ea.boxvalues.verticaloffset,
this.CHb=this.ea.boxvalues.horizontaloffset,this.Pb.ib(this.ea.boxvalues.textstyle));this.sLb=!(b.fixedboxwidth||!(this.sLb||b.boxwidth||b.boxpad||b.whiskerswidth));this.XVb();this.ha();return this};c.prototype.xl=function(){return this.ea.orientation===Rh.xb};c.prototype.Vzd=function(b){var d,e=0;for(d=0;d<b.length;d++)0===b[d].values.length||Array.isArray(b[d].values[0])||(b[d].values=[b[d].values]),b[d].values.length>e&&(e=b[d].values.length);this.yIb=e};c.prototype.Kvd=function(b){return function(d,
e,f){var g=d=null,h=0,k=null,l=0;if(f.data instanceof Ko)d=f.data,d.Z3(function(m,n){m=n.length;for(var p=0;p<m;p++)if(k=n[p].data?n[p].data:n[p].root?n[p].root:n[p].child,l=this.EY[b].length,k instanceof xG||k instanceof PG)n[p].event===jG.Qn&&(g=k.toArray(!0),g=this.SQa(g),this.EY[b][l]=k,this.qu[b].values[l]=g),n[p].event===jG.zo&&(h=this.EY[b].indexOf(k),this.EY[b].splice(h,1),this.qu[b].values.splice(h,1)),n[p].event===mG.Ud&&m===p+1&&(h=this.EY[b].indexOf(k),g=k.toArray(!0),g=this.SQa(g),this.qu[b].values[h]=
g)}.bind(this));else{k=f.data?f.data:f.root?f.root:f.child;l=this.EY[b].length;if(!(k instanceof xG||k instanceof PG))return;f.event===jG.Qn&&(g=k.toArray(!0),g=this.SQa(g),this.EY[b][l]=k,this.qu[b].values[l]=g);f.event===jG.zo&&(h=this.EY[b].indexOf(k),this.EY[b].splice(h,1),this.qu[b].values.splice(h,1));f.event===mG.Ud&&(h=this.EY[b].indexOf(k),g=k.toArray(!0),g=this.SQa(g),this.qu[b].values[h]=g)}this.XVb();this.ha()}.bind(this)};c.prototype.SQa=function(b){var d=b.length;b.sort(function(e,f){return e-
f});return b=[b[0],b[Math.floor(d/4)],b[Math.floor(d/2)],b[Math.floor(3*d/4)],b[d-1]]};c.prototype.EEd=function(b){var d,e;this.ah=[];this.EY=[];for(d=0;d<b.length;d++)if(b[d].datasource){this.EY[d]=[];this.ah[d]=b[d].datasource;this.fpb[d]=this.Kvd(d);this.ah[d].on(kH.Vha,this.fpb[d]);var f=this.ah[d].Yb();for(e=0;e<f;e++){var g=this.ah[d].eb(e);if(g instanceof xG||g instanceof PG){this.EY[d][e]=g;var h=g.toArray(!0)}h&&0!==h.length&&(h=this.SQa(h),null==b[d].values&&(b[d].values=[]),b[d].values[e]=
h)}}else for(0===b[d].values.length||Array.isArray(b[d].values[0])||(b[d].values=[b[d].values]),e=0;e<b[d].values.length;e++)h=b[d].values[e],null!=h&&(h=this.SQa(h),b[d].values[e]=h)};c.prototype.Ha=function(b){this.Ce=b;this.notify(Ce.Uq,this);this.ha();return this};c.prototype.pa=function(){return this.Ce};c.prototype.Qrd=function(){return this.qu};c.prototype.XVb=function(b){if(b)this.dra===c.KI.Tha&&this.EEd(b),this.qu=b;else{if(!this.qu)return;b=this.qu}this.Vzd(b);b=this.BBb(b);this.eJd(b);
this.wb(!0)};c.prototype.Ocd=function(){var b=10;this.E1=1/(this.Hja+this.ea.boxpad/this.ea.boxwidth+(this.Hja-1)/b);this.uHb=this.E1*this.ea.boxpad/this.ea.boxwidth;this.xRb=this.E1*this.ea.whiskerswidth/this.ea.boxwidth;this.u_a=this.E1/b};c.prototype.Arc=function(b){b=b.Fa();b=this.xl()?b.Ab():b.pb();var d=Zd.ya(),e=d.Xua(),f=d.Wa("in"),g;this.ea.boxwidthunit&&(g=d.Wa(this.ea.boxwidthunit,null,!0));g||(g=d.Wa("in"));g=g.convert(this.ea.fixedboxwidth,f);g*=e;this.E1=g/Math.abs(b);this.u_a=2/Math.abs(b);
this.uHb=1-(this.E1*this.Hja+this.u_a*(this.Hja-1));this.xRb=this.E1};c.prototype.eJd=function(b){var d=this.yIb;this.wb(!1);var e=-.5;this.xl()?this.Ha(new U(b.Ua(),e,b.Za(),d+e)):this.Ha(new U(e,b.Ua(),d+e,b.Za()))};c.prototype.BBb=function(b){var d,e,f=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY;for(d=0;d<b.length;d++){var h=b[d];for(e=0;e<h.values.length;e++){var k=h.values[e];null!==k&&(f=Math.min(k[0],f),g=Math.max(k[4],g))}}f=Math.floor(f);g=Math.ceil(g);this.ea.valuelimits&&(null!==
this.Sc&&this.Sc<=f&&(f=this.Sc),null!==this.ld&&this.ld>=g&&(g=this.ld));b=new Jd(f,g);this.pjc&&(b=V.ip(f,g));return b};c.prototype.Ted=function(b){this.ria=[];for(var d=this.qu,e,f,g=0,h=b;g<this.yIb;g++){this.ria[g]=[];for(var k=0;k<this.Hja;k++)b=null,e=d[k].values[g],(f=this.ea.ismissingvalue(e))?this.ria[g][k]=null:(d[k].fillstyle&&(b=Array.isArray(d[k].fillstyle)?1===d[k].fillstyle.length?d[k].fillstyle[0]:d[k].fillstyle[g]:d[k].fillstyle),this.ria[g][k]=[h,e,b]),h+=this.E1,k!==this.Hja-1&&
(h+=this.u_a);h+=this.uHb}};c.prototype.oeb=function(){if(this.xl())switch(this.xHb){case c.$Xa.$b:var b=O.vd;break;case c.$Xa.kc:b=O.pe;break;default:b=O.vd}else switch(this.xHb){case c.$Xa.nb:b=O.Xd;break;case c.$Xa.Jeb:b=O.Je;break;default:b=O.Xd}this.Pb.tc(b)};c.prototype.zGd=function(b,d){var e={ishorizontal:this.xl(),isoutliersvisible:this.ea.isoutliersvisible,connectedlinepattern:this.ea.connectedlinepattern};if(null!=d[1]){var f={left:d[0],width:this.E1,whiskerswidth:this.xRb,min:d[1][0],
firstquartile:d[1][1],median:d[1][2],thirdquartile:d[1][3],max:d[1][4]};this.Vq.setData(f);this.Vq.fa(e);if(b.filter(this.Vq))return this.Vq.ra(this.ea.linestyle),d[2]?d[2]instanceof rf?(this.Vq.Tcb(d[2]),this.Vq.Zcb(d[2])):(this.Vq.Tcb(d[2].primaryfillstyle),this.Vq.Zcb(d[2].secondaryfillstyle)):(this.Vq.Tcb(this.ea.primaryfillstyle),this.Vq.Zcb(this.ea.secondaryfillstyle)),this.Vq.render(b),!0}return!1};c.prototype.XHa=function(b,d){var e=0,f=0;var g=b.Fa();var h=this.CHb?this.CHb/Math.abs(g.pb()):
0,k=this.AHb?this.AHb/Math.abs(g.Ab()):0,l=.2;if(!0!==this.xl()){var m=d[0]+this.E1/2+h;for(g=0;g<d[1].length;g++){var n=d[1][g]+k;var p=parseFloat(d[1][g].toFixed(this.yHb));this.Pb.Eb(p);this.Pb.Db(m,n);this.zHb?0<g&&n-f<e||(this.Pb.render(b),e=this.Pb.getBoundingBox(b).height*(1-l),f=d[1][g]+k):this.Pb.render(b)}}else for(n=d[0]+this.E1/2+k,g=0;g<d[1].length;g++)m=d[1][g]+h,p=parseFloat(d[1][g].toFixed(this.yHb)),this.Pb.Eb(p),this.Pb.Db(m,n),this.zHb?0<g&&m-f<e||(this.Pb.render(b),e=this.Pb.getBoundingBox(b).width,
f=d[1][g]+h):this.Pb.render(b)};c.prototype.render=function(b){var d=null!=this.Qa()?b.Zb(this.Qa()):b;this.Eh(d);d.ac()&&(d.qa(rf.kh),d.sc(this.pa()));this.sLb?this.Ocd():this.Arc(d);var e=-(this.E1*this.Hja+(this.Hja-1)*this.u_a)/2;this.Ted(e);if(this.ria&&0<this.ria.length)for(this.BHb&&this.oeb(),e=0;e<this.ria.length;++e)for(var f=0;f<this.ria[e].length;++f){var g=this.ria[e][f];null!=g&&this.zGd(d,g)&&this.BHb&&this.XHa(d,g)}this.jh(b)};c.prototype.dispose=function(){for(var b=0;b<this.ah.length;b++)this.ah[b].za(kH.Vha,
this.fpb[b]);this.fpb=[];Zg.prototype.dispose.call(this)};c.prototype.fa=function(b){b=hc(b);if(null==b)return this;Zg.prototype.fa.call(this,b);this.setOptions(b);return this};c.prototype.ia=function(){var b=Zg.prototype.ia.call(this);b=xb(this.ea,b);delete b.ismissingvalue;return b};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRCb3VuZHMiOiJnYSIsImlzSG9yaXpvbnRhbCI6InhsIiwic2V0TW9kZWxMaW1pdHMiOiJIYSIsImdldE1vZGVsTGltaXRzIjoicGEiLCJnZXRQcm9jZXNzZWREYXRhc2V0cyI6IlFyZCIsImNhbGN1bGF0ZUFic1dpZHRoIjoiQXJjIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIn19fSAg");var tQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){eo.call(this,a,b)}D(c,eo);L(c,"geotoolkit.controls.shapes.BubbleChartQuad");c.prototype.oa=function(a){var b=a.ga();if(!this.Hh.Nd(b))return this;if(0===this.Vk)return this.Nh.push(a),this;if(null==this.Ho){var d=this.Hh,e=this.Vk;this.Ho=new c(new U(d.x,d.y,d.x+d.width/2,d.y+d.height/2),e-1);this.uq=new c(new U(d.x+d.width/2,d.y,d.x+d.width,d.y+d.height/2),e-1);this.jq=new c(new U(d.x,d.y+d.height/2,d.x+d.width/2,d.y+d.height),e-1);this.kq=new c(new U(d.x+d.width/
2,d.y+d.height/2,d.x+d.width,d.y+d.height),e-1)}d=0;e=null;this.Ho.Hh.Nd(b)&&(d++,e=this.Ho);this.uq.Hh.Nd(b)&&(d++,e=this.uq);2>d&&this.jq.Hh.Nd(b)&&(d++,e=this.jq);2>d&&this.kq.Hh.Nd(b)&&(d++,e=this.kq);1===d?e.oa(a):this.Nh.push(a);return this};c.prototype.xVa=function(a){var b,d=this.Nh.length;for(b=0;b<d;b++)if(this.Nh[b].index===a)return this.Nh.splice(b,1),this;null!=this.Ho&&this.Ho.xVa(a);null!=this.uq&&this.uq.xVa(a);null!=this.jq&&this.jq.xVa(a);null!=this.kq&&this.kq.xVa(a);return this};
c.prototype.rd=function(a,b){var d=[];this.Hh.Nd(a)&&(d=d.concat(this.Nh).filter(function(n){return null!=n.ga&&n.ga().Nd(a)}),this.Ho instanceof c&&(d=d.concat(this.Ho.rd(a,b))),this.uq instanceof c&&(d=d.concat(this.uq.rd(a,b))),this.jq instanceof c&&(d=d.concat(this.jq.rd(a,b))),this.kq instanceof c&&(d=d.concat(this.kq.rd(a,b))));if(0<d.length){b=b.pb()/b.Ab();for(var e=a.la(),f=a.ka(),g=Number.POSITIVE_INFINITY,h,k=-1,l=0;l<d.length;l++){if(d[l].dis)h=d[l].dis;else{h=(d[l].la()+d[l].na())/2;
var m=(d[l].ma()+d[l].ka())/2;h=(h-e)*(h-e)+(m*b-f*b)*(m*b-f*b)}h<g&&(g=h,k=l)}d[k].dis=g;return[d[k]]}return[]};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRDaGlsZCI6Im9hIiwicmVtb3ZlQXQiOiJ4VmEiLCJnZXRFbGVtZW50IjoicmQifX19");var uQ=/*#__PURE__*/va(/*#__PURE__*/{nb:"Top",xd:"Bottom",Na:"Center"},2,"eyJUb3AiOiJuYiIsIkJvdHRvbSI6InhkIiwiQ2VudGVyIjoiTmEifSAg"),vQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f,g){Zg.call(this,f);var h={datax:[],minx:null,maxx:null,autominmaxx:!1,neatlimitx:!0,preciselimitx:!1,minspanx:75,datay:[],miny:null,maxy:null,autominmaxy:!1,neatlimity:!0,preciselimity:!1,minspany:75,dataz:[],minz:null,maxz:null,autominmaxz:!0,datas:[],mins:null,maxs:null,labels:[],autominmaxs:!0,validlength:null,minsize:16,maxsize:48,cachewidthlimit:d,cacheheightlimit:d,bounds:new U(0,0,1,1),defaultlinestyle:null,defaultfillstyle:"rgba(128,192,255,1)",
selectable:!0};this.pl=h.datax;this.Ql=h.datay;this.eO=h.dataz;this.oU=h.datas;this.Le=h.lables;this.flb=!1;this.F1a=new Ki;this.blb=null;this.dlb=0;this.e4a=null;this.sda=[];this.Sa=h.bounds;this.tR=h.minsize;this.qR=h.maxsize;this.qc=this.$L=null;this.oL=tg.ad(h.defaultfillstyle);this.T1=X.Pa(h.defaultlinestyle);this.LJb=h.minx;this.KJb=h.maxx;this.NJb=h.miny;this.MJb=h.maxy;this.HJb=this.DJb=this.GJb=this.FJb=!1;this.Zca=h.neatlimitx;this.$ca=h.neatlimity;this.A3a=h.preciselimitx;this.B3a=h.preciselimity;
this.VMb=h.minspanx;this.WMb=h.minspany;this.Wza=h.autominmaxx;this.Xza=h.autominmaxy;this.ohb=h.autominmaxz;this.nhb=h.autominmaxs;this.JJb=h.mins;this.IJb=h.maxs;this.PJb=h.minz;this.OJb=h.maxz;this.Fkc=this.vkc=this.Ckc=this.qkc=this.Ekc=this.ukc=this.Dkc=this.tkc=null;this.gj=h.validlength;this.Sa=this.Ce=null;this.T7c=this.VI=this.Dv=!1;this.Ihb=h.cachewidthlimit;this.Ghb=h.cacheheightlimit;this.h4a=h.selectable;this.j3=null;this.CLa=[];this.Fj=new M(0,0);this.aj={x:new Dk({orientation:Rh.xb,
neatlimits:this.Zca,preciselimits:this.A3a,minspan:this.VMb}),y:new Dk({orientation:Rh.ob,neatlimits:this.$ca,preciselimits:this.B3a,minspan:this.WMb})};this.Pb=(new ek).sn(NaN).Bp(NaN).yaa(!0).vt(!0).bpa(!0).apa(!0).tc(O.Na).wb(!1);this.setData(f);this.Bh(g)}var a=new U,b=new W,d=sd.Fna()?8192:32767,e=sd.iUa()?16777216:268435456;D(c,Zg);L(c,"geotoolkit.controls.shapes.BubbleChart");c.Z0=uQ;c.prototype.fa=function(f){f=hc(f);if(null==f)return this;Zg.prototype.fa.call(this,f);this.setData(f);return this};
c.prototype.setData=function(f){null==f&&(f={});var g=null!=f.minsize||null!=f.maxsize||null!=f.sizebin||null!=f.cachewidthlimit||null!=f.cacheheightlimit||null!=f.colorprovider||null!=f.defaultfillstyle||null!=f.defaultlinestyle||null!=f.symbol;f=G(f,{datax:Array.isArray(f.datax)?f.datax:this.pl,autominmaxx:"boolean"===typeof f.autominmaxx?f.autominmaxx:this.Wza,neatlimitx:"boolean"===typeof f.neatlimitx?f.neatlimitx:this.Zca,preciselimitx:"boolean"===typeof f.preciselimitx?f.preciselimitx:this.A3a,
minspanx:"number"===typeof f.minspanx?f.minspanx:this.VMb,datay:Array.isArray(f.datay)?f.datay:this.Ql,autominmaxy:"boolean"===typeof f.autominmaxx?f.autominmaxx:this.Xza,neatlimity:"boolean"===typeof f.neatlimity?f.neatlimity:this.$ca,preciselimity:"boolean"===typeof f.preciselimity?f.preciselimity:this.B3a,minspany:"number"===typeof f.minspany?f.minspany:this.WMb,dataz:Array.isArray(f.dataz)?f.dataz:this.eO,autominmaxz:"boolean"===typeof f.autominmaxz?f.autominmaxz:this.ohb,datas:Array.isArray(f.datas)?
f.datas:this.oU,autominmaxs:"boolean"===typeof f.autominmaxs?f.autominmaxs:this.nhb,labels:Array.isArray(f.labels)?f.labels:this.Le,labelvisible:"boolean"==typeof f.labelvisible?f.labelvisible:this.flb,labeltextstyle:Ki.Pa(f.labeltextstyle)||this.F1a,labellocation:null!=f.labellocation?f.labellocation:this.blb,labelpadding:"number"==typeof f.labelpadding?f.labelpadding:this.dlb,secondarylocation:null!=f.secondarylocation?f.secondarylocation:this.e4a,validlength:"number"==typeof f.validlength?f.validlength:
null,colorprovider:f.colorprovider instanceof Oo?f.colorprovider:this.qc,defaultfillstyle:tg.ad(f.defaultfillstyle)||this.oL,defaultlinestyle:X.Pa(f.defaultlinestyle)||this.T1,minsize:"number"===typeof f.minsize?f.minsize:this.tR,maxsize:"number"===typeof f.maxsize?f.maxsize:this.qR,sizebin:"number"===typeof f.sizebin?f.sizebin:this.$L,cachewidthlimit:"number"==typeof f.cachewidthlimit&&f.cachewidthlimit<=d?f.cachewidthlimit:this.Ihb,cacheheightlimit:"number"==typeof f.cacheheightlimit&&f.cacheheightlimit<=
d?f.cacheheightlimit:this.Ghb,symbol:null!=f.symbol?f.symbol:$m,selectable:null!=f.selectable?f.selectable:this.h4a});f.cachewidthlimit*f.cacheheightlimit>e&&(f.cachewidthlimit=Math.min(f.cachewidthlimit,Math.sqrt(e)),f.cacheheightlimit=Math.min(f.cacheheightlimit,Math.sqrt(e)));if(f.autominmaxx||f.neatlimitx)this.FJb=!1;if(f.autominmaxy||f.nearlimity)this.GJb=!1;f.autominmaxs&&(this.DJb=!1);f.autominmaxz&&(this.HJb=!1);this.ea=f;this.Wk=f.symbol;this.pl=null!=f.datax?f.datax:[];this.Ql=null!=f.datay?
f.datay:[];this.eO=null!=f.dataz?f.dataz:[];this.oU=null!=f.datas?f.datas:[];this.Le=null!=f.labels?f.labels:[];this.flb=f.labelvisible;this.F1a=Ki.Pa(f.labeltextstyle);this.dlb=f.labelpadding;this.Pb.ib(this.F1a);this.blb=f.labellocation?f.labellocation:c.Z0.Na;this.e4a=f.secondarylocation;this.Wza=f.autominmaxx;this.Xza=f.autominmaxy;this.ohb=f.autominmaxz;this.nhb=f.autominmaxs;this.Zca=f.neatlimitx;this.$ca=f.neatlimity;this.A3a=f.preciselimitx;this.B3a=f.preciselimity;!0===this.Wza&&(this.Zca=
!1);!0===this.Xza&&(this.$ca=!1);"number"===typeof f.minx&&"number"===typeof f.maxx&&(this.FJb=!0,this.A3a=this.Zca=this.Wza=!1,this.KJb=f.maxx,this.LJb=f.minx,this.lM=this.KJb,this.hG=this.LJb);"number"===typeof f.miny&&"number"===typeof f.maxy&&(this.GJb=!0,this.B3a=this.$ca=this.Xza=!1,this.MJb=f.maxy,this.NJb=f.miny,this.wV=this.MJb,this.WR=this.NJb);"number"==typeof f.mins&&"number"==typeof f.maxs&&(this.DJb=!0,this.nhb=!1,this.IJb=f.maxs,this.JJb=f.mins,this.xka=this.IJb,this.yka=this.JJb);
"number"==typeof f.minz&&"number"==typeof f.maxz&&(this.HJb=!0,this.ohb=!1,this.OJb=f.maxz,this.PJb=f.minz,this.Npb=this.OJb,this.Opb=this.PJb);this.qc=f.colorprovider;this.oL=tg.ad(f.defaultfillstyle);this.T1=X.Pa(f.defaultlinestyle);this.h4a=null!=f.selectable?f.selectable:this.h4a;this.gj=f.validlength;this.tR=f.minsize;this.qR=f.maxsize;this.$L=f.sizebin?f.sizebin:this.qR-this.tR;this.Ihb=f.cachewidthlimit;this.Ghb=f.cacheheightlimit;null==this.gj&&(this.gj=null==this.qc?Math.min(this.pl.length,
this.Ql.length,this.oU.length):Math.min(this.pl.length,this.Ql.length,this.eO.length,this.oU.length));g&&(this.VI=!1);this.aj.x.setOptions({orientation:Rh.xb,neatlimits:this.Zca,preciselimits:this.A3a,minspan:this.VMb});this.aj.y.setOptions({orientation:Rh.ob,neatlimits:this.$ca,preciselimits:this.B3a,minspan:this.WMb});this.Hrc();this.ha()};c.prototype.getData=function(f,g){var h={datax:this.pl,datay:this.Ql,dataz:this.eO,datas:this.oU,autominmaxx:this.Wza,autominmaxy:this.Xza,autominmaxs:this.nhb,
autominmaxz:this.ohb,neatlimitx:this.Zca,neatlimity:this.$ca,labels:this.Le,labeltextstyle:this.F1a,labellocation:this.blb,secondarylocation:this.e4a,labelpadding:this.dlb,labelvisible:this.flb,validlength:this.gj,minsize:this.tR,maxsize:this.qR,sizebin:this.$L,colorprovider:this.qc,defaultfillstyle:this.oL,defaultlinestyle:this.T1,symbol:this.Wk};f=f?g?{minx:this.Dkc,maxx:this.tkc,miny:this.Ekc,maxy:this.ukc,minz:this.Fkc,maxz:this.vkc,mins:this.Ckc,maxs:this.qkc}:{minx:this.hG,maxx:this.lM,miny:this.WR,
maxy:this.wV,minz:this.Opb,maxz:this.Npb,mins:this.yka,maxs:this.xka}:{minx:this.LJb,maxx:this.KJb,miny:this.NJb,maxy:this.MJb,minz:this.PJb,maxz:this.OJb,mins:this.JJb,maxs:this.IJb};return G(f,h)};c.prototype.Hrc=function(f,g){var h=!1,k=V.Xt(this.pl),l=V.Xt(this.Ql);var m=V.Xt(this.oU);var n=V.Xt(this.eO);this.Dkc=k[0];this.tkc=k[1];this.Ekc=l[0];this.ukc=l[1];this.Ckc=m[0];this.qkc=m[1];this.Fkc=n[0];this.vkc=n[1];if(!f||isNaN(this.hG)||isNaN(this.WR))this.FJb||(this.hG=k[0],this.lM=k[1]),this.GJb||
(this.WR=l[0],this.wV=l[1]);if(!g&&this.h4a){if(!this.DJb){f=m[0];m=m[1];if(f!==this.yka||m!==this.xka)h=!0;this.yka=f;this.xka=m}this.HJb||(this.Opb=n[0],this.Npb=n[1])}return h};c.prototype.Yta=function(f){this.gj=null==this.eO||0===this.eO.length?Math.min(this.pl.length,this.Ql.length,this.oU.length):Math.min(this.pl.length,this.Ql.length,this.eO.length,this.oU.length);var g=this.Hrc(!0);g?this.Bh(null,0,this.gj):this.Bh(null,this.gj-f,this.gj);this.VI=!1};c.prototype.wLc=function(f,g){this.gj=
null==this.eO||0===this.eO.length?Math.min(this.pl.length,this.Ql.length,this.oU.length):Math.min(this.pl.length,this.Ql.length,this.eO.length,this.oU.length);var h=Math.abs(this.P2.na()-this.P2.la());var k=Math.abs(this.P2.ka()-this.P2.ma());h/=this.Sa.na()-this.Sa.la();var l=k/(this.Sa.ka()-this.Sa.ma());for(k=f;k<f+g;k++)this.RL.xVa(k);for(k=f+g;k<this.gj+g;k++)this.CLa[k].index-=g;for(k=f;k<f+g;k++){var m=this.sda[k]/2/h,n=Math.abs(h/l),p=this.CLa[k].datax,q=this.CLa[k].datay;m=new U(p-m,q-n*
m,p+m,q+n*m);this.ha(m)}this.sda.splice(f,g);this.CLa.splice(f,g);this.VI=!1};c.prototype.Qcb=function(f){this.P2=f;return this};c.prototype.prd=function(){return this.P2};c.prototype.sa=function(f){if(this.Sa&&this.Sa.wi(f))return!1;this.Sa=f;return!0};c.prototype.ga=function(){return this.Sa};c.prototype.xa=function(f,g){Zg.prototype.xa.call(this,f,g);g===Ee.vba&&(this.VI=!1,this.ha());return this};c.prototype.Bh=function(f,g,h){this.P2=null!=f?f:this.P2;if(null!=this.P2){null==g&&(g=0);null==h&&
(h=this.gj);var k=Math.abs(this.P2.na()-this.P2.la()),l=Math.abs(this.P2.ka()-this.P2.ma());f=new W(k/(this.lM-this.hG),0,0,l/(this.wV-this.WR),0,0);var m;var n=[];var p=(this.qR-this.tR)/(this.$L-1);for(m=0;m<this.$L;m++)n[m]=this.tR+m*p;for(m=0;m<this.gj;m++)p=Math.floor((this.oU[m]-this.yka)*this.$L/(this.xka-this.yka)),0>p&&(p=0),this.oU[m]>=this.xka&&(p=this.$L-1),this.yka===this.xka&&(p=Math.floor(this.$L/2)),this.sda[m]=n[p];if(this.Wza||this.Xza||this.Zca||this.$ca)for(m=g;m<h;m++){n=this.sda[m]/
2;var q=p=0;if(this.Wza||this.Zca)this.pl[m]+n/f.jf>this.lM&&(p=(k-n)/(this.pl[m]-this.hG),this.lM=Math.ceil(n/p+this.pl[m])),this.Ql[m]+n/f.wf>this.wV&&(q=(l-n)/(this.Ql[m]-this.WR),this.wV=Math.ceil(n/q+this.Ql[m]));if(this.Xza||this.$ca)this.pl[m]-n/f.jf<this.hG&&(p=(k-n)/(this.lM-this.pl[m]),this.hG=Math.floor(this.pl[m]-n/p)),this.Ql[m]-n/f.wf<this.WR&&(q=(l-n)/(this.wV-this.Ql[m]),this.WR=Math.floor(this.Ql[m]-n/q));0!==p&&(f.jf=p);0!==q&&(f.wf=q)}this.aj.x.Bh(this.hG,this.lM,f);this.Zca&&(this.hG=
this.aj.x.sf(),this.lM=this.aj.x.kg());this.aj.y.Bh(this.WR,this.wV,f);this.$ca&&(this.WR=this.aj.y.sf(),this.wV=this.aj.y.kg());m=new U(this.hG,this.WR,this.lM,this.wV);this.T7c=!0;n=this.sa(m);this.Ha(this.Sa);f.jf=k/(this.Sa.na()-this.Sa.la());f.wf=l/(this.Sa.ka()-this.Sa.ma());if(null==this.RL||n)this.RL=new tQ(this.Sa,5),n&&(g=0,h=this.gj,this.ha());0===g&&h===this.gj&&this.RL.clear();for(m=g;m<h;m++)g=this.sda[m]/2/f.jf,k=Math.abs(f.jf/f.wf),g=new U(this.pl[m]-g,this.Ql[m]-k*g,this.pl[m]+g,
this.Ql[m]+k*g),g.index=m,g.datax=this.pl[m],g.datay=this.Ql[m],this.RL.oa(g),this.CLa[m]=g,n||this.ha(g)}};c.prototype.zsb=function(){return this.aj.x};c.prototype.Asb=function(){return this.aj.y};c.prototype.Cwd=function(){var f=2;this.eta=Math.floor((this.qR-this.tR)/(this.$L-1));var g=this.$L*this.tR+this.$L*(this.$L-1)*this.eta/2+2*f*this.$L;if(g>this.Ihb){var h=this.eta/2,k=this.tR+2*f-h;g=-this.Ihb;h=Math.floor((Math.sqrt(k*k-4*h*g)-k)/(2*h));g=h*this.tR+h*(h-1)*this.eta/2+2*f*h;this.j7c=h-
1}this.qc?(h=this.qc instanceof To?this.qc.Dc()-this.qc.uc():this.Npb-this.Opb,this.Oqa=this.qc instanceof To?this.qc.nma():this.gj,this.Egc=1<this.Oqa?h/(this.Oqa-1):1):this.Oqa=1;var l=this.qR*this.Oqa+2*f*(this.Oqa+1);l>this.Ghb&&(h=Math.floor((this.Ghb-2*f)/(this.qR+2*f)),l=this.qR*h+2*f*(h+1),this.i7c=h-1);h=tg.ad(this.oL);k=X.Pa(this.T1||{width:2});this.j3={VVb:f,qk:new Gh(g,l),image:null};g=this.j3.qk.vq();this.j3.scale=g.Bs();for(l=0;l<this.Oqa;l++){null!=this.qc&&(f=this.qc instanceof To?
this.qc.uc()+l*this.Egc:this.eO[l],f=Pd.Sg(this.qc.rb(f)),h.setColor(f),null==this.T1&&k.setColor(f));for(var m=0;m<this.$L;m++){var n=this.tR+m*this.eta;f=this.j3.VVb;var p=f+m*this.tR+m*(m-1)*this.eta/2+2*f*m;f=f+l*this.qR+2*f*l;a.cb(p,f,p+n,f+n);g.qa(h,a);g.ra(k,a);this.vEa(l,m,g,n,n)}}this.j3.qk.Ko();this.j3.image=this.j3.qk.wk();this.VI=!0};c.prototype.vEa=function(f,g,h,k,l){var m=this.j3.VVb;g=m+g*this.tR+g*(g-1)*this.eta/2+2*m*g;f=m+f*this.qR+2*m*f;this.Wk(null,new U(g,f,g+k,f+l),h)};c.prototype.Ha=
function(f){this.Ce=f};c.prototype.pa=function(){return this.Ce};c.prototype.bUa=function(){this.VI=!1};c.prototype.render=function(f){var g=null!=this.Qa()?f.Zb(this.Qa()):f,h=g.Fa();g.yh(this);this.Eh(g);if(g.ac())this.h4a&&(f=g instanceof Vj?g.Iz():g.Rg(),g.qa(rf.kh),g.sc(this.ga()),g.fT({bubblechart:this,indices:this.j_(f,g.Fa())}));else{this.VI&&this.j3.scale===f.Bs()||this.Cwd();var k,l=[];var m=this.j_(g.Rg(),g.Fa());for(k=0;k<m.length;k++)m[k].datax&&m[k].datay&&l.push(m[k].index);l.sort(function(n,
p){return n-p});this.oQb=g;this.oQb.Tb(new W);for(k=0;k<l.length;++k)m=l[k],this.iEd(m,g,h,f.Bs());this.oQb.Tb(h);this.flb&&this.L4b(g);this.jh(g)}};c.prototype.iEd=function(f,g,h,k){null==k&&(k=1);var l=this.yka===this.xka?Math.floor(this.$L/2):Math.floor((this.oU[f]-this.yka)*this.$L/(this.xka-this.yka));if(!isNaN(l)){0>l&&(l=0);this.oU[f]>=this.xka&&(l=this.$L-1);var m=0;this.qc instanceof To?(m=Math.floor((this.eO[f]-this.Opb)*this.Oqa/(this.qc.Dc()-this.qc.uc())),0>m&&(m=0),this.eO[f]>=this.Npb&&
this.eO[f]>=this.qc.Dc()&&(m=this.Oqa-1)):null!==this.qc&&(m=f);l>this.j7c||m>this.i7c?(g.Tb(h),this.aid(f,m,g),g.Tb(new W)):this.Qla(f,l,m,h,k)}};c.prototype.L4b=function(f){var g=f.Fa(),h=this.dlb,k;for(k=0;k<this.Le.length;k++){var l=0,m=this.pl[k],n=this.blb;this.Pb.Eb(this.Le[k]);var p=Math.abs(g.pb()/g.Ab()),q=(this.sda[k]+2*h)/g.pb(),r=rg.measureText(this.Le[k],this.F1a);this.pl[k]+r.ca()/(2*g.pb())>this.lM&&(l=this.lM-(this.pl[k]+(r.ca()+2*h)/(2*g.pb())));this.pl[k]-r.ca()/(2*g.pb())<this.hG&&
(l=this.hG-(this.pl[k]-(r.ca()+2*h)/(2*g.pb())));m+=l;this.e4a&&(n===c.Z0.nb&&this.Ql[k]+p*q/2+r.da()/Math.abs(g.Ab())>this.wV||n===c.Z0.xd&&this.Ql[k]-p*q/2-r.da()/Math.abs(g.Ab())<this.WR)&&(n=this.e4a);n===c.Z0.nb?(this.Pb.tc(O.Xd),this.Pb.Db(m,this.Ql[k]+p*q/2)):n===c.Z0.xd?(this.Pb.tc(O.Je),this.Pb.Db(m,this.Ql[k]-p*q/2)):(this.Pb.tc(O.Na),this.Pb.Db(m,this.Ql[k]));this.Pb.render(f)}};c.prototype.j_=function(f,g){null==this.RL&&this.Bh();var h=g instanceof W?g:g.Fa();return f=4>f.ga().ca()*Math.abs(h.pb())&&
4>f.ga().da()*Math.abs(h.Ab())?this.RL.rd(f.ga(),g):this.RL.Or(f.ga(),g)};c.prototype.Qla=function(f,g,h,k,l){this.Fj.x=this.pl[f];this.Fj.y=this.Ql[f];var m=this.j3.scale;k.Ma(this.Fj,this.Fj);W.dl(l/m,l/m,b).Ma(this.Fj,this.Fj);k=this.Fj.x-this.sda[f]/2;l=this.Fj.y-this.sda[f]/2;var n=f=this.sda[f]*m,p=this.j3.VVb,q=(g*this.tR+g*(g-1)*this.eta/2+2*p*g)*m;h=(h*this.qR+2*p*h)*m;m=g=(this.tR+g*this.eta+2*p)*m;this.j3.qk.render(this.oQb,k,l,f,n,q,h,g,m)};c.prototype.aid=function(f,g,h){var k=h.Fa(),
l=Math.abs(k.pb()/k.Ab());k=this.sda[f]/2/k.pb();var m=this.pl[f]-k,n=this.Ql[f]-l*k;f=tg.ad(this.oL);var p=X.Pa(this.T1||{width:2});a.cb(m,n,m+2*k,n+2*l*k);null==this.qc?(h.qa(f,a),h.ra(p,a)):(g=this.qc instanceof To?this.qc.uc()+g*this.Egc:this.eO[g],g=Pd.Sg(this.qc.rb(g)),h.qa(f.setColor(g),a),h.ra(null!=this.T1?p:p.setColor(g),a));this.Wk(null,a,h)};c.prototype.Li=function(f,g){f instanceof U?(g=[f.la(),f.na(),f.na(),f.la()],f=[f.ka(),f.ka(),f.ma(),f.ma()],f=bk.KG(this.getRoot(),g,f,!0).filter(function(h){return h.iK()===
this&&null!=h.getData()&&0<h.getData().length}.bind(this))):f=bk.KG(this.getRoot(),f.x,f.y,g?g:10).filter(function(h){return h.iK()===this&&null!=h.getData()&&0<h.getData().length}.bind(this));return 0===f.length?null:(f=f[0].getData()[0].indices)?f.map(function(h){return h.index}):null};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJhZGREYXRhIjoiWXRhIiwicmVtb3ZlRGF0YSI6IndMYyIsInNldFBhcmVudEJvdW5kcyI6IlFjYiIsImdldFBhcmVudEJvdW5kcyI6InByZCIsInNldEJvdW5kcyI6InNhIiwiZ2V0Qm91bmRzIjoiZ2EiLCJ1cGRhdGVTdGF0ZSI6InhhIiwidXBkYXRlTGltaXRzIjoiQmgiLCJnZXRBeGlzRGltZW5zaW9uWCI6InpzYiIsImdldEF4aXNEaW1lbnNpb25ZIjoiQXNiIiwiaW52YWxpZGF0ZUNhY2hlIjoiYlVhIiwiZ2V0SW5kaWNlc0F0Ijoial8iLCJoaXRUZXN0IjoiTGkifX19");var xQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(k){k=xb(k,{alignment:O.Je,linestyle:"black",fillstyle:{color:"#f0f8ff",shadow:{enable:!0,color:"rgba(0, 0, 0, 0.5)",offsetx:2,offsety:2}},textstyle:{baseline:Di.DCb},ispointingup:!0,arrowsize:12,radius:3,padding:2},!0);ek.call(this,k);this.xqa=k.arrowsize;this.Cb=new Ug;this.J8=null;this.K4a=!0;this.EO=this.nPa=this.mPa=null;this.tc(this.lp());null!=k.sizemode&&this.Wj(k.sizemode)}function a(k,l,m,n){var p=l-k;return m>=n?[(m+n)/2,(m+n)/2]:n-m<p?[m,n]:k<m?[m,m+p]:l>n?
[n-p,n]:[k,l]}var b=1E-9,d=new Sg,e=new Sg,f=new W,g=new Vd,h=10;D(c,ek);L(c,"geotoolkit.controls.shapes.Callout");c.prototype.Ba=function(k,l){this.xqa=k.xqa;this.Cb.WAb(k.Cb.getX(),k.Cb.getY());this.J8=k.J8?k.J8.clone():null;this.K4a=k.K4a;return this};c.prototype.render=function(k){!this.Xrd()&&this.getParent()&&(this.myb(),this.BMd(!0));var l=this.Qa();l=null!=l?k.Zb(l):k;this.Eh(l);var m=this.fW(),n=l.Fa();this.Zg(l);var p=this.s4();p=n.Hc(p.cc(),p.zc()).clone();var q=W.Xj;0!==m&&(q=W.Xi(m,p.getX(),
p.getY()),W.multiply(q,n,f),k.Tb(f));(null!=this.fb()||null!=this.Ea()||k.ac())&&this.$k(l,n);null!=this.getState()&&this.ZDc()&&!k.ac()&&(this.a4(n,f),m=f.Ta(Vi.vp()).getCenter(),f.cB(f.hf()+p.getX()-m.getX(),f.We()+p.getY()-m.getY()),f.translate(0,1).scale(1/this.gud(),1/this.fud()),W.multiply(q,f,f),l.Tb(f),this.getState().nn(l));k.Tb(n);this.jh(l)};c.prototype.tc=function(k){var l=0<this.pGa()?this.pGa():this.ca(),m=0<this.xTa()?this.xTa():this.da(),n=0,p=0;qk.Iu(k)&&(n=l/2);qk.kv(k)&&(n=-l/2);
qk.Qz(k)&&(p=this.xqa+m/2);qk.dC(k)&&(p=-this.xqa-m/2);k===O.vd&&(n+=this.xqa);k===O.pe&&(n-=this.xqa);this.Cb.WAb(n,p);return ek.prototype.tc.call(this,k)};c.prototype.move=function(k,l){this.ha();this.Cb.WAb(this.Cb.getX()+k,this.Cb.getY()+l);this.xa().ha();return this};c.prototype.uub=function(){return this.Cb.getX()};c.prototype.vub=function(){return this.Cb.getY()};c.prototype.translate=function(k,l){return this.Db(this.pn()+k,this.Vl()+l)};c.prototype.$k=function(k,l){var m=this.ga(),n=this.s4(),
p=this.Fk();if(!isNaN(p.getX())&&!isNaN(p.getY())){var q=k.Fa();k.qa(this.fb(),m);k.ra(this.Ea(),m);l.Ma(p,p);q.hd(p,p);d.mWa(p,n.getCenter());var r=new M;m=[n.la(),n.na(),n.na(),n.la()];var t=[n.ka(),n.ka(),n.ma(),n.ma()],u=m.length;for(l=0;l<u;l++){var w=(l+1)%u;e.PM().Ga(m[l],t[l]);e.rS().Ga(m[w],t[w]);if(e.$la(d,null,r))break}g.setSize(this.c_(),this.c_());var y=q.Sk(g,g);w=Math.min(y.ca(),n.ca()/2);y=Math.min(y.da(),n.da()/2);var A=Math.max(w,h/q.pb()),x=Math.max(y,h/q.Ab());switch(l){case 0:case 2:var C=
Math.abs(this.xqa/q.pb()/2);C=a(r.getX()-C,r.getX()+C,n.getX()+A,n.na()-A);C=[n.getX()+w,C[0],p.getX(),C[1],n.na()-w];var z=[r.getY(),r.getY(),p.getY(),r.getY(),r.getY()];2===l&&C.reverse();break;case 1:case 3:C=Math.abs(this.xqa/q.Ab()/2);z=a(r.getY()-C,r.getY()+C,n.getY()+x,n.ma()-x);C=[r.getX(),r.getX(),p.getX(),r.getX(),r.getX()];z=[n.getY()+y,z[0],p.getY(),z[1],n.ma()-y];3===l&&z.reverse();break;case 4:C=[n.getX()+w,n.na()-w],z=[n.getY(),n.getY()]}k.beginPath();k.moveTo(C[0],z[0]);for(n=1;n<
C.length;n++)k.lineTo(C[n],z[n]);p=[0,-1,0,1];for(n=0;n<u;n++)l=(l+1)%u,r=m[l]+p[(l+3)%u]*w,C=t[l]+p[(l+2)%u]*y,k.lineTo(m[l]+p[l]*w,t[l]+p[(l+3)%u]*y).bezierCurveTo(m[l],t[l],r,C,r,C);k.closePath();k.xi();k.stroke()}};c.prototype.QJ=function(k){var l=0<this.pGa()?this.pGa():this.ca(),m=0<this.xTa()?this.xTa():this.da();l=(new U(0,0,l,m)).Uc(this.n4());this.Lz()&&null!=k&&k.pd(l,l);l.LG(this.pn(),this.Vl());l=k?k.Ta(l,l):l;this.Lz()?(this.Cb&&l.translate(this.Cb.getX(),this.Cb.getY()),l=k?k.pd(l,
l):l):(l=k?k.pd(l,l):l,this.Cb&&l.translate(this.Cb.getX(),this.Cb.getY()));this.J8=l.clone();0!==this.fW()&&(l=k?k.Ta(l,l):l,W.Xi(this.fW(),l.cc(),l.zc(),f),f.Ta(l,l),l=k?k.pd(l,l):l);return l.AN(this.pn(),this.Vl())};c.prototype.s4=function(){null==this.J8&&this.QJ(this.wa());return this.J8};c.prototype.Qa=function(){return this.lb()};c.prototype.bf=function(k){var l=k.Fa();if(this.EO!==k.Bs()||null==this.J8||Math.abs(this.mPa/l.pb()-1)>b||Math.abs(this.nPa/l.Ab()-1)>b)this.mPa=l.pb(),this.nPa=
l.Ab(),this.EO=k.Bs(),this.Ka=this.QJ(l);l=Xg.YSb(k,this.Ea());return!0===this.Ia()&&Cg.C_(this.ga(),this.lb(),k.Rg(),l)};c.prototype.TSc=function(k){if(this.K4a===k)return this;this.K4a=k;this.xa();this.ha();return this};c.prototype.ZDc=function(){return this.K4a};c.prototype.k8b=function(k){g.setSize(k.ca(),k.da());var l=this.wa()||W.Xj;this.Lz()&&this.wa().yC(g,g);g.Uc(-2*this.n4());this.setSize(g.ca(),g.da());k=k.getCenter();this.Lz()?(l.Ma(k,k),k.translate(-this.Cb.getX(),-this.Cb.getY()),l.hd(k,
k)):k.translate(-this.Cb.getX(),-this.Cb.getY());this.Db(k);return this};c.prototype.xa=function(k,l){this.J8=null;return ek.prototype.xa.call(this,k,l)};c.prototype.sn=function(k){this.J8=null;return ek.prototype.sn.call(this,k)};c.prototype.Bp=function(k){this.J8=null;return ek.prototype.Bp.call(this,k)};c.prototype.Db=function(k,l){this.J8=null;return ek.prototype.Db.call(this,k,l)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsInNldEFuY2hvclR5cGUiOiJ0YyIsImdldE9mZnNldFgiOiJ1dWIiLCJnZXRPZmZzZXRZIjoidnViIiwiY2FsY3VsYXRlQm91bmRzIjoiUUoiLCJnZXRUZXh0Qm91bmRzIjoiczQiLCJnZXRXb3JsZFRyYW5zZm9ybSI6IlFhIiwiY2hlY2tDb2xsaXNpb24iOiJiZiIsInNldFRleHRWaXNpYmxlIjoiVFNjIiwiZ2V0VGV4dFZpc2libGUiOiJaRGMiLCJzZXRUZXh0Qm91bmRzIjoiazhiIiwidXBkYXRlU3RhdGUiOiJ4YSIsInNldEFuY2hvclgiOiJzbiIsInNldEFuY2hvclkiOiJCcCIsInNldEFuY2hvciI6IkRiIn19fSAg");var yQ=/*#__PURE__*/function(){function c(a,b,d){a=d.fb();var e=new td(a.rb()),f=b.la(),g=b.ka(),h=b.ca();b=b.da();a.setColor(Pe.mzb(e,-.5).Nl());d.qa(a);d.Fx(f,g,h,b,0,2*Math.PI);a.setColor(e.Nl());d.qa(a);d.Fx(f+.5,g+.5,h-2,b-2,0,2*Math.PI);a.setColor(Pe.mzb(Pe.mzb(e,.5),.5).Nl());d.qa(a);d.Fx(f+1.5,g+1.5,h-5,b-5,0,2*Math.PI)}L(c,"geotoolkit.scene.shapes.painters.CrossPlotPainter");return c}();var zQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(k){var l={datax:[],minx:Number.NaN,maxx:Number.NaN,datay:[],miny:Number.NaN,maxy:Number.NaN,dataz:void 0,logx:!1,logy:!1,logz:!1,colorprovider:null,defaultcolor:"rgba(60,60,60,1)",defaultlinecolor:null,highlightcolor:"rgba(255,0,255,1)",symbolsize:8,painter:yQ};Sm.call(this,new U(0,0,1,1));this.B4a=this.fD=8;this.yNb=function(){this.VI=!1}.bind(this);this.RPb=[];this.Ir=[];this.FH=this.EBa=null;this.VI=!1;this.setData(G(k,l));this.vj=!1;this.qZ=null}function a(k,l){return null!=
k&&(k instanceof xG||k instanceof PG)?k.toArray(!1):l}var b=new rf("transparent"),d=new X({color:"transparent",width:1,pixelsnapmode:!0}),e=function(){function k(l,m,n,p,q){Hg.call(this);this.Oj=l;this.Vc=m.data;this.zd=n.data;this.Sta=m.log;this.Uta=n.log;this.Hh=p;this.DH=q;this.WU=[];this.rMa=!1;this.reset()}D(k,Hg);k.prototype.reset=function(){this.rMa=!1;this.lIb=this.$La=0;this.FLb=-1;this.mY=this.tAa=null;this.WU=[];this.SH(this.Oj);return this};k.prototype.Kg=function(){if(null!=this.mY)return!0;
for(;this.$La<this.WU.length;this.$La++){this.$La!==this.FLb&&(this.tAa=this.WU[this.$La],this.rMa=this.Hh.Cz(this.tAa.Hh.getX(),this.tAa.Hh.getY(),this.tAa.Hh.ca(),this.tAa.Hh.da()));for(;this.lIb<this.tAa.gj;){this.mY=this.tAa.Cr[this.lIb++];if(this.rMa){this.FLb=this.$La;if(!this.Hh.contains(this.Sta?V.log10(this.Vc[this.mY-this.Oj.Cb]):this.Vc[this.mY-this.Oj.Cb],this.Uta?V.log10(this.zd[this.mY-this.Oj.Cb]):this.zd[this.mY-this.Oj.Cb]))continue;return!0}if(this.Hh.contains(this.Sta?V.log10(this.Vc[this.mY-
this.Oj.Cb]):this.Vc[this.mY-this.Oj.Cb],this.Uta?V.log10(this.zd[this.mY-this.Oj.Cb]):this.zd[this.mY-this.Oj.Cb]))return this.FLb=this.$La,!0}this.lIb=0}this.mY=null;return!1};k.prototype.SH=function(l){null!=l&&l.Hh.Nd(this.Hh)&&(this.DH?(0<l.gj&&this.WU.push(l),this.SH(l.Ho),this.SH(l.uq),this.SH(l.jq),this.SH(l.kq)):(this.SH(l.Ho),this.SH(l.uq),this.SH(l.jq),this.SH(l.kq),0<l.gj&&this.WU.push(l)))};k.prototype.next=function(){if(this.Kg()){var l=this.mY;this.mY=null;return l-this.Oj.Cb}return null};
k.prototype.filter=function(l){var m=[];for(this.reset();this.Kg();){var n=this.next();l(n)&&m.push(n)}return m};k.prototype.forEach=function(l){for(this.reset();this.Kg();)l(this.next());return this};return k}(),f=function(){function k(l,m){this.Cr=[];this.Vk=m;this.Hh=l;this.kq=this.jq=this.uq=this.Ho=null;this.Cb=this.Cx=this.gj=0}k.prototype.ga=function(){return this.Hh};k.prototype.sa=function(l){null!=this.Hh&&this.Hh.wi(l)||(this.Hh=l,this.kq=this.jq=this.uq=this.Ho=null,this.Cb=this.Cx=this.gj=
0)};k.prototype.clear=function(){this.Cr=[];this.Cb=this.Cx=this.gj=0;null!=this.Ho&&this.Ho.clear();null!=this.uq&&this.uq.clear();null!=this.jq&&this.jq.clear();null!=this.kq&&this.kq.clear();return this};k.prototype.No=function(l){this.Cb=l;return this};k.prototype.Yb=function(){return this.Cx};k.prototype.remove=function(l){var m=this.Cx;if(0<this.gj){for(var n=l+this.Cb,p=-1,q=0;q<this.gj;++q)this.Cr[q]===n?p=q:this.Cr[q]>n&&this.Cr[q]--; -1!==p&&(this.Cr.splice(p,1),--this.Cx,--this.gj)}null!=
this.Ho&&(this.Cx-=this.Ho.remove(l));null!=this.uq&&(this.Cx-=this.uq.remove(l));null!=this.jq&&(this.Cx-=this.jq.remove(l));null!=this.kq&&(this.Cx-=this.kq.remove(l));return m===this.Cx?0:1};k.prototype.shift=function(){var l=this.Cx;0<this.gj&&this.Cr[0]===this.Cb&&(--this.Cx,--this.gj,this.Cr.splice(0,1));this.Cb++;null!=this.Ho&&(this.Cx-=this.Ho.shift());null!=this.uq&&(this.Cx-=this.uq.shift());null!=this.jq&&(this.Cx-=this.jq.shift());null!=this.kq&&(this.Cx-=this.kq.shift());return l===
this.Cx?0:1};k.prototype.oa=function(l,m,n){if(isNaN(n))return this;this.Cx+=1;if(0===this.Vk)return this.Cr[this.gj]=n+this.Cb,this.gj++,this;if(null==this.Ho){var p=this.Hh,q=this.Vk;this.Ho=(new k(new U(p.x,p.y,p.x+p.width/2,p.y+p.height/2),q-1)).No(this.Cb);this.uq=(new k(new U(p.x+p.width/2,p.y,p.x+p.width,p.y+p.height/2),q-1)).No(this.Cb);this.jq=(new k(new U(p.x,p.y+p.height/2,p.x+p.width/2,p.y+p.height),q-1)).No(this.Cb);this.kq=(new k(new U(p.x+p.width/2,p.y+p.height/2,p.x+p.width,p.y+p.height),
q-1)).No(this.Cb)}this.Ho.Hh.contains(l,m)?this.Ho.oa(l,m,n):this.uq.Hh.contains(l,m)?this.uq.oa(l,m,n):this.jq.Hh.contains(l,m)?this.jq.oa(l,m,n):this.kq.Hh.contains(l,m)?this.kq.oa(l,m,n):(this.Cr[this.gj]=n,this.gj++);return this};k.prototype.getIterator=function(l,m,n){return new e(this,m,n,l,!1)};k.prototype.Or=function(l,m,n,p){var q=l.ga(),r=[];if(this.Hh.Nd(q)){for(q=0;q<this.gj;q++){var t=this.Cr[q];l.contains(m[t],n[t])&&r.push(t-this.Cb)}null!=this.Ho&&(r=r.concat(this.Ho.Or(l,m,n,p)));
null!=this.uq&&(r=r.concat(this.uq.Or(l,m,n,p)));null!=this.jq&&(r=r.concat(this.jq.Or(l,m,n,p)));null!=this.kq&&(r=r.concat(this.kq.Or(l,m,n,p)))}return r};return k}(),g=new U(0,0,0,0),h=4;D(c,Sm);L(c,"geotoolkit.controls.shapes.CrossPlot");c.prototype.fa=function(k){k=hc(k);if(null==k)return this;Sm.prototype.fa.call(this,k);this.setData(k);return this};c.prototype.setData=function(k){k=G(k,{datax:Array.isArray(k.datax)?k.datax.slice():a(k.datax,this.GJ),minx:null!=k.minx?k.minx:this.P7,maxx:null!=
k.maxx?k.maxx:this.I7,datay:Array.isArray(k.datay)?k.datay.slice():a(k.datay,this.KJ),miny:null!=k.miny?k.miny:this.Q7,maxy:null!=k.maxy?k.maxy:this.J7,dataz:Array.isArray(k.dataz)?k.dataz.slice():a(k.dataz,this.X8),logx:null!=k.logx?k.logx:this.Sta,logy:null!=k.logy?k.logy:this.Uta,logz:null!=k.logz?k.logz:this.oad,colorprovider:k.colorprovider instanceof Oo?k.colorprovider:this.yB,defaultcolor:"string"==typeof k.defaultcolor?k.defaultcolor:this.eR,defaultlinecolor:null===k.defaultlinecolor||"string"==
typeof k.defaultlinecolor?k.defaultlinecolor:this.EBa,highlightcolor:"string"==typeof k.highlightcolor?k.highlightcolor:this.dNa,symbolsize:"number"==typeof k.symbolsize?k.symbolsize:this.fD,painter:null!=k.painter?k.painter:this.Wk,x:null!=k.x?k.x:{},y:null!=k.y?k.y:{},z:null!=k.z?k.z:{}});null!=k.x.data&&(k.datax=Array.isArray(k.x.data)?k.x.data.slice():a(k.x.data));null!=k.x.min&&(k.minx=k.x.min);null!=k.x.max&&(k.maxx=k.x.max);null!=k.y.data&&(k.datay=Array.isArray(k.y.data)?k.y.data.slice():
a(k.y.data));null!=k.y.min&&(k.miny=k.y.min);null!=k.y.max&&(k.maxy=k.y.max);null!=k.z.data&&(k.dataz=Array.isArray(k.z.data)?k.z.data.slice():a(k.z.data));if(k.datax instanceof xG||k.datax instanceof PG){var l=k.datax;l.on(oG.SN,function(t,u,w){this.h7a(w.count)}.bind(this));l.on(oG.TN,function(t,u,w){this.REa(w.from,w.count)}.bind(this));k.datax=a(k.datax,this.GJ)}if(k.datay instanceof xG||k.datay instanceof PG)l=k.datay,l.on(oG.SN,function(t,u,w){this.h7a(w.count)}.bind(this)),l.on(oG.TN,function(t,
u,w){this.REa(w.from,w.count)}.bind(this)),k.datay=a(k.datay,this.KJ);if(k.dataz instanceof xG||k.datax instanceof PG)l=k.dataz,l.on(oG.SN,function(t,u,w){this.h7a(w.count)}.bind(this)),l.on(oG.TN,function(t,u,w){this.REa(w.from,w.count)}.bind(this)),k.dataz=a(k.dataz,this.X8);this.$c=this.kd=-1;this.GJ=null!=k.datax?k.datax:[];this.KJ=null!=k.datay?k.datay:[];this.X8=null!=k.dataz?k.dataz:[];this.Sta=null!=k.logx?k.logx:!1;this.Uta=null!=k.logy?k.logy:!1;this.oad=null!=k.logz?k.logz:!1;this.eR=new td(k.defaultcolor);
this.EBa=null!=k.defaultlinecolor?new td(k.defaultlinecolor):null;if(void 0!==k.colorprovider){this.yB&&this.yB.za(No.gb,this.yNb);this.yB=k.colorprovider;if(this.yB instanceof Oo)this.yB.on(No.gb,this.yNb);this.VI=!1}this.dNa=new td(k.highlightcolor);this.Wk=k.painter;this.fD=k.symbolsize;l=null!=this.EBa?1:0;this.B4a=this.fD+2*l;l=Number.POSITIVE_INFINITY;for(var m=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,q=Math.min(this.GJ.length,this.KJ.length),r=0;r<q;++r)isNaN(this.GJ[r])||
isNaN(this.KJ[r])||(l=Math.min(l,this.GJ[r]),m=Math.max(m,this.GJ[r]),n=Math.min(n,this.KJ[r]),p=Math.max(p,this.KJ[r]));l=isNaN(k.minx)?l===Number.POSITIVE_INFINITY?Number.NaN:l:k.minx;m=isNaN(k.maxx)?m===Number.NEGATIVE_INFINITY?Number.NaN:m:k.maxx;n=isNaN(k.miny)?n===Number.POSITIVE_INFINITY?Number.NaN:n:k.miny;p=isNaN(k.maxy)?p===Number.NEGATIVE_INFINITY?Number.NaN:p:k.maxy;this.Sta&&(l=0<l?V.log10(l):0,m=0<m?V.log10(m):0);this.Uta&&(n=0<n?V.log10(n):0,p=0<p?V.log10(p):0);this.P7=l;this.I7=m;
this.Q7=n;this.J7=p;this.sa(new U(this.P7,this.Q7,this.I7,this.J7));this.V4a=0;this.VI=!1;this.Bh();this.ha();return this};c.prototype.getData=function(){return{datax:this.GJ,minx:this.P7,maxx:this.I7,datay:this.KJ,miny:this.Q7,maxy:this.J7,dataz:this.X8,colorprovider:this.yB,defaultcolor:this.eR,defaultlinecolor:this.EBa,highlightcolor:this.dNa,symbolsize:this.fD,painter:this.Wk}};c.prototype.Vm=function(){return this.yB};c.prototype.isEmpty=function(){return 0===this.ga().ca()&&0===this.ga().da()};
c.prototype.REa=function(k,l){for(var m=null!=this.qZ?this.qZ.ca():0,n=null!=this.qZ?this.qZ.da():0,p,q,r=k+l-1;r>=k;r--)q=r<this.Ir.length?this.Ir[r]:null,this.RL.remove(r),q&&(p=q.x,q=q.y,this.ha(g.cb(p-m,q-n,p+m,q+n)));this.Ir.splice(k,l)};c.prototype.xUb=function(k){for(var l=null!=this.qZ?this.qZ.ca():0,m=null!=this.qZ?this.qZ.da():0,n,p=0;p<k;p++){n=this.Ir[0];if(!n)break;this.RL.shift();this.Ir.shift();this.ha(g.cb(n.x-l,n.y-m,n.x+l,n.y+m))}};c.prototype.h7a=function(k){var l=Math.min(this.GJ.length,
this.KJ.length);this.i7a(l-k,k)};c.prototype.i7a=function(k,l){var m=Math.min(this.GJ.length,this.KJ.length),n=null!=this.X8?Math.min(m,this.X8.length):0;m=null!=this.pH?Math.min(m,this.pH.length):0;for(var p=null!=this.qZ?this.qZ.ca():0,q=null!=this.qZ?this.qZ.da():0,r=k;r<k+l;r++){var t=this.GJ[r],u=this.KJ[r],w=this.X8.length<=n?this.X8[r]:Number.NaN,y=r<m&&this.pH?this.pH[this.pH.length-1]:!1;w=y?this.dNa:isNaN(w)||null==this.yB?this.eR:Pd.Sg(this.yB.rb(w));this.oqc(this.vEa(w,null),t,u,r);null!=
this.RL&&this.RL.oa(t,u,r);this.ha(g.cb(t-p,u-q,t+p,u+q))}};c.prototype.oqc=function(k,l,m,n){this.Ir[n]={Aj:k,x:l,y:m}};c.prototype.xa=function(k,l){Sm.prototype.xa.call(this);l===Ee.vba&&(this.VI=!1,this.ha());return this};c.prototype.Bh=function(){this.V4a=Math.min(this.GJ.length,this.KJ.length);this.RL=new f(this.ga(),5);for(var k=!1,l=0;l<this.V4a;++l){var m=this.GJ[l],n=this.KJ[l];isNaN(m)||isNaN(n)||(k=!0,this.RL.oa(m,n,l))}!k&&(0>=this.ga().ca()||0>=this.ga().da())&&this.sa(new U(0,0,1,1));
this.VI=!1;return!0};c.prototype.axd=function(k){if(!this.VI&&0!==this.V4a){this.RPb=[];var l=Math.min(this.GJ.length,this.KJ.length),m=null!=this.X8?Math.min(l,this.X8.length):0,n=null!=this.pH?Math.min(l,this.pH.length):0;if(this.yB instanceof To||this.yB instanceof kp){var p=this.yB.nma();var q=this.B4a;var r=Math.ceil(Math.sqrt(p+2));this.FH={Qvc:r,m9b:q,current:{x:0,y:0},scale:k.Bs(),qk:k.Hy(r*(q+h),r*(q+h)),image:null};k=this.FH.qk.vq();k.zh({NWc:!0});q=(this.yB.Dc()-this.yB.uc())/p;for(p=this.yB.uc()-
.5*q;p<this.yB.Dc()+q;p+=q){var t=Pd.Sg(this.yB.rb(p));this.vEa(t,k)}this.vEa(this.eR,k);this.vEa(this.dNa,k);k.ro()}else q=this.B4a,r=null!=this.yB?Math.ceil(Math.sqrt(this.V4a)):2,this.FH={Qvc:r,m9b:q,current:{x:0,y:0},scale:k.Bs(),qk:k.Hy(r*(q+h),r*(q+h)),image:null},k=this.FH.qk.vq();k.zh({NWc:!0});for(p=0;p<l;++p){q=this.GJ[p];r=this.KJ[p];t=p<m?this.X8[p]:Number.NaN;var u=p<n?this.pH[p]:!1;isNaN(q)||isNaN(r)||(t=u?this.dNa:isNaN(t)||null==this.yB?this.eR:Pd.Sg(this.yB.rb(t)),this.oqc(this.vEa(t,
k),q,r,p))}k.ro();this.FH.image=this.FH.qk.wk();this.FH.image.Kza=Be.Py();this.VI=!0}};c.prototype.uNd=function(k){this.Wk!==k&&(this.Wk=k,this.VI=!1);return this};c.prototype.Rtd=function(){return this.Wk};c.prototype.vEa=function(k,l){var m=this.Tc(k);if(null!=m)return m;if(null==l)return null;null==this.Wk&&(this.Wk=yQ);m=this.FH.qk;var n=this.FH.current,p=this.FH.m9b,q=n.x*(p+h),r=n.y*(p+h),t=null,u=null;null!=this.EBa&&(t=d.setColor(this.EBa));null!=k&&(u=b.setColor(k.Nl()));l.ra(t);l.qa(u);
t=null!=t?t.ca():0;p=new U(q+t,r+t,q+p-t,r+p-t);this.Wk(null,p,l,k);m.Ko();m={x:n.x,y:n.y};n.x++;n.x>=this.FH.Qvc&&(n.x=0,n.y++);this.FH.current=n;this.QEd(k,m);return m};c.prototype.render=function(k){var l=null!=this.Qa()?k.Zb(this.Qa()):k;if(l.ac())k=l instanceof Vj?l.Iz():l.Rg(),l.qa(rf.kh),l.sc(this.ga()),l.fT({crossplot:this,indices:0<this.V4a?this.j_(k):[]});else{this.Eh(l);if(this.vj){var m=l.jg(),n=l.Fa();if(0===n.B9())return;l.save();m=n.pd(m);var p=new U(this.ga());p.intersect(m);n.Ta(p,
p);l.fh(p)}this.FH&&k.Bs()!==this.FH.scale&&(this.VI=!1);this.axd(k);l.zh({H$a:"shared"});this.Ihd(l);l.zh({H$a:"none"});this.vj&&l.restore();this.jh(l)}};c.prototype.qt=function(){return this.vj};c.prototype.Te=function(k){this.vj=k;this.xa();return this};c.prototype.Ihd=function(k){var l=k.Fa(),m=l.pd(k.jg());m.intersect(this.ga());var n=l.Ta(m);n.Uc(this.fD/2);l.pd(n,n);this.qZ=l.pd(new U(0,0,this.B4a,this.B4a));k.Tb(new W);if(null!=this.RL){var p=this.RL.getIterator(n,{data:this.GJ,log:this.Sta},
{data:this.KJ,log:this.Uta});m=new M(0,0);var q=Hg.toArray(p);q.sort(function(y,A){return y-A});var r=[];n=[];for(p=q.length-1;0<=p;p--){var t=q[p];m.x=this.GJ[t];m.y=this.KJ[t];l.Ma(m,m);var u=Math.round(m.x),w=Math.round(m.y);null==r[u]&&(r[u]=[]);null!=r[u][w]?r[u][w]++:(r[u][w]=1,n[n.length]=t)}for(p=n.length-1;0<=p;p--)if(t=n[p],t=this.Ir[t])m.x=this.Sta?V.log10(t.x):t.x,m.y=this.Uta?V.log10(t.y):t.y,l.Ma(m,m),this.Evc(k,t.Aj,m.x,m.y,null)}else for(m=new M(0,0),p=0;p<this.Ir.length;++p)t=this.Ir[p],
m.x=this.Sta?V.log10(t.x):t.x,m.y=this.Uta?V.log10(t.y):t.y,l.Ma(m,m),n.contains(m.x,m.y)&&this.Evc(k,this.Ir[p].Aj,m.x,m.y,null);k.Tb(l);return this};c.prototype.Evc=function(k,l,m,n,p){if(this.FH.image){if(null==l)return this;var q=this.FH.m9b,r=k.Bs();p=l.x*(q+h)*r;var t=l.y*(q+h)*r,u=q*r,w=q*r;m-=q/2;n-=q/2;var y=q;m=Math.round(m);n=Math.round(n);if(k instanceof pk&&r===this.FH.scale){if(null==l.QG){r=new Gh(u,w,!0,!0,r);var A=r.vq();A.drawImage(this.FH.image,p,t,u,w,0,0,u,w);r.Ko();l.QG=r.wk();
l.QG.Kza=Be.Py()}k.drawImage(l.QG,0,0,u,w,m,n,y,q)}else k.drawImage(this.FH.image,p,t,u,w,m,n,y,q)}else l=new X("#000",1.5),p=new rf(p),k.ra(l),k.qa(p),k.Fx(m-2,n-2,4,4,0,2*Math.PI);return this};c.prototype.Tc=function(k){var l=k.lk(),m=k.kk(),n=k.ik();k=k.Ek();var p=this.RPb;if(null==p[l])return null;l=p[l];if(null==l[m])return null;m=l[m];if(null==m[n])return null;n=m[n];return null==n[k]?null:n[k]};c.prototype.QEd=function(k,l){var m=k.lk(),n=k.kk(),p=k.ik();k=k.Ek();var q=this.RPb,r=q[m];if(null!=
r){var t=r[n];if(null!=t){var u=t[p];null!=u?u[k]=l:(u=[],u[k]=l,t[p]=u)}else t=[],u=[],u[k]=l,t[p]=u,r[n]=t}else r=[],t=[],u=[],u[k]=l,t[p]=u,r[n]=t,q[m]=r;return this};c.prototype.Otb=function(){var k=[];null==this.pH&&(this.pH=[]);for(var l=0;l<this.pH.length;++l)!0===this.pH[l]&&k.push(l);return k};c.prototype.W_b=function(k,l){k=this.j_(k);return this.sW(k,l)};c.prototype.P0b=function(k,l){return k.every(function(m){return m!==l})};c.prototype.sW=function(k,l){var m=!1;if(!0===l&&null!=this.pH)for(l=
0;l<this.pH.length;++l)!0===this.pH[l]&&this.P0b(k,l)&&(m=!0,this.pH[l]=!1);null==this.pH&&(this.pH=[]);for(l=0;l<k.length;++l)!0!==this.pH[k[l]]&&(m=!0,this.pH[k[l]]=!0);m&&(this.VI=!1,this.ha());return this};c.prototype.j_=function(k){null==this.RL&&this.Bh();return this.RL.Or(k,this.GJ,this.KJ,null)};c.prototype.wCc=function(k){var l=[];k=this.j_(k);for(var m=0;m<k.length;++m){var n=k[m];l[m]={x:this.GJ[n],y:this.KJ[n],z:this.X8[n]}}return l};c.prototype.ia=function(){var k=Sm.prototype.ia.call(this);
k.minx=this.P7;k.maxx=this.I7;k.miny=this.Q7;k.maxy=this.J7;k.colorprovider=this.yB;k.defaultcolor=this.eR;k.defaultlinecolor=this.EBa;k.highlightcolor=this.dNa;k.symbolsize=this.fD;k.painter=this.Wk;k.x={min:this.P7,max:this.I7};k.y={min:this.Q7,max:this.J7};return k};c.prototype.dispose=function(){this.yB&&this.yB.za(No.gb,this.yNb);Sm.prototype.dispose.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRDb2xvclByb3ZpZGVyIjoiVm0iLCJ1cGRhdGVTdGF0ZSI6InhhIiwidXBkYXRlTGltaXRzIjoiQmgiLCJzZXRTeW1ib2xQYWludGVyIjoidU5kIiwiZ2V0U3ltYm9sUGFpbnRlciI6IlJ0ZCIsImlzQ2xpcHBpbmdFbmFibGVkIjoicXQiLCJlbmFibGVDbGlwcGluZyI6IlRlIiwiZ2V0SGlnaGxpZ2h0ZWRJbmRpY2VzIjoiT3RiIiwiaGlnaGxpZ2h0QXJlYSI6IldfYiIsImhpZ2hsaWdodEluZGljZXMiOiJzVyIsImdldEluZGljZXNBdCI6ImpfIiwiZ2V0UG9pbnRzQXQiOiJ3Q2MiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var AQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}c.KUc=function(a,b,d){var e=Math.sqrt(50),f=Math.sqrt(10),g=Math.sqrt(2);b=(b-a)/Math.max(0,d);a=Math.floor(Math.log(b)/Math.LN10);b/=Math.pow(10,a);return 0<=a?(b>=e?10:b>=f?5:b>=g?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(b>=e?10:b>=f?5:b>=g?2:1)};c.qh=function(a,b,d){var e=arguments.length;a=+a;b=+b;d=2>e?(b=a,a=0,1):3>e?1:+d;e=-1;for(var f=Math.max(0,Math.ceil((b-a)/d))|0,g=Array(f);++e<f;)g[e]=a+e*d;return g};c.Iua=function(a,b){var d,e,f;if(void 0===b)for(f=0;f<a.length;f++){var g=
a[f];null!=g&&(void 0===d?g>=g&&(d=e=g):(d>g&&(d=g),e<g&&(e=g)))}else{var h=-1;for(f=0;f<a.length;f++)g=a[f],null!=(g=b(g,++h,a))&&(void 0===d?g>=g&&(d=e=g):(d>g&&(d=g),e<g&&(e=g)))}return[d,e]};c.LUc=function(a,b,d){var e,f=-1,g;b=+b;a=+a;d=+d;if(a===b&&0<d)return[a];if(e=b<a){var h=a;a=b;b=h}if(0===(g=c.KUc(a,b,d))||!isFinite(g))return[];if(0<g)for(d=Math.round(a/g),h=Math.round(b/g),d*g<a&&++d,h*g>b&&--h,a=Array(h=h-d+1);++f<h;)a[f]=(d+f)*g;else for(g=-g,d=Math.round(a*g),h=Math.round(b*g),d/g<
a&&++d,h/g>b&&--h,a=Array(h=h-d+1);++f<h;)a[f]=(d+f)/g;e&&a.reverse();return a};c.B9b=function(a,b,d){var e=Math.sqrt(50),f=Math.sqrt(10),g=Math.sqrt(2),h=Math.abs(a-b)/Math.max(0,d);d=Math.pow(10,Math.floor(Math.log(h)/Math.LN10));h/=d;h>=e?d*=10:h>=f?d*=5:h>=g&&(d*=2);return b<a?-d:d};return c}(),1,"eyJ0aWNrSW5jcmVtZW50IjoiS1VjIiwicmFuZ2UiOiJxaCIsInRpY2tzIjoiTFVjIiwidGlja1N0ZXAiOiJCOWIifSAg");var BQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(m){m=G(m,{dx:1,dy:1,thresholds:a,smooth:!0},!0);this.Xn=m.dx;this.mq=m.dy;this.l3=m.thresholds;this.tLb=!1;this.Wnc=null;this.cNd(m.smooth)}function a(m){return Math.ceil(Math.log(d(m))/Math.LN2)+1}function b(m){for(var n=0,p=m.length,q=m[p-1][1]*m[0][0]-m[p-1][0]*m[0][1];++n<p;)q+=m[n-1][1]*m[n][0]-m[n-1][0]*m[n][1];return q}function d(m,n){var p=0,q;if(void 0===n)for(q=0;q<m;q++){var r=m[q];null!=r&&(r=+r)>=r&&++p}else{var t=-1;for(q=0;q<m;q++)r=m[q],null!=(r=n(r,++t,
m))&&(r=+r)>=r&&++p}return p}function e(m,n){for(var p=-1,q=n.length,r;++p<q;)if(r=f(m,n[p]))return r;return 0}function f(m,n){for(var p=n[0],q=n[1],r=-1,t=0,u=m.length,w=u-1;t<u;w=t++){var y=m[t],A=y[0],x=y[1];w=m[w];var C=w[0],z=w[1];if(g(y,w,n))return 0;x>q!==z>q&&p<(C-A)*(q-x)/(z-x)+A&&(r=-r)}return r}function g(m,n,p){var q=+(m[0]===n[0]);return k(m,n,p)&&h(m[q],p[q],n[q])}function h(m,n,p){return m<=n&&n<=p||p<=n&&n<=m}function k(m,n,p){return(n[0]-m[0])*(p[1]-m[1])===(p[0]-m[0])*(n[1]-m[1])}var l=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];c.prototype.h$c=function(m,n,p){m.forEach(function(q){var r=q[0],t=q[1],u=r|0,w=t|0,y=n[w*this.Xn+u];if(0<r&&r<this.Xn&&u===r){var A=n[w*this.Xn+u-1];q[0]=r+(p-A)/(y-A)-.5}0<t&&t<this.mq&&
w===t&&(A=n[(w-1)*this.Xn+u],q[1]=t+(p-A)/(y-A)-.5)}.bind(this))};c.prototype.$re=function(){return this.tLb};c.prototype.cNd=function(m){this.Wnc=(this.tLb=m)?this.h$c.bind(this):function(){}};c.prototype.index=function(m){return 2*m[0]+m[1]*(this.Xn+1)*4};c.prototype.setSize=function(m,n){this.Xn=Math.floor(m);this.mq=Math.floor(n);return this};c.prototype.nvb=function(){return this.l3};c.prototype.gdb=function(m){Array.isArray(m)?this.l3=m.slice():this.l3=m;return this};c.prototype.Ild=function(m,
n){var p=[],q=[];this.LGc(m,n,function(r){this.Wnc(r,m,n);0<b(r)?p.push([r]):q.push(r)}.bind(this));q.forEach(function(r){for(var t=0,u=p.length,w;t<u;++t)if(-1!==e((w=p[t])[0],r)){w.push(r);break}});return{value:n,coordinates:p}};c.prototype.LGc=function(m,n,p){var q=this.Xn,r=this.mq,t=[],u=[],w,y=function(B){var E=[B[0][0]+A,B[0][1]+w];B=[B[1][0]+A,B[1][1]+w];var H=this.index(E),F=this.index(B),I,J;(I=u[H])?(J=t[F])?(delete u[I.end],delete t[J.start],I===J?(I.k5.push(B),p(I.k5)):t[I.start]=u[J.end]=
{start:I.start,end:J.end,k5:I.k5.concat(J.k5)}):(delete u[I.end],I.k5.push(B),u[I.end=F]=I):(I=t[F])?(J=u[H])?(delete t[I.start],delete u[J.end],I===J?(I.k5.push(B),p(I.k5)):t[J.start]=u[I.end]={start:J.start,end:I.end,k5:J.k5.concat(I.k5)}):(delete t[I.start],I.k5.unshift(E),t[I.start=H]=I):t[H]=u[F]={start:H,end:F,k5:[E,B]}}.bind(this);var A=w=-1;var x=m[0]>=n;for(l[x<<1].forEach(y);++A<q-1;){var C=x;x=m[A+1]>=n;l[C|x<<1].forEach(y)}for(l[x<<0].forEach(y);++w<r-1;){A=-1;x=m[w*q+q]>=n;var z=m[w*
q]>=n;for(l[x<<1|z<<2].forEach(y);++A<q-1;){C=x;x=m[w*q+q+A+1]>=n;var v=z;z=m[w*q+A+1]>=n;l[C|x<<1|z<<2|v<<3].forEach(y)}l[x|z<<3].forEach(y)}A=-1;z=m[w*q]>=n;for(l[z<<2].forEach(y);++A<q-1;)v=z,z=m[w*q+A+1]>=n,l[z<<2|v<<3].forEach(y);l[z<<3].forEach(y)};c.prototype.r8a=function(m){function n(t,u){return t-u}var p="function"===typeof this.l3?this.l3(m):this.l3;if(Array.isArray(p))p=p.slice().sort(n);else{var q=AQ.Iua(m),r=AQ.B9b(q[0],q[1],p);p=AQ.LUc(Math.floor(q[0]/r)*r,Math.floor(q[1]/r-1)*r,p)}return p.map(function(t){return this.Ild(m,
t)}.bind(this))};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUaHJlc2hvbGRzIjoibnZiIiwic2V0VGhyZXNob2xkcyI6ImdkYiIsImlzb3JpbmdzIjoiTEdjIiwiZ2V0Q29udG91cnMiOiJyOGEifX19");var CQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(g){g=G(g,{dimension:new Vd(960,500),cellsize:4,bandwidth:20,thresholds:40,x:[],y:[],weight:1,modellimits:null},!0);this.Xn=g.dimension.ca();this.mq=g.dimension.da();this.Vc=g.x;this.zd=g.y;this.Lh=g.modellimits||new U(f(this.Vc),f(this.zd),e(this.Vc),e(this.zd));this.WDa=g.weight;this.xhb=g.bandwidth;this.MHb=g.cellsize;this.FE=Math.round((Math.sqrt(4*this.xhb*this.xhb+1)-1)/2);this.isa=Math.floor(Math.log(this.MHb)/Math.LN2);this.l3=g.thresholds;this.ei=3*this.FE;this.bp=
this.Xn+2*this.ei>>this.isa;this.Alb=this.mq+2*this.ei>>this.isa;this.Y2a=this.pE=null;this.Dnb()}function a(g,h,k){for(var l=g.width,m=g.height,n=(k<<1)+1,p=0;p<l;++p)for(var q=0,r=0;q<m+k;++q)q<m&&(r+=g.data[p+q*l]),q>=k&&(q>=n&&(r-=g.data[p+(q-n)*l]),h.data[p+(q-k)*l]=r/Math.min(q+1,m-1+n-q,n))}function b(g,h,k){for(var l=g.width,m=g.height,n=(k<<1)+1,p=0;p<m;++p)for(var q=0,r=0;q<l+k;++q)q<l&&(r+=g.data[q+p*l]),q>=k&&(q>=n&&(r-=g.data[q-n+p*l]),h.data[q-k+p*l]=r/Math.min(q+1,l-1+n-q,n))}function d(g,
h,k,l){if(null==k||null==l)return null;for(var m=0,n=0;n<k.length;n++)m+=Math.pow(g-k[n],2)+Math.pow(h-l[n],2);g=Math.sqrt(m);return k.length/g}function e(g,h){var k,l;if(void 0===h)for(k=0;k<g.length;k++){var m=g[k];null!=m&&(l<m||void 0===l&&m>=m)&&(l=m)}else{var n=-1;for(k=0;k<g.length;k++)m=g[k],null!=(m=h(m,++n,g))&&(l<m||void 0===l&&m>=m)&&(l=m)}return l}function f(g,h){var k,l;if(void 0===h)for(k=0;k<g.length;k++){var m=g[k];null!=m&&(l>m||void 0===l&&m>=m)&&(l=m)}else{var n=-1;for(k=0;k<g.length;k++)m=
g[k],null!=(m=h(m,++n,g))&&(l>m||void 0===l&&m>=m)&&(l=m)}return l}D(c,ue);L(c,"geotoolkit.controls.util.density.DensityGrid");c.prototype.getX=function(){return this.Vc};c.prototype.setX=function(g){this.Vc=g;this.l_a=this.Rhb=null;return this.kCa()};c.prototype.cc=function(){return this.Rhb};c.prototype.getY=function(){return this.zd};c.prototype.setY=function(g){this.zd=g;this.l_a=this.Shb=null;return this.kCa()};c.prototype.zc=function(){return this.Shb};c.prototype.Ixc=function(){null==this.l_a&&
(this.l_a=d(this.Rhb,this.Shb,this.Vc,this.zd));return this.l_a};c.prototype.setValues=function(g,h){this.Vc=g;this.zd=h;this.l_a=this.Shb=this.Rhb=null;return this.kCa()};c.prototype.pa=function(){return this.Lh};c.prototype.Ha=function(g){this.Lh=g||new U(f(this.Vc),f(this.zd),e(this.Vc),e(this.zd));return this.kCa()};c.prototype.lna=function(){return this.WDa};c.prototype.Wve=function(g){if(this.WDa===g)return this;this.WDa=g;return this.kCa()};c.prototype.aAc=function(){return new Vd(this.Xn,
this.mq)};c.prototype.DPc=function(g){if(null==g)throw Error("invalid dimension");this.Xn=g.ca();this.mq=g.da();return this.Dnb()};c.prototype.bK=function(){return new Vd(this.bp,this.Alb)};c.prototype.LWb=function(){return this.MHb};c.prototype.ZNc=function(g){if(this.LWb()===g)return this;this.MHb=g;this.isa=Math.floor(Math.log(g)/Math.LN2);return this.Dnb()};c.prototype.nvb=function(){return this.l3};c.prototype.gdb=function(g){if(this.l3===g)return this;Array.isArray(g)?this.l3=g.slice():this.l3=
g;return this.kCa()};c.prototype.zWb=function(){return this.xhb};c.prototype.MNc=function(g){if(this.zWb()===g)return this;if(0>g)throw Error("invalid bandwidth");this.xhb=g;this.FE=Math.round((Math.sqrt(4*g*g+1)-1)/2);return this.Dnb()};c.prototype.bAc=function(){var g=new U(0,0,this.Xn,this.mq),h=this.Lh;g=W.Sd(h,g);h=this.isa;var k=this.ei;k=W.cf(-k,-k);h=W.dl(Math.pow(2,h),Math.pow(2,h));h=W.multiply(k,h);return g=W.multiply(g.rc(),h)};c.prototype.kCa=function(){null!=this.Y2a&&this.Y2a++;this.pE=
this.JIb=null;this.notify(Ce.Xe,this,null);return this};c.prototype.Dnb=function(){this.ei=3*this.FE;this.bp=this.Xn+2*this.ei>>this.isa;this.Alb=this.mq+2*this.ei>>this.isa;this.kCa();return this};c.prototype.Fcd=function(){var g=this.Vc,h=this.zd,k=this.WDa,l=this.isa,m=this.ei,n=this.bp,p=this.Alb,q=new Float32Array(n*p),r=new Float32Array(n*p),t=Math.pow(2,-l);var u=new U(0,0,this.Xn,this.mq);var w=this.Lh;null==w&&(w=new U(f(g),f(h),e(g),e(h)));w=W.Sd(w,u);var y=0,A=0;for(u=0;u<g.length;u++){var x=
g[u],C=h[u];y+=x;A+=C;x=w.Hc(x,C);var z=(x.x+m)*t,v=(x.y+m)*t;x=k;if(0<=z&&z<n&&0<=v&&v<p){C=Math.floor(z);var B=Math.floor(v);z=z-C-.5;v=v-B-.5;q[C+B*n]+=(1-z)*(1-v)*x;q[C+1+B*n]+=z*(1-v)*x;q[C+1+(B+1)*n]+=z*v*x;q[C+(B+1)*n]+=(1-z)*v*x}}this.Rhb=y/g.length;this.Shb=A/h.length;g=this.FE;h=3;for(u=0;u<h;u++)b({width:n,height:p,data:q},{width:n,height:p,data:r},g>>l),a({width:n,height:p,data:r},{width:n,height:p,data:q},g>>l);return q};c.prototype.x8a=function(){null==this.JIb&&(this.JIb=this.Fcd());
return this.JIb};c.prototype.Imd=function(g,h){var k=this.x8a();return k[h*this.bp+g]};c.prototype.r8a=function(){function g(w){w.value*=Math.pow(2,-2*p);w.coordinates.forEach(h);return w}function h(w){w.forEach(k)}function k(w){w.forEach(l)}function l(w){var y=n.Hc(w[0],w[1]);w[0]=y.x;w[1]=y.y}if(null!=this.pE)return this.pE;var m=this.x8a(),n=this.bAc(),p=this.isa,q=this.bp,r=this.Alb,t=this.l3;t="function"===typeof t?t(m):t;if(!Array.isArray(t)){var u=e(m);t=AQ.B9b(0,u,t);t=AQ.qh(0,Math.floor(u/
t)*t,t);t.shift()}m=(new BQ).setSize(q,r).gdb(t).r8a(m);return this.pE=m=m.map(g)};c.prototype.ia=function(){return{dimension:this.aAc(),cellsize:this.LWb(),bandwidth:this.zWb(),thresholds:this.nvb(),x:this.getX(),y:this.getY(),modellimits:this.pa()}};c.prototype.fa=function(g){g=hc(g);if(null==g)return this;var h=this.ko();this.oe(!0);this.Y2a=0;g.dimension&&this.DPc(g.dimension);g.cellsize&&this.ZNc(g.cellsize);g.bandwidth&&this.MNc(g.bandwidth);g.thresholds&&this.gdb(g.thresholds);g.hasOwnProperty("x")&&
this.setX(g.x);g.hasOwnProperty("y")&&this.setY(g.y);g.hasOwnProperty("modellimits")&&this.Ha(g.modellimits);this.oe(h);0<this.Y2a&&!0!==h&&this.notify(Ce.Xe,this,null);this.Y2a=null;return this};c.He=function(g,h,k,l,m){if(void 0===k&&!0===l)return h;if(null!=h&&null!=k&&!0===l)k instanceof c&&(k=k.ia()),h.fa(k);else if(null!=h&&null!=g&&null!=m&&h.za(Ce.Xe,m),h=c.Pa(k),null!=h&&null!=g&&null!=m)h.on(Ce.Xe,m);return h};c.Pa=function(g){return g instanceof c||null==g?g:new c(g)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDZW50ZXJYIjoiY2MiLCJnZXRDZW50ZXJZIjoiemMiLCJnZXRBdmVyYWdlRGlzdGFuY2UiOiJJeGMiLCJnZXRNb2RlbExpbWl0cyI6InBhIiwic2V0TW9kZWxMaW1pdHMiOiJIYSIsImdldEdyaWREaW1lbnNpb24iOiJhQWMiLCJzZXRHcmlkRGltZW5zaW9uIjoiRFBjIiwiZ2V0R3JpZFNpemUiOiJiSyIsImdldENlbGxTaXplIjoiTFdiIiwic2V0Q2VsbFNpemUiOiJaTmMiLCJnZXRUaHJlc2hvbGRzIjoibnZiIiwic2V0VGhyZXNob2xkcyI6ImdkYiIsImdldEJhbmR3aWR0aCI6InpXYiIsInNldEJhbmR3aWR0aCI6Ik1OYyIsImdldEdyaWRUb01vZGVsVHJhbnNmb3JtYXRpb24iOiJiQWMiLCJnZXREZW5zaXR5VmFsdWVzIjoieDhhIiwiZ2V0RGVuc2l0eVZhbHVlQXQiOiJJbWQiLCJnZXRDb250b3VycyI6InI4YSIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSJ9fX0g");var DQ=/*#__PURE__*/va(/*#__PURE__*/{Path:"path",UT:"spline"},2,"eyJTcGxpbmUiOiJVVCJ9"),EQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e){e=G(e,{grid:null,linestyle:b.clone(),fillstyle:d.clone(),bandspacing:0,bandopacity:1,colorprovider:null,geometry:c.pKa.Path},!0);Cg.call(this,e);this.pE=this.c7c=this.HF=this.Sa=null;this.Cqa=e.bandspacing;this.Bqa=e.bandopacity;this.qc=e.colorprovider;this.z7=!1;this.hR=e.geometry;this.vlc=function(){this.ha();this.pE=this.u0b(this.HF,this.hR);this.z7=!1;this.Lh=null!=this.HF?this.HF.pa():null;this.ha()}.bind(this);this.W5b(e.grid)}var a=
"density",b=(new td("black")).ZA(.5),d=(new td("black")).ZA(.1);L(c,"geotoolkit.controls.shapes.density.DensityContourShape");D(c,Cg);c.pKa=DQ;c.prototype.dispose=function(){this.ge()||(null!=this.HF&&(this.HF.za(Ce.Xe,this.vlc),this.HF=null),Cg.prototype.dispose.call(this))};c.prototype.clone=function(){return Object.getPrototypeOf(this)!==c.prototype?Cb(this):(new c({grid:this.HF,bandspacing:this.Cqa,bandopacity:this.Bqa,colorprovider:this.qc,geometry:this.hR})).Ba(this,!0)};c.prototype.Ba=function(e,
f){!0===f&&Cg.prototype.Ba.call(this,e,f);return this};c.prototype.u0b=function(e,f){if(null==e)return null;e=e.r8a();for(var g=this.fb(),h=this.Ea(),k=[],l=0;l<e.length;l++){var m=e[l],n=m.coordinates,p=null;f===c.pKa.Path&&(p=(new dh({fillstyle:g,linestyle:h})).setProperty(a,m.value),k.push(p));for(var q,r=0;r<n.length;r++)for(var t=0;t<n[r].length;t++){var u=n[r][t];if(f===c.pKa.Path){p.moveTo(u[0][0],u[0][1]);for(q=0;q<u.length;q++)p.lineTo(u[q][0],u[q][1]);p.close()}else{var w=[],y=[];for(q=
0;q<u.length;q++)w.push(u[q][0]),y.push(u[q][1]);q=(new io({x:w,y:y,fillstyle:g,linestyle:h})).setProperty(a,m.value);k.push(q)}}}return k};c.prototype.wQd=function(){this.z7=!0;var e=null!=this.pE?this.pE.length:0;if(0===e)return this;var f,g=this.Cqa;var h=this.Bqa;var k=this.Ea(),l=this.fb();if(0===g||null!=this.qc){for(h=0;h<e;h++){if(this.qc)if(g=this.pE[h].mt(a),g=this.qc.rb(g),null==g)k=this.Ea(),l=this.fb();else{var m=g.clone().setColor(.7*g.lk(),.7*g.kk(),.7*g.ik());k=null!=k?k.clone().setColor(m):
null;l=null!=l?l.clone().setColor(g):null}this.pE[h].ra(k).qa(l)}return this}l=l?new td(l.rb()):null;m=(k=k?new td(k.rb()):null)?k.clone().ZA(.2):null;var n=this.HF.Ixc();n=W.Sd(new U(0,0,e,e),new U(h/100,h/100,n/50,n/50));var p=this.pE;if(this.hR===c.pKa.UT){p=[];for(h=0;h<e;h++){var q=this.pE[h];var r=q.mt(a);var t=null;for(f=0;f<p.length;f++)if(V.equals(p[f].density,r)){t=p[f];break}null==t?(t={density:r,utc:[q]},p.push(t)):t.utc.push(q)}e=p.length}for(h=0;h<e;h++){f=n.Hc(h,h).x;r=0===(h+g)%g?
k:m;var u=0===(h+g)%g?l.clone().ZA(f):null;if(this.hR===c.pKa.Path)p[h].ra(r).qa(u);else for(t=p[h].utc,f=0;f<t.length;f++)q=t[f],q.ra(r).qa(u)}return this};c.prototype.Hmd=function(){return this.HF};c.prototype.W5b=function(e,f){if(this.HF===e)return this;this.ha();var g=this.HF;this.HF=CQ.He(this,this.HF,e,f,this.vlc);null!=this.HF?(g!==this.HF&&(this.pE=this.u0b(this.HF,this.hR)),this.Lh=null!=this.HF?this.HF.pa():null,this.z7=!1):this.Lh=this.pE=null;this.ha();return this};c.prototype.x8a=function(){return null==
this.pE?null:this.pE.map(function(e){return e.gre()})};c.prototype.Vm=function(){return this.qc};c.prototype.Ur=function(e){if(this.qc===e)return this;this.qc=e;this.z7=!1;this.ha();return this};c.prototype.Vd=function(){return this.hR};c.prototype.$m=function(e){if(this.hR===e)return this;this.hR=e;this.pE=this.u0b(this.HF,this.hR);this.z7=!1;this.ha();return this};c.prototype.Gkd=function(){return this.Cqa};c.prototype.LNc=function(e){if(this.Cqa===e)return this;this.Cqa=e;this.z7=!1;this.ha();
return this};c.prototype.Fkd=function(){return this.Bqa};c.prototype.KNc=function(e){if(this.Bqa===e)return this;this.Bqa=e;this.z7=!1;this.ha();return this};c.prototype.$Id=function(e){if(null==e||e.bandspacing===this.Cqa&&e.bandopacity===this.Bqa)return this;null!=e.bandspacing&&(this.Cqa=e.bandspacing);null!=e.bandopacity&&(this.Bqa=e.bandopacity);this.z7=!1;this.ha();return this};c.prototype.ga=function(){return this.Sa||this.c7c};c.prototype.render=function(e){if(null!=this.pE&&0!==this.pE.length){this.z7||
this.wQd();e=null!=this.Qa()?e.Zb(this.Qa()):e;for(var f=0;f<this.pE.length;f++)this.pE[f].render(e)}};c.prototype.xa=function(e,f){Cg.prototype.xa.call(this,e,f);f===Ee.Xha&&(this.z7=!1);return this};c.prototype.sb=function(){null===this.ll&&(this.ll=function(e,f,g){this.z7=!1;return this.ha()}.bind(this));return this.ll};c.prototype.ia=function(){var e=Cg.prototype.ia.call(this);e.grid=this.HF;e.bandspacing=this.Cqa;e.bandopacity=this.Bqa;e.colorprovider=this.qc;e.geometry=this.hR;return e};c.prototype.fa=
function(e){e=hc(e);if(null==e)return this;Cg.prototype.fa.call(this,e);void 0!==e.grid&&this.W5b(e.grid,!1===e.grid instanceof CQ);null!=e.bandspacing&&this.LNc(e.bandspacing);null!=e.bandopacity&&this.KNc(e.bandopacity);void 0!==e.colorprovider&&this.Ur(e.colorprovider);null!=e.geometry&&this.$m(e.geometry);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsImdldERlbnNpdHlHcmlkIjoiSG1kIiwic2V0RGVuc2l0eUdyaWQiOiJXNWIiLCJnZXREZW5zaXR5VmFsdWVzIjoieDhhIiwiZ2V0Q29sb3JQcm92aWRlciI6IlZtIiwic2V0Q29sb3JQcm92aWRlciI6IlVyIiwiZ2V0R2VvbWV0cnkiOiJWZCIsInNldEdlb21ldHJ5IjoiJG0iLCJnZXRCYW5kU3BhY2luZyI6IkdrZCIsInNldEJhbmRTcGFjaW5nIjoiTE5jIiwiZ2V0QmFuZE9wYWNpdHkiOiJGa2QiLCJzZXRCYW5kT3BhY2l0eSI6IktOYyIsInNldEJhbmRPcHRpb25zIjoiJElkIiwiZ2V0Qm91bmRzIjoiZ2EiLCJ1cGRhdGVTdGF0ZSI6InhhIiwiZ2V0SW52YWxpZGF0ZU1ldGhvZCI6InNiIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var GQ=/*#__PURE__*/va(/*#__PURE__*/{pFb:"Pie2D",kZa:"Pie3D"},2,"eyJQaWUyRCI6InBGYiIsIlBpZTNEIjoia1phIn0g"),HQ=/*#__PURE__*/va(/*#__PURE__*/{Odc:"radius",wdc:"padded",qbc:"dynamic",gl:"auto"},2,"eyJSYWRpdXMiOiJPZGMiLCJQYWRkZWQiOiJ3ZGMiLCJEeW5hbWljIjoicWJjIiwiQXV0byI6ImdsIn0g"),IQ=/*#__PURE__*/va(/*#__PURE__*/{Tha:"Raw",oha:"Associative"},2,"eyJSYXciOiJUaGEiLCJBc3NvY2lhdGl2ZSI6Im9oYSJ9"),JQ=/*#__PURE__*/va(/*#__PURE__*/{sk:"Inside",Bo:"Outside"},2,"eyJJbnNpZGUiOiJzayIsIk91dHNpZGUiOiJCbyJ9"),KQ=/*#__PURE__*/va(/*#__PURE__*/{xb:"Horizontal",yFb:"Radial"},2,"eyJIb3Jpem9udGFsIjoieGIiLCJSYWRpYWwiOiJ5RmIifSAg"),LQ=/*#__PURE__*/va(/*#__PURE__*/{Veb:"Clockwise",EYc:"CounterClockwise"},2,"eyJDbG9ja3dpc2UiOiJWZWIiLCJDb3VudGVyQ2xvY2t3aXNlIjoiRVljIn0g"),MQ=/*#__PURE__*/va(/*#__PURE__*/{hB:"Ascending",gE:"Descending",hdc:"Natural"},2,"eyJBc2NlbmRpbmciOiJoQiIsIkRlc2NlbmRpbmciOiJnRSIsIk5hdHVyYWwiOiJoZGMifSAg"),NQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(v,B){oi.call(this);this.dPb={};null==v&&(v={});var E=this,H={outerradius:150,maxouterradius:150,innerradius:25,piemode:c.oza.pFb,startangle:0,direction:c.ri.Veb,minpercentage:0,maxslices:0,linestyle:new X("lightgrey"),
autogradient:!1,fillstyles:[],"selected-fillstyles":[],createselectedstyle:g,showpercentagesthreshold:0,modellimitsmode:c.cZa.Odc,label:{hideifdontfit:!1,format:function(F,I){return F+" ("+(100*I/E.fha).toFixed(2)+"%)"},location:c.Z0.sk,direction:c.yKa.xb,textstyle:(new Ki).vo("10pt Roboto"),preservereadingorientation:!0,ispointingup:!0,preserverightangle:!0,preserveaspectratio:!0},outsideline:{linestyle:new X("lightgrey"),length:10,pad:2},sliceshift:{offsets:[]},depth3d:30,inclination3d:60};this.options=
{};this.ANb=this.gBd.bind(this);v=xb(v,H);this.setOptions(v);this.fha=0;this.slices=[];this.f_a=[];this.g_a=[];this.gCa={label:[],annulusArc:[],stripArc:[],rect:[],line:[]};this.Ila=null;this.data={mode:c.KI.Tha,order:c.Qya.gE,values:[]};B&&this.setData(B)}function a(v,B,E,H){for(var F=0;F<B.length;++F){var I=E[B[F]];if(null!=I&&0!==I){var J=v[H[B[F]]];J.label.Bp(J.label.Vl()+I);J.goa.nr().translate(0,I)}}}function b(v,B,E){return v.sort(function(H,F){var I=H.outerArc.ia();H=I.startarc;I=I.endarc;
if(H>B&&I<B)return-E;var J=F.outerArc.ia();F=J.startarc;J=J.endarc;if(F>B&&J<B)return E;H=(H+I)/2;I=(F+J)/2;H=Math.abs(B-H);I=Math.abs(B-I);return H>I?E:-E})}function d(v){var B=Math.ceil(v/r)-1;v-=B*r;return 0>v?v+r:v}function e(v,B,E,H){for(var F=Math.PI,I=[],J=v,K=(Math.floor(v/F)+1)*F,N=[E];J<B;){if(K>=B){N=null==N?[H]:Math.sin(v)<Math.sin(B)?[E,H]:[H,E];I.push(f(J,B,N));break}I.push(f(J,K,N));J=K;K+=F;N=null}return I}function f(v,B,E){if(v>r||B>r)v-=r,B-=r;if(0>v||0>B)v+=r,B+=r;return{start:v,
end:B,HG:E||[]}}function g(v){var B=Pd.Sg(v.rb());v=B.lk();var E=B.kk();B=B.ik();var H=Math.max(v,E,B);v===H?(v=(255+v)/2,E/=2,B/=2):E===H?(E=(255+E)/2,v/=2,B/=2):(B=(255+B)/2,v/=2,E/=2);v=new td(v,E,B);return new rf(v)}function h(v){v=Pd.Sg(v);var B=new Pe(v);v=B.clone();v.Y8(-.2);v.nM(.2);v=v.zN().Nl();B.Y8(.2);B.nM(-.2);B=B.zN().Nl();B=new ng({startcolor:B,endcolor:B});B.$n(.5,v);return B}function k(v,B){return B.value-v.value}var l=90,m=180,n=270,p=360,q=Math.PI/180,r=2*Math.PI,t=3*Math.PI/2,
u=Math.PI/2,w=new U,y=20,A={label:ek,annulusArc:Km,stripArc:jo,rect:ho,line:Fk},x=function(){function v(B){rd.call(this,B);this.bv=ge.ya()}D(v,rd);v.prototype.qm=function(B,E){return"data"===B.attributeName&&E instanceof c};v.prototype.SE=function(B){return(B=B.getData().values)&&0<Object.keys(B).length?B:null};v.prototype.apply=function(B){B.setData({values:this.dd.current})};return v}(),C=function(){function v(B){rd.call(this,B);this.bv=ud.ya()}D(v,rd);v.prototype.qm=function(B,E){return"labelTextColor"===
B.attributeName&&E instanceof c};v.prototype.SE=function(B){B=B.ia();return B.label&&B.label.textstyle&&B.label.textstyle.rb()};v.prototype.apply=function(B){B=B.ia();B.label&&B.label.textstyle&&B.label.textstyle.setColor(this.dd.current)};return v}(),z=function(){function v(B){rd.call(this,B);this.bv=ge.ya()}D(v,rd);v.prototype.qm=function(B,E){return"radius"===B.attributeName&&E instanceof c};v.prototype.SE=function(B){B=B.ta();return null!=B?{outerradius:B.outerradius,innerradius:B.innerradius}:
null};v.prototype.apply=function(B){B.setOptions({outerradius:this.bva().outerradius,innerradius:this.bva().innerradius})};return v}();D(c,oi);L(c,"geotoolkit.controls.shapes.DonutChart");re.ya().IG(x);re.ya().IG(C);re.ya().IG(z);c.prototype.setData=function(v){v||(v={mode:c.KI.Tha,order:c.Qya.gE,values:[]});if(v.values instanceof xG||v.values instanceof PG)v.values!==this.Ila?(null!=this.Ila&&this.Ila.za(mG.Ud,this.ANb),this.Ila=v.values,this.Ila.on(mG.Ud,this.ANb),v.values=this.Ila.toArray(!0)):
delete v.values;G(v,this.data);this.msb();this.xa();this.ha();this.notify(Ce.Xe,this);return this};c.prototype.getData=function(){return this.data};c.prototype.gBd=function(){var v=this.Ila.toArray(!0);this.setData({values:v})};c.prototype.ta=function(){return xb(this.options,{})};c.prototype.setOptions=function(v){this.options=xb(v,this.options);this.options.label.textstyle=Ki.Pa(this.options.label.textstyle);this.options.maxouterradius<this.options.outerradius&&(this.options.maxouterradius=this.options.outerradius);
this.msb();this.xa().ha();this.notify(Ce.Xe,this);return this};c.oza=GQ;c.cZa=HQ;c.KI=IQ;c.Z0=JQ;c.yKa=KQ;c.ri=LQ;c.Qya=MQ;c.prototype.MMc=function(){var v=this.slices,B=this;this.slices=[];v.forEach(function(E){B.aIa("annulusArc",E.arc);null!=E.arcBottom&&B.aIa("annulusArc",E.arcBottom);null!=E.goa&&B.aIa("line",E.goa);E.label instanceof ek&&B.aIa("label",E.label)})};c.prototype.yhd=function(){function v(E){E.dispose()}for(var B in this.gCa)this.gCa[B].forEach(v),this.gCa[B]=[]};c.prototype.msb=
function(){if(this.data){this.MMc();var v,B,E=this.data.values;if(this.data.mode===c.KI.Tha){this.fha=E.length;var H={};for(v=0;v<this.fha;v++)H[E[v]]=H[E[v]]+1||1}else if(this.data.mode===c.KI.oha)for(B in this.fha=0,H=E,E)E.hasOwnProperty(B)&&0<E[B]&&(this.fha+=E[B]);else throw Error("Unknown DonutChart Data Mode Enum :"+this.data.mode);var F={label:"Other",value:0},I=[];v=this.options.minpercentage*this.fha/100;for(var J in H)H.hasOwnProperty(J)&&(H[J]<v?F.value+=H[J]:I.push({label:J,value:H[J]}));
I.sort(k);v=I.length+(0<F.value?1:0);if(0<this.options.maxslices&&v>this.options.maxslices)for(v=I.length+1-this.options.maxslices,H=0;H<v;++H)J=I.pop(),F.value+=J.value;0<F.value&&I.push(F);if(this.data.order===c.Qya.hdc){H={};var K=I.map(function(N){return N.label});if(this.data.mode===c.KI.Tha)for(v=0;v<this.data.values.length;++v)H[this.data.values[v]]||(J=K.indexOf(this.data.values[v]),-1<J&&(this.slices.push(I[J]),H[K[J]]=!0));else if(this.data.mode===c.KI.oha)for(B in E)E.hasOwnProperty(B)&&
(J=K.indexOf(B),-1<J&&this.slices.push(I[J]));0<F.value&&this.slices.push(F)}else this.data.order===c.Qya.hB?this.slices=I.reverse():this.data.order===c.Qya.gE&&(this.slices=I);this.$vb();this.Xjd()}};c.prototype.LMc=function(){function v(H){null!=H.outerArc&&E.aIa("stripArc",H.outerArc);null!=H.innerArc&&E.aIa("stripArc",H.innerArc);null!=H.rFd&&H.rFd.forEach(B)}function B(H){E.aIa("rect",H)}var E=this;this.f_a.forEach(v);this.g_a.forEach(v);this.f_a=[];this.g_a=[]};c.prototype.Xjd=function(){this.LMc();
var v=this.options.startangle,B=this.options.sliceshift.offsets,E=this.options.outerradius,H=-E,F=-E,I=E,J=E;if(this.options.piemode===c.oza.kZa){this.aEa=this.options.inclination3d/90;var K=this.options.depth3d/this.aEa;var N=W.dl(1,this.aEa)}else this.aEa=1,N=null;for(var P=0;P<this.slices.length;P++){this.slices[P].cKc=this.slices[P].value/this.fha;var Q=this.slices[P].cKc*p;Q=v+Q;this.Yjd(this.slices[P],v,Q);var R=this.slices[P].start*q,Y=this.slices[P].end*q;this.Efd(P,N);v=N;var ca=null;null!=
B&&0!==B[P]&&null!=B[P]&&(ca=this.Rcd(this.slices[P],P));null!=ca&&(H=Math.min(-E+ca.x,H),F=Math.min(-E+ca.y,F),I=Math.max(E+ca.x,I),J=Math.max(E+ca.y,J),v=null!=N?N.clone().translate(ca.x,ca.y):W.cf(ca.x,ca.y));this.slices[P].arc=this.Nva("annulusArc",{x:0,y:0,visible:0!==this.slices[P].value,outerradius:this.options.outerradius,innerradius:this.options.innerradius,startarc:R,endarc:Y,linestyle:this.options.linestyle},v);if(this.options.piemode===c.oza.kZa){this.slices[P].arcBottom=this.Nva("annulusArc",
{x:0,y:K,outerradius:this.options.outerradius,innerradius:this.options.innerradius,startarc:R,endarc:Y,linestyle:this.options.linestyle},v);var ea=v.clone().aya(0,Math.tan(R));ca=v.clone().aya(0,Math.tan(Y));var ua=Math.cos(R),Ga=Math.cos(Y);ea=this.Nva("rect",{left:this.options.innerradius*ua,top:0,right:this.options.outerradius*ua,bottom:K,linestyle:this.options.linestyle},ea);ca=this.Nva("rect",{left:this.options.innerradius*Ga,top:0,right:this.options.outerradius*Ga,bottom:K,linestyle:this.options.linestyle},
ca);R=e(R,Y,ea,ca);var Aa;for(Y=0;Y<R.length;Y++)0<this.options.innerradius&&(Aa=this.Nva("stripArc",{outerradius:this.options.innerradius,startarc:R[Y].end,endarc:R[Y].start,height:K,linestyle:this.options.linestyle},v)),ca=this.Nva("stripArc",{outerradius:this.options.outerradius,startarc:R[Y].end,endarc:R[Y].start,height:K,linestyle:this.options.linestyle},v),ca={slice:this.slices[P],outerArc:ca,innerArc:Aa,dLc:R[Y].HG,index:P},d(R[Y].end)>Math.PI?this.f_a.push(ca):this.g_a.push(ca)}v=Q}b(this.f_a,
t,1);b(this.g_a,u,-1);this.options.modellimitsmode===c.cZa.qbc?this.Ha(new U(H,F,I,J)):this.options.modellimitsmode===c.cZa.wdc?(E+=Math.max.apply(null,this.options.sliceshift.offsets),this.Ha(new U(-E,-E,E,E))):this.options.modellimitsmode===c.cZa.gl?(B=this.options.maxouterradius,this.Ha(new U(-B,-B,B,B))):this.Ha(new U(-E,-E,E,E));this.jdd()};c.prototype.Yjd=function(v,B,E){v.start=this.options.direction===c.ri.Veb?B:p-E;v.RHa=v.start;0>v.RHa&&(v.RHa+=p);v.RHa>p&&(v.RHa-=p);v.end=this.options.direction===
c.ri.Veb?E:p-B;v.QHa=v.end;0>v.QHa&&(v.QHa+=p);v.QHa>p&&(v.QHa-=p);B=(v.start+v.end)/2;B>p&&(B-=p);0>B&&(B+=p);v.mid=B;B*=q;v.Sna=Math.sin(B);v.Rna=Math.cos(B)};c.prototype.Efd=function(v,B){var E=this.slices[v];E.label instanceof ek||(E.pSb=E.label);var H=this.options.label.format;H=null!==H?H(E.pSb,E.value):null;null!==H&&""!==H&&(this.options.label.text=H,E.label=this.Nva("label",this.options.label,B),this.Tcd(v),this.options.label.location!==c.Z0.Bo?E.label.tc(O.Na):(E.label.tc(this.options.label.direction===
c.yKa.xb&&E.mid>=l&&E.mid<n?O.pe:O.vd),this.options.piemode===c.oza.kZa&&(E.goa.scale(1,this.aEa),0<=E.mid&&E.mid<m&&(E.goa.translate(0,this.options.depth3d),E.label.translate(0,this.options.depth3d)))))};c.prototype.Nva=function(v,B,E){0===this.gCa[v].length?(v=A[v],v=new v(B)):(v=this.gCa[v].pop(),v.fa(B));v.Kc(E);return v};c.prototype.aIa=function(v,B){this.gCa[v].length<y?this.gCa[v].push(B):B.dispose()};c.prototype.jdd=function(){if(this.options.label.location===c.Z0.Bo&&this.options.label.direction===
c.yKa.xb&&0!==this.slices.length){for(var v=[],B=0,E=-Infinity,H=this.options.showpercentagesthreshold*this.fha/100,F=0;F<this.slices.length;++F)if(this.slices[F].label instanceof ek){var I=this.slices[F].value>=H&&0!==this.slices[F].value;this.slices[F].label.va(I);this.slices[F].goa.va(I);I&&(v.push(F),E<this.slices[F].value&&(E=this.slices[F].value,B=v.length-1))}if(0!==v.length){E=this.wa();H=this.options.outerradius*this.options.outerradius;F=0;I=v.length;for(var J,K=this.slices[v[B]].label.ga(),
N=K,P={},Q=[],R=B,Y=(B+1)%I;Y!==B;Y=(Y+1)%I){J=this.slices[v[Y]].label.ga();if(J.Nd(N)){F=F||(J.getY()>K.getY()?1:-1);var ca=null!=E?E.pd(J).da():J.da();ca=(P[R]||0)+F*ca;0===Q.length&&Q.push(R);N!==w&&(w.cb(K),N=w);R=Math.min(Math.abs(J.la()),Math.abs(J.na()));var ea=Math.min(Math.abs(K.ka()+ca),Math.abs(K.ma()+ca));if(R*R+ea*ea>=H)P[Y]=ca-(J.getY()-K.getY()),K=Math.min(N.getX(),J.getX()),ca=Math.max(N.na(),J.na()),R=Math.min(N.getY(),J.getY()+P[Y]),ea=Math.max(N.ma(),J.ma()+P[Y]),N.cb(K,R,ca,ea);
else{ca=0<N.getY()?J.ma()-N.getY():J.getY()-N.ma();for(K=0;K<Q.length;++K)P[Q[K]]=P[Q[K]]||0,P[Q[K]]+=ca;N.setY(N.getY()+ca);N.union(J)}Q.push(Y)}else N=J,0<Q.length&&(a(this.slices,Q,P,v),Q=[],P={});K=J;R=Y}a(this.slices,Q,P,v)}}};c.prototype.$vb=function(){this.Cg=this.Cg||{fillstyles:[],"selected-fillstyles":[]};this.options.fillstyles=this.options.fillstyles||[];this.options["selected-fillstyles"]=this.options["selected-fillstyles"]||[];for(var v=0;v<this.slices.length;v++){this.options.fillstyles[v]||
(this.options.fillstyles[v]=new rf(new td(Math.round(127.5*(Math.random()+1)),Math.round(127.5*(Math.random()+1)),Math.round(127.5*(Math.random()+1)),255)));var B=tg.ad(this.options.fillstyles[v]);!0===this.options.autogradient&&(B=h(B.rb()));this.Cg.fillstyles[v]=B;this.options["selected-fillstyles"][v]||(this.options["selected-fillstyles"][v]=this.options.createselectedstyle(B));B=tg.ad(this.options["selected-fillstyles"][v]);this.Cg["selected-fillstyles"][v]=B}};c.prototype.Tcd=function(v){var B=
this.slices[v],E=this.options.sliceshift.offsets[v]||0;E=E||0;v=B.mid*q;var H=this.Qa(),F=B.label.ga(),I=this.options.innerradius+E,J=this.options.outerradius+E,K=(I+J)/2;if(this.options.label.location===c.Z0.Bo){F=J;J=F+this.options.outsideline.length;I=J+this.options.outsideline.pad;B.label.Db(I*B.Rna,I*B.Sna);B.goa=this.Nva("line",{from:new M(F*B.Rna,F*B.Sna),to:new M(J*B.Rna,J*B.Sna),linestyle:this.options.outsideline.linestyle},null);var N=!1}else if(this.options.label.direction===c.yKa.yFb){this.options.piemode===
c.oza.kZa&&(H=H?H.clone():new W,H.rotate(v,0,0).scale(1,this.aEa));I=new M(I*B.Rna,I*B.Sna);J=new M(J*B.Rna,J*B.Sna);H.Ma(I,I);H.Ma(J,J);var P=M.Uf(I,J);(N=F.ca()>P)?(F=F.ca()/(2*P),F=new M(I.getX()+F*(J.getX()-I.getX()),I.getY()+F*(J.getY()-I.getY())),B.label.Db(H.hd(F))):B.label.Db(K*B.Rna,K*B.Sna)}else{F=H?H.pd(F):F;var Q=B.start*q,R=B.end*q,Y=Math.sin(Q);N=Math.tan(Q);var ca=Math.sin(R),ea=Math.tan(R);H=I*Y;P=I*ca;Y*=J;ca*=J;var ua=F.ca()/2,Ga=F.da()/2,Aa=J*J,Ba=I*I,La=[],Pa=E*B.Rna;E*=B.Sna;
var Oa=B.end-B.start===p,Va=Oa?0:K*B.Rna;K=Oa?0:K*B.Sna;Ga=[K-Ga,K+Ga];for(Oa=0;Oa<Ga.length;Oa++){var gb=Ga[Oa];gb>H!==gb>Y&&La.push((gb-E)/N+Pa);gb>P!==gb>ca&&La.push((gb-E)/ea+Pa);var $a=gb*gb;$a<=Aa&&(gb=Math.sqrt(Aa-$a),La.push(gb),La.push(-gb));$a<=Ba&&(gb=Math.sqrt(Ba-$a),La.push(gb),La.push(-gb))}ea=Math.max.apply(null,La.filter(function(Bb){return Bb<Va}));La=Math.min.apply(null,La.filter(function(Bb){return Bb>Va}));if(N=Va-ea<ua||La-Va<ua)Va=(ea+La)/2,N=Va-ea<ua||La-Va<ua;N||(Q=Math.cos(Q),
R=Math.cos(R),I=w.cb(I*Q,H,I*R,P),I.AN(J*Q,Y),I.AN(J*R,ca),B.start<l&&B.end>l&&I.AN(0,J),B.start<m&&B.end>m&&I.AN(-J,0),B.start<n&&B.end>n&&I.AN(0,-J),this.wa()&&this.wa().pd(I,I),N=!I.Cz(F));B.label.Db(Va,K)}B.label.va(0!==B.value&&(!N||!this.options.label.hideifdontfit));this.options.label.direction===c.yKa.yFb&&(B.label.rotate(v,B.label.pn(),B.label.Vl()),B.label.scale(1,this.aEa),B.label.Bp(B.label.Vl()/this.aEa))};c.prototype.Rcd=function(v,B){return{x:this.options.sliceshift.offsets[B]*v.Rna,
y:this.options.sliceshift.offsets[B]*v.Sna}};c.prototype.zDc=function(v){return!0!==this.dPb[v]?this.Cg.fillstyles[v]:this.Cg["selected-fillstyles"][v]};c.prototype.KLc=function(v,B,E){for(var H=0;H<this.slices.length;++H){var F=this.slices[H][B],I=this.zDc(H);F&&(F.qa(I),v.filter(F)&&(E&&(F.Js(H),v.yh(F)),F.render(v),E&&v.yh(null)))}};c.prototype.QGd=function(v){for(var B=0;B<this.slices.length;++B){var E=this.slices[B];E.goa&&v.filter(E.goa)&&E.goa.render(v);E.label instanceof ek&&v.filter(E.label)&&
E.label.render(v)}};c.prototype.JLc=function(v,B,E,H,F){for(var I=0;I<B.length;++I){var J=B[I],K=this.zDc(J.index),N=J[E];N&&(N.qa(K),v.filter(N)&&N.render(v));for(N=0;N<J.dLc.length;++N){var P=J.dLc[N];P.qa(K);v.filter(P)&&P.render(v)}if(N=J[H])N.qa(K),v.filter(N)&&(F&&(N.Js(J.index),v.yh(N)),N.render(v),F&&v.yh(null))}};c.prototype.$i=function(v){if(!(0>=this.fha||0>=this.options.outerradius)){this.Eh(v);for(var B=v.ac(),E=this.Yb(),H=0;H<E;H++){var F=this.eb(H);v.filter(F)&&(B&&v.yh(F),F.render(v))}this.oMc(v);
this.jh(v)}};c.prototype.Hs=function(v,B){var E=this;this.Eh(v);Hg.sM(this.vf(),function(H,F){v.filter(H)?(v.yh(H),H.we(v,F)):F()},function(){E.oMc(v);E.jh(v);B()})};c.prototype.oMc=function(v){var B=v.ac();v.ra(null);this.options.piemode!==c.oza.pFb&&(this.KLc(v,"arcBottom"),this.JLc(v,this.f_a,"outerArc","innerArc"),this.JLc(v,this.g_a,"innerArc","outerArc",B));this.KLc(v,"arc",B);this.QGd(v)};c.prototype.sa=function(v){var B=this.ga();if(null!==B&&!B.wi(v)||null!==v&&!v.wi(B))oi.prototype.sa.call(this,
v),this.msb();return this};c.prototype.bf=function(v){if(!this.options.sliceshift.offsets.some(function(H){return 0<H}))return oi.prototype.bf.call(this,v);var B=Xg.YSb(v,this.Ea()),E=this.ga();null!=E&&(E=E.clone(),E.Uc(Math.max.apply(null,this.options.sliceshift.offsets)));return!0===this.Ia()&&Cg.C_(E,this.lb(),v.Rg(),B)};c.prototype.Ha=function(v){var B=this.pa();if(null!==B&&!B.wi(v)||null!==v&&!v.wi(B))oi.prototype.Ha.call(this,v),this.msb();return this};c.prototype.ia=function(){var v=oi.prototype.ia.call(this);
xb(this.options,v);return v};c.prototype.fa=function(v){if(null==v)return this;xb(v,this.options);v=hc(v);oi.prototype.fa.call(this,v);this.setOptions(v);return this};c.prototype.ntd=function(){return null==this.slices||null==this.slices.length?0:this.slices.length};c.prototype.mtd=function(v){var B=this.slices[v];return null==B?null:{label:B.pSb,value:B.value,percentage:B.cKc,color:this.options.fillstyles[v],angleDegStart:B.RHa,angleDegEnd:B.QHa}};c.prototype.EId=function(v,B,E){function H(J){if(null!==
J){var K=J.Vj();null!==K&&0>F.indexOf(K)&&J instanceof Zg&&F.push(K)}}var F=[];var I=null!=this.parent?new bk(this.parent.wa()):new bk;I.ola(H,this,v,B,2);E&&this.dFc(F);return F};c.prototype.dFc=function(v,B){B||(this.dPb={});var E=this;v.forEach(function(H){E.dPb[H]=!0});this.ha();return this};c.prototype.dispose=function(){this.MMc();this.LMc();this.yhd();this.Ila&&this.Ila.za(mG.Ud,this.ANb);oi.prototype.dispose.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJyZW5kZXJDb250ZW50IjoiJGkiLCJyZW5kZXJDb250ZW50QXN5bmMiOiJIcyIsInNldEJvdW5kcyI6InNhIiwiY2hlY2tDb2xsaXNpb24iOiJiZiIsInNldE1vZGVsTGltaXRzIjoiSGEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRTbGljZXNDb3VudCI6Im50ZCIsImdldFNsaWNlQnlJbmRleCI6Im10ZCIsInNlbGVjdFNsaWNlc0F0IjoiRUlkIiwiaGlnaGxpZ2h0U2xpY2VzIjoiZEZjIn19fSAg");var PQ=/*#__PURE__*/va(/*#__PURE__*/{Ufb:"LegendItemOptionsChanged",Vfb:"LegendSourceStateChanged"},2,"eyJMZWdlbmRJdGVtT3B0aW9uc0NoYW5nZWQiOiJVZmIiLCJMZWdlbmRTb3VyY2VTdGF0ZUNoYW5nZWQiOiJWZmIifSAg"),QQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){ue.call(this);this.dk=a;this.llb=xb(b,{})}D(c,ue);L(c,"geotoolkit.controls.shapes.ShapeLegendAdapter");c.prototype.Bd=function(){return this.dk};c.prototype.grb=Fb;c.Ja=PQ;c.prototype.dBc=function(){return xb(this.llb,{})};c.prototype.$Kd=function(a){xb(a,this.llb);a=xb(this.llb,{});this.notify(c.Ja.Ufb,this.dk,a);return this};c.prototype.dispose=function(){this.llb=this.dk=null;ue.prototype.dispose.call(this)};
return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPYmplY3QiOiJCZCIsImNyZWF0ZUxlZ2VuZEl0ZW1zIjoiZ3JiIiwiZ2V0TGVnZW5kSXRlbU9wdGlvbnMiOiJkQmMiLCJzZXRMZWdlbmRJdGVtT3B0aW9ucyI6IiRLZCJ9fX0g");var SQ=/*#__PURE__*/va(/*#__PURE__*/{lw:"change"},2,"eyJDaGFuZ2UiOiJsdyJ9"),TQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){oi.call(this);this.dk=a}D(c,oi);L(c,"geotoolkit.controls.shapes.LegendItem");c.Ja=SQ;c.prototype.Bd=function(){return this.dk};c.prototype.Xy=function(a){this.dk=a;return this};c.prototype.setOptions=function(a){return this};c.prototype.Zg=Hb;c.prototype.dispose=function(){this.dk=null;oi.prototype.dispose.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPYmplY3QiOiJCZCIsInNldE9iamVjdCI6Ilh5IiwidXBkYXRlR2VvbWV0cnkiOiJaZyJ9fX0g");var VQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){TQ.call(this,a);this.ea={text:"",textstyle:new Ki({color:"black",font:"9px Arial"}),margintext:2,internalpadding:4,alignment:O.vd,background:{linestyle:null,fillstyle:null},symbol:{width:30,height:30,painter:Sn,linestyle:new X,fillstyle:null}};this.Yc(!0);this.Te(!0);this.nia=new ho;this.Zc=new Nm;this.Pb=new ek;this.oa([this.nia,this.Zc,this.Pb]);this.setOptions(b)}D(c,TQ);L(c,"geotoolkit.controls.shapes.SymbolLegendItem");c.prototype.Ba=function(a){this.nia=a.nia?
a.nia.clone():null;this.Zc=a.Zc?a.Zc.clone():null;this.Pb=a.Pb?a.Pb.clone():null;return this};c.prototype.ta=function(){return this.ea};c.prototype.setOptions=function(a){if(!a)return this;this.ea=xb(a,this.ea);this.ea.textstyle=Ki.Pa(this.ea.textstyle);var b=this.ea.internalpadding;a=this.ea.symbol.width;var d=rg.measureText(this.ea.text,this.ea.textstyle),e=d.ca()+a+2*b+2*this.ea.margintext;d=Math.max(this.ea.symbol.height,d.da())+2*b;this.Yl(e);this.yl(d);if(this.ea.alignment===O.pe){var f=e-a/
2-b;var g=this.ea.margintext}else f=a/2+b,g=a+this.ea.margintext+b;this.nia.sa(b,b,e-b,d-b).ra(this.ea.background.linestyle).qa(this.ea.background.fillstyle);b=X.Pa(this.ea.symbol.linestyle);null!=b&&(b=b.clone().Mg(!0));e=tg.ad(this.ea.symbol.fillstyle);this.Zc.fa({ax:f,ay:d/2,width:a,height:this.ea.symbol.height,alignment:O.Na,sizeisindevicespace:!1,painter:this.ea.symbol.painter,linestyle:b,fillstyle:e});this.Pb.fa({text:this.ea.text,ax:g,ay:d/2,textstyle:this.ea.textstyle,alignment:O.vd});this.xa();
return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsImdldE9wdGlvbnMiOiJ0YSJ9fX0g");var WQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){QQ.call(this,a,b);this.w8c=function(d,e,f){this.notify(PQ.Vfb,e,f)}.bind(this);a.on(Ce.Xe,this.XBc())}D(c,QQ);L(c,"geotoolkit.controls.shapes.DonutChartLegendAdapter");c.prototype.grb=function(a){a=xb(a,this.dBc());for(var b=this.Bd(),d=[],e=0;e<b.slices.length;e++){xb({text:b.slices[e].pSb,symbol:{linestyle:b.options.linestyle,fillstyle:b.Cg.fillstyles[e]}},a);var f=new VQ(b,a);d.push(f)}return d};c.prototype.dispose=function(){var a=this.Bd();a.za(Ce.Xe,this.XBc());
QQ.prototype.dispose.call(this)};c.prototype.XBc=function(){return this.w8c};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVMZWdlbmRJdGVtcyI6ImdyYiJ9fX0g");var XQ=/*#__PURE__*/va(/*#__PURE__*/{mu:"STEP",nba:"LINEARINBOUND",oba:"LINEARLOOP",Xfb:"LINEARMIRROR"},2,"eyJTdGVwIjoibXUiLCJMaW5lYXJJbmJvdW5kIjoibmJhIiwiTGluZWFyTG9vcCI6Im9iYSIsIkxpbmVhck1pcnJvciI6IlhmYiJ9"),YQ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f,g){if(f instanceof rG||Ob(f))f={data:f};null!=g&&(hb("Second argument is deprecated in geotoolkit.controls.shapes.HeatMap constructor since 2021.1 (3.3), use first one instead"),G(g,f));Zg.call(this,f);this.Ka=this.ja=null;this.gmb=this.fmb=!1;this.Ei=Number.POSITIVE_INFINITY;this.ui=Number.NEGATIVE_INFINITY;this.V2=this.jZ=this.su=this.ru=null;this.Aka=[[]];this.Hic=this.Iic=null;this.vkb=!1;this.Fo=
null;this.iZ=this.hY=c.fy.mu;this.Dkb=this.eLb=!0;this.bCa=sd.dab();this.qc=null;this.ny=[];this.Jv=this.Iv=0;this.DU=!1;this.dU=null;this.Qkb=!1;this.H1a=new Ki;this.ep=new ek;this.wb(!1);f&&f.data&&this.setData(f.data);this.setOptions(f);this.wb(!0)}function a(f){return!isNaN(parseFloat(f))&&isFinite(f)}var b=256,d=256,e=256;D(c,Zg);L(c,"geotoolkit.controls.shapes.HeatMap");c.fy=XQ;c.prototype.fa=function(f){f=hc(f);if(null==f)return this;Zg.prototype.fa.call(this,f);this.setData(f.data);this.setOptions(f);
return this};c.prototype.ia=function(){var f=Zg.prototype.ia.call(this);return f=G(f,this.ta())};c.prototype.pa=function(){if(!this.ja)return null;if(this.hY===c.fy.nba){var f=0;var g=this.ru-1}else this.hY===c.fy.oba?(f=this.DU?0:Array.isArray(this.Iv)?0:this.Iv,g=this.ru+(this.DU?0:Array.isArray(this.Iv)?0:this.Iv)):(f=-.5+(this.DU?0:Array.isArray(this.Iv)?0:this.Iv),g=this.ru-.5+(this.DU?0:Array.isArray(this.Iv)?0:this.Iv));if(this.iZ===c.fy.nba){var h=0;var k=this.su-1}else this.iZ===c.fy.oba?
(h=this.DU?0:Array.isArray(this.Jv)?0:this.Jv,k=this.su+(this.DU?0:Array.isArray(this.Jv)?0:this.Jv)):(h=-.5+(this.DU?0:Array.isArray(this.Jv)?0:this.Jv),k=this.su-.5+(this.DU?0:Array.isArray(this.Jv)?0:this.Jv));return new U(f,h,g,k)};c.prototype.sa=function(f){f instanceof U&&(this.Ka=f);return this};c.prototype.ga=function(){return this.Ka?this.Ka:this.pa()};c.prototype.setOptions=function(f){if(null==f)return this;null!=f.bounds&&this.sa(f.bounds);null!=f.colplottype&&this.dOc(f.colplottype);
null!=f.rowplottype&&this.VRc(f.rowplottype);null==f.min&&null==f.max||this.Icb(f.min,f.max);null==f.offsetx&&null==f.offsety||this.ZQc(f.offsetx,f.offsety);null!=f.keepmodellimits&&this.nQc(f.keepmodellimits);null!=f.lables&&(f.labels.visible&&this.AQc(f.labels.visible),f.labels.textstyle&&this.zQc(f.labels.textstyle));null!=f.colorprovider?this.Ur(f.colorprovider):(this.qc=this.qc?this.qc:new Ro({values:[this.Ei,(this.Ei+this.ui)/2,this.ui],colors:["rgba(0, 0,255,1)","rgba(0,255,0,1)","rgba(255,0,0,1)"]}),
this.ny=this.Vsc(this.qc,e));this.ha();return this};c.prototype.ta=function(){return{rowplottype:this.KZb(),colplottype:this.TWb(),min:this.Ei,max:this.ui,offsetx:this.Iv,offsety:this.Jv,keepmodellimits:this.pGc(),labels:{visible:this.qGc(),textstyle:this.VAc()},colorprovider:this.Vm()}};c.prototype.nQc=function(f){this.DU="boolean"==typeof f?f:this.DU;return this};c.prototype.pGc=function(){return this.DU};c.prototype.ZQc=function(f,g){this.Iv=null!=f?f:this.Iv;this.Jv=null!=g?g:this.Jv;if(Array.isArray(this.Iv))for(f=
0;f<this.Iv.length;f++)0>this.Iv[f]&&(this.Iv[f]=(this.ru+this.Iv[f])%this.ru);else if(a(this.Iv))0>this.Iv&&(this.Iv=(this.ru+this.Iv)%this.ru);else return this;if(Array.isArray(this.Jv))for(f=0;f<this.Jv.length;f++)0>this.Jv[f]&&(this.Jv[f]=(this.su+this.Jv[f])%this.su);else if(a(this.Jv))0>this.Jv&&(this.Jv=(this.su+this.Jv)%this.su);else return this;this.DU||this.notify(Ce.Uq,this);this.ha();return this};c.prototype.SYb=function(){return{offsetx:this.Iv,offsety:this.Jv}};c.prototype.Icb=function(f,
g){this.Ei=a(f)?f:this.Ei;this.ui=a(g)?g:this.ui;this.ha();return this};c.prototype.Ur=function(f){if(this.qc===f)return this;null!=this.qc&&this.hk(this.qc,No.gb,this.sb());this.qc=f instanceof Oo?f:Oo.dSa(f.type).Pa(f);null!=this.qc&&this.gg(this.qc,No.gb,this.sb());this.ny=this.Vsc(this.qc,e);this.xa();this.ha();return this};c.prototype.Vm=function(){return this.qc};c.prototype.rb=function(f,g,h){var k=f.uc();f=f.Dc();if(h<=k)return g[0];if(h>=f)return g[g.length-1];f=(f-k)/g.length;h=Math.round((h-
k)/f);return g[h<g.length?h:g.length-1]};c.prototype.Vsc=function(f,g){var h=[],k=f.uc(),l=f.Dc();l=(l-k)/g;for(var m=0;m<g;m++)h[m]=f.rb(k+l*m);return h};c.prototype.dOc=function(f){f!==c.fy.nba&&f!==c.fy.mu&&f!==c.fy.oba&&f!==c.fy.Xfb||this.hY===f||(this.hY=f,this.notify(Ce.Uq,this),this.ha());return this};c.prototype.TWb=function(){return this.hY};c.prototype.VRc=function(f){f!==c.fy.nba&&f!==c.fy.mu&&f!==c.fy.oba&&f!==c.fy.Xfb||this.iZ===f||(this.iZ=f,this.notify(Ce.Uq,this),this.ha());return this};
c.prototype.KZb=function(){return this.iZ};c.prototype.setData=function(f){if(f instanceof HG||f instanceof RG)this.ja=f,this.ja.on(mG.Ud,this.amc.bind(this));else if(Array.isArray(f))this.ja=f;else return this;this.V2=this.su=this.oh(this.ja);this.jZ=this.ru=this.rp(this.ja);for(f=0;f<this.su;f++)for(var g=0;g<this.ru;g++){var h=this.getValue(this.ja,f,g);h>this.ui&&(this.ui=h);h<this.Ei&&(this.Ei=h)}this.ha();return this};c.prototype.amc=function(){this.Dkb=!0;this.ha()};c.prototype.g8a=function(f,
g,h){var k=this.Fo;if(null==k||k.ca()!==g||k.da()!==h){this.Fo=k=0!==g&&0!==h?f.Hy(g,h,!0):null;if(null==k)return null;this.dU=k.sua(g,h);this.eLb=!1}else!0===this.eLb&&(this.Mqb(this.dU,k),this.eLb=!1);return this.dU};c.prototype.Mqb=function(f,g){if(null!=f){g&&this.bCa&&g.clear();g=f.getData();f=4*f.ca()*f.da();for(var h=0;h<f;++h)g[h]=0}};c.prototype.getValue=function(f,g,h){return g>=this.oh(f)||h>=this.rp(f)?0:Array.isArray(f)?f[g]&&"number"==typeof f[g][h]?f[g][h]:this.Ei:"number"==typeof f.getValue(g,
h)?f.getValue(g,h):this.Ei};c.prototype.oh=function(f){return Array.isArray(f)?f.length:"function"==typeof f.oh?f.oh():0};c.prototype.rp=function(f){return Array.isArray(f)?f[0]?f[0].length:0:"function"==typeof f.rp?f.rp():0};c.prototype.ZHd=function(f,g,h,k){var l=0,m=[];this.su=this.oh(this.ja);this.ru=this.rp(this.ja);this.Iic===h&&Math.floor(h)!==f||this.Hic===h&&Math.floor(k)!==g?this.vkb=!1:(this.Iic=h,this.Hic=k,this.vkb=!0);this.fmb=this.ru>2*h?!0:!1;this.gmb=this.su>2*k?!0:!1;if(this.vkb&&
this.fmb||this.Dkb&&this.fmb){var n=Math.floor(this.ru/h);var p=Math.floor(this.ru/n);var q=this.ru-p*n;for(f=0;f<this.su;f++){m[f]=[];for(g=0;g<p;g++){for(h=0;h<n;h++)l+=this.getValue(this.ja,f,n*g+h);m[f].push(l/n);l=0}if(q){for(g=this.ru-q;g<this.ru;g++)l+=this.getValue(this.ja,f,g);m[f].push(l/q);l=0}}this.jZ=p+(q?1:0);this.Aka=m}if(this.vkb&&this.gmb||this.Dkb&&this.gmb){k=Math.floor(this.su/k);p=Math.floor(this.su/k);q=this.su-p*k;n=0===m.length?this.ja:this.Aka;var r=0===m.length?this.ru:this.jZ;
m=[];for(f=0;f<p;f++)for(m[f]=[],g=0;g<r;g++){for(h=0;h<k;h++)l+=this.getValue(n,f*k+h,g);m[f].push(l/k);l=0}if(q)for(m[p]=[],g=0;g<r;g++){for(f=this.su-q;f<this.su;f++)l+=this.getValue(n,f,g);m[p].push(l/q);l=0}this.V2=p+(q?1:0);this.Aka=m}this.Dkb=!1};c.prototype.render=function(f){if(null!=this.qc&&null!=this.ja){f=null!=this.Qa()?f.Zb(this.Qa()):f;var g=f.Fa();if(f.ac()){var h=this.pa();f.qa(rf.kh);f.sc(h.x,h.y,h.width,h.height)}else{var k=f.Rg();h=k.la();var l=k.na(),m=k.ka();k=k.ma();h=g.Ta(new U(h,
m,l,k));h.cb(Math.round(h.la()),Math.round(h.ka()),Math.round(h.na()),Math.round(h.ma()));g=g.Ta(new U(this.pa()));g.cb(Math.round(g.la()),Math.round(g.ka()),Math.round(g.na()),Math.round(g.ma()));l=h.ca();m=h.da();k=g.ca();var n=g.da();h.intersect(g);h.isEmpty()||(this.ZHd(l,m,k,n),this.jZ=this.fmb?this.jZ:this.ru,this.V2=this.gmb?this.V2:this.su,this.V2===this.su&&this.jZ===this.ru&&(this.Aka=this.ja),g=(this.jZ-1)/(this.ru-1),l=(this.V2-1)/(this.su-1),this.eHd(f,h,g,l),this.Qkb&&this.QE(f))}}};
c.prototype.QE=function(f){for(var g=this.Aka,h=0;h<g.length;h++)for(var k=0;k<g[h].length;k++)this.ep.fa({ax:k>=this.Iv?k:k+this.jZ,ay:h>=this.Jv?h:h+this.V2,text:g[h][k],textstyle:this.H1a}),this.ep.render(f)};c.prototype.AQc=function(f){this.Qkb!==f&&(this.Qkb=f,this.ha());return this};c.prototype.qGc=function(){return this.Qkb};c.prototype.zQc=function(f,g){if(this.H1a===f)return this;this.H1a=Ki.He(this,this.H1a,f,g,this.sb());this.ha();return this};c.prototype.VAc=function(){return this.H1a};
c.prototype.eHd=function(f,g,h,k){var l=f.Fa(),m=f.pp(),n,p=Math.min(b,g.ca()),q=Math.min(d,g.da()),r=Math.ceil(g.ca()/p),t=Math.ceil(g.da()/q),u=!1,w=m.Yi(),y=m.Ji(),A=m.pb(),x=m.Ab(),C=g.la()*m.pb()+g.ka()*m.Yi()+m.hf(),z=g.ka()*m.Ab()+g.la()*m.Ji()+m.We(),v=0,B=0,E=0,H=0;Array.isArray(this.Iv)||(v=this.DU&&this.hY!==c.fy.oba?C+this.Iv:C,E=this.hY===c.fy.nba?this.ru-1+v:this.ru+v);Array.isArray(this.Jv)||(B=this.DU&&this.iZ!==c.fy.oba?z+this.Jv:z,H=this.iZ===c.fy.nba?this.su-1+B:this.su+B);if(this.dU=
this.g8a(f,p,q))for(var F=0;F<t;F++)for(var I=0;I<r;I++){var J=0;var K=this.dU.getData();for(m=F*q;m<F*q+q;m++){if(u){u=!1;break}for(n=I*p;n<I*p+p;n++){if(Array.isArray(this.Iv)||Array.isArray(this.Jv))if(!Array.isArray(this.Iv)&&Array.isArray(this.Jv)){var N=w*m+A*n+v;if(N>E||-1>N){J+=4*(I*p+p-n);break}N=this.zva(N,this.hY,h,this.ru,this.jZ);B=(this.Jv[N.position]?this.Jv[N.position]:0)+z;var P=y*n+x*m+B;H=this.iZ===c.fy.nba?this.su-1+B:this.iZ===c.fy.oba?this.su+B:this.su-.5+B;if(P>H||-1>P){u=!0;
break}P=this.zva(P,this.iZ,k,this.su,this.V2)}else if(Array.isArray(this.Iv)&&!Array.isArray(this.Jv)){P=y*n+x*m+B;if(P>H||-1>P){u=!0;break}P=this.zva(P,this.iZ,k,this.su,this.V2);v=(this.Iv[P.position]?this.Iv[P.position]:0)+C;N=w*m+A*n+v;E=this.hY===c.fy.nba?this.ru-1+v:this.hY===c.fy.oba?this.ru+v:this.ru-.5+v;if(N>E||-1>N){J+=4*(I*p+p-n);break}N=this.zva(N,this.hY,h,this.ru,this.jZ)}else throw Error("It is not supported to set array of offsets for both column and row");else{N=w*m+A*n+v;P=y*n+
x*m+B;if(N>E||-1>N){J+=4*(I*p+p-n);break}if(P>H||-1>P){u=!0;break}N=this.zva(N,this.hY,h,this.ru,this.jZ);P=this.zva(P,this.iZ,k,this.su,this.V2)}N=this.getValue(this.Aka,P.position,N.position)*(1-N.xua)*(1-P.xua)+this.getValue(this.Aka,P.position,N.next)*N.xua*(1-P.xua)+this.getValue(this.Aka,P.next,N.position)*P.xua*(1-N.xua)+this.getValue(this.Aka,P.next,N.next)*N.xua*P.xua;N=this.rb(this.qc,this.ny,N);K[J++]=N.red;K[J++]=N.green;K[J++]=N.blue;K[J++]=N.alpha}}this.Fo.uoa(this.dU,0,0);f.Tb(new W);
f.drawImage(this.Fo,0,0,this.Fo.ca(),this.Fo.da(),g.la()+I*p,g.ka()+F*q,this.Fo.ca(),this.Fo.da());f.Tb(l)}};c.prototype.Li=function(f){var g=this.wa();f=g.hd(f);return this.pa().contains(f.x,f.y)?(f.x=this.zva(f.x,this.hY,(this.jZ-1)/(this.ru-1),this.ru,this.jZ).position,f.y=this.zva(f.y,this.iZ,(this.V2-1)/(this.su-1),this.su,this.V2).position,f):null};c.prototype.zva=function(f,g,h,k,l){g===c.fy.oba?(f>=k&&(f-=k),f*=h,g=Math.floor(f),h=f-g,l=f>l-1?0:g+1):g===c.fy.Xfb?(f>=k&&(f-=k),f*=h,f>l-1||
0>f?(g=Math.round(f),g=g===l?l-1:g,h=0):(g=Math.floor(f),h=f-g),l=g+1):g===c.fy.nba?(f*=h,g=Math.floor(f),l=g+1,h=f-g):(f>=k-.5&&(f-=k),f*=h,g=Math.round(f),g=g===l?l-1:g,l=g+1,h=0);return{position:g,next:l,xua:h}};c.prototype.dispose=function(){(this.ja instanceof HG||this.ja instanceof RG)&&this.ja.za(mG.Ud,this.amc);Zg.prototype.dispose.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJnZXRNb2RlbExpbWl0cyI6InBhIiwic2V0Qm91bmRzIjoic2EiLCJnZXRCb3VuZHMiOiJnYSIsImdldE9wdGlvbnMiOiJ0YSIsInNldEtlZXBNb2RlbExpbWl0cyI6Im5RYyIsImlzS2VlcE1vZGVsTGltaXRzIjoicEdjIiwic2V0TW9kZWxPZmZzZXQiOiJaUWMiLCJnZXRNb2RlbE9mZnNldCI6IlNZYiIsInNldE1pbk1heCI6IkljYiIsInNldENvbG9yUHJvdmlkZXIiOiJVciIsImdldENvbG9yUHJvdmlkZXIiOiJWbSIsInNldENvbFBsb3RNb2RlIjoiZE9jIiwiZ2V0Q29sdW1uUGxvdE1vZGUiOiJUV2IiLCJzZXRSb3dQbG90TW9kZSI6IlZSYyIsImdldFJvd1Bsb3RNb2RlIjoiS1piIiwiZHJhd0xhYmVscyI6IlFFIiwic2V0TGFiZWxzVmlzaWJsZSI6IkFRYyIsImlzTGFiZWxzVmlzaWJsZSI6InFHYyIsInNldExhYmVsc1RleHRTdHlsZSI6InpRYyIsImdldExhYmVsc1RleHRTdHlsZSI6IlZBYyIsImhpdFRlc3QiOiJMaSJ9fX0g");var $Q=/*#__PURE__*/va(/*#__PURE__*/{Aha:"dataUpdated",cgb:"modelLimitsUpdated",YXa:"binsUpdated"},2,"eyJEYXRhVXBkYXRlZCI6IkFoYSIsIk1vZGVsTGltaXRzVXBkYXRlZCI6ImNnYiIsIkJpbnNVcGRhdGVkIjoiWVhhIn0g"),aR=/*#__PURE__*/va(/*#__PURE__*/{Bc:0,kc:1,$b:2},2,"eyJOb25lIjoiQmMiLCJMZWZ0Ijoia2MiLCJSaWdodCI6IiRiIn0g"),bR=/*#__PURE__*/va(/*#__PURE__*/{Fya:"absolute",hgb:"normalized",pZa:"relative"},2,"eyJBYnNvbHV0ZSI6IkZ5YSIsIk5vcm1hbGl6ZWQiOiJoZ2IiLCJSZWxhdGl2ZSI6InBaYSJ9"),cR=/*#__PURE__*/va(/*#__PURE__*/{LT:"disabled",ODb:"enabled"},2,"eyJEaXNhYmxlZCI6IkxUIiwiRW5hYmxlZCI6Ik9EYiJ9"),dR=/*#__PURE__*/va(/*#__PURE__*/{rh:"linear",Sn:"logarithmic"},2,"eyJMaW5lYXIiOiJyaCIsIkxvZ2FyaXRobWljIjoiU24ifSAg"),eR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b,d,e,f){return{minvalue:b+d*e,maxvalue:b+d*(e+1),binnumber:e,frequency:f[e]}}function a(b,d,e){b=G(b,{data:b instanceof Array?b:null,bounds:d instanceof U?d:null,bins:e,frequencytype:a.Npa.Fya,accumulatedmode:a.Cpa.LT,histogrammode:a.cza.rh,fillstyle:"rgba(128,100,255,1.0)",
linestyle:"rgba(148,120,255,1.0)",autogradient:!1,binspacing:100,verticalscale:100,logstartvalue:0,highlightstyle:"#ffc0cbff",highvalueinclusive:!0,minvalue:null,maxvalue:null,neatlimitsx:!1,neatlimitsy:!1,unit:null,flipedx:!1,orientation:Rh.ob},!0);Cg.call(this,b);this.R0a=b.highvalueinclusive;this.ah=null;this.GE=[];this.yF=this.Cr=null;this.Xo=0;this.IHb=!1;this.VLa=0;null!=b.minvalue&&null!=b.maxvalue?(this.v6=!0,this.Sc=b.minvalue,this.ld=b.maxvalue):(this.v6=!1,this.Sc=0,this.ld=1);this.H2a=
b.neatlimitsx;this.I2a=b.neatlimitsy;this.gBa=[];this.oH=[];this.Jba=[];this.Cja=b.logstartvalue;this.mkc=this.okc=this.Vca=this.t2a=0;this.aq=[];this.Ub=null;this.Ka=b.bounds;this.FEa=null;this.Ul=!1;this.cAa=b.binspacing;this.Sza=!1;this.lib=this.mib=0;this.Rt=this.RZ=null;this.rob=!1;this.Lne={};this.hQa=b.verticalscale;this.Ajb=b.flipedx;this.Wc=b.orientation;this.y6=!1;this.yca=b.frequencytype;this.Kba=b.accumulatedmode;this.sja=b.histogrammode;this.ux=this.sI.bind(this);this.lCa=this.sI.bind(this);
this.KNb=this.sxb.bind(this);null!=b.data&&this.setData(b);null!=b.bins?this.o5(b.bins):null!=b.binstep?this.C5b(b.binstep):(this.Sza=!0,this.oya());this.nIa(b.autogradient);this.Ozb(b.highlightstyle);void 0!==b.unit&&this.$l(b.unit)}D(a,Cg);L(a,"geotoolkit.controls.shapes.Histogram");a.Ja=$Q;a.$ya=aR;a.Npa=bR;a.Cpa=cR;a.cza=dR;a.prototype.setData=function(b,d,e){if(Array.isArray(b)||b instanceof xG||b instanceof PG)return this.$A(b),this.setOptions({minvalue:d,maxvalue:e}),this;b=G(b,{data:null,
minvalue:d,maxvalue:e});null!=b.data&&this.$A(b.data);this.setOptions(b);return this};a.prototype.getData=function(){this.DJa();return{data:this.GE,minvalue:this.Sc,maxvalue:this.ld}};a.prototype.fa=function(b){b=hc(b);if(null==b)return this;Cg.prototype.fa.call(this,b);void 0!==b.data?this.setData(b.data):this.setOptions(b);return this};a.prototype.setOptions=function(b){!0===b.autominmax&&this.S4b();null!=b.minvalue&&null!=b.maxvalue&&(this.v6=!0,this.Sc=b.minvalue,this.ld=b.maxvalue);null!=b.neatlimitsx&&
(this.H2a=b.neatlimitsx);null!=b.neatlimitsy&&(this.I2a=b.neatlimitsy);null!=b.logstartvalue&&(this.Cja=b.logstartvalue);null!=b.binspacing&&(this.cAa=b.binspacing);null!=b.verticalscale&&(this.hQa=b.verticalscale);null!=b.frequencytype&&(this.yca=b.frequencytype);null!=b.accumulatedmode&&(this.Kba=b.accumulatedmode);null!=b.histogrammode&&(this.sja=b.histogrammode);null!=b.flipedx&&(this.Ajb=b.flipedx);null!=b.orientation&&this.setOrientation(b.orientation);null!=b.bins?this.o5(b.bins):null!=b.binstep&&
this.C5b(b.binstep);null!=b.autogradient&&this.nIa(b.autogradient);null!=b.fillstyle&&this.qa(b.fillstyle);null!=b.linestyle&&this.ra(b.linestyle);null!=b.bounds&&this.sa(b.bounds);null!=b.unit&&this.$l(b.unit);null!=b.highvalueinclusive&&(this.R0a=b.highvalueinclusive);this.Ozb(b.highlightstyle);this.ur();this.Ul=!1;this.ha();return this};a.prototype.eRc=function(b){"boolean"==typeof b&&this.H2a!==b&&(this.H2a=b,this.Ul=!1,this.ur());return this};a.prototype.fRc=function(b){"boolean"==typeof b&&
this.I2a!==b&&(this.I2a=b,this.Ul=!1,this.ur());return this};a.prototype.ia=function(){var b=Cg.prototype.ia.call(this);return b=G(this.ta(),b)};a.prototype.ta=function(){var b={};this.v6&&null!=this.Sc&&null!=this.ld&&(b.minvalue=this.Sc,b.maxvalue=this.ld);b.logstartvalue=this.Cja;b.binspacing=this.cAa;b.bins=this.OV();b.verticalscale=this.hQa;b.frequencytype=this.yca;b.accumulatedmode=this.Kba;b.histogrammode=this.sja;b.autogradient=this.VRa();b.highlightstyle=this.Ntb();b.unit=this.RZ;b.flipedx=
this.Ajb;b.bounds=this.ga();b.highvalueinclusive=this.R0a;b.neatlimitsx=this.H2a;b.neatlimitsy=this.I2a;b.orientation=this.Wc;return b};a.prototype.$l=function(b){this.RZ=Zd.ya().Wa(b);null!=this.ah?null==this.ah.Wa()||null!=this.ah.Wa()&&""===this.ah.Wa().Tc()?this.Rt=null:!this.RZ.Sz(this.Rt)&&this.RZ.lm(this.Rt)&&(this.Rt=this.RZ,this.GE=this.ah.toArray(!0,this.Rt),this.Ul=!1,this.ha()):this.Rt=this.RZ;return this};a.prototype.fd=function(){return this.ah};a.prototype.$A=function(b){var d=!1;if(null==
b)return this.GE=this.ah=null,this;if(Array.isArray(b))this.GE=b,d=!0;else if((b instanceof xG||b instanceof PG)&&b!==this.ah)null!=this.ah&&(this.ah.za(jG.uj,this.ux),this.ah.za(oG.dL,this.KNb),this.ah.za(KG.IN,this.lCa)),this.ah=b,this.ah.on(jG.uj,this.ux),this.ah.on(oG.dL,this.KNb),this.ah.on(KG.IN,this.lCa),null!=this.RZ&&this.RZ.lm(this.ah.Wa())?(this.GE=this.ah.toArray(!0,this.RZ),this.Rt=this.RZ):(this.ah.Wa()&&""!==this.ah.Wa().Tc()?this.Rt=this.ah.Wa():this.Rt=null,this.GE=this.ah.toArray(!0));
else throw Error("Only support Array or NumericalDataSeries(view) as data source");b=this.GE;var e=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;this.Cr=this.yF=null;for(var g=0,h=b.length,k=0;k<h;++k){var l=b[k];isNaN(l)||null==l||(l<e&&(e=l),l>f&&(f=l),g++)}this.IHb=!1;this.VLa=g;this.mib=1>h?0:e;this.lib=1>h?1:f;this.v6||(this.Sc=this.mib,this.ld=this.lib);d&&(this.oya(),d={minValue:this.Sc,maxValue:this.ld,count:this.VLa,binCount:this.Xo},this.notify($Q.Aha,this,d),this.Sc=d.minValue,this.ld=
d.maxValue,this.Xo!==d.binCount&&(this.Xo=d.binCount));this.Ul=this.rob=!1;return this};a.prototype.dispose=function(){null!=this.ah&&(this.ah.za(jG.uj,this.ux),this.ah.za(oG.dL,this.KNb),this.ah.za(KG.IN,this.lCa),this.ah=null);null!=this.qja&&this.hk(this.qja,Ce.gb,this.sb());Cg.prototype.dispose.call(this)};a.prototype.setOrientation=function(b){this.Wc=b;this.Ul=!1;this.ha();return this};a.prototype.zg=function(){return this.Wc};a.prototype.qP=function(){return this.Rt};a.prototype.LWc=function(){var b=
this.ah.sf(this.Rt),d=this.ah.kg(this.Rt);this.v6||(this.Sc=b,this.ld=d)};a.prototype.sxb=function(b,d,e){null!=this.RZ&&this.RZ.lm(e)?(this.Rt=this.RZ,this.GE=this.ah.toArray(!0,this.Rt)):(null!=e&&""!==e.Tc()?this.Rt=e:this.Rt=null,this.GE=this.ah.toArray(!0));this.LWc();this.Ul=!1;this.ha()};a.prototype.sI=function(b,d,e){this.GE=this.ah.toArray(!0,this.Rt);this.LWc();this.Ul=!1;this.ha()};a.prototype.S4b=function(){this.v6&&(this.v6=!1,this.Sc=this.mib,this.ld=this.lib,this.Ul=!1)};a.prototype.rTc=
function(b,d){this.v6=!0;this.Sc=Math.min(b,d);this.ld=Math.max(b,d);this.Ul=!1;return this};a.prototype.Mqc=function(){return this.v6};a.prototype.uc=function(){this.DJa();return this.Sc};a.prototype.Dc=function(){this.DJa();return this.ld};a.prototype.Wp=function(){if(this.rob)return this.aq;this.Ul||this.Rj();this.H6a();return this.aq};a.prototype.Ctd=function(){return"Sample Count;Min;Max;Average;Variance;Avg. Deviation;Std. Deviation;Skewness;Kurtosis;P10;P50;P90".split(";")};a.prototype.h9a=
function(){this.Ul||this.Rj();return this.Vca};a.prototype.P8a=function(b,d){this.Ul||this.Rj();if(null==this.oH&&0>b&&b>=this.Xo)return 0;var e=1;this.yca===a.Npa.hgb&&(e=this.Kba===a.Cpa.LT?this.Vca:this.VLa);return this.sja===a.cza.rh||d?(this.yca===a.Npa.pZa&&(e=this.VLa),this.Kba===a.Cpa.LT?this.oH[b]/e:this.Jba[b]/e):this.sja===a.cza.Sn&&(this.yca===a.Npa.hgb&&(e=100/e),b=this.Kba===a.Cpa.LT?this.oH[b]:this.Jba[b],b=b*e-this.Cja,1<b)?V.log10(b):0};a.prototype.DJa=function(){if(this.H2a&&!this.v6&&
!this.Ul){var b=V.ip(this.Sc,this.ld);this.Sc=b.Ua();this.ld=b.Za()}};a.prototype.Rj=function(b){this.DJa();this.Ul=!0;this.oya();var d;if(0<this.Xo&&null!=this.GE&&0<this.VLa){var e=(this.ld-this.Sc)/this.Xo;this.oH=[];this.Jba=[];this.yF=[];this.t2a=Number.POSITIVE_INFINITY;for(d=this.Vca=0;d<this.Xo;++d)this.oH[d]=0,this.Jba[d]=0;var f=this.GE.length;for(d=0;d<f;++d){var g=this.CWb(this.GE[d],e);!1===isNaN(g)&&this.oH[g]++}this.Jba[0]=this.oH[0];this.t2a=this.oH[0];this.Vca=this.oH[0];for(d=1;d<
this.Xo;++d)this.t2a>this.oH[d]&&(this.t2a=this.oH[d]),this.Vca<this.oH[d]&&(this.Vca=this.oH[d]),this.Jba[d]=this.Jba[d-1]+this.oH[d];this.okc=1<this.Vca-this.Cja?V.log10(this.Vca-this.Cja):0;this.mkc=1<this.Jba[this.Xo-1]-this.Cja?V.log10(this.Jba[this.Xo-1]-this.Cja):0}else{this.oH=[];this.Jba=[];this.yF=[];this.aq=[];for(d=0;12>d;++d)this.aq[d]=0;this.rob=!0}b||this.ur();return this};a.prototype.ZRa=function(){this.Ul||this.Rj();for(var b=[],d=(this.ld-this.Sc)/this.Xo,e=0;e<this.Xo;e++)b.push(c(this.Sc,
d,e,this.oH));return b};a.prototype.Ftb=function(b){this.DJa();this.oya();var d=(this.ld-this.Sc)/this.Xo,e=Math.floor((b-this.Sc)/d),f=e*d+this.Sc,g=(100-this.cAa)*d/100;e=f+g/2;d=f+d-g/2;return b<e?a.$ya.kc:b>d?a.$ya.$b:a.$ya.Bc};a.prototype.Vea=function(b,d){this.Ul||this.Rj();if(b>this.ld||b<this.Sc||d&&this.Ftb(b)!==a.$ya.Bc)return null;d=(this.ld-this.Sc)/this.Xo;b=Math.floor((b-this.Sc)/d);b>=this.Xo&&(b=this.Xo-1);if(null!=this.yF&&null!=this.yF[b])return this.yF[b];null==this.yF&&(this.yF=
[]);null==this.yF[b]&&(this.yF[b]=c(this.Sc,d,b,this.oH));return this.yF[b]};a.prototype.CWb=function(b,d){if(isNaN(b))return Number.NaN;var e=this.Sc>this.ld;if(e){if(b>this.Sc||b<this.ld)return Number.NaN}else if(b<this.Sc||b>this.ld)return Number.NaN;d=Math.floor((e?this.ld-b:b-this.Sc)/d);if(d>=this.oH.length)if(b===this.ld&&!0===this.R0a)d--;else return Number.NaN;return d};a.prototype.$od=function(b){this.Ul||this.Rj();if(0>b||b>this.Xo-1)return null;if(null!=this.yF&&null!=this.yF[b]&&null!=
this.yF[b].indices)return this.yF[b].indices;for(var d=(this.ld-this.Sc)/this.Xo,e=this.GE.length,f=[],g=0;g<e;g++)this.CWb(this.GE[g],d)===b&&(f[f.length]=g);null==this.yF&&(this.yF=[]);null==this.yF[b]&&(this.yF[b]=c(this.Sc,d,b,this.oH));return this.yF[b].indices=f};a.prototype.Pkd=function(b){this.DJa();this.oya();for(var d=[],e=(this.ld-this.Sc)/this.Xo,f=0;f<b.length;f++){var g=b[f];d[d.length]=0>g||g>=this.GE.length?Number.NaN:this.CWb(this.GE[g],e)}return d};a.prototype.Li=function(b,d){d=
d||this.Fsb(b);var e=[],f=b instanceof U?b.ka():b.getY();b=b instanceof U?b.na():b.getX();for(var g=0;g<d.length;g++)if(null!=d[g]){var h=this.P8a(d[g].binnumber);(!this.xl()&&h>f||this.xl()&&h>b)&&e.push(d[g].binnumber)}return e};a.prototype.Fsb=function(b){if(null==b)return[];var d=this.xl();if(b instanceof M)return[this.Vea(d?b.getY():b.getX(),!0)];if(b instanceof Jd){var e=b.Ua();b=b.Za()}else if(b instanceof U)e=d?b.getY():b.getX(),b=e+(d?b.da():b.ca());else return[];d=this.Vea(e);var f=this.Vea(b);
if(null==d||null==f)return[];d=d.binnumber;f=f.binnumber;this.Ftb(e)===a.$ya.$b&&d++;this.Ftb(b)===a.$ya.kc&&f--;if(d>f)return[];e=this.ZRa();return e.slice(d,f+1)};a.prototype.lwa=function(b,d){!0===d&&(this.gBa=[]);if(null!=b&&0!==b.length)for(b=this.gBa.concat(b).sort(),this.gBa=[],d=0;d<b.length;++d)0!==d&&b[d]===b[d-1]||this.gBa.push(b[d]);this.ha()};a.prototype.tSa=function(){return this.gBa.slice(0,this.gBa.length)};a.prototype.ur=function(){this.Ul||this.Rj();var b=0<this.GE.length;var d=
1;this.sja===a.cza.Sn&&this.yca===a.Npa.hgb&&(d=2);b&&this.yca===a.Npa.Fya&&(this.sja===a.cza.rh?d=this.Kba===a.Cpa.LT?this.Vca:this.VLa:this.sja===a.cza.Sn&&(d=this.Kba===a.Cpa.LT?this.okc:this.mkc));this.I2a&&this.yca===a.Npa.Fya&&this.Kba===a.Cpa.LT&&!this.v6&&(d=V.ip(0,d),d=d.Za());b=this.Ajb;this.xl()?(d=b?new U(0,this.ld,d,this.Sc):new U(0,this.Sc,d,this.ld),d.Ra(d.ca()*(this.hQa/100))):(d=b?new U(this.ld,0,this.Sc,d):new U(this.Sc,0,this.ld,d),d.Ya(d.da()*(this.hQa/100)));null!=this.Ub&&this.Ub.wi(d)||
(this.Ub=d,this.xl()||0!==this.Ub.da()||this.Ub.Ya(1),this.xl()&&0===this.Ub.ca()&&this.Ub.Ra(1),this.notify($Q.cgb,this,this.Ub));this.ha()};a.prototype.o5=function(b){this.Sza=!1;this.Xo=b;this.notify($Q.YXa,this,this.Xo);this.Ul=!1;return this};a.prototype.C5b=function(b){this.DJa();this.oya();this.Sza=!1;this.Xo=Math.floor((this.ld-this.Sc)/b);this.notify($Q.YXa,this,this.Xo);this.Ul=!1;return this};a.prototype.vMc=function(){this.Sza||(this.Sza=!0,this.Ul=!1)};a.prototype.F0b=function(){return this.Sza};
a.prototype.oya=function(b){if(!this.Sza&&!0!==b||!0===this.IHb)return this;b=this.GE.length;if(1>b)return this.Xo=1,this;var d=this.GE.slice();d.sort(function(e,f){return e-f});d=d[Math.floor(3*b/4)]-d[Math.floor(b/4)];b=2*d/Math.pow(b,1/3);b=0<b?Math.round((this.lib-this.mib)/b):1;0===b%2&&b++;b=Math.min(b,128);b=Math.max(b,16);this.IHb=!0;d={binCount:b};this.notify($Q.YXa,this,b);this.notify("binCountCalculated",this,d);this.Xo=d.binCount;return this};a.prototype.OV=function(){this.oya();return this.Xo};
a.prototype.zKd=function(b){this.R0a=b;return this};a.prototype.Cod=function(){return this.R0a};a.prototype.pa=function(){this.Ul||this.Rj();return this.Ub};a.prototype.ga=function(){return null!=this.Ka?this.Ka:this.pa()};a.prototype.bf=function(b){if(!1===this.Ia())return!1;!0!==this.Ul&&this.Rj(!0);return Cg.C_(this.ga(),this.lb(),b.Rg())};a.prototype.sa=function(b){this.Ka=b;this.ha();return this};a.prototype.Yd=function(){return this.FEa};a.prototype.render=function(b){b=null!=this.Qa()?b.Zb(this.Qa()):
b;this.Eh(b);if(b.ac()){b.qa(rf.kh);b.sc(this.pa());var d=b.Rg(),e=new U(this.Sc,0,this.ld,1);e=W.Sd(this.ga(),e);e=e.Ta(d);e=this.Fsb(e);null!=e&&b.fT({histogram:this,bins:e,indices:e.map(function(f){return f.binnumber}),hittest:this.Li(d,e)})}else this.Aua(b),this.jh(b)};a.prototype.Aua=function(b){!0!==this.Ul&&this.Rj();var d=this.xl(),e=d?this.Ub.da()/this.Xo:this.Ub.ca()/this.Xo,f=b.Fa();f=f.pd(b.jg());var g=d?this.Ub.ka():this.Ub.la(),h=d?this.Ub.la():this.Ub.ka();var k=this.fb();var l=this.qja;
if(this.y6){if(null!=this.fb()){k=Pd.Sg(this.fb().rb());k=new Pe(k);k.Y8(-.1);k.nM(.1);k=k.zN();var m=Pd.Sg(this.fb().rb());var n=new Pe(m);n.Y8(.1);n.nM(-.1);m=n.zN();n=m.Nl();var p=k.Nl();m=m.Nl()}else n="white",p="black",m="white";k=new ng;k.bRa();k.$n(0,n);this.y6&&k.$n(.5,p);k.$n(1,m);k.Xga(new M(0,0));d?k.setEndPoint(new M(0,1)):k.setEndPoint(new M(1,0))}b.ra(this.Ea());n=new W;null!=this.pa()&&!1===this.pa().isEmpty()&&null!=this.ga()&&!1===this.ga().isEmpty()&&n.MIa(this.pa(),this.ga(),!1,
!1,!1);for(p=0;p<this.Xo;++p,g+=e){m=this.Ajb?this.P8a(this.Xo-1-p,!1):this.P8a(p,!1);var q=g+(100-this.cAa)*e/200,r=g+e-(100-this.cAa)*e/200;m=d?new U(h,q,m,r):new U(q,h,r,m);n.Ta(m,m);q=0>this.gBa.indexOf(p)?k:l;f.Nd(m)&&(b.qa(q,m),b.sc(m))}};a.prototype.H6a=function(){this.aq=[];var b=V.H6a(this.GE);this.aq[0]=b.count;this.aq[1]=b.minvalue;this.aq[2]=b.maxvalue;this.aq[3]=b.average;this.aq[4]=b.variance;this.aq[5]=b.avgdeviation;this.aq[6]=b.stddeviation;this.aq[7]=b.skewness;this.aq[8]=b.kurtosis;
this.aq[9]=b.p10;this.aq[10]=b.p50;this.aq[11]=b.p90;this.aq[12]=this.t2a;this.aq[13]=this.Vca;this.rob=!0};a.prototype.cSa=function(b,d){return V.cSa(b,d)};a.prototype.nIa=function(b){this.y6=b;this.Ul=!1;this.ha();return this};a.prototype.DWb=function(){return this.cAa};a.prototype.TNc=function(b){b=Math.min(b,100);this.cAa=b=Math.max(b,50);this.ha();return this};a.prototype.vTc=function(b){this.hQa=b;this.ur();return this};a.prototype.HEc=function(){return this.hQa};a.prototype.VRa=function(){return this.y6};
a.prototype.zPc=function(b){this.yca=b;this.Ul=!1;return this};a.prototype.oSa=function(){return this.yca};a.prototype.oNc=function(b){this.Kba=b;this.ur();return this};a.prototype.jFa=function(){return this.Kba};a.prototype.MPc=function(b){this.sja=b;this.ur();return this};a.prototype.qAc=function(){return this.sja};a.prototype.jK=function(){return this.Cja};a.prototype.Ozb=function(b){if(this.qja===b||void 0===b)return this;null!=this.qja&&this.hk(this.qja,Ce.gb,this.sb());this.qja=tg.ad(b);this.ha();
null!=this.qja&&this.gg(this.qja,Ce.gb,this.sb());return this};a.prototype.Ntb=function(){return this.qja};a.prototype.hLd=function(b){this.Cja=b;this.Ul=!1;return this};a.prototype.xl=function(){return this.zg()===Rh.xb};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJzZXROZWF0TGltaXRzWCI6ImVSYyIsInNldE5lYXRMaW1pdHNZIjoiZlJjIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwiZ2V0T3B0aW9ucyI6InRhIiwic2V0VW5pdCI6IiRsIiwiZ2V0RGF0YVNvdXJjZSI6ImZkIiwiZ2V0T3JpZW50YXRpb24iOiJ6ZyIsImdldERpc3BsYXlVbml0IjoicVAiLCJyZXNldFZhbHVlcyI6IlM0YiIsInNldFZhbHVlUmFuZ2UiOiJyVGMiLCJhcmVWYWx1ZXNDdXN0b21pemVkIjoiTXFjIiwiZ2V0TWluVmFsdWUiOiJ1YyIsImdldE1heFZhbHVlIjoiRGMiLCJnZXRTdGF0aXN0aWNzIjoiV3AiLCJnZXRTdGF0aXN0aWNzRGVzY3JpcHRpb24iOiJDdGQiLCJnZXRNYXhGcmVxdWVuY3kiOiJoOWEiLCJnZXRGcmVxdWVuY3kiOiJQOGEiLCJjYWxjdWxhdGUiOiJSaiIsImdldEJpbnMiOiJaUmEiLCJnZXRHYXBUeXBlRm9yVmFsdWUiOiJGdGIiLCJnZXRCaW5BdCI6IlZlYSIsImdldEluZGljZXNCeUJpbiI6IiRvZCIsImdldEJpbnNCeUluZGljZXMiOiJQa2QiLCJoaXRUZXN0IjoiTGkiLCJnZXRCaW5zQXQiOiJGc2IiLCJoaWdobGlnaHRCaW5zIjoibHdhIiwiZ2V0SGlnaGxpZ2h0ZWRCaW5zIjoidFNhIiwidXBkYXRlTW9kZWxMaW1pdHMiOiJ1ciIsInNldEJpbkNvdW50IjoibzUiLCJzZXRCaW5TdGVwcyI6IkM1YiIsInJlc2V0QmluQ291bnQiOiJ2TWMiLCJpc0F1dG9CaW5Db3VudCI6IkYwYiIsInVwZGF0ZUJpbkNvdW50Ijoib3lhIiwiZ2V0QmluQ291bnQiOiJPViIsInNldEhpZ2hWYWx1ZUluY2x1c2l2ZSI6InpLZCIsImdldEhpZ2hWYWx1ZUluY2x1c2l2ZSI6IkNvZCIsImdldE1vZGVsTGltaXRzIjoicGEiLCJnZXRCb3VuZHMiOiJnYSIsImNoZWNrQ29sbGlzaW9uIjoiYmYiLCJzZXRCb3VuZHMiOiJzYSIsImdldENvbnRlbnRzVHJhbnNmb3JtIjoiWWQiLCJjb21wdXRlU3RhdGlzdGljcyI6Ikg2YSIsInNldEF1dG9HcmFkaWVudCI6Im5JYSIsImdldEJpblNwYWNpbmciOiJEV2IiLCJzZXRCaW5TcGFjaW5nIjoiVE5jIiwic2V0VmVydGljYWxTY2FsaW5nIjoidlRjIiwiZ2V0VmVydGljYWxTY2FsaW5nIjoiSEVjIiwiZ2V0QXV0b0dyYWRpZW50IjoiVlJhIiwic2V0RnJlcXVlbmN5VHlwZSI6InpQYyIsImdldEZyZXF1ZW5jeVR5cGUiOiJvU2EiLCJzZXRBY2N1bXVsYXRlZE1vZGUiOiJvTmMiLCJnZXRBY2N1bXVsYXRlZE1vZGUiOiJqRmEiLCJzZXRIaXN0b2dyYW1Nb2RlIjoiTVBjIiwiZ2V0SGlzdG9ncmFtTW9kZSI6InFBYyIsImdldFN0YXJ0VmFsdWUiOiJqSyIsInNldEhpZ2hsaWdodFN0eWxlIjoiT3piIiwiZ2V0SGlnaGxpZ2h0U3R5bGUiOiJOdGIiLCJzZXRMb2dTdGFydFZhbHVlIjoiaExkIn19fSAg");var gR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}c.prototype.ysb=Fb;c.prototype.z5b=Fb;c.prototype.al=Fb;return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBdXRvRGF0YUxpbWl0cyI6InlzYiIsInNldEF1dG9EYXRhTGltaXRzIjoiejViIiwiZ2V0RGF0YUxpbWl0cyI6ImFsIn19fSAg");var hR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){b=xb(b,{autobounds:!1,sizeisindevicespace:!1,preserveaspectratio:!1,ispointingup:!1,autosize:!1,padding:null,alignment:O.Na},!0);Wi.call(this,b);b.padding=b.padding?jg.Pa(b.padding):new jg;this.ja=new Io;this.Qqc();this.i_a=!1;this.k1a=this.QQb=this.lAa=this.kka=this.eIb=null;this.rB=!1;this.Jf=this.hlb=this.R1a=null;this.oq=new a(this);this.oq.sa(Vi.vp());this.Z7=function(){this.notify(Vh.mba,this)}.bind(this);this.oq.on(Vh.mba,this.Z7);this.setOptions(b)}function a(b){oi.call(this);
this.Zh=b;this.B7=new oi;var d=this.Zh.Jf;d?this.B7.La({left:d.la(),top:d.ka(),bottom:d.ma(),right:d.na()}):this.B7.La({left:0,top:0,bottom:0,right:0});this.B7.Te(!0);this.Wd(new jl);this.oa(this.B7);this.rf(b);this.Te(!0)}D(a,oi);a.prototype.Yv=function(){return this.B7};a.prototype.Ha=function(){};a.prototype.pa=function(){return this.Zh.VJ()};a.prototype.Yd=function(){var b=this.ga(),d=this.pa();return null==b||b.isEmpty()||null==d||d.isEmpty()?new W:W.Sd(d,b,!1,!1,!1)};D(c,Wi);lc(c,bf);L(c,"geotoolkit.controls.shapes.Legend");
c.prototype.rm=function(b,d){if(this.Jf===b)return this;this.Jf=jg.He(this,this.Jf,b,d,this.K6c());this.ha();this.oq&&this.oq.Yv().La(this.Jf.getStyle());return this};c.prototype.hi=function(){return this.Jf};c.prototype.setOptions=function(b){if(!b)return this;void 0!==b.alignment&&this.tc(b.alignment);b.padding&&this.rm(b.padding);void 0!==b.linestyle&&this.ra(b.linestyle,!1===b.linestyle instanceof X);void 0!==b.fillstyle&&this.qa(b.fillstyle,!1===b.fillstyle instanceof rf);if(void 0!==b.data){var d=
null;if(b.data instanceof Io)d=b.data;else if(b.data instanceof Array||b.data instanceof QQ||b.data instanceof TQ)d=new Io,d.add(b.data);d!==this.ja&&(this.$uc(),this.ja=d,this.Qqc(),this.Pf())}void 0!==b.sizeisindevicespace&&this.y5(b.sizeisindevicespace);void 0!==b.preserveaspectratio&&this.apa(b.preserveaspectratio);void 0!==b.ispointingup&&this.vt(b.ispointingup);void 0!==b.preservereadingorientation&&this.yaa(b.preservereadingorientation);void 0!==b.width&&this.Ra(b.width);void 0!==b.height&&
this.Ya(b.height);b.hasOwnProperty("autosize")&&this.rB!==b.autosize&&(this.rB=b.autosize,this.Pf());b.hasOwnProperty("autobounds")&&this.i_a!==b.autobounds&&(this.i_a=b.autobounds,this.lj());return this};c.prototype.getData=function(){return this.ja};c.prototype.Qqc=function(){if(null==this.ja)return this;var b=Ho;this.ja.on(b.CN,this.vfa());this.ja.on(b.uF,this.vfa());this.ja.on(b.lw,this.vfa());this.ja.on(b.VJa,this.vfa());b=this.ja.getIterator();b.forEach(function(d){d instanceof QQ&&(d.on(PQ.Ufb,
this.CEc()),d.on(PQ.Vfb,this.vfa()))}.bind(this));return this};c.prototype.$uc=function(){if(null==this.ja)return this;var b=Ho;this.ja.za(b.CN,this.vfa());this.ja.za(b.uF,this.vfa());this.ja.za(b.lw,this.vfa());this.ja.za(b.VJa,this.vfa());b=this.ja.getIterator();b.forEach(function(d){d instanceof QQ&&(d.za(PQ.Ufb,this.CEc()),d.za(PQ.Vfb,this.vfa()))}.bind(this));return this};c.prototype.Pf=function(){if(null!=this.ja){var b=[];this.vf().forEach(function(f){f.za(SQ.lw,this.Yea());b.push(f)}.bind(this));
this.dh();var d=this.ja.getIterator(),e=[];d.forEach(function(f){var g=[];f instanceof QQ?g=f.grb():f instanceof TQ&&(g=[f],f=b.indexOf(f),-1!==f&&b.splice(f,1));for(f=0;f<g.length;++f)g[f].on(SQ.lw,this.Yea()),e.push(g[f])}.bind(this));for(d=b.length-1;0<=d;--d)b[d].dispose();this.hlb=null;this.oa(e);this.Erc();this.i_a?this.lj():this.mb()}};c.prototype.sa=function(b){if(b&&0<b.ca()&&0<b.da()){var d=this.lp();d=Wi.q9(b,d);this.Db(d);this.Lz()||(this.rB||this.setSize(b.ca(),b.da()),this.i_a||this.mb())}return this};
c.prototype.Erc=function(){if((this.rB||this.oq.XB())&&null!=this.oq.Yv().ue()){this.oq.oe(!0);this.oq.wb(!1);this.oq.Yv().ue().oc(new U(0,0,Number.MAX_VALUE,Number.MAX_VALUE),this.vf());var b=null;this.vf().forEach(function(d){d.Ia()&&(d=d.ga(),null==b?b=d?d.clone():null:d&&b.union(d))});this.oq.oe(!1);this.oq.wb(!0);null!=b&&this.Lz()&&(b=new U(0,0,b.ca()+this.Jf.na()+this.Jf.la(),b.da()+this.Jf.ma()+this.Jf.ka()),this.hlb=null,this.setSize(b.ca(),b.da()),this.oq.XB()||(this.yl(b.da()),this.Yl(b.ca())))}};
c.prototype.lj=function(){if(this.i_a){var b=this.VJ(),d=Number.NEGATIVE_INFINITY,e=Number.NEGATIVE_INFINITY,f,g;this.vf().forEach(function(h){h.ga()&&(f=h.ga().na(),f>d&&(d=f),g=h.ga().ma(),g>e&&(e=g))});null!=b&&(b=b.clone(),b.Ra(d),b.Ya(e),this.sa(b))}};c.prototype.Yea=function(){null==this.lAa&&(this.lAa=function(){this.lj()}.bind(this));return this.lAa};c.prototype.vfa=function(){null==this.kka&&(this.kka=function(){this.Pf()}.bind(this));return this.kka};c.prototype.CEc=function(){null==this.QQb&&
(this.QQb=function(b,d,e){d&&this.vf().forEach(function(f){f.Bd()===d&&f.setOptions(e)})}.bind(this));return this.QQb};c.prototype.dispose=function(){this.vf().forEach(function(b){b.za(SQ.lw,this.Yea())}.bind(this));null!=this.oq&&(this.$uc(),this.oq.za(Vh.mba,this.Z7),this.oq.dispose(),this.oq=null);Wi.prototype.dispose.call(this)};c.prototype.render=function(b){if(0<this.ca()&&0<this.da()){b=null!=this.Qa()?b.Zb(this.Qa()):b;this.Eh(b);var d=b.Fa(),e=this.a4(b.Fa());b.Tb(e);this.$i(b);b.Tb(d);this.jh(b)}};
c.prototype.$i=function(b){this.R1a=this.bBc(b.Fa());null==this.R1a||this.R1a.wi(this.hlb)||(this.EQd(this.VJ()),this.hlb=this.R1a.clone());this.oq.render(b)};c.prototype.EQd=function(b){b=new U(0,0,b.ca()-this.Jf.na()-this.Jf.la(),b.da()-this.Jf.ma()-this.Jf.ka());this.oq.Yv().Ha(b);this.oq.Yv().mb();this.oq.mb()};c.prototype.VJ=function(){return this.eIb?this.eIb:this.Lz()?new U(0,0,this.ca(),this.da()):this.R1a};c.prototype.bBc=function(b){b=b.Ta(Vi.vp());return new U(0,0,b.ca(),b.da())};c.prototype.Gj=
function(b,d){this.oq.Yv().Gj(b,d)};c.prototype.oa=function(b){this.oq.Yv().oa(b);return this};c.prototype.vf=function(b){return this.oq.Yv().vf(b)};c.prototype.removeChild=function(b){var d=this.oq.Yv();d.ge()||d.removeChild(b);return this};c.prototype.dh=function(b){this.oq.Yv().dh(b);return this};c.prototype.Ha=function(b){this.ha();this.eIb=b;this.Pf();this.ha();return this};c.prototype.qt=function(){return this.oq.qt()};c.prototype.Te=function(b){this.oq.Te(b);this.oq.Yv().Te(b);return this};
c.prototype.pa=function(){return this.oq.pa()};c.prototype.Wd=function(b){this.oq.Yv().Wd(b);this.Pf();return this};c.prototype.ue=function(){return this.oq.Yv().ue()};c.prototype.mb=function(b){this.Erc();this.oq.mb(b);this.oq.Yv().mb();return this};c.prototype.qa=function(b,d){Wi.prototype.qa.call(this,b,d);this.oq.qa(this.fb());return this};c.prototype.ra=function(b,d){Wi.prototype.ra.call(this,b,d);this.oq.ra(this.Ea());return this};c.prototype.ia=function(){var b=Wi.prototype.ia.call(this);b.padding=
this.hi();b.autosize=this.rB;b.data=this.ja;return b};c.prototype.fa=function(b){b=hc(b);if(null==b)return this;Wi.prototype.fa.call(this,b);this.setOptions(b);return this};c.prototype.xk=function(){if(null!=this.Mb())return this.Mb().ca()};c.prototype.Yl=function(b){return null==this.Mb()&&null==b||null!=this.Mb()&&this.Mb().ca()===b?this:this.La({width:b})};c.prototype.ke=function(){if(null!=this.Mb())return this.Mb().da()};c.prototype.yl=function(b){return null==this.Mb()&&null==b||null!=this.Mb()&&
this.Mb().da()===b?this:this.La({height:b})};c.prototype.K6c=function(){null===this.k1a&&(this.k1a=function(b,d,e){this.oq&&this.oq.Yv().La(this.Jf.getStyle())}.bind(this));return this.k1a};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQYWRkaW5nU3R5bGUiOiJybSIsImdldFBhZGRpbmdTdHlsZSI6ImhpIiwic2V0Qm91bmRzIjoic2EiLCJnZXRMZWdlbmREZXZpY2VTaXplIjoiYkJjIiwiZW51bWVyYXRlTm9kZXMiOiJHaiIsImFkZENoaWxkIjoib2EiLCJnZXRDaGlsZHJlbiI6InZmIiwiY2xlYXJDaGlsZHJlbiI6ImRoIiwic2V0TW9kZWxMaW1pdHMiOiJIYSIsImlzQ2xpcHBpbmdFbmFibGVkIjoicXQiLCJlbmFibGVDbGlwcGluZyI6IlRlIiwiZ2V0TW9kZWxMaW1pdHMiOiJwYSIsInNldExheW91dCI6IldkIiwiZ2V0TGF5b3V0IjoidWUiLCJ1cGRhdGVMYXlvdXQiOiJtYiIsInNldEZpbGxTdHlsZSI6InFhIiwic2V0TGluZVN0eWxlIjoicmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXREZXNpcmVkV2lkdGgiOiJ4ayIsInNldERlc2lyZWRXaWR0aCI6IllsIiwiZ2V0RGVzaXJlZEhlaWdodCI6ImtlIiwic2V0RGVzaXJlZEhlaWdodCI6InlsIn19fSAg");var iR=/*#__PURE__*/va(/*#__PURE__*/{InterpolateZero:0,InterpolateNull:1,InterpolateMissingValues:2},2,"eyJJbnRlcnBvbGF0ZVplcm8iOiJ3S2EiLCJJbnRlcnBvbGF0ZU51bGwiOiJQWWEiLCJJbnRlcnBvbGF0ZU1pc3NpbmdWYWx1ZXMiOiJLZmIifSAg"),jR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d,e){this.Oza=a;this.L5a=b;this.Mpb=d;this.fta=e;this.asa=Array(d.length);this.init()}L(c,"geotoolkit.controls.util.Interpolation");c.NFb=iR;c.prototype.init=function(){for(var a=0;a<this.Mpb.length;a++)this.asa[a]=Array(this.Oza.length);this.Icd()};c.prototype.Icd=function(){for(var a=0;a<this.Mpb.length;a++)for(var b=0,d=0,e=0;e<this.Oza.length;e++)if(this.Oza[e]===this.L5a[a][d])this.asa[a][e]=
this.Mpb[a][d],b=d+1,d++;else if(this.fta===c.NFb.wKa)this.asa[a][e]=0;else if(this.fta===c.NFb.PYa)this.asa[a][e]=null;else if(this.Oza[e]<this.L5a[a][0]||this.Oza[e]>this.L5a[a][this.L5a[a].length-1])this.asa[a][e]=null;else{var f=this.Oza[e-1];var g=this.asa[a][e-1];var h=this.L5a[a][b];var k=this.Mpb[a][b];this.asa[a][e]=g+(this.Oza[e]-f)*(k-g)/(h-f)}};c.prototype.GAc=function(){return this.asa};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRJbnRlcnBvbGF0ZWRWYWx1ZXMiOiJHQWMifX19");var lR=/*#__PURE__*/va(/*#__PURE__*/{JN:0,tF:1},2,"eyJGaWx0ZXJDbG9zZVBvaW50cyI6IkpOIiwiUkRQIjoidEYifSAg"),mR=/*#__PURE__*/va(/*#__PURE__*/{wKa:0,PYa:1,Kfb:2},2,"eyJJbnRlcnBvbGF0ZVplcm8iOiJ3S2EiLCJJbnRlcnBvbGF0ZU51bGwiOiJQWWEiLCJJbnRlcnBvbGF0ZU1pc3NpbmdWYWx1ZXMiOiJLZmIifSAg"),nR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(F,I,J,K,N){var P=Math.min(F.length,I.length);if(!(2>P)){var Q=K.Rg(),R=K;void 0!==N&&(null==a.ePb&&(a.ePb=new dh),R=a.ePb);for(var Y,ca=!1,ea=!1,ua=!1,Ga=1;Ga<P;Ga++)isNaN(F[Ga])||isNaN(I[Ga])?!0===ca&&(K.stroke(),ca=!1):(C.Ga(F[Ga-1],I[Ga-1]),z.Ga(F[Ga],I[Ga]),Y=Q.c9(C,z,C,z),0<=Y?(ea=!0,!1===ca?(ca=!0,R.ra(J),R.beginPath(),R.moveTo(F[Ga-1],I[Ga-1])):ua&&(R.moveTo(F[Ga-1],I[Ga-1]),ua=!1),R.lineTo(F[Ga],I[Ga])):ua=!0);!1!==ea&&(null!=
N?K.Ym(R,N):K.stroke())}}function a(F,I,J,K,N,P,Q,R,Y,ca,ea,ua){I=G(F,{x:Array.isArray(F)?F:[],y:Array.isArray(I)?I:[],series:Array.isArray(ua)?ua:[],linestyles:Array.isArray(J)?J:[new X],fillstyles:Array.isArray(Q)?Q:null,bounds:K instanceof U?K.clone():new U(0,0,100,100),spline:"boolean"===typeof N?N:!1,logscale:"boolean"===typeof P?P:!1,baseline:"number"===typeof R?R:0,gapfillcutoffvalue:0,gapvalue:Number.MAX_VALUE,stackedarea:"boolean"===typeof Y?Y:!1,percentarea:"boolean"===typeof ca?ca:!1,datainterpolationstrategy:a.dbc.Kfb,
modellimits:null,gridvisible:!0,autodatalimits:!0,symbols:null,arearange:Array.isArray(ea)?ea:null,labels:null},!0);I=hc(I);I.symbols&&(I.symbols=G(I.symbols,{linestyles:null,fillstyles:null,painters:null,width:10,height:10,sizeisindevicespace:!0,step:1,visible:!0},!0));I.labels&&(I.labels=G(I.labels,{annotations:null,offsetx:0,offsety:0,textstyles:new Ki,showellipsis:!1}));oi.call(this,I);this.El=null;this.QC=0;this.zB=Number.MAX_VALUE;this.Df={x:I.x,y:I.y,linestyles:I.linestyles,fillstyles:I.fillstyles,
size:I.y.length,logscale:I.logscale,spline:I.spline,baseline:I.baseline,gapfillcutoffvalue:I.gapfillcutoffvalue,gapvalue:I.gapvalue,stackedarea:I.stackedarea,percentarea:I.percentarea,datainterpolationstrategy:I.datainterpolationstrategy,symbols:I.symbols,labels:I.labels,arearange:I.arearange,series:I.series,autodatalimits:null==I.modellimits?I.autodatalimits:!1};!1===this.Df.autodatalimits&&null==I.modellimits&&this.Ha(this.al());this.oda=!0;this.nh=new H;this.uu=this.QU=!1;this.Kv=a.e6.tF;this.gMa=
null;this.ux=this.sI.bind(this);this.w3a=new $n;this.zPb=new io;this.f7=new dh;this.ja=b(this.Df,this);if(null!=this.ja){if(l(this.ja.x))for(J=0;J<this.ja.x.length;J++)this.ja.x[J].on(mG.Ud,this.ux);if(l(this.ja.y))for(J=0;J<this.ja.y.length;J++)this.ja.y[J].on(mG.Ud,this.ux)}!1!==I.cache&&this.pi(new ni);I.gridvisible&&(I=(new kk).Ng("minor",!0).Ng("edge",!1),I.jj("major").setColor(u),I.jj("minor").setColor(w),J=this.Df.logscale?new sk:new kk,J.Ng("minor",!0),J.Ng("edge",!1),J.jj("major").setColor(u),
J.jj("minor").setColor(w),this.sd=new Lk(J,I),this.oa(this.sd));this.setData(F);this.Jmc=null}function b(F,I){var J=k(F.y,F.logscale),K=k(F.x,!1),N=null,P=null;null!=F.symbols&&(N={RS:f(F.symbols.linestyles,J.length,X.Pa),Ez:f(F.symbols.fillstyles,J.length,tg.ad),F2b:f(F.symbols.painters,J.length),visible:void 0!==F.symbols.visible?F.symbols.visible:!0,width:F.symbols.width,height:F.symbols.height,yua:h(F.symbols.dimensions,J.length,g),cwe:F.symbols.sizeisindevicespace,step:F.symbols.step});null!=
F.labels&&(P=G(F.labels,{}),null!=P.textstyle&&(hb('geotoolkit.controls.shapes.LineChart(options.labels.textstyle) is deprecated since 2020 (3.0), use "textstyles" instead'),P.textstyle=f(P.textstyle,J.length,Ki.Pa)),P.textstyles=f(P.textstyles||P.textstyle,J.length,Ki.Pa),null!=P.linestyle&&(hb('geotoolkit.controls.shapes.LineChart(options.labels.linestyle) is deprecated since 2020 (3.0), use "linestyles" instead'),P.linestyle=f(P.linestyle,J.length,X.Pa)),P.linestyles=f(P.linestyles||P.linestyle,
J.length,X.Pa),null!=P.fillstyle&&(hb('geotoolkit.controls.shapes.LineChart(options.labels.fillstyle) is deprecated since 2020 (3.0), use "fillstyles" instead'),P.fillstyle=f(P.fillstyle,J.length,tg.ad)),P.fillstyles=f(P.fillstyles||P.fillstyle,J.length,tg.ad),P.showellipsis&&B.bx(!0));if(null!=F.arearange){F.arearange=Array.isArray(F.arearange)?F.arearange:[F.arearange];for(var Q=0;Q<F.arearange.length;Q++)F.arearange[Q]=G(F.arearange[Q],{range:[],linestyles:Array.isArray(F.arearange[Q].linestyles)?
F.arearange[Q].linestyles:[new X],fillstyle:null}),F.arearange[Q].range=k(F.arearange[Q].range,F.logscale),F.arearange[Q].linestyles=f(F.arearange[Q].linestyles,2,X.Pa)}Q=!1;if(F.stackedarea||F.percentarea)Q=!0;var R=null,Y=null;Q&&(R=F.datainterpolationstrategy===mR.wKa?iR.wKa:F.datainterpolationstrategy===mR.PYa?iR.PYa:iR.Kfb,Y=e(K,J,F.percentarea,R),R=k(Y.ySeries,F.logscale),Y=k(Y.xSeries,!1));for(var ca=F.series.slice(),ea=0;ea<J.length;ea++)null==ca[ea]&&(ca[ea]={visible:!0});F={y:J,x:K,RS:f(F.linestyles,
J.length,X.Pa),Ez:f(F.fillstyles,J.length,tg.ad),R$b:R,jXc:Y,Ezd:F.logscale,TWa:F.spline,j6a:F.baseline,Jqe:F.gapfillcutoffvalue,Kqe:F.gapvalue,WWa:Q,Uue:F.percentarea,N3:F.arearange,Zr:N,labels:P,V_:ca};I.JAb(F.linestyles,F.fillstyles);return F}function d(F,I,J){J=Math.max(Math.min(J,1),0);return(1-J)*F+J*I}function e(F,I,J,K){var N,P=0,Q=I.length,R=[],Y=[],ca=[],ea=Array(Q);for(N=0;N<F.length;N++){ca.push(F[N].toArray(!1));for(var ua=R.length,Ga=0,Aa=[];P<ca[N].length&&Ga<ua;)ca[N][P]<R[Ga]?Aa[Aa.length-
1]===ca[N][P]?P++:Aa.push(ca[N][P++]):Aa.push(R[Ga++]);for(;Ga<ua;)Aa[Aa.length-1]===R[Ga]?Ga++:Aa.push(R[Ga++]);for(;P<ca[N].length;)Aa[Aa.length-1]===ca[N][P]?P++:Aa.push(ca[N][P++]);P=0;R=Aa.slice()}for(N=0;N<Q;N++)Y.push(I[N].toArray(!1)),ea[N]=Array(R.length);P=ca.length;for(N=0;N<Q;N++)ca[N]=ca[N>=P?P-1:N];for(N=0;N<Q;N++)ca[N]=ca[N].slice(0,Y[N].length);if(!J)for(N=0;N<Q;N++){I=0;ua=ca[N].length;for(P=0;P<ca[N].length-1;P++){if(null==Y[N][P])I++;else break;if(null!=Y[N][P+1])break}for(P=ca[N].length-
1;0<P;P--){if(null==Y[N][P])ua--;else break;if(null!=Y[N][P-1])break}ca[N]=ca[N].slice(I,ua);Y[N]=Y[N].slice(I,ua)}F=(new jR(R,ca,Y,K)).GAc();if(J)for(N=0;N<R.length;N++){for(P=J=0;P<Q;P++)F[P][N]=isNaN(F[P][N])?0:F[P][N],J+=F[P][N];0!==J&&(J=100/J);for(P=0;P<Q;P++)F[P][N]*=J,0<P&&(F[P][N]+=F[P-1][N]),F[P][N]=100<F[P][N]?100:F[P][N]}else for(N=0;N<Q;N++)for(P=0;P<R.length;P++)F[N][P]=isNaN(F[N][P])?null:F[N][P],0<N&&(F[N][P]=isNaN(F[N][P])?null:F[N][P],F[N][P]=F[N-1][P]+F[N][P]);if(K===iR.wKa)for(N=
0;N<Y.length;N++)ea[N]=R.slice();else for(N=0;N<Y.length;N++)I=V.findIndex(ca[N][0],R),ua=V.findIndex(ca[N][ca[N].length-1],R),ea[N]=R.slice(0,ua+1),F[N].splice(ua+1),ea[N]=ea[N].slice(I),F[N]=F[N].slice(I);return{ySeries:F,xSeries:ea}}function f(F,I,J){return h(F,I,J)}function g(F){return V.zW(F)?new Vd(F,F):Vd.Pa(F)}function h(F,I,J){if(null==F)return null;var K;if(Array.isArray(F))if(F.length===I)var N=F;else for(N=F.slice(),K=F.length;K<I;++K)N.push(F[F.length-1]);else for(N=[],K=0;K<I;++K)N.push(F);
if(null!=J)for(K=0;K<N.length;++K)N[K]=J(N[K]);return N}function k(F,I){if(m(F)||l(F)){for(var J=[],K=0;K<F.length;++K)J.push(n(F[K],I));return J}return[n(F,I)]}function l(F){if(Array.isArray(F)){for(var I=0;I<F.length;I++)if(!nc(F[I],wG))return!1;return 0!==F.length}return!1}function m(F){return!(null==F||!Array.isArray(F)||0===F.length||!Array.isArray(F[0]))}function n(F,I){F=nc(F,wG)?F:Array.isArray(F)?new xG({data:F}):new xG;return!0===I?new PG({data:F,preprocessor:p}):F}function p(F){for(var I=
Array.isArray(F)?F:[F],J=[],K,N=0;N<I.length;++N)K=I[N],J[N]=isNaN(K)||K<t?Number.NaN:Math.log(K)/y;return Array.isArray(F)?J:J[0]}function q(F,I){if(null==I||null==F)return null;var J=new W;if(F instanceof Nm){var K=null!=F.Ea()?F.Ea().ca()/2:0;J.cB(F.width/2+K,F.height/2+K)}J=I.vq(J,new M(0,0));if(null===J)return null;F instanceof Nm?F.render(J):J.drawImage(F,0,0,F.width,F.height,0,0,F.width/ac(),F.height/ac());I.Ko();return I}var r=function(){function F(K){rd.call(this,K)}var I=function(){function K(){pd.call(this)}D(K,pd);K.prototype.process=function(N,P,Q,R){N=R(N.x.length,P.x.length);var Y=Math.floor(N);Q={x:P.x.slice(0,Y),y:P.y.map(function(ua){return ua.slice(0,Y)})};if(Y!==N){N-=Y;var ca=P.x[Y-1],ea=P.x[Y];ca+=(ea-ca)*N;Q.x.push(ca);for(R=0;R<P.y.length;R++)ca=P.y[R][Y-1],ea=P.y[R][Y],ca+=(ea-ca)*N,Q.y[R].push(ca)}return Q};K.prototype.clone=function(N){return{x:N.x.slice(),y:N.y.map(function(P){return P.slice()})}};K.mO=null;K.ya=function(){null==K.mO&&(K.mO=new K);return K.mO};return K}(),J=function(){function K(){I.call(this)}D(K,I);K.prototype.process=function(N,P,Q,R){Q=Q||{x:[],y:[]};if(N.x.length===P.x.length){for(var Y=0;Y<N.x.length;++Y)Q.x[Y]=R(N.x[Y],P.x[Y]);for(Y=0;Y<N.y.length;++Y){Q.y[Y]=Q.y[Y]||[];for(var ca=0;ca<N.x.length;++ca)Q.y[Y][ca]=R(N.y[Y][ca],P.y[Y][ca])}return Q}if(0===N.x.length){for(N=0;N<P.x.length;++N)Q.x[N]=P.x[N];for(N=0;N<P.y.length;++N)for(Q.y[N]=Q.y[N]||[],Y=0;Y<P.x.length;++Y)Q.y[N][Y]=R(0,P.y[N][Y]);return Q}return null};K.mO=null;K.ya=function(){null==K.mO&&(K.mO=new K);return K.mO};
return K}();D(F,rd);F.prototype.qm=function(K,N){return"data"===K.attributeName&&N instanceof a&&("vertical"===K.type||"horizontal"===K.type)};F.prototype.SE=function(K){"horizontal"===this.oj&&this.Ucb(I.ya());"vertical"===this.oj&&this.Ucb(J.ya());return(K=K.getData())&&Array.isArray(K.x)&&Array.isArray(K.y)?{x:K.x,y:K.y}:null};F.prototype.apply=function(K){K.setData(this.bva())};return F}(),t=1E-5,u="#e0e0e0",w="#f5f5f5",y=Math.log(10),A=10,x=new Nm({alignment:O.Na}),C=new M(0,0),z=C.clone(),v=
new Vd(0,0),B=new ek({alignment:O.Na,showellipsis:!1,visible:!0,sizeIsInDeviceSpace:!0});B.Wj(ck.wn);var E=function(){function F(){this.values=this.indices=null;this.Y4=0;this.Vwa=!0}F.prototype.Bw=function(){this.indices=this.indices||[];this.values=this.values||[];this.Y4=0};F.prototype.end=function(){this.indices.splice(this.Y4,this.indices.length-this.Y4);this.values.splice(this.Y4,this.values.length-this.Y4)};F.prototype.xu=function(I,J){var K=this.Y4;this.indices[K]=I;this.values[K]=J;this.Y4=
K+1};return F}(),H=function(){function F(){this.$P=[];this.AG=null;this.gxa=lR.JN}F.prototype.xu=function(I,J,K){this.$P[I].xu(J,K)};F.prototype.Kab=function(I,J){return this.Vwa||!this.AG||this.AG.jf!==I.jf||this.AG.wf!==I.wf||this.AG.vg!==I.vg||this.AG.Bg!==I.Bg||this.gxa!==J};F.prototype.j5=function(){this.Vwa=!0};F.prototype.uqb=function(I,J){this.$P[I].Bw(J)};F.prototype.cwc=function(I){this.$P[I].end()};F.prototype.Bw=function(I){if(0!==I&&(!this.$P||this.$P.length!==I)){this.$P=Array(I);for(var J=
0;J<I;J++)this.$P[J]=new E}};F.prototype.end=function(I,J){this.AG=I;this.gxa=J;this.Vwa=!1};return F}();D(a,oi);lc(a,gR);L(a,"geotoolkit.controls.shapes.LineChart");re.ya().IG(r);a.e6=lR;a.dbc=mR;a.prototype.Otc=function(){null!=this.ja.yvalforgap&&this.ja.yvalforgap.forEach(function(N){N.dispose()});this.ja.yvalforgap=null;if(this.zB===Number.MAX_VALUE)return this;for(var F=this.ja.y.map(function(N){return N.Ba(N,!0)}),I=this.ja.x[0],J=0;J<this.ja.y.length;++J)for(var K=1;K<I.getLength();++K)Math.abs(I.getValue(K)-
I.getValue(K-1))>this.zB&&(I.Sfa(K,I.getValue(K)),F[J].Sfa(K,Number.NaN),++K);this.ja.yvalforgap=F;return this};a.prototype.twc=function(){null!=this.ja.yvalforgapfill&&this.ja.yvalforgapfill.forEach(function(R){R.dispose()});this.ja.yvalforgapfill=null;if(0>=this.QC)return this;for(var F=this.ja.y.map(function(R){return R.Ba(R,!0)}),I=this.ja.x[0],J=0;J<F.length;++J)for(var K=0,N=0;N<I.getLength();++N)if("number"===typeof F[J].getValue(N)&&!isNaN(F[J].getValue(N))){if(K<N){var P=N-K;if(1<P&&Math.abs(I.getValue(N)-
I.getValue(K))<=this.QC)for(P=K+1;P<N;++P){var Q=Math.abs(I.getValue(P)-I.getValue(K))/Math.abs(I.getValue(N)-I.getValue(K));F[J].setValue(P,d(F[J].getValue(K),F[J].getValue(N),Q))}}K=N}this.ja.yvalforgapfill=F;return this};a.prototype.rQ=function(F){if(this.Kv===F)return this;this.ha();this.Kv=F;this.xa().ha();return this};a.prototype.FI=function(F){if(this.uu===F)return this;this.ha();this.uu=F;this.xa().ha();return this};a.prototype.Mcb=function(F){this.QU!==F&&(this.QU=F,this.xa().ha());return this};
a.prototype.xa=function(F,I){I===Ee.vba&&(this.LPa=[]);oi.prototype.xa.call(this,F,I);return this};a.prototype.getData=function(){return this.Df};a.prototype.setData=function(F){if(null==F)return this;F=G(F,{x:Array.isArray(F.x)?F.x:this.Df.x,y:Array.isArray(F.y)?F.y:this.Df.y,linestyles:Array.isArray(F.linestyles)?F.linestyles:this.Df.linestyles,fillstyles:Array.isArray(F.fillstyles)?F.fillstyles:this.Df.fillstyles,series:Array.isArray(F.series)?F.series:this.Df.series,baseline:"number"===typeof F.baseline?
F.baseline:this.Df.baseline,gapfillcutoffvalue:"number"===typeof F.gapfillcutoffvalue?F.gapfillcutoffvalue:this.Df.gapfillcutoffvalue,gapvalue:"number"===typeof F.gapvalue?F.gapvalue:this.Df.gapvalue,stackedarea:"boolean"===typeof F.stackedarea?F.stackedarea:this.Df.stackedarea,percentarea:"boolean"===typeof F.percentarea?F.percentarea:this.Df.percentarea,datainterpolationstrategy:this.Df.datainterpolationstrategy,spline:"boolean"===typeof F.spline?F.spline:this.Df.spline,logscale:"boolean"===typeof F.logscale?
F.logscale:this.Df.logscale,symbols:"object"===typeof F.symbols?F.symbols:this.Df.symbols,labels:"object"===typeof F.labels?F.labels:this.Df.labels,modellimits:"object"===typeof F.modellimits?F.modellimits:this.pa(),arearange:null,autodatalimits:"boolean"===typeof F.autodatalimits?F.autodatalimits:this.Df.autodatalimits},!0);this.Df={x:F.x,y:F.y,linestyles:F.linestyles,fillstyles:F.fillstyles,size:F.y.length,logscale:F.logscale,spline:F.spline,baseline:F.baseline,gapfillcutoffvalue:F.gapfillcutoffvalue,
gapvalue:F.gapvalue,stackedarea:F.stackedarea,percentarea:F.percentarea,datainterpolationstrategy:F.datainterpolationstrategy,symbols:F.symbols,labels:F.labels,arearange:F.arearange,autodatalimits:F.autodatalimits,series:F.series};this.LPa=null;this.ja=b(this.Df,this);this.gMa=null;null==this.ux&&(this.ux=this.sI.bind(this));this.Y_(this.Df.gapfillcutoffvalue);this.Z_(this.Df.gapvalue);this.KSb();this.xa().ha();return this};a.prototype.JAb=function(F,I){this.ja||(this.ja={});var J;this.ja.RS=this.ja.RS||
[];for(J=0;J<this.ja.RS.length;++J)this.hk(this.ja.RS[J],Ce.gb,this.sb());this.ja.Ez=this.ja.Ez||[];for(J=0;J<this.ja.Ez.length;++J)this.hk(this.ja.Ez[J],Ce.gb,this.sb());F=F||[];for(J=0;J<F.length;++J)this.gg(F[J],Ce.gb,this.sb());I=I||[];for(J=0;J<I.length;++J)this.gg(I[J],Ce.gb,this.sb());return this};a.prototype.sb=function(){this.El||(this.El=function(F,I,J){F=Math.max(this.ja.x.length,this.ja.y.length);for(J=0;J<F;++J){var K=this.ja.linestyles[J];if(I===K){var N=this.ja.x[J]||this.ja.x[0],P=
this.ja.y[J]||this.ja.y[0];N=new U(N.sf(),P.sf(),N.kg(),P.kg());K=K.ca();K=new Vd((K+1)*Math.SQRT1_2,(K+1)*Math.SQRT1_2);null!=this.wa()&&this.wa().Sk(K,K);N.Uc(K.ca(),K.da());this.ha(N)}}}.bind(this));return this.El};a.prototype.setOptions=function(F){if(null==F)return this;F=G(F,{linestyles:Array.isArray(F.linestyles)?F.linestyles:this.Df.linestyles,fillstyles:Array.isArray(F.fillstyles)?F.fillstyles:this.Df.fillstyles,baseline:"number"===typeof F.baseline?F.baseline:this.Df.baseline,gapfillcutoffvalue:"number"===
typeof F.gapfillcutoffvalue?F.gapfillcutoffvalue:this.Df.gapfillcutoffvalue,gapvalue:"number"===typeof F.gapvalue?F.gapvalue:this.Df.gapvalue,spline:"boolean"===typeof F.spline?F.spline:this.Df.spline,symbols:"object"===typeof F.symbols?F.symbols:this.Df.symbols,series:Array.isArray(F.series)?F.series:this.Df.series,labels:"object"===typeof F.labels?F.labels:this.Df.labels,modellimits:"object"===typeof F.modellimits?F.modellimits:this.pa(),autodatalimits:"boolean"===typeof F.autodatalimits?F.autodatalimits:
this.Df.autodatalimits},!0);this.Df=xb(F,this.Df);this.LPa=null;this.ja=b(this.Df,this);this.gMa=null;null!=this.ux&&(this.ux=this.sI.bind(this));this.Y_(this.Df.gapfillcutoffvalue);this.Z_(this.Df.gapvalue);this.KSb().xa().ha();return this};a.prototype.ta=function(){return{linestyles:this.Df.linestyles,fillstyles:this.Df.fillstyles,baseline:this.Df.baseline,gapvalue:this.Df.gapvalue,spline:this.Df.spline,symbols:this.Df.symbols,labels:this.Df.labels,modellimits:this.pa(),autodatalimits:this.ysb(),
series:this.Df.series}};a.prototype.sI=function(F,I,J){var K=null;if(I instanceof uG&&null!=J&&null!=J.index&&null!=J.count&&"added"===J.type){var N;F=-1;for(N=0;N<this.ja.x.length;N++)if(this.ja.x[N]===I||this.ja.y[N]===I){F=N;break}if(-1!==F)if(K=this.ja.x[F],I=this.ja.y[F],null!=this.ja.yvalforgap&&(this.Otc(),I=this.ja.yvalforgap[F]),null!=this.ja.yvalforgapfill&&(this.twc(),I=this.ja.yvalforgapfill[F]),K=K.toArray(!1),I=I.toArray(!1),F=0<J.index?J.index-1:0,K.length===I.length){var P=K[F],Q=
P,R=I[F],Y=R,ca=K.length;J=J.count;for(N=F;N<ca&&N<F+J+2;N++)P=Math.min(P,K[N]),Q=Math.max(Q,K[N]),R=Math.min(R,I[N]),Y=Math.max(Y,I[N]);K=new U(P,R,Q,Y);J=this.Ea();null!=J&&(J=new Vd(J,J),J=this.wa().Sk(J,J),K.Uc(J.ca(),J.da()));I=this.ja.Zr;if(null!=I&&null!=this.Df.symbols&&this.Df.symbols.visible){J=I.width;N=I.height;null!=I.yua&&null!=I.yua[F]&&(J=I.yua[F].ca(),N=I.yua[F].da());if(F=this.Df.symbols.sizeIsInDeviceSpace)v.setSize(J,N),v=this.wa().Sk(v,v),J=v.ca(),N=v.da();K.Uc(J,N)}if(null!==
this.ja.N3||!0===this.ja.WWa)F=this.pa(),K.setY(F.getY()).Ya(F.da())}else K=Vi.Dm()}null!=K&&!1===K.isEmpty()?this.ha(K):this.ha();this.KSb().xa()};a.prototype.dispose=function(){if(null!=this.ja.x&&l(this.ja.x))for(var F=0;F<this.ja.x.length;F++)this.ja.x[F].za(mG.Ud,this.ux);if(null!=this.ja.y&&l(this.ja.y))for(F=0;F<this.ja.x.length;F++)this.ja.y[F].za(mG.Ud,this.ux);oi.prototype.dispose.call(this)};a.prototype.pa=function(){return this.Df&&!0===this.Df.autodatalimits?this.al():oi.prototype.pa.call(this)};
a.prototype.Ha=function(F){null!=this.Df&&(this.Df.autodatalimits=!1);oi.prototype.Ha.call(this,F);return this};a.prototype.KSb=function(){this.oda=!0;this.nh.j5();this.QO=[];return this};a.prototype.nbb=function(){var F=this.uu||this.QU;if(this.oda&&this.Kv===a.e6.tF&&F){F=this.ja.y.length;var I=this.ja.x.length,J;for(J=0;J<F;J++){var K=this.ja.x[J>=I?I-1:J].toArray(!1);var N=this.ja.y[J].toArray(!1);var P=Math.min(K.length,N.length);this.LDa&&this.LDa.length===F||(this.LDa=Array(F));this.LDa[J]&&
this.LDa[J].length===P||(this.LDa[J]=new Float64Array(P));Xn.g4b(K,N,P,this.LDa[J])}this.oda=!1}};a.prototype.x2b=function(F){var I=this.uu||this.QU;if(I&&(F=F.Fa(),this.nh.Kab(F,this.Kv))){this.nbb();I=this.ja.x.length;var J=this.ja.y.length;this.nh.Bw(J);for(var K=0;K<J;K++){var N=this.ja.x[K>=I?I-1:K].toArray(!1),P=this.ja.y[K].toArray(!1),Q=Math.min(N.length,P.length);if(this.Kv===a.e6.tF){var R=this.LDa[K];P=Xn.zVb(N,P,R,Q,F);N=Array.prototype.slice.call(P[Vn.jqa],0,P[Vn.T0]);P=Array.prototype.slice.call(P[Vn.kqa],
0,P[Vn.T0]);this.Ned(K,N,P)}else this.ejd(F,K,N,P)}this.nh.end(F,this.Kv)}};a.prototype.Ned=function(F,I,J){if(0===I.length||0===J.length)this.nh.uqb(F,I.length);else{var K=0,N=I.length;for(this.nh.uqb(F,I.length);K<N;K++)this.nh.xu(F,I[K],J[K])}this.nh.cwc(F)};a.prototype.ejd=function(F,I,J,K){if(0===J.length||0===K.length)this.nh.uqb(I,J.length);else{var N=F.Hc(1,0).clone(),P=F.Hc(0,0).clone();N.setX(N.x-P.x);N.setY(N.y-P.y);var Q=Math.sqrt(N.x*N.x+N.y*N.y);P=N.x/Q;N=N.y/Q;var R=0;Q=J.length;this.nh.uqb(I,
J.length);for(var Y=NaN,ca,ea,ua,Ga,Aa=this,Ba=function(){isNaN(Y)||(ua!==ea&&ua!==ca&&Aa.nh.xu(I,J[ua],K[ua]),ca<ea?(Aa.nh.xu(I,J[ca],K[ca]),Aa.nh.xu(I,J[ea],K[ea])):ea<ca?(Aa.nh.xu(I,J[ea],K[ea]),Aa.nh.xu(I,J[ca],K[ca])):Aa.nh.xu(I,J[ea],K[ea]),Ga!==ea&&Ga!==ca&&Aa.nh.xu(I,J[Ga],K[Ga]))};R<Q;R++)if(isNaN(K[R]))Ba(),this.nh.xu(I,J[R],K[R]),Y=NaN;else{var La=F.Hc(J[R],K[R]);La=P*La.x+N*La.y;!isNaN(Y)&&1>Math.abs(La-Y)?(K[R]<K[ca]&&(ca=R),K[ea]<K[R]&&(ea=R),Ga=R):(Ba(),Y=La,ua=Ga=ca=ea=R)}Ba()}this.nh.cwc(I)};
a.prototype.nEd=function(){if(null===this.gMa){var F=Number.POSITIVE_INFINITY,I=Number.NEGATIVE_INFINITY,J=Number.POSITIVE_INFINITY,K=Number.NEGATIVE_INFINITY,N,P=this.Tt();for(N=0;N<this.ja.y.length;N++)if(!(null!=this.ja.V_&&this.ja.V_.length>N&&null!=this.ja.V_[N].visible)||this.ja.V_[N].visible){var Q=this.ja.WWa?this.ja.R$b[N]:this.ja.y[N];var R=N<this.ja.x.length?this.ja.x[N]:this.ja.x[this.ja.x.length-1];var Y=R.toArray(!1);var ca=Q.toArray(!1);0!==Y.length&&0!==ca.length&&(F=Math.min(R.sf(),
F),J=Math.min(Q.sf(),J),I=Math.max(R.kg(),I),K=Math.max(Q.kg(),K))}J=Math.min(P,J);K=Math.max(P,K);F===Number.POSITIVE_INFINITY||I===Number.NEGATIVE_INFINITY?(F=-1,I=1):I===F&&(--F,I+=1);J===Number.POSITIVE_INFINITY||K===Number.NEGATIVE_INFINITY?(J=-1,K=1):K===J&&(--J,K+=1);this.gMa=new U(F,J,I,K)}};a.prototype.$i=function(F){this.Eh(F);this.vf().forEach(function(I){F.filter(I)&&(F.ac()&&F.yh(I),I.render(F))});this.sxa(F);this.jh(F)};a.prototype.Hs=function(F,I){var J=this;this.Eh(F);Hg.sM(this.vf(),
function(K,N){F.filter(K)?(F.yh(K),K.we(F,N)):N()},function(){J.sxa(F);J.jh(F);I()})};a.Vnb=null;a.ePb=null;a.prototype.fKc=function(F,I,J,K,N,P,Q){function R(){ea.push({index:ua,x:I[ua],y:J[ua],y1:null!=P?P[ua]:[]})}var Y=1,ca=1;null==a.Vnb&&(a.Vnb=new Nm({width:Y,height:ca,alignment:O.Na,sizeisindevicespace:!0,painter:Sn,fillstyle:new rf("black")}));var ea=[],ua=0,Ga=F.jg(),Aa=F.Fa();Ga=U.C4(Ga,2*Y,2*ca);for(Y=0;Y<I.length;++Y)ua=Y,ca=Aa.Hc(I[Y],J[Y]),!1===Ga.contains(ca.x,ca.y)||null==J[Y]||isNaN(J[Y])||
(a.Vnb.Db(I[Y],J[Y]),F.Ym(a.Vnb,R.bind(this)));if(0<ea.length)F.fT({visual:this,series:K,indices:ea.map(function(La){return La.index}),points:ea});else{var Ba=!1;null!=N?F.Ym(N,function(){Ba=!0}):c(I,J,Q,F,function(){Ba=!0});Ba&&F.fT({visual:this,series:K,indices:[],points:[]})}};a.prototype.Tt=function(){var F=this.ja.j6a?this.ja.j6a:0;this.ja.Ezd&&(F=p(F),isNaN(F)&&(F=1));return F};a.prototype.sxa=function(F){F.filter(this)&&F.yh(this);if(0!==this.ja.x.length&&0!==this.ja.y.length)if(this.x2b(F),
null!==this.ja.N3&&this.kcd(F),!0===this.ja.WWa)this.YGd(F);else{var I=this.ja.x,J=this.ja.y;null!=this.ja.yvalforgap&&(J=this.ja.yvalforgap);null!=this.ja.yvalforgapfill&&(J=this.ja.yvalforgapfill);var K=this.ja.x.length,N,P=this.Tt();for(N=0;N<J.length;N++)if(!(null!=this.ja.V_&&this.ja.V_.length>N&&null!=this.ja.V_[N].visible)||this.ja.V_[N].visible){var Q=!1;var R=this.uu?this.nh.$P[N].indices:I[N>=K?K-1:N].toArray(!1);var Y=this.uu?this.nh.$P[N].values:J[N].toArray(!1);if(0!==R.length&&0!==Y.length){if(2>
R.length)var ca=this.w3a.fa({optimization:!1,x:R,y:Y});else null!=this.ja.Ez&&0<this.ja.Ez.length&&null!=this.ja.Ez[N]&&(this.LSb(this.f7,R,Y,this.ja.TWa,P),this.f7.qa(this.ja.Ez[N]).ra(null),this.f7.render(F)),null!=this.ja.RS&&0<this.ja.RS.length&&null!=this.ja.RS[N]&&(!1===this.ja.TWa||F.ac()?(c(R,Y,this.ja.RS[N],F),Q=!0):(null==this.QO[N]&&(this.QO[N]=(new io).he(R,Y).ra(this.Df.linestyles[N])),this.QO[N].render(F),ca=this.QO[N]));F.ac()&&(null!==ca||Q)&&this.fKc(F,R,Y,N,ca,null,this.ja.RS[N]);
ca=null}}this.Rla(F)}};a.prototype.YGd=function(F){var I,J,K=this.ja.x.length,N=[],P=this.Tt();for(I=0;I<this.ja.y.length;I++){var Q=this.ja.R$b[I].toArray(!0);var R=this.ja.jXc[I].toArray(!0);var Y=this.uu?this.nh.$P[I].indices:this.ja.x[I>=K?K-1:I].toArray(!1);var ca=this.uu?this.nh.$P[I].values:this.ja.y[I].toArray(!0);0===I&&N.push(P);if(0!==R.length&&0!==Q.length){if(2>R.length)var ea=this.w3a.fa({x:R,y:Q}).FI(!1);else 0<this.ja.RS.length&&(ea=!0===this.ja.TWa?this.zPb.fa({x:R,y:Q}):this.w3a.fa({x:R,
y:Q}).FI(!1),N.push({x:ea.ce(),y:ea.Fe()}),ea.ra(this.ja.RS[I]),ea.render(F)),0<this.ja.Ez.length&&(this.LSb(this.f7,R,Q,this.ja.TWa,N,N.length-2),this.f7.qa(this.ja.Ez[I]),this.f7.ra(new X(new td(255,255,255,0))),this.f7.render(F));if(F.ac()&&null!==ea){var ua=[],Ga=[];for(J=0;J<R.length;J++){var Aa=Y.indexOf(R[J]);-1!==Aa&&(ua.push(J),Ga.push(Aa))}for(J=0;J<ua.length;J++)R[J]=R[ua[J]],Q[J]=Q[ua[J]],ca[J]=ca[Ga[J]];R.splice(ua.length);Q.splice(ua.length);ca.splice(ua.length);this.fKc(F,R,Q,I,ea,
ca)}ea=null}}this.Rla(F)};a.prototype.kcd=function(F){for(var I=this.ja.x.length,J,K,N,P,Q=0;Q<this.ja.N3.length;Q++)J=this.uu?this.nh.$P[Q].indices:this.ja.x[Q>=I?I-1:Q].toArray(!1),K=this.ja.N3[Q].range.length,2===K&&0!==J.length&&(K=this.ja.N3[Q].range[0].toArray(!1),N=this.ja.N3[Q].range[1].toArray(!1),!0===this.ja.TWa?(P=this.zPb.fa({x:J,y:K}),P.ra(this.ja.N3[Q].linestyles[0]),P.render(F),N=this.zPb.fa({x:J,y:N})):(P=this.w3a.fa({x:J,y:K}),P.ra(this.ja.N3[Q].linestyles[0]),P.render(F),N=this.w3a.fa({x:J,
y:N})),N.ra(this.ja.N3[Q].linestyles[1]),N.render(F),null!=this.ja.N3[Q].fillstyle&&(this.LSb(this.f7,J,K,this.ja.TWa,[{x:N.ce(),y:N.Fe()}],0),this.f7.qa(this.ja.N3[Q].fillstyle),this.f7.ra(new X(new td(255,255,255,0))),this.f7.render(F)))};a.prototype.Rla=function(F){var I,J,K,N=0,P=this.ja.x.length,Q=null!=this.ja.Zr&&this.ja.Zr.visible&&null!=this.ja.Zr.F2b&&0<this.ja.Zr.F2b.length,R=null!=this.ja.labels;if(Q||R){if(null==this.LPa||this.Jmc!==F.constructor)this.LPa=[],this.Jmc=F.constructor;for(I=
0;I<this.ja.y.length;I++)if(!(null!=this.ja.V_&&this.ja.V_.length>I&&null!=this.ja.V_[I].visible)||this.ja.V_[I].visible){if(!0===this.ja.WWa){var Y=this.ja.jXc[I].toArray(!0);var ca=this.ja.R$b[I].toArray(!0);var ea=this.QU?this.nh.$P[I].indices:this.ja.x[I>=P?P-1:I].toArray(!1);var ua=this.QU?this.nh.$P[I].values:this.ja.y[I].toArray(!1);var Ga=[];for(J=0;J<Y.length;J++)-1!==ea.indexOf(Y[J])&&Ga.push(J);for(J=0;J<Ga.length;J++)Y[J]=Y[Ga[J]],ca[J]=ca[Ga[J]];Y.splice(Ga.length);ca.splice(Ga.length)}else Y=
this.QU?this.nh.$P[I].indices:this.ja.x[I>=P?P-1:I].toArray(!1),ca=this.QU?this.nh.$P[I].values:this.ja.y[I].toArray(!1);if(0!==Y.length&&0!==ca.length){J=!0===this.ja.Zr.visible||this.ja.Zr.visible[I];if(Q&&J){ea=this.ja.Zr;J=ea.width;Ga=ea.height;null!=ea.yua&&null!=ea.yua[I]&&(J=ea.yua[I].ca(),Ga=ea.yua[I].da());N=ea.step;if(null!=ea.Ez&&0<ea.Ez.length){var Aa=ea.Ez[I];Aa||(Aa=rf.vn)}else Aa=rf.vn;null!=ea.RS&&0<ea.RS.length?(K=ea.RS[I])||(K=new X("transparent",0)):K=new X("transparent",0);var Ba=
ea.F2b[I];null==ea.width&&(J=10);null==ea.height&&(Ga=10);null==ea.step&&(N=1);if(null!==Aa||null!=K){ea=this.LPa[I];null==ea&&(x.fa({width:J,height:Ga,sizeisindevicespace:this.Df.symbols.sizeisindevicespace,painter:Ba,linestyle:K,fillstyle:Aa}),ea=null==x.Ea()?0:x.Ea().ca()+1,ea=F.Hy(x.ca()+ea,x.da()+ea),q(x,ea),!1===F.ac()&&(this.LPa[I]=ea));Aa=null!=ea?ea.ca()/2:0;K=null!=ea?ea.da()/2:0;Ba=F.jg();var La=F.Fa();Ba=U.C4(Ba,2*J,2*Ga);var Pa=null;Ga=Math.sqrt(J*J+Ga*Ga);var Oa=!0===this.Df.symbols.decimate;
for(J=0;J<Y.length;J+=N||1){var Va=La.Hc(Y[J],ca[J]);if(Oa){if(null!=Pa&&M.Uf(Pa,Va)<Ga)continue;null==Pa?Pa=Va.clone():Pa.Ga(Va.x,Va.y)}!1!==Ba.contains(Va.x,Va.y)&&(null!=ea?ea.render(F,Va.x-Aa,Va.y-K):x.Db(Y[J],ca[J]).render(F))}}}if(R)for(Ga=N,J=this.ja.labels,null!=J.step&&(Ga=J.step),Ba=J.anchor||O.cg,Aa=null!=J.offsetx?J.offsetx:5,K=null!=J.offsety?J.offsety:-5,null==J.offsetx&&null==J.offsety&&null!=J.offset&&(ea=Number(J.offset),K=Aa=0,qk.Iu(Ba)?Aa=ea:qk.kv(Ba)&&(Aa=-ea),qk.Qz(Ba)?K=ea:qk.dC(Ba)&&
(K=-ea)),Aa=Math.sign(Aa)*Hd.qb(Aa,0,F.Fa()),K=Math.sign(K)*Hd.qb(0,K,F.Fa()),this.getParent().lo()&&(K*=-1,qk.Qz(Ba)?Ba=qk.Iu(Ba)?O.cg:qk.kv(Ba)?O.lh:O.Je:qk.dC(Ba)&&(Ba=qk.Iu(Ba)?O.Ld:qk.kv(Ba)?O.Qf:O.Xd)),ea=J.padding||0,La=null!=J.annotations&&null!=J.annotations[I]?J.annotations[I]:null,B.ib(null!=J.textstyles?J.textstyles[I]:null),B.qa(null!=J.fillstyles?J.fillstyles[I]:null),B.ra(null!=J.linestyles?J.linestyles[I]:null),null!=La&&(La instanceof NG||La instanceof uG)&&(La=La.toArray(!1)),B.tc(Ba).MK(ea).vt(!0),
J=0;J<Y.length;J+=Ga||1)B.Db(Y[J]+Aa,ca[J]+K),null!=La?B.Eb(La[J]):this.ja.WWa?B.Eb(ua[J]):B.Eb(ca[J]),B.render(F)}}}};a.prototype.LSb=function(F,I,J,K,N,P){F.clear();if(this.ja.WWa||null!=this.ja.N3)if(N[P]!==this.Tt()&&null!=N[P]){if(N[P].x[0]<=I[0]&&N[P].x[N[P].x.length-1]>=I[I.length-1]){var Q=0;var R=I.length-1;var Y=V.findIndex(I[0],N[P].x);var ca=V.findIndex(I[I.length-1],N[P].x)}else if(N[P].x[0]<=I[0]){if(Q=0,Y=V.findIndex(I[0],N[P].x),ca=N[P].x.length-1,R=V.findIndex(N[P].x[N[P].x.length-
1],I),Y===ca||0>Y)Q=I.length-1,R=I.length-1}else if(N[P].x[N[P].x.length-1]>=I[I.length-1]){if(R=I.length-1,ca=V.findIndex(I[I.length-1],N[P].x),Y=0,Q=V.findIndex(N[P].x[0],I),Y===ca||0>ca)Q=I.length-1,R=I.length-1}else Y=0,ca=N[P].x.length-1,Q=V.findIndex(N[P].x[0],I),R=V.findIndex(N[P].x[N[P].x.length-1],I);if(K){var ea=gh.e_(I,J);var ua=ea.JV;var Ga=ea.KV;var Aa=ea.gX;var Ba=ea.hX}if(0<=ca&&0<=Y){F.moveTo(N[P].x[Y],N[P].y[Y]);if(K){var La=gh.e_(N[P].x,N[P].y);var Pa=La.JV;var Oa=La.KV;var Va=La.gX;
La=La.hX;for(ea=Y;ea<ca;ea++)F.bezierCurveTo(Pa[ea],Oa[ea],Va[ea],La[ea],N[P].x[ea+1],N[P].y[ea+1]);F.lineTo(I[R],J[R]);for(ea=R;ea>Q;ea--)F.bezierCurveTo(Aa[ea-1],Ba[ea-1],ua[ea-1],Ga[ea-1],I[ea-1],J[ea-1])}else{for(ea=Y;ea<=ca;ea++)F.lineTo(N[P].x[ea],N[P].y[ea]);F.lineTo(I[R],J[R]);for(ea=R;ea>=Q;ea--)F.lineTo(I[ea],J[ea])}F.moveTo(N[P].x[Y],N[P].y[Y]);F.close()}ca=-1;for(ea=0;ea<Q;ea++){Y=0;F.moveTo(I[ea],J[ea]);for(Pa=P-1;0<Pa;Pa--)if(I[ea]>=N[Pa].x[0]&&I[ea]<=N[Pa].x[N[Pa].x.length-1]&&(ca=
V.findIndex(I[ea],N[Pa].x)),ca!==N[Pa].x.length-1&&-1!==ca){Y=Pa;break}N[Y]!==this.Tt()?K?(F.bezierCurveTo(ua[ea],Ga[ea],Aa[ea],Ba[ea],I[ea+1],J[ea+1]),F.lineTo(N[Y].x[ca+1],N[Y].y[ca+1]),La=gh.e_(N[Y].x,N[Y].y),Pa=La.JV,Oa=La.KV,Va=La.gX,La=La.hX,F.bezierCurveTo(Va[ca],La[ca],Pa[ca],Oa[ca],N[Y].x[ca],N[Y].y[ca])):(F.lineTo(I[ea+1],J[ea+1]),F.lineTo(N[Y].x[ca+1],N[Y].y[ca+1]),F.lineTo(N[Y].x[ca],N[Y].y[ca])):(K?F.bezierCurveTo(ua[ea],Ga[ea],Aa[ea],Ba[ea],I[ea+1],J[ea+1]):F.lineTo(I[ea+1],J[ea+1]),
F.lineTo(I[ea+1],N[Y]),F.lineTo(I[ea],N[Y]));F.lineTo(I[ea],J[ea]);F.close()}for(ea=I.length-1;ea>R;ea--){Y=0;F.moveTo(I[ea],J[ea]);for(Pa=P-1;0<Pa;Pa--)if(I[ea]>=N[Pa].x[0]&&I[ea]<=N[Pa].x[N[Pa].x.length-1]&&(ca=V.findIndex(I[ea],N[Pa].x)),-1!==ca){Y=Pa;break}N[Y]!==this.Tt()?K?(F.bezierCurveTo(Aa[ea-1],Ba[ea-1],ua[ea-1],Ga[ea-1],I[ea-1],J[ea-1]),F.lineTo(N[Y].x[ca-1],N[Y].y[ca-1]),La=gh.e_(N[Y].x,N[Y].y),Pa=La.JV,Oa=La.KV,Va=La.gX,La=La.hX,F.bezierCurveTo(Pa[ca-1],Oa[ca-1],Va[ca-1],La[ca-1],N[Y].x[ca],
N[Y].y[ca])):(F.lineTo(I[ea-1],J[ea-1]),F.lineTo(N[Y].x[ca-1],N[Y].y[ca-1]),F.lineTo(N[Y].x[ca],N[Y].y[ca])):(K?F.bezierCurveTo(Aa[ea-1],Ba[ea-1],ua[ea-1],Ga[ea-1],I[ea-1],J[ea-1]):F.lineTo(I[ea-1],J[ea-1]),F.lineTo(I[ea-1],N[Y]),F.lineTo(I[ea],N[Y]));F.lineTo(I[ea],J[ea]);F.close()}}else{F.moveTo(I[0],N[P]);if(K)io.prototype.he.call(F,I,J);else for(ea=0;ea<I.length;ea++)F.lineTo(I[ea],J[ea]);F.lineTo(I[I.length-1],N[P]);F.lineTo(I[0],N[P]);F.close()}else{F.moveTo(I[0],N);P=Math.min(I.length,J.length);
if(K)io.prototype.he.call(F,I,J);else for(ea=0;ea<P;ea++)F.lineTo(I[ea],J[ea]);F.lineTo(I[P-1],N);F.lineTo(I[0],N);F.close()}return F};a.prototype.oKd=function(F){function I(N,P){void 0!==N.major&&J("major",N.major,P);void 0!==N.minor&&J("minor",N.minor,P);void 0!==N.edge&&J("edge",N.edge,P)}function J(N,P,Q){Q.rj(N,X.Pa(P))}if(void 0!==F.x){var K=this.sd.Ge(Rh.ob);I(F.x,K)}void 0!==F.y&&(K=this.sd.Ge(Rh.xb),I(F.y,K));this.ha();return this};a.prototype.hod=function(){return this.sd};a.prototype.wpe=
function(F){for(var I=[],J=0;J<F.length;J++)I.push(p(F[J]));return I};a.prototype.Li=function(F,I,J){if(F instanceof U)var K=F.clone();else F instanceof M&&(I=I||A,K=new U(F.x-I,F.y-I,F.x+I,F.y+I));I=new bk;if(null!=K){F=this.getRoot().pa();J===Rh.ob?(K.setY(F.getY()),K.Ya(F.da())):J===Rh.xb&&(K.setX(F.getX()),K.Ra(F.ca()));var N=[K.la(),K.na(),K.na(),K.la()];var P=[K.ka(),K.ka(),K.ma(),K.ma()];return I.select(this.getRoot(),N,P,!0).filter(function(Q){return!(Q instanceof Fe)&&Q.visual===this}.bind(this))}null!=
F&&Array.isArray(F.x)&&Array.isArray(F.y)&&(N=F.x,P=F.y);return null!=N&&null!=P&&2<N.length&&2<P.length?I.select(this.getRoot(),N,P,!0).filter(function(Q){return!(Q instanceof Fe)&&Q.visual===this}.bind(this)):null};a.prototype.ysb=function(){return this.Df.autodatalimits};a.prototype.z5b=function(F){if(this.Df.autodatalimits===F)return this;this.ha();this.Df.autodatalimits=F;this.xa().ha();return this};a.prototype.al=function(){null==this.gMa&&this.nEd();return this.gMa};a.prototype.ia=function(){var F=
oi.prototype.ia.call(this);return F=G(this.ta(),F)};a.prototype.fa=function(F){F=hc(F);if(null==F)return this;oi.prototype.fa.call(this,F);this.setOptions(F);return this};a.prototype.Y_=function(F){"number"===typeof F&&(this.QC=F,this.twc(),this.xa().ha());return this};a.prototype.efa=function(){return this.QC};a.prototype.Z_=function(F){"number"===typeof F&&(this.zB=F,this.Otc(),this.xa().ha());return this};a.prototype.ffa=function(){return this.zB};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRPcHRpbWl6YXRpb25UeXBlIjoiclEiLCJzZXRPcHRpbWl6YXRpb24iOiJGSSIsInNldE9wdGltaXphdGlvblN5bWJvbCI6Ik1jYiIsInVwZGF0ZVN0YXRlIjoieGEiLCJnZXRPcHRpb25zIjoidGEiLCJnZXRNb2RlbExpbWl0cyI6InBhIiwic2V0TW9kZWxMaW1pdHMiOiJIYSIsInJlbmRlckNvbnRlbnQiOiIkaSIsInJlbmRlckNvbnRlbnRBc3luYyI6IkhzIiwic2V0R3JpZFN0eWxlIjoib0tkIiwiZ2V0R3JpZCI6ImhvZCIsImhpdFRlc3QiOiJMaSIsImdldEF1dG9EYXRhTGltaXRzIjoieXNiIiwic2V0QXV0b0RhdGFMaW1pdHMiOiJ6NWIiLCJnZXREYXRhTGltaXRzIjoiYWwiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJzZXRHYXBGaWxsQ3V0b2ZmVmFsdWUiOiJZXyIsImdldEdhcEZpbGxDdXRvZmZWYWx1ZSI6ImVmYSIsInNldEdhcFZhbHVlIjoiWl8iLCJnZXRHYXBWYWx1ZSI6ImZmYSJ9fX0g");var pR=/*#__PURE__*/function(){function c(a,b){a||(a={});G({innerradius:0},a);NQ.call(this,a,b)}D(c,NQ);L(c,"geotoolkit.controls.shapes.PieChart");c.prototype.setOptions=function(a){a=xb(a,{});G({innerradius:0},a);NQ.prototype.setOptions.call(this,a);return this};return c}();var qR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){var b={name:"Polar Chart",data:null,polargrid:null,center:new M(0,0),startangle:0,modelradius:90,outerradius:50};Cg.call(this,a);this.center=this.hw=this.yK=this.outerRadius=this.Y$=null;this.options=G(a,b);this.setData(this.options)}L(c,"geotoolkit.scene.shapes.PolarChart");D(c,Cg);c.prototype.fa=function(a){a=hc(a);if(null==a)return this;Cg.prototype.fa.call(this,a);this.setData(a);return this};c.prototype.ia=function(){var a=Cg.prototype.ia.call(this);a.polargrid=
this.Y$;a.outerradius=this.outerRadius;a.modelradius=this.yK;a.startangle=this.hw;a.center=this.center;return a};c.prototype.g7b=function(a){this.yK=a;this.ha();return this};c.prototype.TYb=function(){return this.yK};c.prototype.setData=function(a){this.options=G(a,this.options);this.name=null!=a.name?a.name:this.name;this.data=a.data;this.Y$=null!=a.polargrid?a.polargrid:this.Y$;this.outerRadius=null!=a.outerradius?a.outerradius:this.outerRadius;this.yK=null!=a.modelradius?a.modelradius:this.yK;
this.hw=null!=a.startangle?a.startangle:this.hw;this.center=M.Pa(a.center||this.center);null!=this.Y$&&(a=this.Y$.ta(),this.options=G(a,this.options),this.center=a.center,this.outerRadius=a.outerradius,this.hw=a.startangle,this.yK=a.modelradius);this.Ka=new U(this.center.x-this.outerRadius,this.center.y-this.outerRadius,this.center.x+this.outerRadius,this.center.y+this.outerRadius);this.ha();return this};c.prototype.ga=function(){return null!=this.Ka?this.Ka:null};c.prototype.ta=function(){return this.options};
c.prototype.sa=function(a){this.Ka=a;this.xa();return this};c.prototype.txa=function(a,b,d){var e=b.data,f=Math.min(e.radius.length,e.angle.length);if(0!==f){var g=(new dh).qa(tg.ad(b.fillstyle)).ra(X.Pa(b.linestyle)),h=null,k,l=0,m=0;l=null;for(k=0;k<f;k++)l=this.dN(e.radius[k]),m=e.angle[k]+this.hw,l=this.qoa(l,m).translate(this.center.x,this.center.y),0===k&&(h=l,g.moveTo(l.x,l.y)),g.lineTo(l.x,l.y);g.lineTo(h.x,h.y);g.render(a);var n=[];if(null!=b.symbol||null!=b.hightlightedsymbol){g=b.symbol?
b.symbol:a.ac()?b.hightlightedsymbol:null;b=b.hightlightedsymbol?b.hightlightedsymbol:g;var p=function(){n.push({index:q,angle:e.angle[q],value:e.radius[q]})};for(k=0;k<f;k++)if(h=e.selected&&!0===e.selected[k]?b:g)if(l=this.dN(e.radius[k]),m=e.angle[k]+this.hw,l=this.qoa(l,m).translate(this.center.x,this.center.y),h.Db(l),a.ac()){var q=k;a.Ym(h,p.bind(this))}else h.render(a)}a.ac()&&0<n.length&&a.fT({visual:this,series:d,indices:n.map(function(r){return r.index}),points:n})}};c.prototype.Sbb=function(){if(0<
this.data.length){for(var a=0;a<this.data.length;++a){var b=this.data[a].data;if(b.selected)for(var d=Math.min(b.radius.length,b.angle.length),e=0;e<d;++e)b.selected[e]=!1}this.ha()}};c.prototype.sW=function(a,b,d){if(this.data.length>b){b=this.data[b].data;b.selected||(b.selected=[]);for(var e=Math.min(b.radius.length,b.angle.length),f=0;f<e;++f)this.P0b(a,f)?!0===d&&(b.selected[f]=!1):b.selected[f]=!0;this.ha()}return this};c.prototype.P0b=function(a,b){return a.every(function(d){return d!==b})};
c.prototype.Li=function(a,b){var d=new bk;return a instanceof U?(b=[a.la(),a.na(),a.na(),a.la()],a=[a.ka(),a.ka(),a.ma(),a.ma()],d.select(this.getRoot(),b,a,!0).filter(function(e){return!(e instanceof Fe)&&e.visual===this}.bind(this))):d.select(this.getRoot(),a.x,a.y,b?b:10).filter(function(e){return!(e instanceof Fe)&&e.visual===this}.bind(this))};c.prototype.render=function(a){if(null!=this.data)for(var b=0;b<this.data.length;b++)this.txa(a,this.data[b],b)};c.prototype.qoa=function(a,b){b=b*Math.PI/
180;return new M(a*Math.cos(b),a*Math.sin(b))};c.prototype.dN=function(a){return Math.min(a/this.yK,1)*this.outerRadius};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRNb2RlbFJhZGl1cyI6Imc3YiIsImdldE1vZGVsUmFkaXVzIjoiVFliIiwiZ2V0Qm91bmRzIjoiZ2EiLCJnZXRPcHRpb25zIjoidGEiLCJzZXRCb3VuZHMiOiJzYSIsInJlc2V0SGlnaGxpZ2h0aW5nIjoiU2JiIiwiaGlnaGxpZ2h0SW5kaWNlcyI6InNXIiwiaGl0VGVzdCI6IkxpIiwicG9sYXJUb0NhcnRlc2lhbiI6InFvYSIsIm1vZGVsVG9PdXRlclJhZGl1cyI6ImROIn19fSAg");var rR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){d=G(d,{center:null,outerradius:50,modelradius:90,startangle:0,data:null,polargrid:null,painter:null});zQ.call(this,a({},d));this.HHa=d}function a(d,e){G(d,e);null!=e.polargrid&&(e=G(e.polargrid.ta(),e));d=e.center;d=b(e.data,null!=d?d.x:null,null!=d?d.y:null,e.startangle,e.outerradius,e.modelradius);d.minx=NaN;d.maxx=NaN;d.miny=NaN;d.maxy=NaN;d.colorprovider=e.colorprovider;d.painter=e.painter;d.defaultcolor=e.defaultcolor;d.symbolsize=e.symbolsize;d.highlightcolor=
e.highlightcolor;return G(d,e)}function b(d,e,f,g,h,k){var l={};if(null!=d&&null!=e&&null!=f){if(null!=d.radius&&d.angle){l.datax=[];l.datay=[];for(var m,n,p=0;p<d.radius.length;++p)null==d.radius[p]||null==d.angle[p]||isNaN(d.radius[p])||isNaN(d.angle[p])||d.radius[p]>k||0>d.radius[p]?(l.datax[p]=Number.NaN,l.datay[p]=Number.NaN):(m=(g+d.angle[p])*Math.PI/180,n=d.radius[p]/k*h,l.datax[p]=n*Math.cos(m)+e,l.datay[p]=n*Math.sin(m)+f)}null!=d.variable&&(l.dataz=d.variable)}return l}D(c,zQ);L(c,"geotoolkit.controls.shapes.PolarCrossPlot");
c.prototype.setData=function(d){this.HHa=this.HHa||{};zQ.prototype.setData.call(this,a(d,this.HHa));return this};c.prototype.qoa=function(d,e){e=e*Math.PI/180;return new M(d*Math.cos(e),d*Math.sin(e))};c.prototype.cTb=function(d,e){var f=Math.sqrt(d*d+e*e);d=180*Math.atan2(e,d)/Math.PI;return new M(f,d)};c.prototype.ia=function(){var d=Cg.prototype.ia;d=d.call(this);d.options={};for(var e in this.HHa)this.HHa.hasOwnProperty(e)&&"data"!==e&&(d.options[e]=this.HHa[e],d[e]=this.HHa[e]);return d};c.prototype.fa=
function(d){var e=Cg.prototype.fa;e.call(this,d);void 0!==d.options?this.setData(d.options):this.setData(d);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJwb2xhclRvQ2FydGVzaWFuIjoicW9hIiwiY2FydGVzaWFuVG9Qb2xhciI6ImNUYiIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSJ9fX0g");var sR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){b=G(b,{center:{x:0,y:0},outerradius:50,modelradius:90,angle:45,startangle:0});var d=b.outerradius,e=b.center;d=new U(e.x-d,e.y-d,e.x+d,e.y+d);Sm.call(this,d);this.Xyb=[];this.setOptions(b,!1)}function a(b){null==b.linestyle||b.linestyle instanceof X||(b.linestyle=new X(b.linestyle));null==b.center||b.center instanceof M||(b.center=new M(b.center.x,b.center.y));null==b.center&&(b.center=new M);null==b.gridlines&&(b.gridlines={});null==b.gridlines&&(b.gridlines={});var d=
b.gridlines;null==d.radius&&(d.radius={});null==d.angles&&(d.angles={});var e=d.radius;d=d.angles;null==e.linestyle?e.linestyle=b.linestyle:e.linestyle instanceof X||(e.linestyle=new X(e.linestyle));null==d.linestyle?d.linestyle=b.linestyle:d.linestyle instanceof X||(d.linestyle=new X(d.linestyle));null==d.textstyle?d.textstyle=new Ki({color:"black"}):d.textstyle instanceof Ki||(d.textstyle=new Ki(d.textstyle));null==e.step&&(e.step=10);Array.isArray(e.values)||(e.values=null);null==e.visible&&(e.visible=
!0);null==e.highlighted&&(e.highlighted=null);null==d.visible&&(d.visible=!0);null==d.visiblelabels&&(d.visiblelabels=!0);if(null==d.labels){e={values:[],text:[]};for(var f=0;359>f;f+=b.angle)e.values.push(f),e.text.push(f);d.labels=e}null==d.labeloffset&&(d.labeloffset=0);null==d.labelsalongcircumference&&(d.labelsalongcircumference=!1)}D(c,Sm);L(c,"geotoolkit.controls.shapes.PolarGrid");c.prototype.VMd=function(b){this.Xyb=b;this.ha();return this};c.prototype.setOptions=function(b,d){this.options=
G(b,this.options);a(this.options);this.center=this.options.center;this.radius=this.options.outerradius;this.Xna=this.options.modelradius;this.hw=this.options.startangle;this.angle=this.options.angle;this.yQa=this.options.gridlines.angles.linestyle;this.WEd=this.options.gridlines.radius.linestyle;this.VEd=this.options.gridlines.radius.step;this.vbb=null==this.options.gridlines.radius.values?this.jfd(this.Xna,this.VEd):this.Ied(this.options.gridlines.radius.values);this.gFc=this.options.gridlines.radius.highlighted;
this.G$b=this.options.gridlines.radius.visible;this.nbd=this.options.gridlines.angles.visible;this.Ju=this.options.gridlines.angles.textstyle;this.labels=this.options.gridlines.angles.labels;this.$M=this.options.gridlines.angles.labeloffset;this.Dwb=this.options.gridlines.angles.labelsalongcircumference;this.ZWc=this.options.gridlines.angles.visiblelabels;void 0!==b.linestyle&&this.ra(b.linestyle);null!=d&&!0!==d||this.ha();return this};c.prototype.ta=function(){return this.options};c.prototype.dN=
function(b){return b/this.Xna*this.radius};c.prototype.render=function(b){this.Jvc(b);this.Mvc(b);this.Cvc(b);var d=this.center.x-this.radius,e=this.center.y-this.radius,f=2*this.radius,g=2*this.radius;b.ra(this.Ea());b.Rp(d,e,f,g);this.w7a(b)};c.prototype.Jvc=function(b){if(this.Xyb){for(var d=new rf("white"),e=0;e<this.Xyb.length;e++){var f=this.Xyb[e],g=(this.hw+f.start)*Math.PI/180,h=(this.hw+f.end)*Math.PI/180,k=f.color;d.setColor(k);f=f.length;var l=null!=f?f/this.Xna*this.radius:this.radius;
f=this.center.x-l;k=this.center.y-l;var m=2*l;l*=2;b.qa(d);b.Fx(f,k,m,l,g,h)}b.qa(null)}};c.prototype.Cvc=function(b){if(this.nbd){b.ra(this.yQa);for(var d=this.hw;d<=359+this.hw;d+=this.angle){var e=d*Math.PI/180;b.Nc(this.center.getX(),this.center.getY(),this.center.getX()+this.radius*Math.cos(e),this.center.getY()+this.radius*Math.sin(e))}}};c.prototype.Fk=function(b){b%=2*Math.PI;0>b&&(b+=2*Math.PI);return 0===b?O.vd:b<Math.PI/2?O.Ld:b===Math.PI/2?O.Xd:b<Math.PI?O.Qf:b===Math.PI?O.pe:b<3*Math.PI/
2?O.lh:b===3*Math.PI/2?O.Je:O.cg};c.prototype.w7a=function(b){!0===this.Dwb?this.x7a(b):this.y7a(b)};c.prototype.y7a=function(b){if(this.ZWc){var d=this.Ju.clone(),e=new ek;e.ib(d);e.vt(!0);d=this.radius+2/Math.max(Math.abs(b.Fa().pb()),Math.abs(b.Fa().Ab()));for(var f,g=0;g<this.labels.values.length;g++){f=this.labels.values[g]+this.hw;f=f*Math.PI/180;var h=this.center.getX()+(d+this.$M)*Math.cos(f),k=this.center.getY()+(d+this.$M)*Math.sin(f);e.Eb(this.labels.text[g]);e.tc(this.Fk(f));e.Db(h,k);
e.render(b)}}};c.prototype.x7a=function(b){if(this.ZWc){var d=this.Ju.clone(),e=new ek;e.ib(d);d=this.radius+7/Math.max(Math.abs(b.Fa().pb()),Math.abs(b.Fa().Ab()));for(var f,g=0;g<this.labels.values.length;g++){f=this.labels.values[g]+this.hw;f=f*Math.PI/180;var h=this.center.getX()+(d+this.$M)*Math.cos(f),k=this.center.getY()+(d+this.$M)*Math.sin(f);e.Eb(this.labels.text[g]);e.tc(O.Na);e.rotate(f+Math.PI/2,h,k);e.Db(h,k);e.render(b);e.rotate(-(f+Math.PI/2),h,k)}}};c.prototype.jfd=function(b,d){b=
this.dN(b);d=this.dN(d);for(var e=[],f=d;f<b;)e.push(f),f+=d;return e};c.prototype.Ied=function(b){var d=[];if(Array.isArray(b))for(var e=0;e<b.length;++e)d.push(this.dN(b[e]));return d};c.prototype.Mvc=function(b){if(this.G$b&&this.vbb){b.ra(this.WEd);var d;if(null!=this.gFc){var e=this.dN(this.Xna);var f=new rf(this.gFc);var g=0;for(d=0;;){var h=g;g=d<this.vbb.length?this.vbb[d]:e;g>e&&(g=e);if(0===d%2){var k=this.center.x;var l=this.center.y;b.qa(f);b.ZH(k,l,h,g,0,2*Math.PI);b.qa(null)}d++;if(g>=
e)break}}for(d=0;d<this.vbb.length;++d)f=this.vbb[d],k=this.center.x-f,l=this.center.y-f,e=2*f,f*=2,b.Rp(k,l,e,f)}};c.prototype.qoa=function(b,d){d=d*Math.PI/180;return new M(b*Math.cos(d),b*Math.sin(d))};c.prototype.cTb=function(b,d){var e=Math.sqrt(b*b+d*d);b=180*Math.atan2(d,b)/Math.PI;return new M(e,b)};c.prototype.ia=function(){var b=Sm.prototype.ia.call(this);b=xb(this.options,b);b.options=this.options;return b};c.prototype.fa=function(b){Sm.prototype.fa.call(this,b);void 0!==b.options?this.setOptions(b.options):
this.setOptions(b);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTZWN0b3JzIjoiVk1kIiwiZ2V0T3B0aW9ucyI6InRhIiwibW9kZWxUb091dGVyUmFkaXVzIjoiZE4iLCJkcmF3U2VjdG9ycyI6Ikp2YyIsImRyYXdBbmdsZUdyaWQiOiJDdmMiLCJkcmF3QW5nbGVBeGlzIjoidzdhIiwiZHJhd0FuZ2xlQXhpc1JlZ3VsYXIiOiJ5N2EiLCJkcmF3QW5nbGVBeGlzQWxvbmdDaXJjdW1mZXJlbmNlIjoieDdhIiwiZHJhd1ZhbHVlR3JpZCI6Ik12YyIsInBvbGFyVG9DYXJ0ZXNpYW4iOiJxb2EiLCJjYXJ0ZXNpYW5Ub1BvbGFyIjoiY1RiIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var tR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){Th.call(this,a);var b={name:[],value:[],fillstyle:"cyan pink green red orange brown yellow magenta".split(" "),invert:!1,align:"right",linestyle:[new X("black")],border:[new X("white",3)],linelength:20,highlight:!0,highlightstyle:new td(255,255,255)};this.fc=b.name;this.vi=b.value;this.Yia=b.fillstyle;this.csa=b.invert;this.mLa=b.align;this.D2=b.linestyle;this.Un=b.border;this.V1a=b.linelength;this.AL=b.highlight;this.S0a=b.highlightstyle;this.akc=[];this.bkc=[];this.UGb=
[];this.VGb=[];this.zjc=[];this.Ce=new U(50,50,750,350);this.Ug=new bk;this.ota=new Vm;this.z3=[];this.Pnb={x:[],y:[],id:null};this.bQb=null;this.setData(a)}D(c,Th);L(c,"geotoolkit.controls.shapes.PyramidChart");c.prototype.setData=function(a){a||(a={});for(var b in a)if(b!==b.toLowerCase()){var d=b.toLowerCase();a[d]=a[b]}this.fc=a.name&&Array.isArray(a.name)?a.name:this.fc;this.vi=a.value&&Array.isArray(a.value)?a.value:this.vi;this.Yia=a.fillstyle&&Array.isArray(a.fillstyle)?a.fillstyle:this.Yia;
this.csa="boolean"===typeof a.invert?a.invert:this.csa;this.mLa="string"===typeof a.align?a.align:this.mLa;this.D2=a.linestyle&&Array.isArray(a.linestyle)?a.linestyle:[new X("black")];this.Un=a.border&&Array.isArray(a.border)?a.border:[new X("white",3)];this.V1a="number"===typeof a.linelength?a.linelength:this.V1a;this.AL="boolean"===typeof a.hightlight?a.highlight:this.AL;this.S0a=a.highlightstyle instanceof td?a.highlightstyle:this.S0a;this.tsa=this.fc.length<=this.vi.length?this.fc.length:this.vi.length;
this.iUb();this.ha();return this};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;this.setData(a);this.iUb();this.ha();return this};c.prototype.ia=function(){var a=Th.prototype.ia.call(this);a.name=this.fc;a.value=this.vi;a.fillstyle=this.Yia;a.linestyle=this.D2;a.border=this.Un;a.invert=this.csa;a.align=this.mLa;a.linelength=this.V1a;a.highlight=this.AL;a.highlightstyle=this.S0a;return a};c.prototype.getData=function(){return{name:this.fc,value:this.vi,fillstyle:this.Yia,invert:this.csa,
align:this.mLa,linestyle:this.D2,border:this.Un,linelength:this.V1a,highlight:this.AL,highlightstyle:this.S0a}};c.prototype.pa=function(){return this.Ce};c.prototype.Ha=function(a){if(null!=this.Ce&&this.Ce.wi(a))return this;this.Ce!==a&&(this.Ce=a?new U(a):null);this.iUb();this.xa();this.notify(Ce.Uq,this);this.ha();return this};c.prototype.y9=function(){var a=.01,b=this.V1a,d=this.pa(),e=d.ca(),f=d.da(),g=d.getX();d=d.getY();var h=this.vi;var k=this.akc,l=this.bkc,m=this.UGb,n=this.VGb,p=0,q=0,
r=0;var t=this.eo(h);this.CF={Txb:{Aa:[],Ca:[]},Uxb:{Aa:[],Ca:[]},Vxb:{Aa:[],Ca:[]},Wxb:{Aa:[],Ca:[]}};!0===this.csa&&(q=100);for(h=0;h<this.tsa;h++){var u=r;var w=r=u+=t[h];!0===this.csa&&(w=u=100-u,u=0<100-u?100-u:100);this.CF.Txb.Aa[h]=g+e/2-e/2*p*a;this.CF.Txb.Ca[h]=d+f*q*a;this.CF.Uxb.Aa[h]=g+e/2+e/2*p*a;this.CF.Uxb.Ca[h]=d+f*q*a;this.CF.Vxb.Aa[h]=g+(e/2+e/2*u*a);this.CF.Vxb.Ca[h]=d+f*w*a;this.CF.Wxb.Aa[h]=g+(e/2-e/2*u*a);this.CF.Wxb.Ca[h]=d+f*w*a;"right"===this.mLa?(!0===this.csa&&(q=w),k[h]=
g+(e/2+e/2*(t[h]/2+p)*a),l[h]=d+f*(t[h]/2+q)*a,m[h]=k[h]+b):(!0===this.csa&&(q=w),k[h]=g+e/2-e/2*(t[h]/2+p)*a,l[h]=d+f*(t[h]/2+q)*a,m[h]=k[h]-b);n[h]=l[h];p=u;q=w}};c.prototype.iUb=function(){var a,b=this.tsa-1;this.z3=[];var d=[],e=[];this.y9();this.removeChild(this.ota);this.dh(!0);this.ha();for(a=0;a<this.tsa;a++){var f={x:[this.CF.Txb.Aa[a],this.CF.Uxb.Aa[a],this.CF.Vxb.Aa[a],this.CF.Wxb.Aa[a]],y:[this.CF.Txb.Ca[a],this.CF.Uxb.Ca[a],this.CF.Vxb.Ca[a],this.CF.Wxb.Ca[a]]};this.z3[a]=new Vm(f);this.z3[a].qa(this.Yia[b]);
1===this.Un.length?this.z3[a].ra(this.Un[0]):this.z3[a].ra(this.Un[b]);f=new M(this.akc[a],this.bkc[a]);var g=new M(this.UGb[a],this.VGb[a]);d[a]=new Fk(f,g);1===this.D2.length?d[a].ra(this.D2[0]):d[a].ra(this.D2[b]);e[a]=(new ek).tc(O.pe);this.zjc[a]=this.fc[b]+"<br>("+this.vi[b]+")";b--;"right"===this.mLa&&e[a].tc(O.vd);e[a].Db(this.UGb[a],this.VGb[a]).Eb(this.zjc[a]);this.oa(this.z3[a]);this.z3[a].Dd(a);this.oa(d[a]);this.oa(e[a]);this.ha()}0!==this.tsa&&this.oa(this.ota)};c.prototype.Qsd=function(a){if(null==
a)return null;for(var b=0;b<this.z3.length;b++)if(this.z3[b].ic()===a)return a=this.tsa-a-1,{name:this.fc[a],value:this.vi[a]};return null};c.prototype.bC=function(a){if(null==this.z3[a]||!1===this.AL)return this;this.ota.va(!1);this.bQb=null;var b=this.z3[a];a=this.Ssd(a);b.ic()!==this.bQb&&(this.ota=this.UMd(a),b=Pd.Sg(this.S0a),b.ZA(.5),this.ota.qa(b),this.bQb=a.id,this.ota.va(!0));return this};c.prototype.Ssd=function(a){a=this.z3[a];this.Pnb.x=a.ce();this.Pnb.y=a.Fe();this.Pnb.id=a.ic();return this.Pnb};
c.prototype.UMd=function(a){this.ota.he(a.x,a.y);return this.ota};c.prototype.Li=function(a,b){a=this.Ug.select(this.getRoot(),a.x,a.y,b);if(null==a)return-1;for(b=0;b<a.length;b++)if(a[b]instanceof Vm)return a[b].ic();return-1};c.prototype.eo=function(a){var b=[],d,e=this.tsa-1,f=0;for(d=0;d<this.tsa;d++)f+=a[d];for(d=0;d<this.tsa;d++){var g=a[d];g=g/f*100;b[e]=g;e--}return b};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJnZXRNb2RlbExpbWl0cyI6InBhIiwic2V0TW9kZWxMaW1pdHMiOiJIYSIsImdldFNlY3Rpb25JbmZvIjoiUXNkIiwiaGlnaGxpZ2h0IjoiYkMiLCJoaXRUZXN0IjoiTGkifX19");var uR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(k){k=xb(k,{center:{x:0,y:0},outerradius:50,modelradius:10,angle:45,startangle:-90,outlinevisible:!0,linestyle:new X,gridlines:{step:f,visible:!0},categories:{labelsalongcircumference:!1,data:[]}},!0);Sm.call(this,k);this.selection=null;this.Ju={ispointingup:!0,visible:!0,padding:0,linestyle:new X({width:0})};this.jr=[];this.pja=a;this.D7b(k)}function a(k){var l=k.linestyle;k=k.fillstyle;null!=l&&l.Ra(l.ca()+1);if(null!=k){var m=k.AD().ZA(255);k.setColor(m)}return{linestyle:l,
fillstyle:k}}function b(k){if(void 0!==k&&null!==k){k instanceof Array||(k=[k]);for(var l=0;l<k.length;l++){var m=k[l];m.data instanceof Array&&(m.data=new xG({data:m.data,name:m.name}));null==m.linestyle?m.linestyle=new X({color:"black"}):m.linestyle instanceof X||(m.linestyle=new X(m.linestyle));null==m.fillstyle?m.fillstyle=new rf({color:"black"}):m.fillstyle instanceof rf||(m.fillstyle=new rf(m.fillstyle))}}}var d=2,e=10,f=2,g=new Fk,h=new ek;D(c,Sm);L(c,"geotoolkit.controls.shapes.RadarChart");
c.prototype.D7b=function(k,l){var m=k.center;null!=m&&(this.center=m instanceof M?m:new M(m.x,m.y));null!=k.outerradius&&(this.radius=k.outerradius);null!=k.modelradius&&(this.Xna=k.modelradius);null!=k.startangle&&(this.hw=k.startangle);null!=k.outlinevisible&&(this.bJc=k.outlinevisible);m=k.gridlines;null!=m&&(null!=m.visible&&(this.WEc=m.visible),this.ubb=this.ubb instanceof X?this.ubb=X.He(this,this.ubb,m.linestyle,!0):X.Pa(m.linestyle),null!=m.step&&(this.iyb=m.step),null!=m.count&&(this.R_b=
m.count,0!==this.R_b&&(this.iyb=this.Xna/this.R_b)),this.G$b=0!==this.iyb?this.WEc:!1);m=k.categories;if(null!=m){null!=m.linestyle&&(this.yQa=this.yQa instanceof X?X.He(this,this.yQa,m.linestyle,!0):X.Pa(m.linestyle));null!=m.textstyle&&(this.xQ=this.xQ instanceof Ki?Ki.He(this,this.xQ,m.textstyle,!0):Ki.Pa(m.textstyle));null!=m.labelsalongcircumference&&(this.Dwb=m.labelsalongcircumference);var n=m.labelstyle;null!=n&&(null!=n.visible&&(this.Ju.visible=n.visible),null!=n.ispointingup&&(this.Ju.ispointingup=
n.ispointingup),null!=n.offset&&(this.Ju.offset=n.offset),null!=n.padding&&(this.Ju.padding=n.padding),null!=n.linestyle&&(this.Ju.linestyle=this.Ju.linestyle instanceof X?X.He(this,this.Ju.linestyle,n.linestyle,!0):X.Pa(n.linestyle)),null!=n.fillstyle&&(this.Ju.fillstyle=this.Ju.fillstyle instanceof rf?tg.$t(this,this.Ju.fillstyle,n.fillstyle,!0):tg.ad(n.fillstyle)));null!=m.data&&(this.jr=m.data.map(function(p){return{label:p,highlighted:!1}}))}null!=k.content&&(b(k.content),this.wj=k.content);
this.QJ();null!=l&&!0!==l||this.ha()};c.prototype.DCc=function(){return{center:{x:this.center.getX(),y:this.center.getY()},gridlines:{linestyle:this.ubb,step:this.iyb,count:this.R_b,visible:this.WEc},outerradius:this.radius,modelradius:this.Xna,startangle:this.hw,outlinevisible:this.bJc,categories:{labelsalongcircumference:this.Dwb,linestyle:this.yQa,textstyle:this.xQ,labelstyle:this.Ju}}};c.prototype.QJ=function(){for(var k=0,l=360/this.jr.length,m=0;m<this.jr.length;m++){var n=this.hw+l*m;h.Eb(this.jr[m].label);
n=Math.abs(h.ca()*Math.cos(n*Math.PI/180));n>k&&(k=n)}k=new U(this.center.x-this.radius-k,this.center.y-this.radius-k,this.center.x+this.radius+k,this.center.y+this.radius+k);this.sa(k)};c.prototype.setOptions=function(k,l){hb("geotoolkit.controls.shapes.RadarChart.setOptions is deprecated since 2021.2 (3.3). Use geotoolkit.controls.shapes.RadarChart.setProperties instead.");this.D7b(k,l);return this};c.prototype.ta=function(){hb("geotoolkit.controls.shapes.RadarChart.getOptions is deprecated since 2021.2 (3.3). Use geotoolkit.controls.shapes.RadarChart.getProperties instead.");
return this.DCc()};c.prototype.dN=function(k){return k/this.Xna*this.radius};c.prototype.Kga=function(k){b(k);this.wj=k;this.ha();return this};c.prototype.bo=function(){return this.wj};c.prototype.render=function(k){this.selection={};var l=null!=this.Qa()?k.Zb(this.Qa()):k;this.Eh(l);this.$i(l);this.Ju.visible&&this.QE(l);this.jh(l);k.ac()&&k.wt(this.selection)};c.prototype.aSb=function(k,l){var m=null!=this.selection[k]?this.selection[k]:[];this.selection[k]=m.concat(l)};c.prototype.$i=function(k){var l,
m=[],n=[],p=[],q=[],r=this.dN(this.Xna),t=[],u=360/this.jr.length;for(l=0;l<this.jr.length;l++){var w=this.hw+u*l;var y=w*Math.PI/180;w=Math.cos(y);y=Math.sin(y);m.push(w);n.push(y);p.push(this.center.x+w*r);q.push(this.center.y+y*r)}u=this.bJc?this.Ea():null;k.ra(u);k.qa(this.fb());k.Sj(p,q);for(l=0;l<m.length;l++)w=m[l],y=n[l],g.Oq({from:this.center,to:new M(this.center.getX()+this.radius*w,this.center.getY()+this.radius*y)}),p=this.yQa.clone(),!0===this.jr[l].highlighted&&"function"===typeof this.pja&&
(q=this.pja({axislinestyle:p}),null!=q.axislinestyle&&(p=q.axislinestyle)),g.ra(p),k.ac()?k.Ym(g,function(){t.push(l)}):g.render(k);0!==t.length&&this.aSb("axes",t);if(this.G$b)for(k.ra(this.ubb),k.qa(null),w=u=this.dN(this.iyb);w<r;){p=[];q=[];for(l=0;l<m.length;l++)p.push(this.center.x+m[l]*w),q.push(this.center.y+n[l]*w);k.Sj(p,q);w+=u}if(null!=this.wj)if(this.wj instanceof Array){r=[];for(l=0;l<this.wj.length;l++)p=this.Dvc(k,this.wj[l],m,n),k.ac()&&p&&r.push(l);0!==r.length&&this.aSb("series",
r)}else this.Dvc(k,this.wj,m,n)};c.prototype.Dvc=function(k,l,m,n){var p=[],q=[],r;for(r=0;r<m.length;r++){var t=this.dN(l.data.getValue(r));isNaN(t)&&(t=0);p.push(this.center.x+m[r]*t);q.push(this.center.y+n[r]*t)}m=l.linestyle;n=l.fillstyle;!0===l.highlighted&&"function"===typeof this.pja&&(l=this.pja({linestyle:m.clone(),fillstyle:n.clone()}),null!=l.linestyle&&(m=l.linestyle),null!=l.fillstyle&&(n=l.fillstyle));k.ra(m);k.qa(n);var u=!1;k.ac()?(k.LHa(function(){u=!0}),k.Sj(p,q),k.roa()):k.Sj(p,
q);return u};c.prototype.hwd=function(k){var l,m=!1;if(null!=this.wj&&null!=k.series)for(l=0;l<this.wj.length;l++){var n=0!==k.series.filter(function(p){return p===l}).length;this.wj[l].highlighted!==n&&(m=!0,this.wj[l].highlighted=n)}if(null!=k.axes)for(l=0;l<this.jr.length;l++)n=0!==k.axes.filter(function(p){return p===l}).length,this.jr[l].highlighted!==n&&(m=!0,this.jr[l].highlighted=n);m&&this.ha();return this};c.prototype.Sbb=function(){var k,l=!1;for(k=0;k<this.wj.length;k++)!1!==this.wj[k].highlighted&&
(l=!0,this.wj[k].highlighted=!1);for(k=0;k<this.jr.length;k++)!1!==this.jr[k].highlighted&&(l=!0,this.jr[k].highlighted=!1);l&&this.ha();return this};c.prototype.DKd=function(k){if(this.pja===k)return this;this.pja=k;return this};c.prototype.Iod=function(){return this.pja};c.prototype.Li=function(k,l){k=k instanceof U?bk.KG(this.getRoot(),k):bk.KG(this.getRoot(),k.x,k.y,null==l?e:l);k=k.filter(function(m){return m.iK()===this&&null!=m.getData()}.bind(this));return k=k.reduce(function(m,n){var p=n.getData();
n=p.hasOwnProperty("series")?p.series:[];p=p.hasOwnProperty("axes")?p.axes:[];m.series=m.series.concat(n);m.axes=m.axes.concat(p);return m},{series:[],axes:[]})};c.prototype.Fk=function(k){k%=2*Math.PI;0>k&&(k+=2*Math.PI);return 0===k?O.vd:k<Math.PI/2?O.Ld:k===Math.PI/2?O.Xd:k<Math.PI?O.Qf:k===Math.PI?O.pe:k<3*Math.PI/2?O.lh:k===3*Math.PI/2?O.Je:O.cg};c.prototype.skd=function(k,l){k=l.pj();return"center"===k?O.Je:"left"===k?O.cg:O.lh};c.prototype.QE=function(k){!0===this.Dwb?this.x7a(k):this.y7a(k)};
c.prototype.w7a=function(k,l){var m=d,n="regular"===l;null!=this.Ju?(null!=this.Ju.offset&&(m=this.Ju.offset),null!=this.Ju.ispointingup&&(n=this.Ju.ispointingup),h.vt(n).MK(this.Ju.padding||0).tC(this.Ju.radius||0).ra(this.Ju.linestyle,!1).qa(this.Ju.fillstyle,!1)):h.vt(n).MK(0).tC(0).ra(null).qa(null);for(var p=Math.max(Math.abs(k.Fa().pb()),Math.abs(k.Fa().Ab())),q=360/this.jr.length,r,t,u=[],w=0;w<this.jr.length;w++){var y=this.xQ;t=m;"function"===typeof this.pja&&(null!=this.Ju?h.vt(n).MK(this.Ju.padding||
0).tC(this.Ju.radius||0).ra(this.Ju.linestyle,!1).qa(this.Ju.fillstyle,!1):h.vt(n).MK(0).tC(0).ra(null).qa(null),!0===this.jr[w].highlighted&&(y=y.clone(),t=null!=this.Ju?xb(this.Ju,{}):null,r=this.pja({textstyle:y,labelstyle:t}),null!=r&&(null!=r.textstyle&&(y=r.textstyle),null!=r.labelstyle&&(t=r.labelstyle)),null!=t&&(void 0!==t.offset&&(m=t.offset),void 0!==t.ispointingup&&h.vt(t.ispointingup),void 0!==t.padding&&h.MK(t.padding),void 0!==t.radius&&h.tC(t.radius),void 0!==t.linestyle&&h.ra(t.linestyle,
!1),void 0!==t.fillstyle&&h.qa(t.fillstyle,!1))));t=m+h.n4();t=this.radius+t/p;r=q*w+this.hw;r=r*Math.PI/180;var A=this.center.getX()+t*Math.cos(r);t=this.center.getY()+t*Math.sin(r);h.Eb(this.jr[w].label).ib(y).Db(A,t);"alongCircumference"===l?(h.tc(this.skd(r,y)),h.rotate(r+Math.PI/2,A,t)):h.tc(this.Fk(r));k.ac()?k.Ym(h,function(){u.push(w)}):h.render(k);"alongCircumference"===l&&h.rotate(-(r+Math.PI/2),A,t)}0!==u.length&&this.aSb("axes",u)};c.prototype.y7a=function(k){this.w7a(k,"regular")};c.prototype.x7a=
function(k){this.w7a(k,"alongCircumference")};c.prototype.qoa=function(k,l){l=l*Math.PI/180;return new M(k*Math.cos(l),k*Math.sin(l))};c.prototype.ia=function(){var k=Sm.prototype.ia.call(this),l=this.DCc();k=G(k,l);k.options=l;return k};c.prototype.fa=function(k){k=hc(k);if(null==k)return this;Sm.prototype.fa.call(this,k);void 0!==k.options&&this.setOptions(k.options);this.D7b(k);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJtb2RlbFRvT3V0ZXJSYWRpdXMiOiJkTiIsInNldENvbnRlbnQiOiJLZ2EiLCJnZXRDb250ZW50IjoiYm8iLCJyZW5kZXJDb250ZW50IjoiJGkiLCJoaWdobGlnaHRTZWxlY3RlZCI6Imh3ZCIsInJlc2V0SGlnaGxpZ2h0aW5nIjoiU2JiIiwic2V0SGlnaGxpZ2h0U3R5bGVzSGFuZGxlciI6IkRLZCIsImdldEhpZ2hsaWdodFN0eWxlc0hhbmRsZXIiOiJJb2QiLCJoaXRUZXN0IjoiTGkiLCJkcmF3TGFiZWxzIjoiUUUiLCJkcmF3QW5nbGVBeGlzUmVndWxhciI6Ink3YSIsImRyYXdBbmdsZUF4aXNBbG9uZ0NpcmN1bWZlcmVuY2UiOiJ4N2EiLCJwb2xhclRvQ2FydGVzaWFuIjoicW9hIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var vR=/*#__PURE__*/va(/*#__PURE__*/{Eza:"updatedmodel"},2,"eyJVcGRhdGVkTW9kZWwiOiJFemEifSAg"),wR=/*#__PURE__*/va(/*#__PURE__*/{J1c:0,K1c:1,gZa:2,L1c:3},2,"eyJQODAiOiJKMWMiLCJQOTAiOiJLMWMiLCJQOTUiOiJnWmEiLCJQOTkiOiJMMWMifSAg"),xR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b,d){ue.call(this);b=G(b,{customfunc:d},!0);this.VU=null;this.J1=1;this.Qs=[];this.bra=!1;this.ja={x:null,y:null};this.gNb=!0;this.w3b=this.GTb=c.tFb.gZa;this.Kgc=a[this.GTb];this.Gmc=a[this.w3b];this.oD=[];this.RU=0;this.lV=null;this.setOptions(b)}var a=[[3.077,1.885,1.637,1.533,1.475,1.439,1.414,1.396,1.383,1.372,1.363,1.356,1.35,1.345,1.34,1.336,1.333,1.33,1.327,1.325,1.323,1.321,1.319,1.317,1.316,1.314,1.313,1.312,
1.311,1.3,1.28],[6.314,2.92,2.353,2.131,2.015,1.943,1.895,1.86,1.833,1.812,1.796,1.782,1.771,1.761,1.753,1.746,1.74,1.734,1.729,1.725,1.717,1.714,1.711,1.708,1.706,1.703,1.701,1.699,1.697,1.645],[12.706,4.302,3.182,2.776,2.57,2.446,2.364,2.306,2.262,2.228,2.2,2.178,2.16,2.144,2.131,2.119,2.109,2.1,2.093,2.085,2.079,2.073,2.068,2.063,2.059,2.055,2.051,2.048,2.045,2.042,1.959],[63.656,9.924,5.84,4.604,4.032,3.707,3.499,3.355,3.249,3.169,3.105,3.054,3.012,2.976,2.946,2.92,2.898,2.878,2.86,2.845,2.831,
2.818,2.807,2.796,2.787,2.778,2.77,2.763,2.756,2.75,2.575]];D(c,ue);L(c,"geotoolkit.controls.util.regression.RegressionBase");c.Ja=vR;c.tFb=wR;c.prototype.RE=function(b,d,e){this.ja.x=Array.isArray(b)?b.concat(this.ja.x?this.ja.x:[]):this.ja.x;this.ja.y=Array.isArray(d)?d.concat(this.ja.y?this.ja.y:[]):this.ja.y;this.oD=Array.isArray(e)?e.concat(this.oD?this.oD:[]):this.oD;this.RU=Math.min(this.ja.x.length,this.ja.y.length)};c.prototype.getData=function(){return{datax:this.ja.x,datay:this.ja.y,weights:this.oD}};
c.prototype.ZW=function(b){if("number"===typeof b)return this.VU(b);var d=[];if(Array.isArray(b))for(var e=0;e<b.length;e++)d.push(this.VU(b[e]));return d};c.prototype.setOptions=function(b){b=hc(b);if(null==b)return this;Array.isArray(b.coefficients)&&(this.Qs=b.coefficients,this.bra=!0);b.customfunc&&(this.VU=b.customfunc);return this};c.prototype.FVa=function(){this.Qs=[];this.bra=!1;this.lV=null;this.RU=0;this.ja.x=null;this.ja.y=null;this.oD=[]};c.prototype.eGc=function(){return this.bra};c.prototype.ta=
function(){var b={};b.coefficients=this.Qs;b.customfunc=this.VU;return b};c.prototype.fa=function(b){return this.setOptions(b)};c.prototype.ia=function(){return this.ta()};c.prototype.kOc=function(b){a[b]&&(this.GTb=b,this.Kgc=a[b]);return this};c.prototype.wyc=function(){return this.GTb};c.prototype.GRc=function(b){a[b]&&(this.w3b=b,this.Gmc=a[b]);return this};c.prototype.ACc=function(){return this.w3b};c.prototype.JSa=function(b){if(this.ja[b]){b=this.ja[b];for(var d=b.length,e=0,f=0;f<d;f++)e+=
b[f];return e/d}return null};c.prototype.sTa=function(b){if(this.ja[b]){var d=this.JSa(b);b=this.ja[b];for(var e=b.length,f=0,g=0;g<e;g++)f+=Math.pow(b[g]-d,2);return f}return null};c.prototype.V9a=function(){if(this.ja.x&&this.ja.y){for(var b=0,d=this.ja.x,e=this.ja.y,f=d.length,g=0;g<f;g++){var h=this.ZW(d[g]);b+=Math.pow(e[g]-h,2)}return b}return null};c.prototype.htb=function(){return this.RU-this.J1};c.prototype.Wub=function(){var b=this.V9a(),d=this.sTa("y");return"number"===typeof b&&"number"===
typeof d?1-b/d:null};c.prototype.msd=function(){var b=[];if(this.ja.x&&this.ja.y){for(var d=this.ja.x,e=this.ja.y,f=0;f<e.length;f++)b.push(e[f]-this.ZW(d[f]));return b}return null};c.prototype.YWb=function(b){if(this.ja.x&&this.ja.y){b=Math.pow(b-this.JSa("x"),2);var d=30;30>=this.RU&&(d=this.RU-1);return this.Kgc[d]*Math.sqrt(this.V9a()/this.htb())*Math.sqrt(1/this.RU+b/this.sTa("x"))}return null};c.prototype.tZb=function(b){if(this.ja.x&&this.ja.y){b=Math.pow(b-this.JSa("x"),2);var d=30;30>=this.RU&&
(d=this.RU-1);return this.Gmc[d]*Math.sqrt(this.V9a()/this.htb())*Math.sqrt(1+1/this.RU+b/this.sTa("x"))}return null};c.prototype.Wp=function(){var b={};b.rsquared=this.Wub();b.meanx=this.JSa("x");b.meany=this.JSa("y");b.df=this.htb();b.sumsquaredx=this.sTa("x");b.sumsquaredy=this.sTa("y");b.sumsquaredres=this.V9a();return b};c.prototype.QWb=function(){return this.Qs};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaXQiOiJSRSIsInByZWRpY3QiOiJaVyIsInJlc2V0TW9kZWwiOiJGVmEiLCJpc0N1c3RvbWl6ZWRDb2VmIjoiZUdjIiwiZ2V0T3B0aW9ucyI6InRhIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0Q29uZmlkZW5jZVByb2JhYmlsaXR5Ijoia09jIiwiZ2V0Q29uZmlkZW5jZVByb2JhYmlsaXR5Ijoid3ljIiwic2V0UHJlZGljdGlvblByb2JhYmlsaXR5IjoiR1JjIiwiZ2V0UHJlZGljdGlvblByb2JhYmlsaXR5IjoiQUNjIiwiZ2V0TWVhbiI6IkpTYSIsImdldFRvdGFsU3VtU3F1YXJlZCI6InNUYSIsImdldFN1bVNxdWFyZWRSZXNpZHVhbCI6IlY5YSIsImdldERlZ3JlZU9mRnJlZWRvbSI6Imh0YiIsImdldFJzcXVhcmVkIjoiV3ViIiwiZ2V0UmVzaWR1YWxzIjoibXNkIiwiZ2V0Q29uZmlkZW5jZUludGVydmFsIjoiWVdiIiwiZ2V0UHJlZGljdGlvbkludGVydmFsIjoidFpiIiwiZ2V0U3RhdGlzdGljcyI6IldwIiwiZ2V0Q29lZmZpY2llbnRzIjoiUVdiIn19fSAg");var zR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){xR.call(this,a);this.J1=2;this.lV=null}D(c,xR);L(c,"geotoolkit.controls.util.regression.Linear");c.prototype.RE=function(a,b,d){xR.prototype.RE.call(this,a,b,d);a=Array.isArray(a)?a:this.ja.x;b=Array.isArray(b)?b:this.ja.y;if(this.Qs.length>=this.J1&&this.bra)this.VU=function(m){return this.Qs[0]*m+this.Qs[1]};else{var e=[0,0,0,0,0],f=0;null!=this.lV&&(e=this.lV);for(var g=Math.min(a.length,b.length);f<g;f++)if(null!=b[f]){var h=d&&null!=d[f]&&0<d[f]?d[f]:1;e[0]+=h*
a[f];e[1]+=h*b[f];e[2]+=h*a[f]*a[f];e[3]+=h*a[f]*b[f];e[4]+=h}var k=(e[4]*e[3]-e[0]*e[1])/(e[4]*e[2]-e[0]*e[0]),l=e[1]/e[4]-k*e[0]/e[4];this.lV=e;this.Qs=[k,l];this.VU=function(m){return m*k+l}}};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaXQiOiJSRSJ9fX0g");var AR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){xR.call(this,a);this.J1=3;this.iLb=null}D(c,xR);L(c,"geotoolkit.controls.util.regression.Exponential");c.prototype.RE=function(a,b,d){xR.prototype.RE.call(this,a,b,d);a=Array.isArray(a)?a:this.ja.x;b=Array.isArray(b)?b:this.ja.y;if(this.Qs.length>=this.J1&&this.bra)this.VU=function(p){return Math.exp(this.Qs[0])*Math.exp(this.Qs[1]*p)+this.Qs[2]};else{var e=[0,0,0,0,0],f=0;null!=this.lV&&(e=this.lV);var g=Math.min(a.length,b.length),h=V.sf(b.slice(0,g)),k=0;0>h&&(b=
b.map(function(p){return p-h+Number.MIN_VALUE}),k=h);for(;f<g;f++)if(null!=b[f]){var l=d&&null!=d[f]&&0<d[f]?d[f]:1;e[0]+=l*a[f];e[1]+=l*Math.log(b[f]);e[2]+=l*a[f]*a[f];e[3]+=l*a[f]*Math.log(b[f]);e[4]+=l}var m=(e[4]*e[3]-e[0]*e[1])/(e[4]*e[2]-e[0]*e[0]),n=e[1]/e[4]-m*e[0]/e[4];this.lV=e;this.Qs=[n,m,k];this.VU=function(p){return Math.exp(m*p+n)+k};this.iLb=function(p){return(Math.log(p-k)-n)/m}}};c.prototype.mzc=function(a){null==a&&(a=1);var b;null!==this.Qs[0]&&null!==this.Qs[1]&&(b=0<this.Qs[1]?
(Math.log(a/this.Qs[1])-this.Qs[0])/this.Qs[1]:(Math.log(-a/this.Qs[1])-this.Qs[0])/this.Qs[1]);return b};c.prototype.S$a=function(a){if("number"===typeof a)return this.iLb(a);if(Array.isArray(a)){for(var b=[],d=0;d<a.length;d++)b.push(this.iLb(a[d]));return b}return null};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaXQiOiJSRSIsImdldEVkZ2UiOiJtemMiLCJpbnZlcnNlUHJlZGljdCI6IlMkYSJ9fX0g");var BR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e){Zg.call(this,e);var f={regressionmodel:{type:zR},regressionline:{linestyle:new X({color:a}),visible:!0},confidenceline:{visible:!1,linestyle:new X({color:b}),probability:wR.gZa},predictionline:{visible:!1,linestyle:new X({color:d}),probability:wR.gZa}};e=xb(e,f);this.Cc={regression:new io,confidenceupper:new io,confidencelower:new io,predictionupper:new io,predictionlower:new io};this.Ql=this.pl=null;this.oD=[];this.OC=this.MB=this.hj=this.tnb=this.nca=this.W6=this.Jia=
null;this.Ckb=3;this.Rsa=this.uda=0;this.n0a=!1;this.Ce=this.Sa=null;this.Hca=!0;this.gQa=this.gNa=!1;this.setOptions(e);(e.datax||e.datay)&&this.setData(e,!1)}var a="#757575",b="#eeeeee",d="#eeeeee";D(c,Zg);L(c,"geotoolkit.controls.shapes.RegressionLine");c.prototype.setOptions=function(e){null!=e.extended&&this.jPc(e.extended);e.plotinterval&&this.DRc(e.plotinterval);e.regressionmodel&&this.GMd(e.regressionmodel);e.regressionline&&this.FMd(e.regressionline);e.confidenceline&&this.xJd(e.confidenceline);
e.predictionline&&this.vMd(e.predictionline);e.horizontallogmode&&(this.gNa="boolean"===typeof e.horizontallogmode?e.horizontallogmode:!1);e.verticallogmode&&(this.gQa="boolean"===typeof e.verticallogmode?e.verticallogmode:!1);this.ha();return this};c.prototype.Ha=function(e){this.Ce!==e&&(this.Ce=e.clone(),this.n0a&&this.pl&&this.Ql&&(this.Bh(),this.Hca=!0,this.ha()));return this};c.prototype.pa=function(){return this.Ce?this.Ce.lock():this.getParent()?this.getParent().pa():null};c.prototype.sa=
function(e){this.Sa!==e&&(this.Sa=e.clone());return this};c.prototype.ga=function(){return this.Sa?this.Sa:this.pa()};c.prototype.fa=function(e){e=hc(e);if(null==e)return this;Zg.prototype.fa.call(this,e);this.setOptions(e);(e.datax||e.datay)&&this.setData(e,!1);return this};c.prototype.ia=function(){var e=Zg.prototype.ia.call(this);e=xb(this.ta(),e);e.datax=this.pl;e.datay=this.Ql;e.horizontallogmode=this.gNa;e.verticallogmode=this.gQa;return e};c.prototype.MCc=function(){if(this.hj){var e={};e.type=
this.hj;return e=G(this.hj.ta(),e)}return null};c.prototype.ta=function(){var e={};e.plotinterval=this.Ckb;e.extended=this.n0a;e.regressionmodel=this.MCc();e.regressionline=this.tYb("regression");e.confidenceline=this.tYb("confidence");e.predictionline=this.tYb("prediction");return e};c.prototype.jPc=function(e){"boolean"==typeof e&&this.n0a!==e&&(this.n0a=e,this.Bh(),this.Hca=!0);this.ha();return this};c.prototype.DRc=function(e){"number"==typeof e&&(this.Ckb=e,this.Hca=!0,this.ha());return this};
c.prototype.GMd=function(e){if(e.type){var f=e.type;f instanceof xR?(this.hj&&this.hj.za(vR.Eza,this.X2a),this.hj=f,this.hj.setOptions(e)):"function"==typeof f.Oa?this.tnb&&f.Oa()===this.tnb.Oa()||(this.hj&&this.hj.za(vR.Eza,this.X2a),this.hj=new f(e),this.tnb=f):(this.hj&&this.hj.za(vR.Eza,this.X2a),this.hj=new xR(e,f),this.tnb=null);this.hj.on(vR.Eza,this.X2a.bind(this))}else this.hj&&this.hj.setOptions(e);this.hj&&this.pl&&this.Ql&&(this.hj.RE(this.pl,this.Ql,this.oD),this.Bh());this.Hca=!0;this.ha();
return this};c.prototype.setData=function(e,f){if(!e)return this;if(e.datax){var g=this.wKb(e.datax,this.Jia);this.pl=f&&g?g.rawdata.concat(this.pl?this.pl:[]):g.rawdata;this.Jia=g.datasource}if(e.datay){var h=this.wKb(e.datay,this.W6);this.Ql=f&&h?h.rawdata.concat(this.Ql?this.Ql:[]):h.rawdata;this.W6=h.datasource}if(e.weights){var k=this.wKb(e.weights,this.nca);this.oD=f&&k?k.rawdata.concat(this.oD?this.oD:[]):k.rawdata;this.nca=k.datasource}this.pl&&this.Ql&&this.hj&&(this.hj.eGc()||f||this.hj.FVa(),
this.hj.RE(g?g.rawdata:this.pl,h?h.rawdata:this.Ql,k?k.rawdata:this.oD),this.Bh());this.Hca=!0;this.ha();return this};c.prototype.wKb=function(e,f){if(Array.isArray(e))return{rawdata:e,datasource:null};if(e instanceof xG||e instanceof PG){null!=f&&(f.za(oG.SN,this.r3a),f.za(oG.TN,this.L1),f.za(oG.Yj,this.L1),f instanceof NG&&f.za(KG.IN,this.L1));if(f!==e&&(f=e,f.on(oG.SN,this.r3a.bind(this)),f.on(oG.TN,this.L1.bind(this)),f.on(oG.Yj,this.L1.bind(this)),f instanceof NG))f.on(KG.IN,this.L1.bind(this));
return{rawdata:f.toArray(!0),datasource:f}}return null};c.prototype.r3a=function(e,f,g){this.pl=this.Jia?this.Jia.toArray(!0):this.pl;this.Ql=this.W6?this.W6.toArray(!0):this.Ql;this.oD=this.nca?this.nca.toArray(!0):this.oD;e=this.pl.slice(g.from,g.from+g.count);f=this.Ql.slice(g.from,g.from+g.count);g=this.oD.slice(g.from,g.from+g.count);e.length===f.length&&this.hj&&(this.hj.RE(e,f,g),this.Bh());this.Hca=!0;this.ha()};c.prototype.L1=function(e,f,g){this.pl=this.Jia?this.Jia.toArray(!0):this.pl;
this.Ql=this.W6?this.W6.toArray(!0):this.Ql;this.oD=this.nca?this.nca.toArray(!0):this.oD;this.hj.FVa();this.pl&&this.Ql&&(this.hj.RE(this.pl,this.Ql,this.oD),this.Bh());this.Hca=!0;this.ha()};c.prototype.Bh=function(){if(null!=this.pl&&null!=this.Ql){var e=this.pa();if(this.n0a)e&&(this.MB=e.la(),this.OC=e.na(),this.bM=e.ka(),this.vU=e.ma());else{var f=V.Xt(this.pl),g=V.Xt(this.Ql);this.MB=f[0];this.OC=f[1];this.bM=g[0];this.vU=g[1];e&&(this.MB=this.MB<e.la()?e.la():this.MB,this.OC=this.OC>e.na()?
e.na():this.OC,this.bM=this.bM<e.ka()?e.ka():this.bM,this.vU=this.vU>e.ma()?e.ma():this.vU)}}};c.prototype.X2a=function(e,f){this.Hca=!0;this.ha()};c.prototype.Wp=function(){return this.hj.Wp()};c.prototype.l$b=function(e,f,g,h,k,l,m){var n=this.gQa?V.log10(this.hj.ZW(0===e?1:e)):this.hj.ZW(e);this.gNa?f.push(V.log10(0===e?1:e)):f.push(e);f=this.hj.YWb(e);e=this.hj.tZb(e);g.push(n);h.push(n+f);k.push(n-f);l.push(n+e);m.push(n-e)};c.prototype.PVc=function(e,f,g,h,k,l,m){var n=this.gNa?V.log10(this.hj.S$a(0===
e?1:e)):this.hj.S$a(e);this.gQa?f.push(V.log10(0===e?1:e)):f.push(e);f=this.hj.YWb(n);var p=this.hj.tZb(n);g.push(n);h.push(e+f);k.push(e-f);l.push(e+p);m.push(e-p)};c.prototype.R5=function(){if(this.hj&&null!=this.MB&&null!=this.OC){var e=[],f=[],g=[],h=[],k=[],l=[],m;if(this.hj instanceof AR){var n=this.hj.mzc(this.Rsa/this.uda);var p=this.hj.QWb()[1];if(0===p)for(p=Math.abs(this.OC-this.MB)<Math.abs(this.uda)?Math.abs(this.OC-this.MB):this.uda,n=this.gQa?V.log10(this.Ql[0]):this.Ql[0],m=this.MB;m<=
this.OC;m+=p)this.gNa?e.push(V.log10(m)):e.push(m),f.push(n),g.push(n),h.push(n),k.push(n),l.push(n);else if(0<p){p=Math.abs(this.OC-this.MB)<Math.abs(this.uda)?Math.abs(this.OC-this.MB):this.uda;if(this.MB<n){var q=this.OC<n?this.OC:n;if(this.hj.ZW(q)>this.bM){for(m=this.MB;m<q;m+=p)this.l$b(m,e,f,g,h,k,l);e.push(q);f.push(this.hj.ZW(q))}}if(this.OC>n&&(p=Math.abs(this.vU-this.bM)<Math.abs(this.Rsa)?Math.abs(this.vU-this.bM):this.Rsa,m=this.bM>this.hj.ZW(n)?this.bM:this.hj.ZW(n),0===f.length||m<=
f[f.length-1]))for(;m<=this.vU;m+=p)0<f.length&&f[f.length-1]===m||this.PVc(m,f,e,g,h,k,l)}else{if(this.MB<n&&(p=Math.abs(this.vU-this.bM)<Math.abs(this.Rsa)?Math.abs(this.vU-this.bM):this.Rsa,q=this.bM>this.hj.ZW(n)?this.bM:this.hj.ZW(n),this.hj.S$a(q)>this.MB)){for(m=this.vU;m>=q;m-=p)this.PVc(m,f,e,g,h,k,l);e.push(this.hj.S$a(q));f.push(q)}if(this.OC>n&&(p=Math.abs(this.OC-this.MB)<Math.abs(this.uda)?Math.abs(this.OC-this.MB):this.uda,m=this.MB<n?n:this.MB,0===e.length||m<=e[e.length-1]))for(;m<
this.OC;m+=p)this.l$b(m,e,f,g,h,k,l)}}else if(this.hj instanceof zR&&isNaN(this.hj.QWb()[0]))for(p=Math.abs(this.vU-this.bM)<Math.abs(this.Rsa)?Math.abs(this.vU-this.bM):this.Rsa,q=this.gNa?V.log10(this.pl[0]):this.pl[0],m=this.bM;m<=this.vU;m+=p)n=this.gQa?V.log10(m):m,e.push(q),f.push(n),g.push(n),h.push(n),k.push(n),l.push(n);else for(p=Math.abs(this.OC-this.MB)<Math.abs(this.uda)?Math.abs(this.OC-this.MB):this.uda,m=this.MB;m<=this.OC;m+=p)this.l$b(m,e,f,g,h,k,l);2>e.length&&(e=null);this.Cc.regression.he(e,
f);this.Cc.confidenceupper.he(e,g);this.Cc.confidencelower.he(e,h);this.Cc.predictionupper.he(e,k);this.Cc.predictionlower.he(e,l);this.Hca=!1}};c.prototype.V6b=function(e,f){var g=X.Pa(e.linestyle);"regression"===f?(g instanceof X&&this.Cc[f].ra(e.linestyle),"boolean"===typeof e.visible&&this.Cc[f].va(e.visible)):(g instanceof X&&(this.Cc[f+"upper"].ra(e.linestyle),this.Cc[f+"lower"].ra(e.linestyle)),"boolean"===typeof e.visible&&(this.Cc[f+"upper"].va(e.visible),this.Cc[f+"lower"].va(e.visible)));
this.xa();this.ha()};c.prototype.tYb=function(e){var f={};"regression"===e?(f.linestyle=this.Cc[e].Ea(),f.visible=this.Cc[e].Ia()):(f.linestyle=this.Cc[e+"upper"].Ea(),f.visible=this.Cc[e+"upper"].Ia(),"confidence"===e&&this.hj&&(f.probability=this.hj.wyc()),"prediction"===e&&this.hj&&(f.probability=this.hj.ACc()));return f};c.prototype.render=function(e){var f=null!=this.Qa()?e.Zb(this.Qa()):e;this.MB&&this.OC&&this.bM&&this.vU||this.Bh();if(this.Hca){var g=f.Fa();this.uda=Math.abs(this.Ckb/g.pb());
this.Rsa=Math.abs(this.Ckb/g.Ab());if(this.pl&&1<this.pl.length)this.R5();else return}this.Eh(f);for(var h in this.Cc)this.Cc.hasOwnProperty(h)&&this.Cc[h].Ia()&&this.Cc[h].render(f);this.jh(e)};c.prototype.vMd=function(e){this.V6b(e,"prediction");"number"==typeof e.probability&&this.hj&&this.hj.GRc(e.probability);return this};c.prototype.xJd=function(e){this.V6b(e,"confidence");"number"==typeof e.probability&&this.hj&&this.hj.kOc(e.probability);return this};c.prototype.FMd=function(e){this.V6b(e,
"regression");return this};c.prototype.dispose=function(){this.Jia&&(this.Jia.za(oG.SN,this.r3a),this.W6.za(oG.TN,this.L1),this.Jia.za(oG.Yj,this.L1));this.W6&&(this.W6.za(oG.SN,this.r3a),this.W6.za(oG.TN,this.L1),this.W6.za(oG.Yj,this.L1));this.nca&&(this.nca.za(oG.SN,this.r3a),this.nca.za(oG.TN,this.L1),this.nca.za(oG.Yj,this.L1));this.hj&&this.hj.za(vR.Eza,this.X2a);Zg.prototype.dispose.call(this)};c.prototype.LCc=function(){return this.hj};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRNb2RlbExpbWl0cyI6IkhhIiwiZ2V0TW9kZWxMaW1pdHMiOiJwYSIsInNldEJvdW5kcyI6InNhIiwiZ2V0Qm91bmRzIjoiZ2EiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJnZXRSZWdyZXNzaW9uTW9kZWxPcHRpb25zIjoiTUNjIiwiZ2V0T3B0aW9ucyI6InRhIiwic2V0RXh0ZW5kZWQiOiJqUGMiLCJzZXRQbG90SW50ZXJ2YWwiOiJEUmMiLCJnZXRTdGF0aXN0aWNzIjoiV3AiLCJnZXRSZWdyZXNzaW9uTW9kZWwiOiJMQ2MifX19");var CR=/*#__PURE__*/va(/*#__PURE__*/{OCb:"bar",qKa:"histogram",Uha:"slices"},2,"eyJCYXIiOiJPQ2IiLCJIaXN0b2dyYW0iOiJxS2EiLCJTbGljZXMiOiJVaGEifSAg"),DR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){var d={name:"Rose Chart",data:null,polargrid:null,center:new M,startangle:0,modelradius:200,outerradius:200,rosemode:c.TT.OCb};Cg.call(this,b);this.options=G(b,d);this.uea=[];this.Tvb=0;this.gv=[];this.lv=[];this.setData(this.options)}var a=function(){function b(d,e,f,g){Hg.call(this);this.T3=d;this.length=d.values.length;this.YEa=e;this.getStyle=f;this.ZZb=g;this.reset()}D(b,Hg);b.prototype.next=function(){return this.Kg()?
(this.match=!1,this.kHa):null};b.prototype.Kg=function(){if(this.match)return!0;for(;this.Hu<this.ZZb.call(this.T3);)if(this.kHa=this.getStyle.call(this.T3,this.Hu++),this.YEa(this.kHa))return this.match=!0;return!1};b.prototype.forEach=function(d){for(var e=0;e<this.ZZb.call(this.T3);e++){var f=this.getStyle.call(this.T3,e);this.YEa(f)&&d(f)}return this};b.prototype.filter=function(d){for(var e=[],f=0;f<this.ZZb.call(this.T3);f++){var g=this.getStyle.call(this.T3,f);this.YEa(g)&&d(g)&&e.push(g)}return e};
b.prototype.reset=function(){this.kHa=null;this.Hu=0;this.match=!1;return this};return b}();L(c,"geotoolkit.controls.shapes.RoseChart");D(c,Cg);c.TT=CR;c.prototype.fa=function(b){b=hc(b);if(null==b)return this;Cg.prototype.fa.call(this,b);return this.setData(b)};c.prototype.ia=function(){var b=Cg.prototype.ia.call(this);return xb(this.ta(),b)};c.prototype.IK=function(b){if(null!=this.gv)for(var d=0;d<this.gv.length;d++)this.hk(this.gv[d],Ce.gb,this.sb());!1===b instanceof Hg&&(!1===Array.isArray(b)&&
(b=[b]),b=Hg.gi(b));for(this.gv=[];b.Kg();)d=tg.ad(b.next()),this.gv.push(d),null!=d&&this.gg(d,Ce.gb,this.sb());return this};c.prototype.tP=function(b){return this.mN===c.TT.Uha?new a(this,b,this.fb.bind(this),this.GXb.bind(this)):null===this.gv?null:Hg.gi(this.gv,b)};c.prototype.fb=function(b){return void 0===b?Cg.prototype.fb.call(this):this.mN===c.TT.Uha?null==this.values||null==this.values[b]?null:this.values[b].fillstyle||(0!==this.gv.length?this.gv[b%this.gv.length]:null):this.gv[b]};c.prototype.GXb=
function(){return this.mN===c.TT.Uha?null!=this.values?this.values.length:0:null!=this.gv?this.gv.length:0};c.prototype.uN=function(b){if(null!=this.lv)for(var d=0;d<this.lv.length;d++)this.hk(this.lv[d],Ce.gb,this.sb());!1===b instanceof Hg&&(!1===Array.isArray(b)&&(b=[b]),b=Hg.gi(b));for(this.lv=[];b.Kg();)d=X.Pa(b.next()),this.lv.push(d),null!=d&&this.gg(d,Ce.gb,this.sb());return this};c.prototype.yP=function(b){return this.mN===c.TT.Uha?new a(this,b,this.Ea.bind(this),this.vYb.bind(this)):null===
this.lv?null:Hg.gi(this.lv,b)};c.prototype.Ea=function(b){return void 0===b?Cg.prototype.Ea.call(this):this.mN===c.TT.Uha?null==this.values||null==this.values[b]?null:this.values[b].linestyle||(0!==this.lv.length?this.lv[b%this.lv.length]:null):this.lv[b]};c.prototype.vYb=function(){return this.mN===c.TT.Uha?null!=this.values?this.values.length:0:null!=this.lv?this.lv.length:0};c.prototype.setValues=function(b){this.values=b;this.mN===c.TT.qKa&&this.d4b();this.xa().ha();return this};c.prototype.KMd=
function(b){if(this.mN===b)return this;this.mN=b;this.xa().ha();return this};c.prototype.vsd=function(){return this.mN};c.prototype.g7b=function(b){if(this.yK===b)return this;this.yK=b;this.xa().ha();return this};c.prototype.TYb=function(){return this.yK};c.prototype.setData=function(b){this.options=G(b,this.options);this.name=b.name||this.name;this.Y$=b.polargrid||this.Y$;this.mN=b.rosemode||this.mN;this.outerRadius=b.outerradius||this.outerRadius;this.yK=b.modelradius||this.yK;this.hw=b.startangle||
this.hw;this.center=b.center||this.center;void 0!==b.fillstyle&&this.qa(b.fillstyle);void 0!==b.linestyle&&this.ra(b.linestyle);if(void 0!==b.data){var d=b.data;this.data=b.data;this.pEa=d.bins||this.pEa;void 0!==d.values&&(this.values=d.values);void 0!==d.fillstyles?this.IK(d.fillstyles):void 0!==d.fillstyle&&this.IK([d.fillstyle]);void 0!==d.linestyles?this.uN(d.linestyles):void 0!==d.linestyle&&this.uN([d.linestyle])}null!=this.Y$&&(b=this.Y$.ta(),this.options=G(b,this.options),this.center=b.center,
this.outerRadius=b.outerradius,this.hw=b.startangle,this.yK=b.modelradius);this.Ka=new U(this.center.x-this.outerRadius,this.center.y-this.outerRadius,this.center.x+this.outerRadius,this.center.y+this.outerRadius);this.mN===c.TT.qKa&&this.d4b();this.xa().ha();return this};c.prototype.ta=function(){return{name:"name",rosemode:this.mN,outerradius:this.outerRadius,modelradius:this.yK,startangle:this.hw,center:this.center,linestyle:this.fb(),fillstyle:this.fb(),data:{values:this.values,bins:this.pEa,
linestyles:this.yP(),fillstyles:this.tP()}}};c.prototype.d4b=function(){this.uea=[];this.Tvb=0;var b=360/this.pEa,d;for(d=0;d<this.values.length;d++){var e=Math.floor(this.values[d]/b);null==this.uea[e]&&(this.uea[e]=0);this.uea[e]++;this.uea[e]>this.Tvb&&(this.Tvb=this.uea[e])}for(d=0;d<this.uea.length;d++)this.uea[d]=this.uea[d]/this.Tvb*this.yK;return this};c.prototype.OV=function(){return this.pEa};c.prototype.o5=function(b){if(this.pEa===b)return this;this.pEa=b;this.d4b().xa().ha();return this};
c.prototype.sa=function(b){if(null!=this.Ka&&this.Ka.wi(b,V.Qb))return this;this.Ka=b;this.xa().ha();return this};c.prototype.ga=function(){return null!=this.Ka?this.Ka.lock():null};c.prototype.txa=function(b,d,e,f){d=this.dN(d);e=e*Math.PI/180;f=f*Math.PI/180;var g=2*d,h=2*d,k=this.center.x-d;d=this.center.y-d;b.Fx(k,d,g,h,e,f)};c.prototype.$i=function(b){for(var d=this.mN!==c.TT.qKa?this.values:this.uea,e=360/(this.mN===c.TT.OCb?this.values.length:this.pEa),f=this.hw,g=f+e,h,k=this.GXb(),l=this.vYb(),
m,n,p=0;p<d.length;p++)(h=d[p],null==h||Number.isNaN(h)||(n=0!==k?this.fb(p%k):null,m=0!==l?this.Ea(p%l):null,this.mN===c.TT.Uha&&(void 0!==h.fillstyle&&(n=tg.ad(h.fillstyle)),void 0!==h.linestyle&&(m=X.Pa(h.linestyle))),null==n&&null==m))||(b.qa(n),b.ra(m),this.mN===c.TT.Uha?this.txa(b,h.value,h.start,h.end):(this.txa(b,h,f,g),f=g,g=f+e))};c.prototype.render=function(b){var d=this.ga();if(null!=d){b=this.Qa()?b.Zb(this.Qa()):b;var e=this.fb();null!=e&&(b.qa(this.fb(),d),b.ra(null),null==this.Y$?
b.sc(d.la(),d.ka(),d.ca(),d.da()):this.txa(b,this.yK,0,360));e=this.Ea();null!=e&&(b.qa(null),b.ra(e),null==this.Y$?b.sc(d.la(),d.ka(),d.ca(),d.da()):this.txa(b,this.yK,0,360));null!=this.data&&null!=this.values&&this.$i(b)}};c.prototype.dN=function(b){return Math.min(b/this.yK,1)*this.outerRadius};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRGaWxsU3R5bGVzIjoiSUsiLCJnZXRGaWxsU3R5bGVzIjoidFAiLCJnZXRGaWxsU3R5bGUiOiJmYiIsImdldEZpbGxTdHlsZXNDb3VudCI6IkdYYiIsInNldExpbmVTdHlsZXMiOiJ1TiIsImdldExpbmVTdHlsZXMiOiJ5UCIsImdldExpbmVTdHlsZSI6IkVhIiwiZ2V0TGluZVN0eWxlc0NvdW50IjoidlliIiwic2V0Um9zZU1vZGUiOiJLTWQiLCJnZXRSb3NlTW9kZSI6InZzZCIsInNldE1vZGVsUmFkaXVzIjoiZzdiIiwiZ2V0TW9kZWxSYWRpdXMiOiJUWWIiLCJnZXRPcHRpb25zIjoidGEiLCJnZXRCaW5Db3VudCI6Ik9WIiwic2V0QmluQ291bnQiOiJvNSIsInNldEJvdW5kcyI6InNhIiwiZ2V0Qm91bmRzIjoiZ2EiLCJtb2RlbFRvT3V0ZXJSYWRpdXMiOiJkTiJ9fX0g");var FR=/*#__PURE__*/function(){function c(a,b,d){this.Fd=null;this.$a=a;this.H1=d;this.bda=null;this.kAa=function(){var e=this.Fd.wa().transform(this.Fd.pa());this.bda.sa(this.$a.wa().nc(e));this.bda.Ha(this.Fd.pa())}.bind(this);b&&this.Tx(b,this.$a)}L(c,"geotoolkit.controls.tools.SimpleAdapter");c.prototype.Tx=function(a,b){this.$a=b;this.Fd=a;this.bda=new oi;this.bda.kb("ghost_node");this.kAa();this.Fd.on(Ce.RI,this.kAa);this.$a.oa(this.bda);return this};c.prototype.vG=function(){return this.Fd};c.prototype.nt=
function(){return this.ec()};c.prototype.contains=function(a){var b=this.Fd.pa();b=this.Fd.wa().transform(b);return b.contains(a)};c.prototype.rBb=function(a,b,d){a&&(b=a.Hb().ga().clone(),d=d.wa().transform(b),d=this.ec().wa().nc(d),a.Hb().sa(d),a.Fh());return!0};c.prototype.JBb=function(a){return a};c.prototype.O9b=function(a){return a};c.prototype.Vdb=function(a){return a};c.prototype.Udb=function(a){return a};c.prototype.intersect=function(a){return a};c.prototype.OHc=function(){return!1};c.prototype.ec=
function(){return this.bda||this.$a};c.prototype.dispose=function(){this.Fd&&this.Fd.za(Ce.RI,this.kAa);this.bda&&(this.bda.dh(),this.bda.dispose(),this.bda=null)};c.qm=function(a){return a instanceof oi};c.yZb=function(){return 1};return c}();var GR=/*#__PURE__*/function(){function c(){this.dhb=[]}L(c,"geotoolkit.controls.tools.AdaptersRegistry");c.prototype.Qed=function(b,d,e){for(var f=FR,g=-Infinity,h=0;h<this.dhb.length;h++){var k=this.dhb[h];k.qm(d)&&k.yZb()>g&&(f=k,g=k.yZb())}return new f(b,d,e)};c.prototype.register=function(b){-1===this.dhb.indexOf(b)&&this.dhb.push(b);return this};var a=null;c.ya=function(){null==a&&(a=new c);return a};return c}();var HR=/*#__PURE__*/va(/*#__PURE__*/{aw:"onStateChanged",Mi:"onEnabledStateChanged",gga:"onEnter",Ry:"onLeave",VUa:"onRebuild",q2b:"onListenerAdded",Rab:"onListenerRemoved"},2,"eyJvblN0YXRlQ2hhbmdlZCI6ImF3Iiwib25FbmFibGVkU3RhdGVDaGFuZ2VkIjoiTWkiLCJvbkVudGVyIjoiZ2dhIiwib25MZWF2ZSI6IlJ5Iiwib25SZWJ1aWxkIjoiVlVhIiwib25MaXN0ZW5lckFkZGVkIjoicTJiIiwib25MaXN0ZW5lclJlbW92ZWQiOiJSYWIifSAg"),IR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(h,k){h=G(h,{slots:h&&"object"===typeof h&&null==h.name&&null==h.layer?h:{},name:"string"===typeof k?k:"",enabled:!0,mouseradius:2,touchradius:5,layer:null},!0);this.Gt=null;this.wB={};this.sm(h.slots);this.If=h.enabled;this.Dv=!1;this.fc=h.name;this.rJ=h.mouseradius;this.jM=h.touchradius;this.OAa={};this.ap={};this.hAa=null;this.$a=
h.layer;this.Okc=[0,1];this.yAa=0;this.Mmc=new M(-Infinity,-Infinity);this.BU=!1;this.Gl=null}var a=500,b=20,d=10,e=null;lc(c,Il);L(c,"geotoolkit.controls.tools.AbstractTool");GR.ya().register(FR);c.Ja=HR;c.prototype.sm=function(h,k){var l=this.Mva();null!=l&&this.detach(l);var m;if(!0===k&&null!=this.wB)for(m in h)this.wB[m]=h[m];else this.wB=h;for(m in this.wB)if(this.wB.hasOwnProperty(m)){var n=c.UFa(m);if(Array.isArray(n))for(k=this.wB[m],delete this.wB[m],h=0;h<n.length;++h)this.wB[n[h]]=k}for(m in this.wB)if(this.wB.hasOwnProperty(m)&&
(k=this.wB[m],null==k||Array.isArray(k)||(this.wB[m]=[k]),k=this.wB[m],null!=k))for(h=0;h<k.length;h++)"function"===typeof k[h]&&(k[h]={callback:k[h],object:null,enabled:!0});null!=l&&this.attach(l);return this};c.prototype.WH=function(h){return this};c.prototype.Tga=function(h){this.rJ=h;return this};c.prototype.zS=function(){return this.rJ};c.prototype.$ga=function(h){this.jM=h;return this};c.prototype.pW=function(){return this.jM};c.prototype.lSa=function(h){return this.Gm(h)?this.jM:this.rJ};
c.lock=function(h,k){void 0===c.SZa&&(c.SZa=[]);for(var l=c.SZa,m=0;m<l.length;m++)if(l[m].mxa===h){l[m].mXa=k;return}l.push({mxa:h,mXa:k})};c.unlock=function(h){if(void 0!==c.SZa){var k=c.SZa,l;if(h instanceof c)for(l=k.length-1;0<=l;l--)k[l].mXa===h&&k.splice(l,1);else for(l=0;l<k.length;l++)if(k[l].mxa===h){k.splice(l,1);break}}};c.I8a=function(h){var k=c.SZa;if(void 0===k||0===k.length)return null;for(var l=0;l<k.length;l++)if(null==k[l].mxa||k[l].mxa===h)return k[l].mXa;return null};c.UFa=function(h){e||
(e="ontouchstart"in Za.document.documentElement?{pointerdown:["mousedown","touchstart"],pointermove:["mousemove","touchmove"],pointerup:["mouseup","touchend"]}:Za.PointerEvent?{pointerdown:["pointerdown"],pointermove:["pointermove"],pointerup:["pointerup"]}:Za.TouchEvent?{pointerdown:["mousedown","touchstart"],pointermove:["mousemove","touchmove"],pointerup:["mouseup","touchend"]}:{pointerdown:["mousedown"],pointermove:["mousemove"],pointerup:["mouseup"]});if("string"===typeof h){var k=h.toLowerCase();
return null!=e[k]?e[k]:[h]}return[]};c.prototype.Wr=function(h,k,l){h=c.UFa(h);for(var m=0;m<h.length;++m){var n=h[m];if(null!=this.wB[n])for(var p=0;p<this.wB[n].length;++p){var q=this.wB[n][p];q.object!==l&&l||(q.enabled=k)}}return this};c.prototype.kb=function(h){this.fc=h;return this};c.prototype.Da=function(){return this.fc};c.prototype.ec=function(){return this.$a};c.prototype.gdd=function(){void 0!==this.Oc&&this.Oc(null);this.hAa&&c.UFa("pointerup").forEach(function(h){Za.removeEventListener(h,
this.hAa,!1)}.bind(this))};c.prototype.hdd=function(){null==this.hAa&&(this.hAa=this.gdd.bind(this));c.UFa("pointerup").forEach(function(h){Za.addEventListener(h,this.hAa,!1)}.bind(this))};c.prototype.dispose=function(){if(!this.ge()){this.hAa&&c.UFa("pointerup").forEach(function(k){Za.removeEventListener(k,this.hAa,!1)}.bind(this));var h=this.Mva();null!=h&&(this.detach(h),h.remove(this));this.OAa=null;this.ap={};this.wB=null;this.BU=!0}};var f=new RegExp(/touch/),g=new RegExp(/pointer/);c.prototype.Gm=
function(h){null!=h.ye&&(h=h.ye());return f.test(h.type)||g.test(h.type)&&"mouse"!==h.pointerType};c.Qqb=function(h,k){var l=k.getBoundingClientRect();if("touchend"===h.type&&null!=h.changedTouches&&0<h.changedTouches.length){var m=h.changedTouches[0].clientX;h=h.changedTouches[0].clientY}else null!=h.touches&&0<h.touches.length?(m=h.touches[0].clientX,h=h.touches[0].clientY):(m=h.clientX,h=h.clientY);m=(m-l.left)/(l.right-l.left)*k.ca();k=(h-l.top)/(l.bottom-l.top)*k.da();return{x:Math.round(10*
m)/10,y:Math.round(10*k)/10}};c.prototype.jga=function(h,k){var l=null!=k?k:h.Pe();h=null!=k?h:h.ye();return c.Qqb(h,l)};c.prototype.Kd=function(h,k){k=k.Zd();k=new M(k.getX(),k.getY());null!=h&&(h=h.wa(),null!=h&&h.hd(k,k));return k};c.prototype.addListener=function(h,k){null==this.ap[h]&&(this.ap[h]=[]);var l=this.ap[h],m=Array.isArray(k)?k:[k];m.forEach(function(n){l.push(n)});h={tool:this,eventName:h,listener:k};this.fireEvent(c.Ja.q2b,h);return this};c.prototype.removeListener=function(h,k){var l=
{tool:this,eventName:h,listener:k};if(null==this.ap[h])return this.fireEvent(c.Ja.Rab,l),this;if(null==k)return this.ap[h]=null,this.fireEvent(c.Ja.Rab,l),this;var m=this.ap[h];h=Array.isArray(k)?k:[k];h.forEach(function(n){n=m.indexOf(n);-1!==n&&m.splice(n,1)});this.fireEvent(c.Ja.Rab,l);return this};c.prototype.mnd=function(h){return this.ap[h]};c.prototype.Hid=function(){var h=[],k;for(k in this.ap)if(this.ap.hasOwnProperty(k)){var l=this.ap[k];l&&h.push(k)}return Hg.gi(h)};c.prototype.fireEvent=
function(h,k){if(null!=this.ap[h]){h=this.ap[h];for(var l=0;l<h.length;++l){var m=h[l];null!=m&&("function"===typeof m?m.call(this,this,k):null!=m.processEvent&&m.processEvent.call(m,this,k))}}};c.prototype.Ob=function(h){if(this.If===h)return this;this.If=h;this.Mi();this.Km();return this};c.prototype.isEnabled=function(){return this.If};c.prototype.toggle=function(){this.Ob(!this.If);return this};c.prototype.start=function(h){return this.setActive(!0)};c.prototype.stop=function(){return this.setActive(!1)};
c.prototype.setActive=function(h){if(this.Dv===h)return this;this.Dv=h;this.Km();return this};c.prototype.Hd=function(){return this.Dv};c.prototype.Km=function(){this.fireEvent(c.Ja.aw,null)};c.prototype.Mi=function(){this.fireEvent(c.Ja.Mi,null)};c.prototype.attach=function(h){function k(m,n){if(!n.mk()){m=this.wB[m];for(var p=0;p<m.length;++p){var q=m[p];if(!1!==q.enabled&&n.kyd(q.object)&&(q.callback.call(this,n),n.mk()))break}}}this.vAb(h);for(var l in this.wB)this.wB.hasOwnProperty(l)&&null!=
this.wB[l]&&(null==this.OAa[l]&&(this.OAa[l]=[]),this.OAa[l].push(h.on(l,this,h,k.bind(this,l))));return this};c.prototype.detach=function(h){h===this.Mva()&&this.vAb(null);var k;for(k in this.OAa)if(this.OAa.hasOwnProperty(k)){var l=this.OAa[k];for(var m=l.length-1;0<=m;m--){var n=l[m];n.vyc()===h&&(n.za(),l.splice(m,1))}}return this};c.prototype.Mva=function(){return this.Gt};c.prototype.vAb=function(h){this.Gt=h;return this};c.prototype.on=function(h,k,l,m){return null};c.prototype.za=function(h){return this};
c.prototype.Oqd=function(h){if(null==h||null==this.wB[h])return null;var k=[];this.wB[h].forEach(function(l){-1===k.indexOf(l.object)&&k.push(l.object)});return k};c.prototype.X$a=function(h){var k=Date.now(),l=k-this.yAa;if(l<a&&M.Uf(h,this.Mmc)<d&&l>b)return!0;this.yAa=k;this.Mmc.Ga(h.getX(),h.getY());return!1};c.prototype.S0b=function(h){return-1!==this.Okc.indexOf(h)};c.prototype.ALd=function(h){this.Okc=h;return this};c.prototype.ge=function(){return this.BU};c.prototype.Z9a=function(h,k,l){if(this.Gl&&
this.Gl.vG()===h)return this.Gl;h=GR.ya().Qed(this.$a,h,k);this.Gl&&l&&this.Gl.dispose();return h};c.prototype.fa=function(h){h=hc(h);if(null==h)return this;void 0!==h.slots&&this.sm(h.slots);void 0!==h.name&&this.kb(h.name);void 0!==h.enabled&&this.Ob(h.enabled);void 0!==h.mouseradius&&this.Tga(h.mouseradius);void 0!==h.touchradius&&this.$ga(h.touchradius);void 0!==h.layer&&(this.$a=h.layer);return this};c.prototype.ia=function(){return{name:this.fc,enabled:this.isEnabled(),mouseRadius:this.rJ,touchRadius:this.jM,
layer:this.$a}};return c}(),2,"eyJnZXRFeGNsdXNpdmVUb29sIjoiSThhIiwiZ2V0TmF0aXZlRXZlbnROYW1lIjoiVUZhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsic2V0U2xvdHMiOiJzbSIsImF0dGFjaFRvUGxvdCI6IldIIiwic2V0TW91c2VSYWRpdXMiOiJUZ2EiLCJnZXRNb3VzZVJhZGl1cyI6InpTIiwic2V0VG91Y2hSYWRpdXMiOiIkZ2EiLCJnZXRUb3VjaFJhZGl1cyI6InBXIiwic2V0U2xvdEVuYWJsZWQiOiJXciIsInNldE5hbWUiOiJrYiIsImdldE5hbWUiOiJEYSIsImdldE1hbmlwdWxhdG9yTGF5ZXIiOiJlYyIsImNhcHR1cmVNb3VzZVVwIjoiaGRkIiwiaXNUb3VjaEV2ZW50IjoiR20iLCJwYWdlVG9DYW52YXMiOiJqZ2EiLCJwb2ludFRvTW9kZWwiOiJLZCIsInNldEVuYWJsZWQiOiJPYiIsImlzQWN0aXZlIjoiSGQiLCJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6IkttIiwib25FbmFibGVkU3RhdGVDaGFuZ2VkIjoiTWkiLCJnZXRQYXJlbnRUb29sIjoiTXZhIiwiaXNEaXNwb3NlZCI6ImdlIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIn19fSAg");var KR=/*#__PURE__*/va(/*#__PURE__*/{aoa:"onActivate",LBd:"onScrollStart",KBd:"onScaleStart",rn:"onScroll",mxb:"onScale",nv:"onScrollEnd",nxb:"onScaleEnd",coa:"onRangeChanged"},2,"eyJvbkFjdGl2YXRlIjoiYW9hIiwib25TY3JvbGxTdGFydCI6IkxCZCIsIm9uU2NhbGVTdGFydCI6IktCZCIsIm9uU2Nyb2xsIjoicm4iLCJvblNjYWxlIjoibXhiIiwib25TY3JvbGxFbmQiOiJudiIsIm9uU2NhbGVFbmQiOiJueGIiLCJvblJhbmdlQ2hhbmdlZCI6ImNvYSJ9"),LR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){oi.call(this);this.Wd(new jl).Yc(!0);this.PB=d&&d.transparency||1;this.MIb=d&&d.size||15;void 0!==d.backgroundfillstyle&&this.qa(d.backgroundfillstyle);void 0!==d.floating&&this.sN(d.floating);var e={wheel:this.zp.bind(this),pointerdown:this.Xc.bind(this),pointermove:[{callback:this.Ac.bind(this),object:null},{callback:this.T$.bind(this),
object:Za,enabled:!1}],pointerup:[{callback:this.foa.bind(this),object:Za.document,enabled:!1}],dblclick:[{callback:this.Lq.bind(this),object:null}],"cg-leave":function(f){!1===this.tq.Hd()&&1!==this.uTa()&&null!=this.Ed&&(this.JVa(),this.Ed=null)}.bind(this)};this.tq=new IR(e,d.name);this.j1a=null;this.jM=5;this.rJ=2;this.c_a=new Me({attributeName:"transparency","function":function(f,g,h,k,l){f=h+k;return h<f?h+k:h+k*g/l},begin:"auto",duration:500})}var a=function(){function d(e,f){this.from=e;this.Ie=
f}d.prototype.np=function(){return this.from};d.prototype.nr=function(){return this.Ie};d.prototype.transform=function(e){null!=e&&(e.Ma(this.Ie,this.Ie),e.Ma(this.from,this.from));return this};d.prototype.getLength=function(){return M.Uf(this.from,this.Ie)};d.prototype.Uc=function(e,f){var g=this.getLength(),h=e===this.Ie?this.from:this.Ie,k=e===this.Ie?this.Ie:this.from,l=(k.x-h.x)/g*f+k.x;f=(k.y-h.y)/g*f+k.y;e===this.from?this.from.Ga(l,f):this.Ie.Ga(l,f);return this};return d}(),b=100;D(c,oi);
L(c,"geotoolkit.controls.tools.scroll.AbstractScroll");c.dfb=.7;c.prototype.On=function(d){this.tq.Wr("pointermove",d,Za);this.tq.Wr("pointerup",d,Za.document)};c.Ja=KR;c.prototype.notify=function(d,e,f){oi.prototype.notify.call(this,d,e,f);null!=this.tq&&this.tq.fireEvent(d,f)};c.prototype.Xc=Fb;c.prototype.Ac=Fb;c.prototype.zp=Fb;c.prototype.Oc=Fb;c.prototype.Lq=function(d){var e=this.Ec().Gm(d),f=d.Zd();e=e?this.jM:this.rJ;!0===this.YJ().Uc(e,e).contains(f)&&d.stopPropagation()};c.prototype.T$=
Fb;c.prototype.foa=function(d){this.nSa()&&this.JVa()};c.prototype.Ec=function(){return this.tq};c.prototype.addListener=function(d,e){var f=function(g,h){e.call(this,this,h)}.bind(this);this.Ec().addListener(d,f);return this};c.prototype.evd=function(d,e){return new a(d,e)};c.prototype.JVa=function(){this.lQ(this.c_a);this.jpa(0)};c.prototype.ZWa=function(){this.lQ(null)};c.prototype.render=function(d){if(d.ac())oi.prototype.render.call(this,d);else{if(1>this.PB){var e=d.dI();d.Nq(this.PB)}oi.prototype.render.call(this,
d);1>this.PB&&d.Nq(e)}};c.prototype.sN=function(d){if(this.nSa()===d)return this;d||this.ZWa();this.jpa(d?.5:1);d&&this.JVa();return this};c.prototype.nSa=function(){return 1!==this.PB};c.prototype.uTa=function(){return this.PB};c.prototype.jpa=function(d){if(this.PB===d)return this;this.PB=d;this.xa().ha();return this};c.prototype.Ha=function(d,e,f,g){if(1!==this.PB&&!1!==g)if(d=this.Ava(),e=this.gwa(),d.Ula(e,V.Qb))this.ZWa(),this.jpa(0);else if(this.PB!==c.dfb||this.TRa())this.ZWa(),this.jpa(c.dfb),
this.JVa();return this};c.prototype.ia=function(){var d=oi.prototype.ia.call(this);null!=this.fb()&&(d.backgroundfillstyle=this.fb());d.floating=this.nSa();d.transparency=this.PB;d.size=this.MIb;d.name=this.tq.Da();return G(d,this.ta())};c.prototype.fa=function(d){d=hc(d);if(null==d)return this;oi.prototype.fa.call(this,d);void 0!==d.name&&this.tq.kb(d.name);void 0!==d.backgroundfillstyle&&this.qa(d.backgroundfillstyle);void 0!==d.floating&&this.sN(d.floating);void 0!==d.transparency&&(this.PB=d.transparency);
void 0!==d.size&&(this.MIb=d.size);this.ha();this.setOptions(d);return this};c.prototype.setOptions=Hb;c.prototype.ta=Hb;c.prototype.z9=function(){return this.MIb};c.prototype.XWa=function(d){null!=this.j1a&&null==d&&(clearInterval(this.j1a),this.j1a=null)};c.prototype.e9b=function(d){null==this.j1a&&(this.j1a=setInterval(this.Xc.bind(this),b,d))};c.prototype.dispose=function(){this.tq.dispose();this.tq=null;oi.prototype.dispose.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdXNlRG93biI6IlhjIiwib25Nb3VzZU1vdmUiOiJBYyIsIm9uTW91c2VXaGVlbCI6InpwIiwib25Nb3VzZVVwIjoiT2MiLCJvbkRvdWJsZUNsaWNrIjoiTHEiLCJvbldpbmRvd01vdXNlTW92ZSI6IlQkIiwib25XaW5kb3dNb3VzZVVwIjoiZm9hIiwiZ2V0VG9vbCI6IkVjIiwic2V0RmxvYXRpbmdNb2RlIjoic04iLCJnZXRGbG9hdGluZ01vZGUiOiJuU2EiLCJzZXRNb2RlbExpbWl0cyI6IkhhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0T3B0aW9ucyI6InRhIiwiZ2V0RGVzaXJlZFNpemUiOiJ6OSJ9fX0g");var NR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){this.pjb=a;this.hjc=this.m1a=!1}c.prototype.vh=function(){return this.pjb};c.prototype.stopPropagation=function(){this.m1a=!0;return this};c.prototype.preventDefault=function(){this.hjc=!0;return this};c.prototype.mk=function(){return this.m1a};c.prototype.uwb=function(){return this.hjc};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRFdmVudE5hbWUiOiJ2aCIsImlzQ2FuY2VsZWQiOiJtayIsImlzUHJldmVudERlZmF1bHQiOiJ1d2IifX19");var OR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d,e,f){NR.call(this,a);this.PGb=!1;this.Zlb=b;this.HOa=d;this.lc=f;this.Fd=e;this.N8=null;this.Jic=!1;this.Lnb=null;null!=this.lc&&null!=this.HOa&&(this.Jic=0<=this.HOa.getX()&&this.HOa.getX()<this.lc.ca()&&0<=this.HOa.getY()&&this.HOa.getY()<this.lc.da())}D(c,NR);c.prototype.H8a=function(){return null==this.Zlb?null:this.Zlb.currentTarget||this.Zlb.target};c.prototype.Zd=function(){return this.HOa};c.prototype.Pe=function(){return this.lc};c.prototype.tb=function(){return this.Fd};
c.prototype.ye=function(){return this.Zlb};c.prototype.mEa=function(a){return null==a?this.PGb:this.PGb=a};c.prototype.stopPropagation=function(a,b){NR.prototype.stopPropagation.call(this);a&&(NR.prototype.preventDefault.call(this),this.mEa(!1),null!=this.ye()&&this.ye().preventDefault());b&&null!=this.ye()&&this.ye().stopPropagation();return this};c.prototype.kyd=function(a){var b=this.ye()?this.ye().currentTarget||this.ye().target:null;return null==this.ye()||a===b||null===a&&null!=this.Pe()&&b===
this.Pe().Vv()?!0:!1};c.prototype.z4=function(){return this.Jic};c.prototype.KWa=function(a){this.N8=a;return this};c.prototype.ena=function(){return this.N8};c.prototype.Uxc=function(){if(null==this.Lnb){this.Lnb=new M;var a=this.ye();a=null!=a.touches&&0<a.touches.length?a.touches[0]:a;this.Lnb.Ga(a.clientX,a.clientY)}return this.Lnb};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRFdmVudFRhcmdldCI6Ikg4YSIsImdldFBsb3RQb2ludCI6IlpkIiwiZ2V0UGxvdCI6IlBlIiwiZ2V0Tm9kZSI6InRiIiwiZ2V0TmF0aXZlRXZlbnRBcmdzIjoieWUiLCJhbGxvd05hdGl2ZSI6Im1FYSIsImluUGxvdCI6Ino0Iiwic2V0VG91Y2hlcyI6IktXYSIsImdldFRvdWNoZXMiOiJlbmEiLCJnZXRDU1NQb2ludCI6IlV4YyJ9fX0g");var PR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){OR.call(this,b);this.UY=a;this.Ul=null!=a;this.Qg=null}D(c,OR);c.prototype.ZJd=function(a){this.Qg=a;return this};c.prototype.H8a=function(){return null!=this.Qg?this.Qg:null==this.UY?null:this.UY.H8a()};c.prototype.xVb=function(){return!1===this.Ul};c.prototype.tb=function(){return this.Ul?this.UY.tb():null};c.prototype.Pe=function(){return this.Ul?this.UY.Pe():null};c.prototype.Zd=function(){return this.Ul?this.UY.Zd():null};c.prototype.vh=function(){var a=OR.prototype.vh.call(this);
return null!=a?a:this.Ul?this.UY.vh():null};c.prototype.ye=function(){return this.Ul?this.UY.ye():null};c.prototype.stopPropagation=function(a,b){this.Ul&&this.UY.stopPropagation(a,b);return this};c.prototype.mk=function(){return this.Ul?this.UY.mk():!1};c.prototype.mEa=function(a){return this.Ul?this.UY.mEa(a):!0};c.prototype.z4=function(){return this.Ul?this.UY.z4():!1};c.prototype.KWa=function(a){this.Ul&&this.UY.KWa(a);return this};c.prototype.ena=function(){return this.Ul?this.UY.ena():[]};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRFdmVudFRhcmdldCI6IlpKZCIsImdldEV2ZW50VGFyZ2V0IjoiSDhhIiwiZ2V0Tm9kZSI6InRiIiwiZ2V0UGxvdCI6IlBlIiwiZ2V0UGxvdFBvaW50IjoiWmQiLCJnZXRFdmVudE5hbWUiOiJ2aCIsImdldE5hdGl2ZUV2ZW50QXJncyI6InllIiwiaXNDYW5jZWxlZCI6Im1rIiwiYWxsb3dOYXRpdmUiOiJtRWEiLCJpblBsb3QiOiJ6NCIsInNldFRvdWNoZXMiOiJLV2EiLCJnZXRUb3VjaGVzIjoiZW5hIn19fSAg");var QR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){PR.call(this,a);this.Lh=b}D(c,PR);L(c,"geotoolkit.controls.tools.scroll.ScrollEventArgs");c.prototype.vb=function(){return this.Lh};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRWaXNpYmxlTW9kZWxMaW1pdHMiOiJ2YiJ9fX0g");var RR=/*#__PURE__*/function(){function c(){}function a(e){e=e.getBoundingClientRect();var f=Za.document.body,g=Za.document.documentElement,h=Za.pageYOffset||g.scrollTop||f.scrollTop,k=g.clientTop||f.clientTop||0,l=Za.pageXOffset||g.scrollLeft||f.scrollLeft;f=g.clientLeft||f.clientLeft||0;h=e.top+h-k;e=e.left+l-f;return{top:Math.round(h),left:Math.round(e)}}function b(e){for(var f=0,g=0;e;)f+=parseInt(e.offsetTop),g+=parseInt(e.offsetLeft),e=e.offsetParent;return{top:f,left:g}}var d=new WeakMap;L(c,"geotoolkit.controls.util.Helpers");
c.sp=function(e){return e.getBoundingClientRect?a(e):b(e)};c.Kk=function(e,f,g){if(null==e||null==f)return e;var h=null;h=null!=e.Vv?[e.Vv()]:Array.isArray(e)?e:[e];h.forEach(function(k){if(null!=k){d.has(k)||d.set(k,{});var l=d.get(k),m;for(m in f){var n=f[m];if(null!=n||null!=l[m]){l[m]=l[m]||[{mXa:null,value:k.style[m]}];for(var p=0;p<l[m].length;p++)if(l[m][p].mXa===g){l[m].splice(p,1);break}null!=n?l[m].push({mXa:g,value:n}):(p=l[m].length,n=l[m][p-1].value,2>p&&(l[m]=null));k.style[m]!==n&&
(k.style[m]=n)}}}});return e};return c}();var SR=/*#__PURE__*/va(/*#__PURE__*/function(){function c(n){n=G(n,{modellimits:null!=n&&n.modellimits instanceof U?n.modellimits:new U(0,0,1,1),visiblelimits:null!=n&&n.visiblelimits instanceof U?n.visiblelimits:new U(0,0,1,1),size:a,name:"VerticalScroll",minimumcarretsize:20,rounded:!1,resizable:!1});LR.call(this,n);this.Th=n.isVertical;this.Qg=this.pJ=null;null!=n.target&&(n.modellimits=n.target.pa(),n.visiblelimits=n.target.vb(),this.Tx(n.target));var p=n.size;this.Th?(n.modellimits=n.modellimits.clone().setX(0).Ra(p),n.visiblelimits=
n.visiblelimits.clone().setX(0).Ra(1)):(n.modellimits=n.modellimits.clone().setY(0).Ya(p),n.visiblelimits=n.visiblelimits.clone().setY(0).Ya(1));this.R7=n.minimumcarretsize;this.hPa=n.rounded;this.kb(n.name);var q=null==n.minscrollbutton||!1!==n.minscrollbutton.visible,r=null==n.maxscrollbutton||!1!==n.maxscrollbutton.visible;this.oa([this.rV=(new oi).kb("scrollbar-button-min").Pc("scrollbar-button").va(q).Yc(!1).Ha(h).oa([(new ci).Pc("scrollbar-button-border").ug(!1).ra(b.clone()).qa(d.clone()),
this.qQb=(new dh).Pc("scrollbar-button-icon").ug(!0).ra(g.clone())]),this.F6=(new oi).kb("scrollbar-button-max").Pc("scrollbar-button").va(r).Yc(!1).Ha(h).oa([(new ci).Pc("scrollbar-button-border").ug(!1).ra(b.clone()).qa(d.clone()),this.tHb=(new dh).Pc("scrollbar-button-icon").ug(!0).ra(g.clone())]),this.Dy=(new oi).Ha(n.modellimits).oa([(new ci).ug(!1).ra(b.clone()).qa(d.clone()),this.oPa=(new oi).sa(n.modellimits.clone()).ra("transparent"),this.pPa=(new oi).sa(n.modellimits.clone()).ra("transparent"),
this.dr=(new oi).Ha(n.modellimits).sa(n.visiblelimits).oa([this.ZOb=(new ci).ug(!1).ra(f.clone()).qa(e.clone()).va(!this.hPa),this.Dda=(new ho).ug(!1).ra(f.clone()).qa(e.clone()).va(this.hPa)]),this.Mta=(new oi).va(!1).sa(n.visiblelimits).oa([(new ci).ra({color:"red"})])])]);this.XT=!1;this.Ug=new bk;this.Ed=null;this.ed=new M(0,0);this.Mh=new M(0,0);this.BJ=null;this.Cnb=n.resizable;this.te=k;this.mQd(a).setSize(p)}var a=15,b=(new X("transparent")).Mg({x:!0,y:!0}),d=new rf("#f1f1f1"),e=new rf("#bcbcbc"),
f=(new X("#a8a8a8")).Mg({x:!0,y:!0}),g=new X({color:"#4a4a4a",linejoin:xg.Mha}),h=new U(0,0,a,a),k="Move",l="ResizeBegin",m="ResizeEnd";D(c,LR);L(c,"geotoolkit.controls.tools.scroll.HVBaseScroll");c.prototype.JK=function(n){this.Th?this.Tk(n):this.nl(n);return this};c.prototype.xa=function(n,p){if(!0===this.Pn()||!1===Fe.YM())return this;LR.prototype.xa.call(this,n,p);if(null==this.Dy)return this;p!==Ee.Co&&p!==Ee.WX||this.EVc();return this};c.prototype.mQd=function(n){var p=3;n=n-p-1;var q=(n+p)/
2;this.qQb.clear();this.tHb.clear();this.Th?(this.qQb.moveTo(p,9).lineTo(q,5).lineTo(n,9),this.tHb.moveTo(p,4).lineTo(q,8).lineTo(n,4)):(this.qQb.moveTo(9,p).lineTo(5,q).lineTo(9,n),this.tHb.moveTo(4,p).lineTo(8,q).lineTo(4,n));return this};c.prototype.setSize=function(n){if(null==n||n===this.Ne)return this;this.Ne=n;this.Th?(this.La({width:n}),this.Dy.La({top:n,left:0,right:0,bottom:n}),this.rV.La({top:0,left:0,right:0,height:n}),this.F6.La({height:n,left:0,right:0,bottom:0})):(this.La({height:n}),
this.Dy.La({left:n,top:0,bottom:0,right:n}),this.rV.La({top:0,left:0,bottom:0,width:n}),this.F6.La({width:n,top:0,right:0,bottom:0}));return this};c.prototype.Tx=function(n){hb("geotoolkit.controls.tools.scroll.HVBaseScrol.prototype.setTarget is deprecated since 2020 (3.0)");if(null==n||!(n instanceof Th))return this;null!=this.Qg&&(this.removeListener("onScrollEnd",this.pJ),this.removeListener("onScroll",this.pJ));this.Qg=n;var p=this.Th?this.Qg.lo():this.Qg.mi();this.Ha(this.Qg.pa(),this.Qg.vb(),
this.Qg instanceof oi?p:!1);this.pJ=function(q,r){if(null!=n){q=n.vb();var t=r.vb();this.Th?(q=(q.ka()-t.ka())*n.wa().Ab(),this.Qg.translate(0,q)):(q=(q.la()-t.la())*n.wa().pb(),this.Qg.translate(q,0));this.Ha(this.Qg.pa(),this.Qg.vb(),this.Qg instanceof oi?p:!1);r.stopPropagation(!0,!0)}}.bind(this);this.addListener(KR.nv,this.pJ);this.addListener(KR.rn,this.pJ);return this};c.prototype.scrollTo=function(n,p){var q=this.Dy.pa();this.Th?(n.ka()<q.ka()&&n.setY(q.getY()),n.ma()>q.ma()&&n.setY(q.ma()-
n.da())):(n.la()<q.la()&&n.setX(q.getX()),n.na()>q.na()&&n.setX(q.na()-n.ca()));this.notify(LR.Ja.aoa,this,new QR(p,null));this.notify(LR.Ja.rn,this,new QR(p,n));this.notify(LR.Ja.nv,this,new QR(p,n));this.Ha(q,n)};c.prototype.Ava=function(){return this.Th?new Jd(this.Dy.pa().ka(),this.Dy.pa().ma()):new Jd(this.Dy.pa().la(),this.Dy.pa().na())};c.prototype.gwa=function(){return this.Th?new Jd(this.Mta.ga().ka(),this.Mta.ga().ma()):new Jd(this.Mta.ga().la(),this.Mta.ga().na())};c.prototype.EVc=function(){var n=
Hd.ih(this.dr.ga().ca(),0,this.Dy.wa()),p=Hd.ih(0,this.dr.ga().da(),this.Dy.wa()),q=this.dr.pa().clone().Ra(n).Ya(p);this.dr.Ha(q);this.Th?(this.Dda.tC(n/2),n=Hd.qb(1,0,this.Dda.wa()),this.Dda.sa(this.dr.pa().clone().Ra(this.dr.pa().ca()-n-n).setX(this.dr.pa().getX()+n))):(this.Dda.tC(p/2),n=Hd.qb(0,1,this.Dda.wa()),this.Dda.sa(this.dr.pa().clone().Ya(this.dr.pa().da()-n-n).setY(this.dr.pa().getY()+n)))};c.prototype.Ha=function(n,p,q,r){if(null==p)return this;null!=q&&this.JK(q);this.Th?(n=n.clone().setX(0).Ra(1),
p=p.clone().setX(0).Ra(1)):(n=n.clone().setY(0).Ya(1),p=p.clone().setY(0).Ya(1));if(this.Dy.pa().wi(n)&&this.dr.ga().wi(p))return this;this.Dy.Ha(n);this.Th?(this.oPa.sa(n.clone().Ya(p.ka()-n.ka())),this.pPa.sa(n.clone().setY(p.ma()).Ya(n.ma()-p.ma()))):(this.oPa.sa(n.clone().Ra(p.la()-n.la())),this.pPa.sa(n.clone().setX(p.na()).Ra(n.na()-p.na())));this.dr.sa(p);this.dr.Ha(n);this.dr.va(this.Cnb||(this.Th?!1===V.equals(n.da(),p.da()):!1===V.equals(n.ca(),p.ca())));this.Mta.sa(p);var t=this.evd(this.dr.ga().Hx(O.Ld),
this.dr.ga().Hx(this.Th?O.cg:O.Qf)).transform(this.Dy.wa()),u=t.getLength();if(0<u&&u<this.R7){if(this.Th){var w=Math.abs(p.zc()-n.zc())/(.5*n.da());u=(this.R7-u)/2-(this.R7-u)/2*w;p.zc()<n.zc()?t.Uc(t.nr(),this.R7-u-t.getLength()).Uc(t.np(),u):t.Uc(t.np(),this.R7-u-t.getLength()).Uc(t.nr(),u);t.transform(this.Dy.wa().rc());t=this.dr.ga().clone().setY(t.np().getY()).Ya(t.getLength())}else w=Math.abs(p.cc()-n.cc())/(.5*n.ca()),u=(this.R7-u)/2-(this.R7-u)/2*w,p.cc()<n.cc()?t.Uc(t.nr(),this.R7-u-t.getLength()).Uc(t.np(),
u):t.Uc(t.np(),this.R7-u-t.getLength()).Uc(t.nr(),u),t.transform(this.Dy.wa().rc()),t=this.dr.ga().clone().setX(t.np().getX()).Ra(t.getLength());this.dr.sa(t)}this.EVc();LR.prototype.Ha.call(this,n,p,q,r);return this};c.prototype.Hsc=function(n,p){n=n.Zd();p.Ga(n.x,n.y);return this.Dy.wa().nc(p,p)};c.prototype.jQ=function(n,p){p=n.Zd();n=(n=this.Ec().Gm(n))?this.jM:this.rJ;if(!1===this.YJ().Uc(n,n).contains(p))return null;p=this.Ug.select(this.getRoot(),p.x,p.y,2);return p.filter(function(q){return q===
this.rV||q===this.F6||q===this.dr||q===this.oPa||q===this.pPa||q===this.dr.getParent()}.bind(this)).reverse()[0]};c.prototype.Ac=function(n){var p=this.jQ(n,!0);this.XWa(p);if(this.Ec())if(this.Ec().Hd()&&null!=this.Ed)!1===this.XT&&(this.notify(LR.Ja.aoa,this,new QR(n,null)),this.XT=!0),n.stopPropagation(!0,!1);else{var q=null;if(p===this.dr){q="move";this.te=k;var r=n.Zd(),t=this.dr.YJ();if(this.Cnb){var u=this.Dda.c_();this.Th?Math.abs(r.y-t.ka())<u?(q="ns-resize",this.te=l):Math.abs(r.y-t.ma())<
u&&(q="ns-resize",this.te=m):Math.abs(r.x-t.la())<u?(q="ew-resize",this.te=l):Math.abs(r.x-t.na())<u&&(q="ew-resize",this.te=m)}}RR.Kk(n.Pe(),{cursor:q},this);1!==this.uTa()&&(null==p?(null!=this.Ed&&this.JVa(),this.Ed=null):(RR.Kk(n.Pe(),{cursor:null},this),q=this.Ava(),r=this.gwa(),!1===q.Ula(r)&&(this.Ed=p,this.ZWa(),this.jpa(LR.dfb),n.stopPropagation(!0,!0))))}};c.prototype.foa=function(n){this.Ec()&&(null==this.jQ(n,!0)&&LR.prototype.foa.call(this),this.Oc(n))};c.prototype.Xc=function(n){if(this.Ec()&&
!this.Dy.pa().wi(this.Mta.ga())){var p=this.jQ(n,!0);if(null!=p){p!==this.dr&&this.e9b(n);this.On(!0);n.stopPropagation("touchstart"===n.vh());this.BJ=this.Mta.ga().clone();var q=this.BJ.clone();if(p===this.oPa||p===this.pPa){if(this.Th){var r=q.da()/5;p===this.oPa?q.setY(q.getY()-r):p===this.pPa&&q.setY(q.getY()+r)}else r=q.ca()/5,p===this.oPa?q.setX(q.getX()-r):p===this.pPa&&q.setX(q.getX()+r);this.scrollTo(q,n)}else p===this.rV||p===this.F6?(p===this.rV?this.Th?q.setY(q.getY()-q.da()/10):q.setX(q.getX()-
q.ca()/10):this.Th?q.setY(q.getY()+q.da()/10):q.setX(q.getX()+q.ca()/10),this.scrollTo(q,n)):(this.Ed=p,this.ZWa(),this.Ec().start(),IR.lock(n.Pe(),this.Ec()),this.XT=!1,this.ed=this.Hsc(n,this.ed))}}};c.prototype.T$=function(n){if(this.Ec()&&this.Ec().Hd()&&null!=this.Ed){var p=n.ye();p.stopPropagation(!0,!0);p.preventDefault();var q=this.Dy.pa(),r=this.BJ.clone();this.Mh=this.Hsc(n,this.Mh);if(this.Ed===this.dr){if(this.Th)if(this.te===k)r.setY(r.getY()-(this.ed.getY()-this.Mh.getY())),r.ka()<q.ka()&&
r.setY(q.getY()),r.ma()>q.ma()&&r.setY(q.ma()-r.da());else{if(this.te===l){var t=this.Mh.getY();var u=r.ma()}else t=r.ka(),u=this.Mh.getY();t>u?(n=Math.max(u,q.getY()),q=Math.min(t,q.ma())):(n=Math.max(t,q.getY()),q=Math.min(u,q.ma()));r.setY(n);r.Ya(q-n)}else this.te===k?(r.setX(r.getX()-(this.ed.getX()-this.Mh.getX())),r.la()<q.la()&&r.setX(q.getX()),r.na()>q.na()&&r.setX(q.na()-r.ca())):(this.te===l?(t=this.Mh.getX(),u=r.na()):(t=r.la(),u=this.Mh.getX()),t>u?(n=Math.max(u,q.getX()),q=Math.min(t,
q.na())):(n=Math.max(t,q.getX()),q=Math.min(u,q.na())),r.setX(n),r.Ra(q-n));this.notify(LR.Ja.rn,this,new QR(p,r))}}};c.prototype.Oc=function(n){this.XWa(null);if(this.Ec()){this.Ec().Hd()&&null!=n&&n.stopPropagation(!0,!1);this.XT=!1;this.On(!1);var p=this.Dy.pa(),q=this.BJ.clone();this.Th?(q.ka()<p.ka()&&q.setY(p.getY()),q.ma()>p.ma()&&q.setY(p.ma()-q.da())):(q.la()<p.la()&&q.setX(p.getX()),q.na()>p.na()&&q.setX(p.na()-q.ca()));this.Ec().stop();IR.unlock(this.Ec());this.Mh=this.Ec().Kd(this.Dy,
n);if(null!=this.Ed){if(this.Ed===this.dr){if(this.Th)if(this.te===k)q.setY(q.getY()-(this.ed.getY()-this.Mh.getY())),q.ka()<p.ka()&&q.setY(p.getY()),q.ma()>p.ma()&&q.setY(p.ma()-q.da());else{if(this.te===l){var r=this.Mh.getY();var t=q.ma()}else r=q.ka(),t=this.Mh.getY();if(r>t){var u=Math.max(t,p.getY());p=Math.min(r,p.ma())}else u=Math.max(r,p.getY()),p=Math.min(t,p.ma());q.setY(u);q.Ya(p-u)}else this.te===k?(q.setX(q.getX()-(this.ed.getX()-this.Mh.getX())),q.la()<p.la()&&q.setX(p.getX()),q.na()>
p.na()&&q.setX(p.na()-q.ca())):(this.te===l?(r=this.Mh.getX(),t=q.na()):(r=q.la(),t=this.Mh.getX()),r>t?(u=Math.max(t,p.getX()),p=Math.min(r,p.na())):(u=Math.max(r,p.getX()),p=Math.min(t,p.na())),q.setX(u),q.Ra(p-u));this.notify(LR.Ja.nv,this,new QR(n,q))}this.Ed=null}this.BJ=null}};c.prototype.zp=function(n){var p=this.jQ(n,!0);if(null!=p){p=n.ye();p.preventDefault();n.stopPropagation();var q=this.Mta.ga().clone();0<p.deltaY?this.Th?q.setY(q.getY()+q.da()/10):q.setX(q.getX()+q.ca()/10):this.Th?q.setY(q.getY()-
q.da()/10):q.setX(q.getX()-q.ca()/10);this.scrollTo(q,n)}};c.prototype.ta=function(){var n={};n.size=this.Ne;n.minimumcarretsize=this.R7;n.rounded=this.hPa;null!=this.Ec()&&(n.name=this.Ec().Da());n.borderlinestyle=this.rV.eb(0).Ea();n.linestyle=this.Dy.eb(0).Ea();n.fillstyle=this.Dy.eb(0).fb();n.caretfillstyle=this.dr.eb(0).fb();n.caretlinestyle=this.dr.eb(0).Ea();n.arrowlinestyle=this.rV.eb(1).Ea();n.resizable=this.Cnb;return n};c.prototype.setOptions=function(n){n=hc(n);if(null==n)return this;
void 0!==n.size&&this.setSize(n.size);if(void 0!==n.minscrollbutton){var p=n.minscrollbutton;void 0!==p.visible&&this.rV.va(p.visible);this.Dy.La(this.Th?{top:this.rV.Ia()?this.Ne:0}:{left:this.rV.Ia()?this.Ne:0})}void 0!==n.maxscrollbutton&&(p=n.maxscrollbutton,void 0!==p.visible&&this.F6.va(p.visible),this.Dy.La(this.Th?{bottom:this.F6.Ia()?this.Ne:0}:{right:this.F6.Ia()?this.Ne:0}));void 0!==n.minimumcarretsize&&(this.R7=n.minimumcarretsize);void 0!==n.rounded&&(this.hPa=n.rounded,this.ZOb.va(!1===
this.hPa),this.Dda.va(!0===this.hPa));n.hasOwnProperty("name")&&null!=this.tq&&this.Ec().kb(n.name);void 0!==n.borderlinestyle&&(p=X.Pa(n.borderlinestyle),this.rV.eb(0).ra(p),this.F6.eb(0).ra(p));void 0!==n.fillstyle&&(p=tg.ad(n.fillstyle),this.Dy.eb(0).qa(p),this.rV.eb(0).qa(p),this.F6.eb(0).qa(p));void 0!==n.linestyle&&(p=X.Pa(n.linestyle),this.Dy.eb(0).ra(p),this.rV.eb(0).ra(p),this.F6.eb(0).ra(p));void 0!==n.caretfillstyle&&(p=tg.ad(n.caretfillstyle),this.ZOb.qa(p),this.Dda.qa(p));void 0!==n.caretlinestyle&&
(p=X.Pa(n.caretlinestyle),this.ZOb.ra(p),this.Dda.ra(p));void 0!==n.arrowlinestyle&&(p=X.Pa(n.arrowlinestyle),this.rV.eb(1).ra(p),this.F6.eb(1).ra(p));void 0!==n.resizable&&(this.Cnb=n.resizable);this.qf();this.ha();return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRGbGlwIjoiSksiLCJ1cGRhdGVTdGF0ZSI6InhhIiwic2V0VGFyZ2V0IjoiVHgiLCJnZXRNb2RlbFJhbmdlIjoiQXZhIiwiZ2V0VmlzaWJsZU1vZGVsUmFuZ2UiOiJnd2EiLCJzZXRNb2RlbExpbWl0cyI6IkhhIiwib25Nb3VzZU1vdmUiOiJBYyIsIm9uV2luZG93TW91c2VVcCI6ImZvYSIsIm9uTW91c2VEb3duIjoiWGMiLCJvbldpbmRvd01vdXNlTW92ZSI6IlQkIiwib25Nb3VzZVVwIjoiT2MiLCJvbk1vdXNlV2hlZWwiOiJ6cCIsImdldE9wdGlvbnMiOiJ0YSJ9fX0g");var TR=/*#__PURE__*/KR,UR=/*#__PURE__*/function(){function c(a){a=G(a,{name:"HorizontalScroll",isVertical:!1});SR.call(this,a)}D(c,SR);L(c,"geotoolkit.controls.tools.scroll.HorizontalScroll");c.Ja=TR;return c}();var WR=/*#__PURE__*/KR,YR=/*#__PURE__*/function(){function c(a){a=G(a,{name:"VerticalScroll",isVertical:!0});SR.call(this,a)}D(c,SR);L(c,"geotoolkit.controls.tools.scroll.VerticalScroll");c.Ja=WR;return c}();var $R=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}var a=null,b={};L(c,"geotoolkit.controls.tools.scroll.ScrollBarConverter");c.ya=function(){return a=a||new c};c.prototype.j4b=function(d,e){b[e]=d};c.prototype.HEa=function(d,e){var f=b[e];return null==f?{options:d,type:e}:f(d)};return c}(),1,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsicmVnaXN0ZXJDb252ZXJ0ZXIiOiJqNGIiLCJjb252ZXJ0U2Nyb2xsQmFyT3B0aW9ucyI6IkhFYSJ9fX0g");var aS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){b=G(b||a,{anchorpoint:a instanceof M?a:null,linestyle:(new X("gray")).Mg({x:!0,y:!0}),fillstyle:new rf("white"),centerlinestyle:(new X("gray")).Mg({x:!0,y:!0}),shadowlinestyle:(new X("lightgray")).Mg({x:!0,y:!0})},!0);oi.call(this,b);this.nu=b.anchorpoint;a=8;var d=14;this.ymc=new U(0,0,a,d);this.Kkc=new U(0,0,a,d);this.pia=(new dh).moveTo(2,0).lineTo(a-2,0).lineTo(a,2).lineTo(a,d-2).lineTo(a-2,d).lineTo(2,d).lineTo(0,d-2).lineTo(0,2).lineTo(2,0).close().ug(!1);this.lRb=
(new dh).moveTo(3,3).lineTo(3,d-3).moveTo(5,3).lineTo(5,d-3);this.iPb=(new dh).moveTo(2,d-1).lineTo(a-2,d-1).moveTo(a-1,d-2).lineTo(a-1,2);this.oa([this.pia,this.lRb,this.iPb]);this.fa(b)}D(c,oi);c.prototype.Db=function(a,b){this.nu.Ga(a,b);this.xa();return this};c.prototype.Fk=function(){return this.nu};c.prototype.ga=function(){if(null==this.getParent())return null;var a=this.getParent().wa();a.nc(this.ymc,this.Kkc);return this.Kkc.LG(this.nu.getX(),this.nu.getY())};c.prototype.pa=function(){return this.ymc};
c.prototype.fa=function(a){a=hc(a);if(null==a)return this;oi.prototype.fa.call(this,a);void 0!==a.anchorpoint&&this.Db(a.anchorpoint.getX(),a.anchorpoint.getY());void 0!==a.linestyle&&this.pia.ra(a.linestyle,!(a.linestyle instanceof X));void 0!==a.fillstyle&&this.pia.qa(a.fillstyle,!(a.fillstyle instanceof rf));void 0!==a.centerlinestyle&&this.lRb.ra(a.centerlinestyle,!(a.centerlinestyle instanceof X));void 0!==a.shadowlinestyle&&this.iPb.ra(a.shadowlinestyle,!(a.shadowlinestyle instanceof X));return this};
c.prototype.ia=function(){var a=oi.prototype.ia.call(this);a.anchorpoint=this.Fk();a.linestyle=this.pia.Ea();a.fillstyle=this.pia.fb();a.centerlinestyle=this.lRb.Ea();a.shadowlinestyle=this.iPb.Ea();return a};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var bS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d,e,f){var g=G(a,{name:null!=f?f:"AdvancedScroll",modellimits:a instanceof U?a:null,visiblelimits:b,tickgenerator:d,axis:e},!0);LR.call(this,g);a=g.modellimits;b=g.visiblelimits;e=g.axis;var h=a;d=h.clone().setY(0).setX(15).Ra(h.ca()-30).Ya(h.da()-15);f=h.clone().setX(0).setY(h.da()-15).Ya(15);h=f.clone().setY(0).setX(15).Ra(h.ca()-30);null==e&&(e=(new rk(null!=g.tickgenerator?g.tickgenerator:new kk)).setOrientation("horizontal").Zl("bottom").pT(null));this.od=e;e=
{axislinestyle:(new X("#6b6b6b")).Mg({x:!0,y:!0}),borderlinestyle:(new X("transparent")).Mg({x:!0,y:!0}),buttonborderlinestyle:(new X("transparent")).Mg({x:!0,y:!0}),buttonbackgroundfillstyle:new ng({startColor:"#fafafa",endColor:"#cdcdcd",startPoint:new M(0,0),endPoint:new M(0,1)}),topbackgroundfillstyle:new rf("#f1f1ff"),backgroundfillstyle:new ng({startColor:"#cdcdcd",endColor:"#f1f1f1",startPoint:new M(0,0),endPoint:new M(0,1)}),toplinelinestyle:(new X("#e1e1ff")).Mg({x:!0,y:!0}),caretfillstyle:new ng({startColor:"#cdcdcd",
endColor:"#a0a0a0",startPoint:new M(0,0),endPoint:new M(0,1)}),caretlinestyle:(new X("#a8a8a8")).Mg({x:!0,y:!0}),arrowlinestyle:(new X({color:"#4a4a4a",linejoin:xg.Mha})).Mg({x:!0,y:!0}),handle:{linestyle:(new X("gray")).Mg({x:!0,y:!0}),fillstyle:new rf("white"),centerlinestyle:(new X("gray")).Mg({x:!0,y:!0}),shadowlinestyle:(new X("lightgray")).Mg({x:!0,y:!0})}};g=15;var k=4/15*g,l=g-k-1/15*g,m=l-k+1/15*g;this.oa([this.cH=(new oi).sa(d).Ha(a).oa([(new ci).ra(e.axislinestyle).ug(!1).W_({top:!1,left:!0,
right:!0,bottom:!1}),this.Ujc=(new oi).sa(a.clone().Ra(b.la()-a.la())).Ha(new U(0,0,1,1)).oa((new ci).ra(e.toplinelinestyle).qa(e.topbackgroundfillstyle)),this.lnc=(new oi).sa(a.clone().Ra(a.na()-b.na()).setX(b.na())).Ha(new U(0,0,1,1)).oa((new ci).ra(e.toplinelinestyle).qa(e.topbackgroundfillstyle)),this.Q4c=(new Am).Dd("AXIS_MODEL"),this.od,this.WBa=(new oi).sa(b).Ha(b).oa((new ci).ra(e.borderlinestyle).ug(!1)),this.tH=(new aS(new M(b.la(),a.zc()))).va(!1),this.yJ=(new aS(new M(b.na(),a.zc()))).va(!1)]),
this.I9c=(new oi).sa(f).Yc(!0).oa([this.Bja=(new oi).sa(new U(0,0,15,f.da())).Ha(new U(0,0,15,f.da())).oa([(new ci).ra(e.buttonborderlinestyle).qa(e.buttonbackgroundfillstyle).ug(!1),(new dh).moveTo(8/15*g,k).lineTo(1/3*g,m).lineTo(8/15*g,l).ug(!1).ra(e.arrowlinestyle)]),this.Cy=(new oi).sa(h).Ha(a).oa([(new ci).ra(e.borderlinestyle).qa(e.backgroundfillstyle).W_({top:!0,left:!1,right:!1,bottom:!0}).ug(!1),this.dr=(new oi).sa(b).Ha(b).oa((new ci).ra(e.caretlinestyle).qa(e.caretfillstyle).ug(!1))]),
this.Vsa=(new oi).sa(new U(f.na()-15,0,f.na(),f.da())).Ha(new U(0,0,15,f.da())).oa([(new ci).ra(e.buttonborderlinestyle).qa(e.buttonbackgroundfillstyle).ug(!1),(new dh).moveTo(1/3*g,k).lineTo(8/15*g,m).lineTo(1/3*g,l).ug(!1).ra(e.arrowlinestyle)])])]);this.XT=!1;this.Ug=new bk;this.Ed=null;this.ed=new M(0,0);this.Mh=new M(0,0);this.BJ=null}D(c,LR);L(c,"geotoolkit.controls.tools.scroll.AdvancedScroll");c.prototype.setOptions=function(a){function b(g){return g instanceof rf}function d(g){return g instanceof
X}if(null==a)return this;var e=a.axislinestyle;this.cH.eb(0).ra(e,!d(e));e=a.toplinelinestyle;var f=a.topbackgroundfillstyle;this.Ujc.eb(0).ra(e,!d(e)).qa(f,!b(f));this.lnc.eb(0).ra(e,!d(e)).qa(f,!b(f));e=a.borderlinestyle;f=a.backgroundfillstyle;this.WBa.eb(0).ra(e,!d(e));this.Cy.eb(0).ra(e,!d(e)).qa(f,!b(f));e=a.buttonborderlinestyle;f=a.buttonbackgroundfillstyle;this.Bja.eb(0).ra(e,!d(e)).qa(f,!b(f));this.Vsa.eb(0).ra(e,!d(e)).qa(f,!b(f));e=a.arrowlinestyle;this.Bja.eb(1).ra(e,!d(e));this.Vsa.eb(1).ra(e,
!d(e));this.Bja.eb(1).xa();this.Vsa.eb(1).xa();e=a.caretlinestyle;f=a.caretfillstyle;this.dr.eb(0).ra(e,!d(e)).qa(f,!b(f));this.tH.fa(a.handle);this.yJ.fa(a.handle);this.ha();return this};c.prototype.JK=function(a){this.nl(a);return this};c.prototype.Tqe=function(){return this.Q4c};c.prototype.MEc=function(){return this.WBa};c.prototype.mb=function(){this.pX(!1);var a=this.pa();if(null==this.cH||!a)return this;var b=a.clone().setY(0).setX(15).Ra(a.ca()-30).Ya(a.da()-15),d=a.clone().setX(0).setY(a.da()-
15).Ya(15);a=d.clone().setY(0).setX(15).Ra(a.ca()-30);this.cH.sa(b);this.I9c.sa(d);this.Cy.sa(a);this.Vsa.sa(new U(d.na()-15,0,d.na(),d.da()));this.Bja.sa(new U(0,0,15,d.da()));return this};c.prototype.gQd=function(a,b){this.cH.Ha(a);this.WBa.sa(b).Ha(b);this.Ujc.sa(a.clone().Ra(b.la()-a.la()));this.lnc.sa(a.clone().Ra(a.na()-b.na()).setX(b.na()));this.tH.Db(b.la(),a.zc());this.yJ.Db(b.na(),a.zc())};c.prototype.Ha=function(a,b){this.gQd(a,b);a=a.clone().setY(0).Ya(1);b=b.clone().setY(0).Ya(1);this.Cy.Ha(a);
this.dr.sa(b).Ha(b)};c.prototype.pg=function(a){this.od.pg(a)};c.prototype.jQ=function(a,b){a=a.Zd();var d=null;if(!this.Ki().contains(a.getX(),a.getY()))return null;a=this.Ug.select(this.getRoot(),a.getX(),a.getY(),2);a.filter(function(e){return e===this.tH||e===this.yJ||e===this.Bja||e===this.Vsa||e===this.dr||!b&&e===this}.bind(this)).forEach(function(e){if(null==d||d===this){if(e===this.tH||e===this.yJ||e===this.Bja||e===this.Vsa||e===this.dr)d=e;b||null!=d||e!==this||(d=e)}}.bind(this));return d};
c.prototype.fNc=function(a,b,d){var e=this.cH.pa(),f=this.WBa.ga().clone();a?f.setX(f.getX()-b):f.setX(f.getX()+b);f.la()<e.la()&&f.setX(e.getX());f.na()>e.na()&&f.setX(e.na()-f.ca());this.notify(LR.Ja.aoa,this,d);this.notify(LR.Ja.nv,this,new QR(d,f))};c.prototype.Xc=function(a){if(this.Ec()){var b=this.jQ(a,!0);this.BJ=this.WBa.ga().clone();var d=this.BJ.clone(),e=d.ca()/10*(this.mi()?-1:1),f=!1,g=!1;if(null==b){var h=a.Zd();if(this.Cy.Ki().contains(h.getX(),h.getY()))e=d.ca(),h.getX()<this.WBa.Ki().cc()?
f=!0:g=!0;else return}this.On(!0);b===this.Bja||f||b===this.Vsa||g?(this.e9b(a),this.fNc(b===this.Bja||f,e,a)):(this.Ed=b,a.stopPropagation("touchstart"===a.vh()),this.Ec().start(),this.XT=!1,this.ed=this.Ec().Kd(this.cH,a))}};c.prototype.zp=function(a){var b=this.jQ(a,!0),d=a.Zd();if(null!=b||!1!==this.Cy.Ki().contains(d))b=a.ye(),b.preventDefault(),a.stopPropagation(),d=this.WBa.ga().clone(),d=d.ca()/10*(this.mi()?-1:1),this.fNc(0>b.deltaY,d,a)};c.prototype.YEc=function(a,b){if(!(this.Mh.x<a.la()||
this.Mh.x>a.na())){a=this.Ed!==this.tH?this.tH.Fk().getX():this.Mh.x;var d=this.Ed!==this.yJ?this.yJ.Fk().getX():this.Mh.x;if(a>d){var e=a;a=d;d=e;this.Ed=this.Ed===this.tH?this.yJ:this.tH}b.setX(a);b.Ra(d-a)}};c.prototype.T$=function(a){if(this.Ec()&&this.Ec().Hd()&&null!=this.Ed){var b=a.ye();b.stopPropagation();b.preventDefault();var d=this.cH.pa(),e=this.BJ.clone();this.Mh=this.Ec().Kd(this.cH,a);this.Ed===this.dr?(e.setX(e.getX()-(this.ed.getX()-this.Mh.getX())),e.la()<d.la()&&e.setX(d.getX()),
e.na()>d.na()&&e.setX(d.na()-e.ca()),this.notify(LR.Ja.rn,this,new QR(b,e))):(this.YEc(d,e),this.notify(LR.Ja.mxb,this,new QR(b,e)))}};c.prototype.foa=function(a){LR.prototype.foa.call(this,a);this.Oc(a)};c.prototype.Ac=function(a){var b=this.jQ(a,!1);this.XWa(b);if(this.Ec())if(this.Ec().Hd()&&null!=this.Ed)!1===this.XT&&(this.notify(LR.Ja.aoa,this,a),this.XT=!0);else{var d=b===this||b===this.tH||b===this.yJ;this.yJ.va(d).ha();this.tH.va(d).ha();d=null;null==b||b===this||b!==this.tH&&b!==this.yJ?
b===this.Bja||b===this.Vsa?d="pointer":b===this.dr&&(d="move"):d="ew-resize";RR.Kk(a.Pe(),{cursor:d},this)}};c.prototype.Oc=function(a){this.XWa(null);if(this.Ec()){this.Ec().Hd()&&null!=a&&a.stopPropagation(!0,!1);this.XT=!1;this.On(!1);var b=this.cH.pa(),d=this.BJ.clone();if(!(d.la()<b.la()||d.na()>b.na())){this.Ec().stop();this.Mh=this.Ec().Kd(this.cH,a);if(null!=this.Ed){if(this.Ed===this.tH||this.Ed===this.yJ)this.YEc(b,d),this.notify(LR.Ja.nxb,this,new QR(a,d)),this.yJ.va(!1).ha(),this.tH.va(!1).ha();
this.Ed===this.dr&&(d.setX(d.getX()-(this.ed.getX()-this.Mh.getX())),d.la()<b.la()&&d.setX(b.getX()),d.na()>b.na()&&d.setX(b.na()-d.ca()),this.notify(LR.Ja.nv,this,new QR(a,d)));this.Ed=null}this.BJ=null}}};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRGbGlwIjoiSksiLCJ1cGRhdGVMYXlvdXQiOiJtYiIsInNldE1vZGVsTGltaXRzIjoiSGEiLCJvbk1vdXNlRG93biI6IlhjIiwib25Nb3VzZVdoZWVsIjoienAiLCJvbldpbmRvd01vdXNlTW92ZSI6IlQkIiwib25Nb3VzZU1vdmUiOiJBYyIsIm9uTW91c2VVcCI6Ik9jIn19fSAg");var cS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){this.jm={};this.wVa(UR.Oa(),function(b){return new UR(b)});this.wVa(YR.Oa(),function(b){return new YR(b)});this.wVa("geotoolkit.controls.tools.scroll.CompactHorizontalScroll",function(b){b=$R.ya().HEa(b,"geotoolkit.controls.tools.scroll.CompactHorizontalScroll").options;return new UR(b)});this.wVa("geotoolkit.controls.tools.scroll.CompactVerticalScroll",function(b){b=$R.ya().HEa(b,"geotoolkit.controls.tools.scroll.CompactVerticalScroll").options;return new YR(b)});this.wVa(bS.Oa(),
function(b){return new bS(b.modellimits,b.visiblelimits,b.tickgenerator,b.axis,b.name)})}L(c,"geotoolkit.controls.tools.scroll.ScrollFactory");$R.ya().j4b(function(b){b=G(b,{resizable:!0,rounded:!0,size:10});return{options:b,type:UR.Oa()}},"geotoolkit.controls.tools.scroll.CompactHorizontalScroll");$R.ya().j4b(function(b){b=G(b,{resizable:!0,rounded:!0,size:10});return{options:b,type:YR.Oa()}},"geotoolkit.controls.tools.scroll.CompactVerticalScroll");var a=null;c.ya=function(){null==a&&(a=new c);
return a};c.prototype.wVa=function(b,d){if(null==b||null==d||"function"!=typeof d)return this;this.jm[b]=d;return this};c.prototype.NM=function(b,d){var e=null;null!=this.jm[b]&&"function"===typeof this.jm[b]&&(e=this.jm[b].call(this,d));return e};return c}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsicmVnaXN0ZXJTY3JvbGxiYXIiOiJ3VmEiLCJnZXRTY3JvbGxiYXIiOiJOTSJ9fX0g");var dS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){oi.call(this,a);this.content=(new oi).Te(!0).Ha(Vi.vp()).Wd(new Al);a=xb(a,{scroll:{vertical:{type:"geotoolkit.controls.tools.scroll.VerticalScroll",size:15,visible:!0,floating:!0,options:{rounded:!1}},horizontal:{type:"geotoolkit.controls.tools.scroll.HorizontalScroll",size:15,visible:!0,floating:!0,options:{rounded:!1}}}});this.Nv=a.scroll;this.rCb=cS.ya().NM(this.Nv.vertical.type,{modellimits:this.content.pa(),visiblelimits:this.content.pa(),size:this.Nv.vertical.size}).sN(this.Nv.vertical.floating).va(this.Nv.vertical.visible).setOptions(this.Nv.vertical.options).addListener(KR.rn,
function(b,d){b=this.content.vb();d=d.vb();d=(b.ka()-d.ka())*this.content.wa().Ab();this.content.translate(0,d);d=this.content.pa();b=this.content.vb();this.rCb.Ha(d,b,!1)}.bind(this));this.Uvb=cS.ya().NM(this.Nv.horizontal.type,{modellimits:this.content.pa(),visiblelimits:this.content.pa(),size:this.Nv.horizontal.size}).sN(this.Nv.horizontal.floating).va(this.Nv.horizontal.visible).setOptions(this.Nv.horizontal.options).addListener(KR.rn,function(b,d){b=this.content.vb();d=d.vb();d=(b.la()-d.la())*
this.content.wa().pb();this.content.translate(d,0);d=this.content.pa();b=this.content.vb();this.Uvb.Ha(d,b,!1)}.bind(this));this.Te(!0).Yc(!0).Wd(new jl).ra("black").La({left:0,top:0,right:0,bottom:0});this.oa([this.content,this.rCb,this.Uvb]);this.Z7=function(){this.Bh()}.bind(this);if(a=a.content)a instanceof ue&&(a=[a]),a.forEach(function(b){b.on(Vh.mba,this.Z7)}.bind(this)),this.bo().oa(a)}D(c,oi);L(c,"geotoolkit.controls.shapes.ScrollablePanel");c.prototype.dispose=function(){this.ge()||(this.content.vf().forEach(function(a){a.za(Vh.mba,
this.Z7)}.bind(this)),oi.prototype.dispose.call(this))};c.prototype.bo=function(){return this.content};c.prototype.Bh=function(){if(this.content){if(this.XB()){this.content.oe(!0);this.content.wb(!1);this.content.ue().oc(new U(0,0,Number.MAX_VALUE,Number.MAX_VALUE),this.content.vf());var a=null;this.content.vf().forEach(function(d){if(d instanceof lg){var e=d.lb();d=e?e.transform(d.ga()):d.ga();null==a?a=d:d&&a.union(d)}});this.content.Ha(new U(0,0,a.ca(),a.da()));this.content.sa(new U(0,0,a.ca(),
a.da()));this.content.wb(!0);this.content.oe(!1)}var b=this.Yd().nc(new Vd(this.Nv.vertical.size,this.Nv.horizontal.size));this.rCb.setSize(b.ca()).La({width:b.ca(),top:0,right:0,bottom:b.da()}).Ha(this.content.pa(),this.content.vb(),!1);this.Uvb.setSize(b.da()).La({height:b.da(),left:0,right:b.ca(),bottom:0}).Ha(this.content.pa(),this.content.vb(),!1);this.mb()}return this};c.prototype.sa=function(a){oi.prototype.sa.call(this,a);this.content.Gi()};c.prototype.oma=function(){return this.content.ga()};
c.prototype.Ywc=function(){if(this.content.ga()){var a=this.ga().clone().Ra(this.content.ga().ca()).Ya(this.content.ga().da());this.sa(a)}return this};c.prototype.w_=function(){return[this.rCb.Ec(),this.Uvb.Ec()]};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb250ZW50IjoiYm8iLCJ1cGRhdGVMaW1pdHMiOiJCaCIsInNldEJvdW5kcyI6InNhIiwiZml0Q29udGVudCI6Ill3YyIsImdldFRvb2xzIjoid18ifX19");var eS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=xb(a,{content:a instanceof Sm?a:null},!0);oi.call(this,a);this.Yc(!0);this.TC=(new oi).Yc(!0);this.oa(this.TC);this.Kga(a.content)}D(c,oi);L(c,"geotoolkit.controls.shapes.tableview.ContentView");c.prototype.Kga=function(a){if(a===this.wj)return this;var b=this.TC.Ik(this.wj);this.TC.removeChild(this.wj);this.wj=a;-1===b?this.TC.oa(this.wj):this.TC.Mf(b,this.wj);return this};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;oi.prototype.fa.call(this,a);void 0!==
a.content&&this.Kga(a.content);return this};c.prototype.ia=function(){var a=oi.prototype.ia.call(this);a.content=this.wj;return a};c.prototype.vv=function(a,b,d,e){this.wj.vv(a,b,d,e);this.TC.Ha(this.wj.ga());this.TC.sa(this.wj.ga())};c.prototype.Hn=function(){return this.TC};c.prototype.bo=function(){return this.wj};c.prototype.sa=function(a){oi.prototype.sa.call(this,a);this.Ha(new U(0,0,a.ca(),a.da()));return this};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRDb250ZW50IjoiS2dhIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0VGFibGVCb3VuZHMiOiJ2diIsImdldENvbnRlbnRWaWV3IjoiSG4iLCJnZXRDb250ZW50IjoiYm8iLCJzZXRCb3VuZHMiOiJzYSJ9fX0g");var fS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(u,w){u=xb(u,{rows:"number"===typeof u?u:null,tableview:w},!0);Sm.call(this,u);a.call(this,u);this.fg=null;this.Mj=new X({color:e,pixelsnapmode:{x:!0,y:!0}});this.Gc=new Ki({color:f,alignment:Fi.$b,baseline:Di.Nk,font:m});this.OBa=new X({color:g,pixelsnapmode:{x:!0,y:!0}});this.NNa=new rf(h);this.zO=new rf(l);this.hO=new rf(k);this.nqa=new rf(b);this.Tra=new rf(d)}function a(u){void 0!==u.rows&&(this.Tf=u.rows);void 0!==u.tableview&&(this.Va=u.tableview);this.Mc=this.Va.ftb();
this.$c=this.Mc.xG;this.kd=this.Mc.mf.da()*this.Tf;this.cb(0,0,this.$c,this.kd);return this}var b="rgba(0,0,255,0.2)",d="rgba(255,0,0,0.2)",e="white",f="#6b6b6b",g="white",h="red",k="#d4d4d4",l="#ededed",m="bold 12px Courier",n=10,p=new U,q=new U,r=new U,t={selection:{},background:{fillstyle:null,linestyle:null,bounds:null},text:{textstyle:null,fillstyle:null,linestyle:null,value:null,bounds:null},icon:{fillstyle:null,linestyle:null,value:null,bounds:null}};D(c,Sm);L(c,"geotoolkit.controls.shapes.tableview.FixedColumnContent");
c.prototype.fa=function(u){u=hc(u);if(null==u)return this;Sm.prototype.fa.call(this,u);return a.call(this,u)};c.prototype.ia=function(){var u=Sm.prototype.ia.call(this);u.rows=this.Tf;u.tableview=this.Va;return u};c.prototype.setData=function(u){if(null==u)return this;void 0!==u.highlightrowfillstyle&&(this.Tra=tg.ad(u.highlightrowfillstyle));void 0!==u.activerowfillstyle&&(this.nqa=tg.ad(u.activerowfillstyle));void 0!==u.defaultcellsize&&(this.Mc.mf=u.defaultcellsize);if(!u.hasOwnProperty("index"))return this;
var w=u.index;void 0!==w.gridstyle&&(w.gridstyle.hasOwnProperty("horizontal")||w.gridstyle.hasOwnProperty("vertical")?(this.Mj=w.gridstyle,this.Mj.horizontal=X.Pa(this.Mj.horizontal),this.Mj.vertical=X.Pa(this.Mj.vertical)):this.Mj=X.Pa(w.gridstyle));void 0!==w.textstyle&&(this.Gc=Ki.Pa(w.textstyle));void 0!==w.oddfillstyle&&(this.zO=tg.ad(w.oddfillstyle));void 0!==w.evenfillstyle&&(this.hO=tg.ad(w.evenfillstyle));void 0!==w.markerfillstyle&&(this.NNa=tg.ad(w.markerfillstyle));void 0!==w.markerlinestyle&&
(this.OBa=X.Pa(w.markerlinestyle));void 0!==w.highlightrowfillstyle&&(this.Tra=tg.ad(u.highlightrowfillstyle));void 0!==w.activerowfillstyle&&(this.nqa=tg.ad(u.activerowfillstyle));return this};c.prototype.vv=function(u,w,y,A){this.Tf=u;this.fg=A;this.uh=null!=this.fg?[]:null;if(null!=this.fg)for(this.kd=this.fg[0],this.uh[0]=0,u=1;u<this.fg.length;u++)this.kd+=this.fg[u],this.uh[u]=this.uh[u-1]+this.fg[u-1];else this.kd=this.Mc.mf.da()*u;this.cb(0,0,this.$c,this.kd);return this};c.prototype.jvb=
function(){return this.Va};c.prototype.render=function(u){u=null!=this.Qa()?u.Zb(this.Qa()):u;var w=this.ga().clone().Ra(this.Mc.xG);if(u.ac())return u.qa(rf.kh),u.sc(w),this;this.$i(u);return this};c.prototype.Z9=function(u,w){return 0<=u?u=null!=this.uh?this.uh[u]:u*this.Mc.mf.da():null!=w?w.ka():0};c.prototype.r_=function(u,w){return 0<=u?(w=null!=this.uh?this.uh[u]:u*this.Mc.mf.da(),w=null!=this.fg?w+this.fg[u]:w+this.Mc.mf.da()):null!=w?w.ma():0};c.prototype.vvb=function(u,w,y){if(null==this.uh)return Math.floor(u.ka()/
this.Mc.mf.da());w=null==w?0:w;for(y=null==y?this.Tf-1:y;w<=y;){var A=Math.floor((w+y)/2),x=null!=this.fg?this.fg[A]:this.Mc.mf.da();if(this.uh[A]<=u.ka()&&u.ka()<=this.uh[A]+x)return A;u.ka()<this.uh[A]?y=A-1:w=A+1}return-1};c.prototype.Hsb=function(u,w,y){if(null==this.uh)return Math.floor(Math.min(this.Tf-1,u.ma()/this.Mc.mf.da()));for(y=null==y?this.Tf-1:y;w<=y;){var A=Math.floor((w+y)/2),x=null!=this.fg?this.fg[A]:this.Mc.mf.da(),C=null!=this.fg?this.fg[this.fg.length-1]:this.Mc.mf.da();C=Math.min(u.ma(),
this.uh[this.uh.length-1]+C);if(this.uh[A]<=C&&C<=this.uh[A]+x)return A;C<this.uh[A]?y=A-1:w=A+1}return-1};c.prototype.Coa=function(u,w,y,A,x){if(null!=A){u.qa(A);u.beginPath();for(var C=w=0===w%2&&!0===x||0!==w%2&&!1===x?w:w+1;C<=y;C+=2){w=0;x=this.Z9(C);A=this.Mc.xG;var z=this.r_(C);u.moveTo(w,x).lineTo(A,x).lineTo(A,z).lineTo(w,z).lineTo(w,x)}u.closePath().xi()}return this};c.prototype.KS=function(u,w,y,A,x){u>=w&&u<=y&&(x.qa(A),x.beginPath(),w=0,y=this.Mc.xG,A=this.Z9(u),u=this.r_(u),x.moveTo(w,
A),x.lineTo(y,A),x.lineTo(y,u),x.lineTo(w,u),x.closePath(),x.xi());return this};c.prototype.fMc=function(u,w,y){for(var A=null!=this.Va.Xod()?this.TLc:this.hMc;u<=w;u++)this.SHa(y,u,A);return this};c.prototype.gMc=function(u,w,y){if(null==this.Mj)return this;if(this.Mj.horizontal instanceof X||this.Mj instanceof X){var A=this.Mj.horizontal instanceof X?this.Mj.horizontal:this.Mj;y.beginPath();y.ra(A);A=0;var x=this.Mc.xG;for(var C=u;C<=w;C++)u=this.r_(C),y.moveTo(A,u),y.lineTo(x,u);y.stroke()}return this};
c.prototype.iMc=function(u,w,y){if(null==this.Mj)return this;if(this.Mj.vertical instanceof X||this.Mj instanceof X){var A=this.Mj.vertical instanceof X?this.Mj.vertical:this.Mj;var x=0;var C=this.Mc.xG;u=this.Z9(u);w=this.r_(w);y.beginPath().ra(A).moveTo(x,u).lineTo(x,w).moveTo(C,u).lineTo(C,w).stroke()}return this};c.prototype.$i=function(u){var w=u.Fa().nc(u.jg());w.cb({x:Math.max(0,w.getX()),y:Math.max(0,w.getY()),width:Math.max(0,w.ca()),height:Math.max(0,w.da())});var y=this.vvb(w),A=this.Hsb(w,
y);this.Coa(u,y,A,this.zO,!1);this.Coa(u,y,A,this.hO,!0);null!=this.Tra&&0<=this.Va.WV()&&this.KS(this.Va.WV(),y,A,this.Tra,u);null!=this.nqa&&0<this.Va.CM().length&&this.Va.CM().forEach(function(x){this.KS(x,y,A,this.nqa,u)}.bind(this));this.Va.x3b(y,A);this.fMc(y,A,u);u.ra(this.OBa);u.qa(this.NNa);for(w=y;w<A;w++)this.nMc(u,w);this.gMc(y,A,u);this.iMc(y,A,u);return this};c.prototype.SHa=function(u,w,y){var A=0,x=this.Mc.xG,C=null==this.uh?w*this.Mc.mf.da():this.uh[w],z=null==this.fg?this.Mc.mf.da():
this.fg[w];u.save();A=u.Fa().Ta(new U(A,C,A+x,C+z));u.fh(A,Cd.EC);y.call(this,u,w);u.restore();return this};c.prototype.hMc=function(u,w){var y=this.Va.bYb(w);if(null==y)return this;var A=this.Mc.xG,x=null!=this.fg?this.uh[w]:w*this.Mc.mf.da(),C=0;null!=this.Mj&&(this.Mj instanceof X?C=this.Mj.ca():null!=this.Mj.vertical&&(C=this.Mj.vertical.ca()));var z=this.Gc;switch(z.pj()){case Fi.kc:A=C;break;case Fi.$b:C=Hd.qb(2+C,0,u.Fa());A-=C;break;default:A/=2}u.ib(this.Gc);u.je(A,x+(null==this.fg?this.Mc.mf.da():
this.fg[w])/2,y);return this};c.prototype.yFc=function(u,w,y,A){t.selection.row=this.Va.WV();t.selection.column=this.Va.cK();t.background.fillstyle=null;t.background.linestyle=null;t.background.bounds=u;t.text.fillstyle=null;t.text.linestyle=null;t.text.textstyle=this.Gc;t.text.value=A;t.text.bounds=w;t.icon.fillstyle=null;t.icon.linestyle=null;t.icon.value=null;t.icon.bounds=y;return this};c.prototype.ULc=function(u,w,y){null==u||null==w.background.fillstyle&&null==w.background.linestyle||(y.qa(tg.ad(w.background.fillstyle)),
y.ra(X.Pa(w.background.linestyle)),y.sc(u));return this};c.prototype.VLc=function(u,w,y,A,x){if(null!=u){if(null!=w.icon.fillstyle||null!=w.icon.linestyle)x.qa(tg.ad(w.icon.fillstyle)),x.ra(X.Pa(w.icon.linestyle)),x.sc(u);null!=w.icon.value&&(u=x.Zb(W.cf(y,A)),w.icon.value.render(u))}return this};c.prototype.WLc=function(u,w,y){if(null==u)return this;if(null!=w.text.fillstyle||null!=w.text.linestyle)y.qa(tg.ad(w.text.fillstyle)),y.ra(X.Pa(w.text.linestyle)),y.sc(u);var A=w.text.value,x=w.text.textstyle;
if(null!=A&&null!=x){switch(x.pj()){case Fi.$b:w=u.na();break;case Fi.Na:w=u.cc();break;default:w=u.la()}y.ib(x);y.je(w,u.zc(),A)}return this};c.prototype.TLc=function(u,w){var y=0,A=null==this.uh?w*this.Mc.mf.da():this.uh[w],x=this.Mc.xG,C=null==this.fg?this.Mc.mf.da():this.fg[w];p.cb(0,0,x,C);q.cb(0,0,x,C);r.cb(0,0,x,C);this.yFc(p,q,r,this.Va.bYb(w));w=this.Va.Jjd(w,t);if(null==w)return this;x=w.background.bounds;C=w.text.bounds;var z=w.icon.bounds;null!=x&&x.setX(y+x.getX()).setY(A+x.getY());null!=
C&&C.setX(y+C.getX()).setY(A+C.getY());null!=z&&z.setX(y+z.getX()).setY(A+z.getY());this.ULc(x,w,u);this.VLc(z,w,y,A,u);this.WLc(C,w,u);return this};c.prototype.nMc=function(u,w){var y=this.Va.wBc(w);if(!1===y)return this;y=w*this.Mc.mf.da();var A=(this.Mc.mf.da()-n)/2;null!=this.uh&&(y=this.uh[w],A=(this.fg[w]-n)/2);u.sc(A,y+A,n,n);return this};c.prototype.jb=function(){return this.Gc};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRUYWJsZUJvdW5kcyI6InZ2IiwiZ2V0VGFibGVWaWV3IjoianZiIiwiZ2V0Um93VG9wIjoiWjkiLCJnZXRSb3dCb3R0b20iOiJyXyIsImdldFRvcFJvd0luZGV4IjoidnZiIiwiZ2V0Qm90dG9tUm93SW5kZXgiOiJIc2IiLCJyZW5kZXJGaWxsU3R5bGUiOiJDb2EiLCJoaWdobGlnaHRSb3ciOiJLUyIsInJlbmRlckluZGV4IjoiZk1jIiwicmVuZGVySW5kZXhIb3Jpem9udGFsR3JpZExpbmUiOiJnTWMiLCJyZW5kZXJJbmRleFZlcnRpY2FsR3JpZExpbmUiOiJpTWMiLCJyZW5kZXJDb250ZW50IjoiJGkiLCJyZW5kZXJDbGlwIjoiU0hhIiwicmVuZGVySW5kZXhUZXh0IjoiaE1jIiwiaW5pdGlhbGl6ZUluZGV4U3R5bGUiOiJ5RmMiLCJyZW5kZXJDdXN0b21JbmRleEZpbGxTdHlsZSI6IlVMYyIsInJlbmRlckN1c3RvbUluZGV4SWNvbiI6IlZMYyIsInJlbmRlckN1c3RvbUluZGV4VGV4dCI6IldMYyIsInJlbmRlckN1c3RvbUluZGV4IjoiVExjIiwicmVuZGVyUm93TWFya2VyIjoibk1jIiwiZ2V0VGV4dFN0eWxlIjoiamIifX19");var gS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(n,p){n=xb(n,{columns:"number"===typeof n?n:null,tableview:p},!0);Sm.call(this,n);a.call(this,n);this.tf=null;this.Kh=[];this.Jf=0;this.K8=ck.wn;this.ep=new ek({alignment:O.Na});this.Mj=new X({color:d,pixelsnapmode:{x:!0,y:!0}});this.Gc=new Ki({color:e,alignment:Fi.Na,baseline:Di.Nk,font:g});this.ric=new rf(f);this.hLa=new rf(b);this.hO=this.zO=null}function a(n){void 0!==n.columns&&(this.ef=n.columns);void 0!==n.tableview&&(this.Va=n.tableview);this.Mc=this.Va.ftb();this.$c=
this.Mc.mf.ca()*this.ef;this.kd=this.Mc.NA;this.cb(0,0,this.$c,this.kd);return this}var b="rgba(0,0,255,0.2)",d="white",e="#6b6b6b",f="#bdbdbd",g="bold 11px Tahoma",h=new U,k=new U,l=new U,m={selection:{},background:{fillstyle:null,linestyle:null,bounds:null},text:{textstyle:null,fillstyle:null,linestyle:null,value:null,bounds:null},icon:{fillstyle:null,linestyle:null,value:null,bounds:null}};D(c,Sm);L(c,"geotoolkit.controls.shapes.tableview.HeaderContent");c.prototype.fa=function(n){n=hc(n);if(null==
n)return this;Sm.prototype.fa.call(this,n);return a.call(this,n)};c.prototype.ia=function(){var n=Sm.prototype.ia.call(this);n.columns=this.ef;n.tableview=this.Va;return n};c.prototype.setData=function(n){if(null==n)return this;void 0!==n.highlightcolumnfillstyle&&(this.hLa=tg.ad(n.highlightcolumnfillstyle));void 0!==n.activecolumnfillstyle&&(this.hLa=tg.ad(n.activecolumnfillstyle));void 0!==n.defaultheadersize?this.Mc.NA=n.defaultheadersize.da():null!=n.defaultcellsize&&(this.Mc.NA=n.defaultcellsize.da());
if(!n.hasOwnProperty("header"))return this;n=n.header;"number"===typeof n.padding&&(this.Jf=n.padding);void 0!==n.gridstyle&&(n.gridstyle.hasOwnProperty("horizontal")||n.gridstyle.hasOwnProperty("vertical")?(this.Mj=n.gridstyle,this.Mj.horizontal=X.Pa(this.Mj.horizontal),this.Mj.vertical=X.Pa(this.Mj.vertical)):this.Mj=X.Pa(n.gridstyle));void 0!==n.textstyle&&(this.Gc=Ki.Pa(n.textstyle));void 0!==n.headerfillstyle&&(this.ric=tg.ad(n.headerfillstyle));void 0!==n.oddfillstyle&&(this.zO=tg.ad(n.oddfillstyle));
void 0!==n.evenfillstyle&&(this.hO=tg.ad(n.evenfillstyle));void 0!==n.highlightcolumnfillstyle&&(this.hLa=tg.ad(n.highlightcolumnfillstyle));void 0!==n.activecolumnfillstyle&&(this.hLa=tg.ad(n.activecolumnfillstyle));return this};c.prototype.Lsb=function(n,p){var q=0,r;if(null!=p&&p.length===n)for(r=this.Kh[0]=0;r<n;++r)this.tf[r]=p[r],q+=this.tf[r],0<r&&(this.Kh[r]=this.Kh[r-1]+this.tf[r-1]);else if(q=this.Mc.mf.ca()*n,null!=this.tf)for(r=0;r<n;++r)this.tf[r]=this.Mc.mf.ca(),this.Kh[r]=r*this.Mc.mf.ca();
return q};c.prototype.vv=function(n,p,q){this.tf=q;this.Kh=null!=this.tf?[]:null;this.ef=p;this.$c=this.Lsb(p,q);this.cb(0,0,this.$c,this.kd);return this};c.prototype.jvb=function(){return this.Va};c.prototype.render=function(n){n=null!=this.Qa()?n.Zb(this.Qa()):n;n.yh(this);if(n.ac()){var p=this.ga();n.qa(rf.kh);n.sc(p)}else this.$i(n);return this};c.prototype.Coa=function(n,p,q,r,t){if(null==r)return this;n.qa(r);n.beginPath();for(var u,w=p=0===p%2&&!0===t||0!==p%2&&!1===t?p:p+1;w<=q;w+=2)p=this.nS(w),
r=this.RV(w),t=0,u=this.Mc.NA,n.moveTo(p,t).lineTo(r,t).lineTo(r,u).lineTo(p,u).lineTo(p,t);n.closePath().xi();return this};c.prototype.eub=function(n,p,q){if(null==this.Kh)return Math.floor(n.la()/this.Mc.mf.ca());p=null==p?0:p;for(q=null==q?this.ef-1:q;p<=q;){var r=Math.floor((p+q)/2),t=null!=this.tf?this.tf[r]:this.Mc.mf.ca();if(this.Kh[r]<=n.la()&&n.la()<=this.Kh[r]+t)return r;n.la()<this.Kh[r]?q=r-1:p=r+1}return-1};c.prototype.Pub=function(n,p,q){if(null==this.Kh)return Math.floor(Math.min(this.ef-
1,n.na()/this.Mc.mf.ca()));for(q=null==q?this.ef-1:q;p<=q;){var r=Math.floor((p+q)/2),t=null!=this.tf?this.tf[r]:this.Mc.mf.ca(),u=null!=this.tf?this.tf[this.tf.length-1]:this.Mc.mf.ca();u=Math.min(n.na(),this.Kh[this.Kh.length-1]+u);if(this.Kh[r]<=u&&u<=this.Kh[r]+t)return r;u<this.Kh[r]?q=r-1:p=r+1}return-1};c.prototype.nS=function(n,p){return 0<=n?n=null!=this.Kh?this.Kh[n]:n*this.Mc.mf.ca():null!=p?p.la():0};c.prototype.RV=function(n,p){return 0<=n?(p=null!=this.Kh?this.Kh[n]:n*this.Mc.mf.ca(),
p=null!=this.tf?p+this.tf[n]:p+this.Mc.mf.ca()):null!=p?p.na():0};c.prototype.bMc=function(n,p,q,r){r.qa(q);r.beginPath();n=this.nS(-1,n);p=this.RV(p);q=0;var t=this.Mc.NA;r.moveTo(n,q);r.lineTo(p,q);r.lineTo(p,t);r.lineTo(n,t);r.lineTo(n,q);r.closePath();r.xi();return this};c.prototype.TM=function(n,p,q,r){null!=this.hLa&&n>=q&&n<=p&&(p=this.nS(n),n=this.RV(n),r.qa(this.hLa),r.beginPath().moveTo(p,0).lineTo(n,0).lineTo(n,this.Mc.NA).lineTo(p,this.Mc.NA).closePath().xi());return this};c.prototype.aMc=
function(n,p,q){for(var r=null!=this.Va.wod()?this.PLc:this.dMc;n<=p;n++)this.SHa(q,n,r);return this};c.prototype.cMc=function(n,p,q){if(null==this.Mj)return this;var r;if(this.Mj instanceof X)var t=r=this.Mj;else r=this.Mj.vertical,t=this.Mj.horizontal;if(null==r&&null==t)return this;var u,w=0,y=this.Mc.NA-t.ca();if(null!=r){q.ra(r);q.beginPath();for(u=n;u<=p;u++)r=this.nS(u),q.moveTo(r,w),q.lineTo(r,y);u=this.RV(p);q.moveTo(u,w);q.lineTo(u,y);q.stroke()}q.ra(t);q.beginPath();r=this.nS(n);u=this.RV(p);
q.moveTo(r,w);q.lineTo(u,w);q.moveTo(r,y);q.lineTo(u,y);q.stroke();return this};c.prototype.$i=function(n){var p=n.Fa().nc(n.jg());p.cb({x:Math.max(0,p.getX()),y:Math.max(0,p.getY()),width:Math.max(0,p.ca()),height:Math.max(0,p.da())});var q=this.eub(p),r=this.Pub(p,q);this.bMc(p,r,this.ric,n);this.Coa(n,q,r,this.hO,!0);this.Coa(n,q,r,this.zO,!1);p=this.Va.cK();this.TM(p,r,q,n);this.aMc(q,r,n);this.cMc(q,r,n);return this};c.prototype.SHa=function(n,p,q){var r=null!=this.Kh?this.Kh[p]:Math.round(this.Mc.mf.ca()*
p),t=null!=this.tf?this.tf[p]:this.Mc.mf.ca(),u=0,w=this.Mc.NA;n.save();r=n.Fa().Ta(new U(r,u,r+t,u+w));n.fh(r,Cd.EC);q.call(this,n,p);n.restore();return this};c.prototype.dMc=function(n,p){var q=null!=this.Kh?this.Kh[p]:Math.round(this.Mc.mf.ca()*p),r=this.Va.h_(p);this.ep.Eb(r);this.ep.tc(O.Na);this.ep.ib(this.Gc).Wj(this.K8);p=null!=this.tf?this.tf[p]:this.Mc.mf.ca();this.ep.Ra(p);this.ep.Db(q+p/2,this.Mc.NA/2);this.ep.render(n);return this};c.prototype.hAc=function(n){return new U({x:this.nS(n),
y:0,width:null!=this.tf?this.tf[n]:this.Mc.mf.ca(),height:this.Mc.NA})};c.prototype.xFc=function(n,p,q,r,t){m.selection.row=this.Va.WV();m.selection.column=this.Va.cK();m.background.fillstyle=null;m.background.linestyle=null;m.background.bounds=n;m.text.fillstyle=null;m.text.linestyle=null;m.text.textstyle=t.clone();m.text.value=r;m.text.bounds=p;m.icon.fillstyle=null;m.icon.linestyle=null;m.icon.value=null;m.icon.bounds=q;return this};c.prototype.QLc=function(n,p,q){null==n||null==p.background.fillstyle&&
null==p.background.linestyle||(q.qa(tg.ad(p.background.fillstyle)),q.ra(X.Pa(p.background.linestyle)),q.sc(n));return this};c.prototype.SLc=function(n,p,q){if(null==n)return this;if(null!=p.text.fillstyle||null!=p.text.linestyle)q.qa(tg.ad(p.text.fillstyle)),q.ra(X.Pa(p.text.linestyle)),q.sc(n);var r=p.text.textstyle,t=p.text.value;if(null!=t&&null!=r){switch(r.pj()){case Fi.$b:this.ep.tc(O.pe);p=n.na();break;case Fi.Na:this.ep.tc(O.Na);p=n.cc();break;default:this.ep.tc(O.vd),p=n.la()}this.ep.Eb(t);
this.ep.ib(r).Wj(this.K8);this.ep.Db(p,n.zc());this.ep.Ra(n.ca());this.ep.render(q)}return this};c.prototype.RLc=function(n,p,q,r){if(null==n)return this;if(null!=p.icon.fillstyle||null!=p.icon.linestyle)r.qa(tg.ad(p.icon.fillstyle)),r.ra(X.Pa(p.icon.linestyle)),r.sc(n);null!=p.icon.value&&(r.save(),n=r.Zb(W.cf(q.getX(),q.getY())),p.icon.value.render(n),r.restore());return this};c.prototype.PLc=function(n,p){var q=this.hAc(p);h.cb(0,0,q.ca(),q.da());k.cb(0,0,q.ca(),q.da()).Uc(-this.Jf,0);l.cb(0,0,
q.ca(),q.da());this.xFc(h,k,l,this.Va.h_(p),this.Gc);p=this.Va.Ijd(p,m);if(null==p)return this;var r=p.background.bounds,t=p.text.bounds,u=p.icon.bounds;null!=r&&r.setX(q.getX()+r.getX()).setY(q.getY()+r.getY());null!=t&&t.setX(q.getX()+t.getX()).setY(q.getY()+t.getY());null!=u&&u.setX(q.getX()+u.getX()).setY(q.getY()+u.getY());this.QLc(r,p,n);this.RLc(u,p,q,n);this.SLc(t,p,n);return this};c.prototype.jb=function(){return this.Gc};c.prototype.Eaa=function(n){this.K8=n;return this};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJnZXRDYWxjdWxhdGVkVGFibGVXaWR0aCI6IkxzYiIsInNldFRhYmxlQm91bmRzIjoidnYiLCJnZXRUYWJsZVZpZXciOiJqdmIiLCJyZW5kZXJGaWxsU3R5bGUiOiJDb2EiLCJnZXRMZWZ0Q29sdW1uSW5kZXgiOiJldWIiLCJnZXRSaWdodENvbHVtbkluZGV4IjoiUHViIiwiZ2V0Q29sdW1uTGVmdCI6Im5TIiwiZ2V0Q29sdW1uUmlnaHQiOiJSViIsInJlbmRlckhlYWRlckZpbGxTdHlsZSI6ImJNYyIsImhpZ2hsaWdodENvbHVtbiI6IlRNIiwicmVuZGVySGVhZGVyIjoiYU1jIiwicmVuZGVySGVhZGVyR3JpZExpbmUiOiJjTWMiLCJyZW5kZXJDb250ZW50IjoiJGkiLCJyZW5kZXJDbGlwIjoiU0hhIiwicmVuZGVySGVhZGVyVGV4dCI6ImRNYyIsImdldEhlYWRlclJlY3QiOiJoQWMiLCJpbml0aWFsaXplSGVhZGVyU3R5bGUiOiJ4RmMiLCJyZW5kZXJDdXN0b21IZWFkZXJGaWxsU3R5bGUiOiJRTGMiLCJyZW5kZXJDdXN0b21IZWFkZXJUZXh0IjoiU0xjIiwicmVuZGVyQ3VzdG9tSGVhZGVySWNvbiI6IlJMYyIsInJlbmRlckN1c3RvbUhlYWRlciI6IlBMYyIsImdldFRleHRTdHlsZSI6ImpiIiwic2V0VGV4dFNpemVNb2RlIjoiRWFhIn19fSAg");var hS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(r,t,u){r=xb(r,{rows:"number"===typeof r?r:null,columns:t,tableview:u},!0);Sm.call(this,r);this.hs={selection:{},background:{fillstyle:null,linestyle:null,bounds:null},text:{textstyle:null,fillstyle:null,linestyle:null,shape:null,value:null,bounds:null},icon:{fillstyle:null,linestyle:null,value:null,bounds:null}};this.fg=this.tf=null;this.Kh=[];this.Jf=0;a.call(this,r);this.Mj=new X({color:k,pixelsnapmode:{x:!0,y:!0}});this.Gc=new Ki({color:l,alignment:Fi.$b,baseline:Di.Nk,
font:m});this.zO=new rf(d);this.hO=new rf(b);this.Chc=this.hlc=null;this.nqa=new rf(e);this.Tra=new rf(f);this.IKb=new rf(g);this.t6=new X({color:h,width:1,pixelsnapmode:{x:!0,y:!0}});this.E4c=null}function a(r){void 0!==r.rows&&(this.Tf=r.rows);void 0!==r.columns&&(this.ef=r.columns);void 0!==r.tableview&&(this.Va=r.tableview);this.Mc=this.Va.ftb();this.$c=this.Mc.mf.ca()*this.ef;this.kd=this.Mc.mf.da()*this.Tf;this.cb(0,0,this.$c,this.kd);return this}var b="#e6e6e6",d="#f5f5f5",e="rgba(51, 116, 235, 0.4)",
f="rgba(255,0,0,0.2)",g="rgba(51, 116, 235, 0.4)",h="rgba(51, 116, 235, 0.8)",k="white",l="#6b6b6b",m="12px Courier",n=new U,p=new U,q=new U;D(c,Sm);L(c,"geotoolkit.controls.shapes.tableview.TableContent");c.prototype.fa=function(r){r=hc(r);if(null==r)return this;Sm.prototype.fa.call(this,r);return a.call(this,r)};c.prototype.ia=function(){var r=Sm.prototype.ia.call(this);r.rows=this.Tf;r.columns=this.ef;r.tableview=this.Va;return r};c.prototype.setData=function(r){if(null==r)return this;void 0!==
r.activerowfillstyle&&(this.nqa=tg.ad(r.activerowfillstyle));void 0!==r.highlightrowfillstyle&&(this.Tra=tg.ad(r.highlightrowfillstyle));void 0!==r.highlightcolumnfillstyle&&(this.IKb=tg.ad(r.highlightcolumnfillstyle));void 0!==r.activecelllinestyle&&(this.t6=X.Pa(r.activecelllinestyle));void 0!==r.activecellfillstyle&&(this.E4c=tg.ad(r.activecellfillstyle));void 0!==r.defaultcellsize&&(this.Mc.mf=r.defaultcellsize);if(!r.hasOwnProperty("content"))return this;r=r.content;"number"===typeof r.padding&&
(this.Jf=r.padding);void 0!==r.gridstyle&&(r.gridstyle.hasOwnProperty("horizontal")||r.gridstyle.hasOwnProperty("vertical")?(this.Mj=r.gridstyle,this.Mj.horizontal=X.Pa(this.Mj.horizontal),this.Mj.vertical=X.Pa(this.Mj.vertical)):this.Mj=X.Pa(r.gridstyle));void 0!==r.textstyle&&(this.Gc=Ki.Pa(r.textstyle));void 0!==r.oddfillstyle&&(this.zO=tg.ad(r.oddfillstyle));void 0!==r.evenfillstyle&&(this.hO=tg.ad(r.evenfillstyle));void 0!==r.oddfillstylecolumn&&(this.hlc=tg.ad(r.oddfillstylecolumn));void 0!==
r.evenfillstylecolumn&&(this.Chc=tg.ad(r.evenfillstylecolumn));return this};c.prototype.$kd=function(r){var t=0;if(null!=this.fg)for(var u=this.uh[0]=0;u<r;++u)t+=this.fg[u],0<u&&(this.uh[u]=this.uh[u-1]+this.fg[u-1]);else t=this.Mc.mf.da()*r;return t};c.prototype.Lsb=function(r){var t=0,u;if(null!=this.tf&&this.tf.length===r)for(u=this.Kh[0]=0;u<r;++u)t+=this.tf[u],0<u&&(this.Kh[u]=this.Kh[u-1]+this.tf[u-1]);else if(t=this.Mc.mf.ca()*r,null!=this.tf)for(u=0;u<r;++u)this.tf[u]=this.Mc.mf.ca(),this.Kh[u]=
u*this.Mc.mf.ca();return t};c.prototype.vv=function(r,t,u,w){this.tf=u;this.fg=w;this.Kh=null!=this.tf?[]:null;this.uh=null!=this.fg?[]:null;this.Tf=r;this.ef=t;this.kd=this.$kd(r);this.$c=this.Lsb(t);this.cb(0,0,this.$c,this.kd);return this};c.prototype.jvb=function(){return this.Va};c.prototype.render=function(r){r=null!=this.Qa()?r.Zb(this.Qa()):r;r.yh(this);if(r.ac()&&null==this.Va.Ayc())return r.qa(rf.kh).sc(this.ga()),this;this.$i(r);return this};c.prototype.$Lc=function(r,t,u,w,y,A,x){if(null!=
A){r.qa(A);r.beginPath();for(var C=t=0===t%2&&!0===x||0!==t%2&&!1===x?t:t+1;C<=u;C+=2){t=this.nS(-1,y);A=this.RV(w);x=this.Z9(C);var z=this.r_(C);r.moveTo(t,x).lineTo(A,x).lineTo(A,z).lineTo(t,z).lineTo(t,x)}r.closePath().xi()}return this};c.prototype.ZLc=function(r,t,u,w,y,A,x){if(null!=A){r.qa(A);r.beginPath();for(var C=u=0===u%2&&!0===x||0!==u%2&&!1===x?u:u+1;C<=w;C+=2){u=this.nS(C);A=this.RV(C);x=this.Z9(-1,y);var z=this.r_(t);r.moveTo(u,x).lineTo(A,x).lineTo(A,z).lineTo(u,z).lineTo(u,x)}r.closePath().xi()}return this};
c.prototype.Coa=function(r,t,u){this.$Lc(r,t.Pdb,t.rla,t.Hoa,u,this.zO,!1);this.$Lc(r,t.Pdb,t.rla,t.Hoa,u,this.hO,!0);this.ZLc(r,t.rla,t.kab,t.Hoa,u,this.hlc,!1);this.ZLc(r,t.rla,t.kab,t.Hoa,u,this.Chc,!0);return this};c.prototype.eub=function(r,t,u){if(null==this.Kh)return Math.floor(r.la()/this.Mc.mf.ca());t=null==t?0:t;for(u=null==u?this.ef-1:u;t<=u;){var w=Math.floor((t+u)/2),y=null!=this.tf?this.tf[w]:this.Mc.mf.ca();if(this.Kh[w]<=r.la()&&r.la()<=this.Kh[w]+y)return w;r.la()<this.Kh[w]?u=w-
1:t=w+1}return-1};c.prototype.Pub=function(r,t,u){if(null==this.Kh)return Math.floor(Math.min(this.ef-1,r.na()/this.Mc.mf.ca()));for(u=null==u?this.ef-1:u;t<=u;){var w=Math.floor((t+u)/2),y=null!=this.tf?this.tf[w]:this.Mc.mf.ca(),A=null!=this.tf?this.tf[this.tf.length-1]:this.Mc.mf.ca();A=Math.min(r.na(),this.Kh[this.Kh.length-1]+A);if(this.Kh[w]<=A&&A<=this.Kh[w]+y)return w;A<this.Kh[w]?u=w-1:t=w+1}return-1};c.prototype.vvb=function(r,t,u){if(null==this.uh)return Math.floor(r.ka()/this.Mc.mf.da());
t=null==t?0:t;for(u=null==u?this.Tf-1:u;t<=u;){var w=Math.floor((t+u)/2),y=null!=this.fg?this.fg[w]:this.Mc.mf.da();if(this.uh[w]<=r.ka()&&r.ka()<=this.uh[w]+y)return w;r.ka()<this.uh[w]?u=w-1:t=w+1}return-1};c.prototype.Hsb=function(r,t,u){if(null==this.uh)return Math.floor(Math.min(this.Tf-1,r.ma()/this.Mc.mf.da()));for(u=null==u?this.Tf-1:u;t<=u;){var w=Math.floor((t+u)/2),y=null!=this.fg?this.fg[w]:this.Mc.mf.da(),A=null!=this.fg?this.fg[this.fg.length-1]:this.Mc.mf.da();A=Math.min(r.ma(),this.uh[this.uh.length-
1]+A);if(this.uh[w]<=A&&A<=this.uh[w]+y)return w;A<this.uh[w]?u=w-1:t=w+1}return-1};c.prototype.nS=function(r,t){return 0<=r?r=null!=this.Kh?this.Kh[r]:r*this.Mc.mf.ca():null!=t?t.la():0};c.prototype.RV=function(r,t){return 0<=r?(t=null!=this.Kh?this.Kh[r]:r*this.Mc.mf.ca(),t=null!=this.tf?t+this.tf[r]:t+this.Mc.mf.ca()):null!=t?t.na():0};c.prototype.Z9=function(r,t){return 0<=r?r=null!=this.uh?this.uh[r]:r*this.Mc.mf.da():null!=t?t.ka():0};c.prototype.r_=function(r,t){return 0<=r?(t=null!=this.uh?
this.uh[r]:r*this.Mc.mf.da(),t=null!=this.fg?t+this.fg[r]:t+this.Mc.mf.da()):null!=t?t.ma():0};c.prototype.KS=function(r,t,u,w,y){0<=r&&r<this.Tf&&(y.qa(w),y.beginPath(),u=this.nS(-1,u),t=this.RV(t.Hoa),w=this.Z9(r),r=this.r_(r),y.moveTo(u,w),y.lineTo(t,w),y.lineTo(t,r),y.lineTo(u,r),y.lineTo(u,w),y.closePath(),y.xi());return this};c.prototype.TM=function(r,t,u,w,y){0<=r&&r<this.ef&&(y.qa(w),y.beginPath(),w=this.nS(r),r=this.RV(r),u=this.Z9(-1,u),t=this.r_(t.rla),y.moveTo(w,u),y.lineTo(r,u),y.lineTo(r,
t),y.lineTo(w,t),y.lineTo(w,u),y.closePath(),y.xi());return this};c.prototype.NGd=function(r,t,u){if(null==this.Mj)return this;var w=this.Mj instanceof X?this.Mj:this.Mj.horizontal;if(w instanceof X){u.ra(w);u.beginPath();t=this.nS(-1,t);w=this.RV(r.Hoa);for(var y=r.Pdb;y<=r.rla;y++){var A=this.r_(y);u.moveTo(t,A);u.lineTo(w,A)}}u.closePath();u.stroke();return this};c.prototype.iHd=function(r,t,u){if(null==this.Mj)return this;u.beginPath();var w=this.Mj instanceof X?this.Mj:this.Mj.vertical;if(w instanceof
X){var y=this.nS(-1,t);t=this.Z9(-1,t);var A=this.r_(r.rla);u.ra(w);u.moveTo(y,t);u.lineTo(y,A);for(y=r.kab;y<=r.Hoa;y++)w=this.RV(y),u.moveTo(w,t),u.lineTo(w,A)}u.closePath();u.stroke();return this};c.prototype.AGd=function(r,t){for(var u=null!=this.Va.Ayc()?this.FGd:this.BGd,w=r.Pdb;w<=r.rla;w++)for(var y=r.kab;y<=r.Hoa;y++)this.SHa(t,w,y,u);return this};c.prototype.vGd=function(r,t,u,w,y){null!=w&&t>=u.kab&&t<=u.Hoa&&r>=u.Pdb&&r<=u.rla&&(u={row:r,column:t},y.ra(w),w=this.nS(u.column),r=this.RV(u.column),
t=this.Z9(u.row),u=this.r_(u.row),y.beginPath(),y.moveTo(w,t),y.lineTo(r,t),y.lineTo(r,u),y.lineTo(w,u),y.closePath(),y.stroke());return this};c.prototype.$i=function(r){var t=r.Fa().nc(r.jg());t.cb({x:Math.max(0,t.getX()),y:Math.max(0,t.getY()),width:Math.max(0,t.ca()),height:Math.max(0,t.da())});var u=this.eub(t),w=this.Pub(t,u),y=this.vvb(t),A=this.Hsb(t,y),x={Pdb:y,rla:A,kab:u,Hoa:w},C=this.Va.cK(),z=this.Va.WV();this.Coa(r,x,t);null!=this.Tra&&this.KS(z,x,t,this.Tra,r);null!=this.nqa&&0<this.Va.CM().length&&
this.Va.CM().forEach(function(v){this.KS(v,x,t,this.nqa,r)}.bind(this));null!=this.IKb&&this.TM(C,x,t,this.IKb,r);this.NGd(x,t,r);this.iHd(x,t,r);this.Va.Yxb(y,A,u,w);this.AGd(x,r);this.vGd(this.Va.CM()[0],C,x,this.t6,r);return this};c.prototype.SHa=function(r,t,u,w){var y=null!=this.Kh?this.Kh[u]:Math.round(this.Mc.mf.ca()*u),A=null!=this.tf?this.tf[u]:this.Mc.mf.ca(),x=null==this.uh?t*this.Mc.mf.da():this.uh[t],C=null==this.fg?this.Mc.mf.da():this.fg[t];r.save();y=r.Fa().Ta(new U(y,x,y+A,x+C));
r.fh(y,Cd.EC);w.call(this,r,t,u);r.restore();return this};c.prototype.BGd=function(r,t,u){var w=null!=this.Kh?this.Kh[u]:Math.round(this.Mc.mf.ca()*u),y=null==this.uh?t*this.Mc.mf.da():this.uh[t],A=0;null!=this.Mj&&(this.Mj instanceof X?A=this.Mj.ca():null!=this.Mj.vertical&&(A=this.Mj.vertical.ca()));switch(this.Gc.pj()){case Fi.kc:w+=this.Jf+A;break;case Fi.$b:w+=(null!=this.tf?this.tf[u]:this.Mc.mf.ca())-this.Jf-A;break;case Fi.Na:w+=(null!=this.tf?this.tf[u]:this.Mc.mf.ca())/2;break;default:w+=
null!=this.tf?this.tf[u]:this.Mc.mf.ca()}u=this.Va.Zea(u,t);r.ib(this.Gc);r.je(w,y+(null==this.fg?this.Mc.mf.da():this.fg[t])/2,u);return this};c.prototype.dyc=function(r,t){return new U({x:null!=this.Kh?this.Kh[t]:t*this.Mc.mf.ca(),y:null!=this.uh?this.uh[r]:r*this.Mc.mf.da(),width:null!=this.tf?this.tf[t]:this.Mc.mf.ca(),height:null!=this.fg?this.fg[r]:this.Mc.mf.da()})};c.prototype.Abd=function(r,t,u,w){r.cb(0,0,w.ca(),w.da());t.cb(0,0,w.ca(),w.da()).Uc(-this.Jf,0);u.cb(0,0,w.ca(),w.da());return this};
c.prototype.Dwd=function(r,t,u,w){this.hs.selection.row=this.Va.WV();this.hs.selection.column=this.Va.cK();this.hs.background.fillstyle=null;this.hs.background.linestyle=null;this.hs.background.bounds=r;this.hs.text.fillstyle=null;this.hs.text.linestyle=null;this.hs.text.shape=null;this.hs.text.textstyle=this.Gc;this.hs.text.value=w;this.hs.text.bounds=t;this.hs.icon.fillstyle=null;this.hs.icon.linestyle=null;this.hs.icon.value=null;this.hs.icon.bounds=u;this.hs.border=null;this.hs.isPicking=!1;return this};
c.prototype.IGd=function(r,t,u,w){if(null==t)return this;if(null!=r.icon.fillstyle||null!=r.icon.linestyle)w.qa(tg.ad(r.icon.fillstyle)),w.ra(X.Pa(r.icon.linestyle)),w.sc(t);r=r.icon.value;null!=r&&(w.save(),u=w.Zb(W.cf(u.getX(),u.getY())),u.ac()&&null!=r.Vj()&&(r.Vj().transformation=u.Fa()),r.render(u),w.restore());return this};c.prototype.JGd=function(r,t,u,w,y){if(null==t)return this;var A=u.getX();u=u.getY();if(null!=r.text.fillstyle||null!=r.text.linestyle)y.qa(tg.ad(r.text.fillstyle)),y.ra(X.Pa(r.text.linestyle)),
y.sc(t);var x=r.text.textstyle;r=r.text.shape;if(null!=r)r.Ia()&&(t=r.ga().clone(),t.setX(t.getX()+A).setY(t.getY()+u),r.sa(t).render(y));else if(null!=w&&null!=x){switch(x.pj()){case Fi.kc:A=t.la();break;case Fi.$b:A=t.na();break;case Fi.Na:A=t.cc();break;default:A=t.la()}y.ib(x);y.je(A,t.zc(),w)}return this};c.prototype.GGd=function(r,t,u){var w=t.getX(),y=t.getY(),A=t.ca();t=t.da();if(null==r.border)return this;null!=r.border.top&&(u.beginPath(),u.ra(X.Pa(r.border.top)),u.moveTo(w,y),u.lineTo(w+
A,y),u.stroke());null!=r.border.right&&(u.beginPath(),u.ra(X.Pa(r.border.right)),u.moveTo(w+A,y),u.lineTo(w+A,y+t),u.stroke());null!=r.border.bottom&&(u.beginPath(),u.ra(X.Pa(r.border.bottom)),u.moveTo(w+A,y+t),u.lineTo(w,y+t),u.stroke());null!=r.border.left&&(u.beginPath(),u.ra(X.Pa(r.border.left)),u.moveTo(w,y+t),u.lineTo(w,y),u.stroke());return this};c.prototype.HGd=function(r,t,u){null==t||null==r.background.fillstyle&&null==r.background.linestyle||(u.qa(tg.ad(r.background.fillstyle)),u.ra(X.Pa(r.background.linestyle)),
u.sc(t));return this};c.prototype.FGd=function(r,t,u){var w=this.dyc(t,u);this.Abd(n,p,q,w);this.Dwd(n,p,q,this.Va.Zea(u,t));r.ac()&&(this.hs.isPicking=!0);t=this.Va.Fjd(u,t,this.hs);if(null!=t){u=t.background.bounds;var y=t.text.bounds,A=t.icon.bounds;null!=u&&u.setX(w.getX()+u.getX()).setY(w.getY()+u.getY());null!=y&&y.setX(w.getX()+y.getX()).setY(w.getY()+y.getY());null!=A&&A.setX(w.getX()+A.getX()).setY(w.getY()+A.getY());this.HGd(t,u,r);this.GGd(t,w,r);this.IGd(t,A,w,r);this.JGd(t,y,w,t.text.value,
r)}return this};c.prototype.jb=function(){return this.Gc};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var iS=/*#__PURE__*/va(/*#__PURE__*/{Web:"onColumnWidthChanging",Mya:"onColumnWidthChanged",wgb:"onRowHeightChanging",uza:"onRowHeightChanged"},2,"eyJDb2x1bW5XaWR0aENoYW5naW5nIjoiV2ViIiwiQ29sdW1uV2lkdGhDaGFuZ2VkIjoiTXlhIiwiUm93SGVpZ2h0Q2hhbmdpbmciOiJ3Z2IiLCJSb3dIZWlnaHRDaGFuZ2VkIjoidXphIn0g"),jS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(k,l){var m=0;if(k.ka()<l.ka()||k.ma()>l.ma())m=k.zc()<l.zc()?l.ka()-k.ka():l.ma()-k.ma();return m}function a(k,l){var m=0;if(k.la()<l.la()||k.na()>l.na())m=k.cc()<l.cc()?l.la()-k.la():l.na()-k.na();return m}function b(k){null==k&&(k={});k=G(k,{rows:null!=k.rows&&0<k.rows?k.rows:1,cols:null!=k.cols&&0<k.cols?k.cols:1,bounds:k.bounds instanceof U?k.bounds:new U(0,
0,400,400),fixedsize:null!=k.fixedsize?k.fixedsize:!1,indexwidth:null!=k.indexwidth?k.indexwidth:100,headerheight:null!=k.headerheight?k.headerheight:20,cellsize:k.cellsize instanceof Vd?k.cellsize:new Vd(100,20)});oi.call(this,k);this.Mc={mf:k.cellsize,NA:k.headerheight,xG:k.indexwidth};this.Te(!0);this.CY=(new ci).Cxa("fixed-bounds").qa(new rf(d)).ra(new X({color:e,pixelsnapmode:{x:!0,y:!0}}));this.kBa=(new ek({text:g,ax:Math.round(this.Mc.xG/2),ay:Math.round(this.Mc.NA/2),textstyle:new Ki({color:f,
baseline:Di.Nk,alignment:Fi.Na,font:h,multiline:!0}),alignment:O.Na})).Wj(ck.wn);this.It=new eS(new hS(k.rows,k.cols,this));this.It.Te(!0);this.oa(this.It);this.RC=new eS(new gS(k.cols,this));this.RC.Te(!0);this.oa(this.RC);this.Gv=new eS(new fS(k.rows,this));this.Gv.Te(!0);this.oa(this.Gv);this.oa(this.CY);this.oa(this.kBa);this.seb();this.$ia=k.fixedsize;this.k2a=this.kNa=this.a1a=this.b1a=this.N0a=this.J_a=this.L_a=this.tf=this.Bia=null;this.kd=this.$c=0;this.HGb=[];this.KKb=this.MKb=-1;this.setData(k)}var d="#bdbdbd",e="white",f="#6b6b6b",g="Depth",h="bold 11px Tahoma";D(b,oi);L(b,"geotoolkit.controls.shapes.tableview.TableView");b.Ja=iS;b.prototype.vv=function(k,l,m){k=null==k?this.Tf:k;l=null==l?this.ef:l;if(this.Tf===k&&this.ef===l&&!1===m||null==k||null==l)return this;this.Tf=k;this.ef=l;this.Dab();this.It.vv(k,l,this.tf,this.fg);this.RC.vv(k,l,this.tf,this.fg);this.Gv.vv(k,1,this.tf,this.fg);null!=this.ga()&&this.sa(this.ga());return this};b.prototype.Vub=function(k){return 0>k?this.Mc.NA:
null!=this.fg?this.fg[k]:this.Mc.mf.da()};b.prototype.EAb=function(k,l){if(0>k)return this.JPc(l);if(k>=this.Tf)throw Error("Index is out of range");null==this.fg&&(this.$ia=!1,this.Dab());var m={row:k,height:{old:this.fg[k],"new":l}};this.notify(iS.wgb,this,m);l=m.height["new"];var n=this.fg[k];l!==n&&(this.kd+=l-(0<n?n:0),this.fg[k]=l,this.It.vv(this.Tf,this.ef,this.tf,this.fg),this.RC.vv(this.Tf,this.ef,this.tf,this.fg),this.Gv.vv(this.Tf,this.ef,this.tf,this.fg),this.nla(),this.ha());m.height.current=
this.fg[k];this.notify(iS.uza,this,m);return this};b.prototype.pFa=function(k){return 0>k?this.Mc.xG:null!=this.tf?this.tf[k]||0:this.Mc.mf.ca()};b.prototype.pIa=function(k,l){if(0>k)return this.XPc(l);if(k>=this.ef)throw Error("Index is out of range");null==this.tf&&(this.$ia=!1,this.Dab());var m={column:k,width:{old:this.tf[k],"new":l}};this.notify(iS.Web,this,m);l=m.width["new"];var n=this.tf[k];l!==n&&(this.$c+=l-(0<n?n:0),this.tf[k]=l,this.It.vv(this.Tf,this.ef,this.tf,this.fg),this.RC.vv(this.Tf,
this.ef,this.tf,this.fg),this.Gv.vv(this.Tf,this.ef,this.tf,this.fg),this.nla(),this.ha());m.width.current=this.tf[k];this.notify(iS.Mya,this,m);return this};b.prototype.XPc=function(k){if(this.Mc.xG===k)return this;this.Mc.xG=k;this.seb();return this};b.prototype.yAc=function(){return this.Mc.xG};b.prototype.JPc=function(k){if(this.Mc.NA===k)return this;this.Mc.NA=k;this.seb();return this};b.prototype.Ktb=function(){return this.Mc.NA};b.prototype.ftb=function(){return this.Mc};b.prototype.mP=function(k){var l=
this.KP().ca(),m=this.Gv.Ia(),n=this.vb().ca();if((m||0<l)&&0<n){var p=m?-1:0;if(k)for(l=m?l+1:l,n/=l,l=this.KP().ca(),k=p;k<l;k++)this.pIa(k,n);else{m=0;for(k=p;k<l;k++)m+=this.pFa(k);for(k=p;k<l;k++)p=this.pFa(k)*n/m,this.pIa(k,p)}}return this};b.prototype.sa=function(k){if(null==k)return this;oi.prototype.sa.call(this,k);this.Ha(new U(0,0,k.ca(),k.da()));this.seb();return this};b.prototype.o$=function(){return this.It.Hn().vb()};b.prototype.$ua=function(){return this.It.Hn().ga()};b.prototype.rSa=
function(){return this.RC.ga()};b.prototype.M8a=function(){return this.Gv.ga()};b.prototype.KP=function(){return new Vd(this.ef,this.Tf)};b.prototype.Nzc=function(){return this.$ia};b.prototype.sld=function(k,l){k=null==k?0:k;l=null==l?this.$ua().na():l;var m=0,n=0,p=0,q=-1;if(null==this.fg)q=k/this.Mc.mf.da(),k=l/this.Mc.mf.da();else{for(;q+1<this.fg.length&&!(m>=k);)q++,m+=this.fg[q];n=1-(m-k)/this.fg[0>q?0:q];for(k=q;k+1<this.fg.length&&!(m>=l);)k++,m+=this.fg[k];p=1-(m-l)/this.fg[0>k?0:k]}return{Ls:q+
n,TB:k+p-1,qh:k+p-1-q-n+1}};b.prototype.zsd=function(k,l){k=null==k?0:k;l=null==l?this.$ua().ma():l;var m=0,n=0,p=0,q=-1;if(null==this.tf)q=k/this.Mc.mf.ca(),k=l/this.Mc.mf.ca();else{for(;q+1<this.tf.length&&!(m>=k);)q++,m+=this.tf[q];n=1-(m-k)/this.tf[0>q?0:q];for(k=q;k+1<this.tf.length&&!(m>=l);)k++,m+=this.tf[k];p=1-(m-l)/this.tf[0>k?0:k]}return{Ls:q+n,TB:k+p,qh:k+p-q-n+1}};b.prototype.A_=function(){var k=this.o$(),l=this.zsd(k.la(),k.na());k=this.sld(k.ka(),k.ma());return new U(l.Ls,k.Ls,l.TB,
k.TB)};b.prototype.bha=function(k,l){if(null==k&&null==l)return this;var m=this.o$(),n=this.$Z(null==k?this.A_().ka():k,null==l?this.A_().la():l);if(null==n||m.Cz(n))return this;if(null==k){var p=new U({x:n.la(),y:m.ka(),width:n.ca(),height:n.da()});k=c(p,m)}else k=c(n,m);null==l?(p=new U({x:m.getX(),y:n.ka(),width:n.ca(),height:n.da()}),l=a(p,m)):l=a(n,m);this.nya(l,k);return this};b.prototype.scroll=function(k,l){this.bha(k,l);return this};b.prototype.ivb=function(){return new U(0,0,this.ef,this.Tf)};
b.prototype.nya=function(k,l){this.It.Hn().translate(k,l);this.RC.Hn().translate(k,0);this.Gv.Hn().translate(0,l);this.nla();return this};b.prototype.nla=function(){this.It.Hn().Gi();this.RC.Hn().Gi();this.Gv.Hn().Gi();return this};b.prototype.setData=function(k){if(null==k)return this;if(null!=k.defaultcellsize||null!=k.defaultheadersize){var l=null!=k.defaultcellsize?k.defaultcellsize.ca():k.defaultheadersize.ca();k.defaultcellsize=k.defaultcellsize||this.Mc.mf;k.defaultheadersize=k.defaultheadersize||
k.defaultcellsize||this.Mc.NA;0===l&&(l=Math.max(k.defaultcellsize.ca(),k.defaultheadersize.ca()));k.defaultcellsize.setSize(l,k.defaultcellsize.da());k.defaultheadersize.setSize(l,k.defaultheadersize.da());this.fg=this.tf=null}this.It.bo().setData(k);null!=k.content&&this.It.bo().setData(k.content);this.RC.bo().setData(k);null!=k.header&&this.RC.bo().setData(k.header);this.Gv.bo().setData(k);null!=k.index&&this.Gv.bo().setData(k.index);null!=k.header&&(null!=k.header.textstyle&&this.kBa.ib(k.header.textstyle),
null!=k.header.headerfillstyle&&this.CY.qa(k.header.headerfillstyle),null!=k.header.gridstyle&&(l=k.header.gridstyle,null!=l&&l.vertical!==l.horizontal?(this.CY.W_({left:null!=l.vertical,right:null!=l.vertical,bottom:null!=l.horizontal,top:null!=l.horizontal}),null!=l.vertical&&null!=l.horizontal&&this.CY.uN({left:l.vertical,right:l.vertical,top:l.horizontal,bottom:l.horizontal}),l=l.vertical||l.horizontal):this.CY.W_({left:!0,right:!0,bottom:!0,top:!0}),this.CY.ra(l)));null!=k.headerprovider&&this.Zw(k.headerprovider);
null!=k.headerformatprovider&&this.IPc(k.headerformatprovider);null!=k.contentmeasure&&this.oOc(k.contentmeasure);null!=k.contentprepare&&this.qOc(k.contentprepare);null!=k.contentprovider&&this.rOc(k.contentprovider);null!=k.contentformatprovider&&this.nOc(k.contentformatprovider);null!=k.indexprepare&&this.ZPc(k.indexprepare);null!=k.indexprovider&&this.$Pc(k.indexprovider);null!=k.indexformatprovider&&this.YPc(k.indexformatprovider);null!=k.markerprovider&&this.OQc(k.markerprovider);l=k.fixedsize;
null!=l&&this.$ia!==l&&(this.$ia=l,!0===this.$ia&&(this.tf=null),this.Dab());null!=k.bounds&&this.sa(k.bounds);this.oQd(k.defaultcellsize,k.defaultheadersize);this.vv(k.rows,k.cols,void 0!==k.defaultcellsize||void 0!==k.contentmeasure);var m=null;null!=k.indexvisible&&(m=!1!==k.indexvisible);null!=k.indextitle&&this.Rzb(k.indextitle);null!=k.index&&(null==k.index?(m=!1,this.Rzb(null)):(null!=k.index.visible&&(m=!0===k.index.visible),null!=k.index.title&&this.Rzb(k.index.title)));l=null;null!=k.headervisible&&
(l=!1!==k.headervisible);null!=k.header&&(null==k.header?l=!1:null!=k.header.visible&&(l=!0===k.header.visible));null!=m&&this.Gv.va(m);m=this.Gv.Ia();null!=l&&this.RC.va(l);l=this.RC.Ia();this.kBa.va(m&&l);this.CY.va(m&&l);!0===k.fittowidth&&this.mP();k=this.ga();m=m?this.Mc.xG:0;l=l?this.Mc.NA:0;this.RC.sa(new U(m,0,k.na(),l));this.Gv.sa(new U(0,l,m,k.ma()));this.It.sa(new U(m,l,k.na(),k.ma()));k=this.CY.Ea().ca()/2;this.kBa.sa(new U(0,0,m+k,l));this.CY.sa(new U(0,0,m+k,l));this.nla();return this};
b.prototype.Rzb=function(k){this.kBa.Eb(k);return this};b.prototype.Zod=function(){return this.kBa.ee()};b.prototype.oOc=function(k){this.Bia=k;return this};b.prototype.qOc=function(k){this.L_a=k;return this};b.prototype.Zw=function(k){if(null==k)return this;this.N0a=k;return this};b.prototype.IPc=function(k){if(null==k)return this;this.eBa=k;return this};b.prototype.rOc=function(k){this.J_a=k;return this};b.prototype.nOc=function(k){this.K_a=k;return this};b.prototype.ZPc=function(k){if(null==k)return this;
this.b1a=k;return this};b.prototype.$Pc=function(k){if(null==k)return this;this.a1a=k;return this};b.prototype.x3b=function(k,l){return null==this.b1a?null:"function"===typeof this.b1a?this.b1a.call(this,k>>0,l>>0):this.b1a.prepareIndex(k>>0,l>>0)};b.prototype.bYb=function(k){return null!=this.a1a?"function"===typeof this.a1a?this.a1a.call(this,k>>0):this.a1a.getIndexData(k>>0):"Row #"+k};b.prototype.wBc=function(k){return null!=this.k2a?"function"===typeof this.k2a?this.k2a.call(this,k>>0):this.k2a.getMarkerData(k>>
0):!1};b.prototype.Koa=function(k){function l(m,n){return m.length===n.length&&m.every(function(p){return-1!==n.indexOf(p)})}null==k&&(k=[]);k=Array.isArray(k)?k:[k];l(k,this.HGb)||(this.HGb=k.slice(0),this.xa(),this.ha());return this};b.prototype.CM=function(){return this.HGb};b.prototype.KS=function(k){this.MKb!==k&&(this.MKb=k,this.xa(),this.ha());return this};b.prototype.WV=function(){return this.MKb};b.prototype.TM=function(k){this.KKb!==k&&(this.KKb=k,this.xa(),this.ha());return this};b.prototype.cK=
function(){return this.KKb};b.prototype.qd=function(k,l){if(0<=k){var m=0;if(null!=this.tf)for(var n=0;n<this.ef;n++){var p=null!=this.tf?this.tf[n]:this.Mc.mf.ca();p="number"===typeof p&&0<p?p:0;if(m+p>k){var q=n+(!0===l?(k-m)/p:0);break}m+=p}else q=k/this.Mc.mf.ca(),q=!0===l?q:Math.floor(q)}null==q&&(q=-1);return q};b.prototype.de=function(k,l){if(0<=k){var m=0;if(null!=this.fg)for(var n=0;n<this.Tf;n++){var p=null!=this.fg?this.fg[n]:this.Mc.mf.da();p="number"===typeof p&&0<p?p:0;if(m+p>k){var q=
n+(!0===l?(k-m)/p:0);break}m+=p}else q=k/this.Mc.mf.da(),q=!0===l?q:Math.floor(q)}null==q&&(q=-1);return q};b.prototype.jbb=function(k,l){k instanceof M&&(l=k.y,k=k.x);l=this.wa().Ma(new M(k,l));var m=this.Gv.Hn().wa().hd(l);m.x>this.M8a().ca()&&(m=null);l=this.RC.Hn().wa().hd(l,l);k=l.x;l=l.y;l=Math.floor(l/this.RC.ga().da());return null!=m?new M(-1,l):new M(this.qd(k),l)};b.prototype.l3b=function(k,l){k instanceof M&&(l=k.y,k=k.x);l=this.wa().Ma(new M(k,l));k=this.Gv.TC.wa().hd(l);if(k.x>=this.M8a().ca())return new M(-1,
-1);l=this.Gv.TC.wa().hd(l,l);k=l.x;l=l.y;k=Math.floor(k/this.Gv.ga().ca());return new M(k,this.de(l))};b.prototype.JG=function(k,l,m){k instanceof M&&(l=k.y,k=k.x);var n=this.wa().Ma(new M(k,l));n=this.It.Hn().wa().hd(n,n);l=l<=this.RC.ga().da()?-1:n.y;k=k<=this.Gv.ga().ca()?-1:n.x;return new M(this.qd(k,m),this.de(l,m))};b.prototype.$Z=function(k,l){if(l>=this.ef||k>=this.Tf)return null;var m=0,n=0,p;if(null==this.fg)n=this.Mc.mf.da()*k;else for(p=0;p<k;p++)n+=0<this.fg[p]?this.fg[p]:0;var q=Math.floor(k);
p=0;0<=q&&(p=null!=this.fg?this.fg[q]:this.Mc.mf.da());var r=k-q;k=0;0<k&&q<this.fg.length-1&&(k=null!=this.fg?this.fg[q+1]:this.Mc.mf.da(),k*=r);if(-1===l)return new U(0,n,this.Gv.ga().ca(),n+p+k);if(null==this.tf)m=this.Mc.mf.ca()*l;else for(q=0;q<l;q++)m+=0<this.tf[q]?this.tf[q]:0;r=Math.floor(l);q=0;0<=r&&(q=null!=this.tf?this.tf[r]:this.Mc.mf.ca());l-=r;var t=0;0<l&&r<this.tf.length-1&&(r=null!=this.tf?this.tf[r+1]:this.Mc.mf.ca(),t=r*l);return new U(m,n,m+q+t,n+p+k)};b.prototype.Yxb=function(k,
l,m,n){return null!=this.L_a?"function"===typeof this.L_a?this.L_a.call(this,k>>0,l>>0,m>>0,n>>0):this.L_a.prepareContent(k>>0,l>>0,m>>0,n>>0):null};b.prototype.Zea=function(k,l){return null!=this.J_a?"function"===typeof this.J_a?this.J_a.call(this,k>>0,l>>0):this.J_a.getContentData(k>>0,l>>0):k+"x"+l};b.prototype.YPc=function(k){if(null==k)return this;this.kNa=k;return this};b.prototype.OQc=function(k){if(null==k)return this;this.k2a=k;return this};b.prototype.h_=function(k){return null!=this.N0a?
"function"===typeof this.N0a?this.N0a.call(this,k>>0):this.N0a.getHeaderData(k>>0):"Column #"+k};b.prototype.aQc=function(k){if(null==k)return this;this.CY.qa(tg.ad(k));return this};b.prototype.wre=function(){return this.CY.fb()};b.prototype.cAd=function(){for(var k=[],l=this.$c=0;l<this.ef;l++){var m=this.Mc.mf.ca();null!=this.tf&&null!=this.tf[l]&&(m=this.tf[l]);m=0<m?m:0;m={width:m};m=this.dAd(l,this.RC.bo().jb(),this.It.bo().jb(),m);k[l]=m.width;this.$c+=m.width}return k};b.prototype.fAd=function(){for(var k=
[],l=this.kd=0;l<this.Tf;l++){var m=this.Mc.mf.da();null!=this.fg&&null!=this.fg[l]&&(m=this.fg[l]);m=0<m?m:0;m={height:m};m=this.eAd(l,this.RC.bo().jb(),this.It.bo().jb(),m);k[l]=m.height;this.kd+=m.height}return k};b.prototype.Dab=function(){if(!0===this.$ia)return this.$c=this.Mc.mf.ca()*this.ef,this;this.tf=this.cAd();this.fg=this.fAd();return this};b.prototype.Hn=function(){return this.It};b.prototype.Ltb=function(){return this.RC};b.prototype.Nnd=function(){return this.Gv};b.prototype.seb=function(){var k=
this.Gv.Ia(),l=this.RC.Ia();this.It.sa(new U(k?this.Mc.xG:0,l?this.Mc.NA:0,this.ga().ca(),this.ga().da()));k&&this.Gv.sa(new U(0,this.Mc.NA,this.Mc.xG,this.ga().da()));l&&this.RC.sa(new U(k?this.Mc.xG:0,0,this.ga().ca(),this.Mc.NA));k&&l&&(k=this.CY.Ea().ca()/2,this.CY.sa(new U(0,0,this.Mc.xG+k,this.Mc.NA)),this.kBa.Db(Math.round(this.Mc.xG/2),Math.round(this.Mc.NA/2)))};b.prototype.oQd=function(k,l){if(null==k)return this;null==l&&(l=k);this.Mc.mf=k;this.Mc.NA=l.da();this.seb();return this};b.prototype.Ayc=
function(){return this.K_a};b.prototype.wod=function(){return this.eBa};b.prototype.Xod=function(){return this.kNa};b.prototype.dAd=function(k,l,m,n){if(null!=this.Bia){if("function"===typeof this.Bia)return this.Bia.call(this,k>>0,l,m,n);var p=this.Bia.measureContent||this.Bia.measureColumn;if(p)return p(k>>0,l,m,n)}return n};b.prototype.eAd=function(k,l,m,n){return this.Vrc()?this.Bia.measureRow(k,l,m,n):n};b.prototype.Vrc=function(){return null!=this.Bia&&null!=this.Bia.measureRow};b.prototype.Fjd=
function(k,l,m){return null!=this.K_a?"function"===typeof this.K_a?this.K_a.call(this,k>>0,l>>0,m):this.K_a.getContentFormat(k>>0,l>>0,m):m};b.prototype.Ijd=function(k,l){return null!=this.eBa?"function"===typeof this.eBa?this.eBa.call(this,k>>0,l):"function"===this.eBa.getContentFormat?this.eBa.getContentFormat(k>>0,l):this.eBa.getHeaderFormat(k>>0,l):l};b.prototype.Jjd=function(k,l){if(null!=this.kNa)if("function"===typeof this.kNa)this.kNa.call(this,k>>0,l);else return this.kNa.getIndexFormat(k>>
0,l);return l};return b}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRUYWJsZUJvdW5kcyI6InZ2IiwiZ2V0Um93SGVpZ2h0IjoiVnViIiwic2V0Um93SGVpZ2h0IjoiRUFiIiwiZ2V0Q29sdW1uV2lkdGgiOiJwRmEiLCJzZXRDb2x1bW5XaWR0aCI6InBJYSIsInNldEluZGV4Q29sdW1uV2lkdGgiOiJYUGMiLCJnZXRJbmRleENvbHVtbldpZHRoIjoieUFjIiwic2V0SGVhZGVyUm93SGVpZ2h0IjoiSlBjIiwiZ2V0SGVhZGVyUm93SGVpZ2h0IjoiS3RiIiwiZ2V0RGVmYXVsdFRhYmxlRWxlbWVudFNpemUiOiJmdGIiLCJmaXRUb1dpZHRoIjoibVAiLCJzZXRCb3VuZHMiOiJzYSIsImdldFZpc2libGVUYWJsZU1vZGVsTGltaXRzIjoibyQiLCJnZXRDb250ZW50VGFibGVCb3VuZHMiOiIkdWEiLCJnZXRIZWFkZXJCb3VuZHMiOiJyU2EiLCJnZXRGaXhlZFRhYmxlQm91bmRzIjoiTThhIiwiZ2V0VGFibGVTaXplIjoiS1AiLCJnZXRGaXhlZFNpemUiOiJOemMiLCJnZXRWaXNpYmxlVGFibGVMaW1pdHMiOiJBXyIsInNldFZpc2libGVUYWJsZUxpbWl0cyI6ImJoYSIsImdldFRhYmxlQm91bmRzIjoiaXZiIiwidHJhbnNsYXRlVGFibGUiOiJueWEiLCJhZGp1c3RUYWJsZSI6Im5sYSIsInNldEluZGV4VGl0bGUiOiJSemIiLCJnZXRJbmRleFRpdGxlIjoiWm9kIiwic2V0Q29udGVudE1lYXN1cmUiOiJvT2MiLCJzZXRDb250ZW50UHJlcGFyZSI6InFPYyIsInNldEhlYWRlclByb3ZpZGVyIjoiWnciLCJzZXRIZWFkZXJGb3JtYXRQcm92aWRlciI6IklQYyIsInNldENvbnRlbnRQcm92aWRlciI6InJPYyIsInNldENvbnRlbnRGb3JtYXRQcm92aWRlciI6Im5PYyIsInNldEluZGV4UHJlcGFyZSI6IlpQYyIsInNldEluZGV4UHJvdmlkZXIiOiIkUGMiLCJwcmVwYXJlSW5kZXgiOiJ4M2IiLCJnZXRJbmRleERhdGEiOiJiWWIiLCJnZXRNYXJrZXJEYXRhIjoid0JjIiwic2V0QWN0aXZlUm93cyI6IktvYSIsImdldEFjdGl2ZVJvd3MiOiJDTSIsImhpZ2hsaWdodFJvdyI6IktTIiwiZ2V0SGlnaGxpZ2h0ZWRSb3ciOiJXViIsImhpZ2hsaWdodENvbHVtbiI6IlRNIiwiZ2V0SGlnaGxpZ2h0ZWRDb2x1bW4iOiJjSyIsImdldENvbHVtbiI6InFkIiwiZ2V0Um93IjoiZGUiLCJwaWNrSGVhZGVyIjoiamJiIiwicGlja0ZpeGVkUm93IjoibDNiIiwicmVzb2x2ZUNlbGxDb29yZGluYXRlIjoiSkciLCJnZXRDZWxsQm91bmRzIjoiJFoiLCJwcmVwYXJlQ29udGVudCI6Ill4YiIsImdldENvbnRlbnREYXRhIjoiWmVhIiwic2V0SW5kZXhGb3JtYXRQcm92aWRlciI6IllQYyIsInNldE1hcmtlclByb3ZpZGVyIjoiT1FjIiwiZ2V0SGVhZGVyRGF0YSI6ImhfIn19fSAg");var lS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e,f){return e.every(function(g){return g!==f})}function a(e){var f={name:"Ternary Chart",data:null,ternarygrid:null};Cg.call(this,e);this.data=this.center=this.size=this.wpa=null;this.setData(G(e,f,!0))}function b(e){var f=Number.MAX_SAFE_INTEGER;e.left&&(f=Math.min(e.left.length,f));e.right&&(f=Math.min(e.right.length,f));e.top&&(f=Math.min(e.top.length,f));return f}var d=new dh;L(a,"geotoolkit.scene.shapes.TernaryChart");D(a,Cg);a.prototype.fa=function(e){e=hc(e);if(null==
e)return this;Cg.prototype.fa.call(this,e);this.setData(e);return this};a.prototype.ia=function(){var e=Cg.prototype.ia.call(this);e.ternarygrid=this.wpa;return e};a.prototype.setData=function(e){var f;if(null!=this.data)for(f=0;f<this.data.length;f++){var g=this.data[f];null!=g.fillstyleobject&&this.hk(g.fillstyleobject,Ce.gb,this.sb());null!=g.linestyleobject&&this.hk(g.linestyleobject,Ce.gb,this.sb())}this.name=null!=e.name?e.name:this.name;this.data=e.data;this.wpa=null!=e.ternarygrid?e.ternarygrid:
this.wpa;null!=this.wpa&&(e=this.wpa.ia(),this.center=e.center,this.size=e.size);this.PG=this.size/2;this.EK=this.PG/100;this.pN=this.PG*Math.sqrt(3)/100;this.Ka=new U(this.center.x-this.PG,this.center.y-this.PG,this.center.x+this.PG,this.center.y+this.PG);for(f=0;f<this.data.length;f++)g=this.data[f],null!=g.fillstyle&&(g.fillstyleobject=tg.ad(g.fillstyle),this.gg(g.fillstyleobject,Ce.gb,this.sb())),null!=g.linestyle&&(g.linestyleobject=X.Pa(g.linestyle),this.gg(g.linestyleobject,Ce.gb,this.sb()));
this.ha();return this};a.prototype.dispose=function(){if(null!=this.data)for(var e=0;e<this.data.length;e++){var f=this.data[e];null!=f.fillstyleobject&&this.hk(f.fillstyleobject,Ce.gb,this.sb());null!=f.linestyleobject&&this.hk(f.linestyleobject,Ce.gb,this.sb())}Cg.prototype.dispose.call(this)};a.prototype.ga=function(){return null!=this.Ka?this.Ka:null};a.prototype.sa=function(e){this.Ka=e;this.xa();return this};a.prototype.render=function(e){if(null!=this.data&&null!=this.wpa){e=this.Qa()?e.Zb(this.Qa()):
e;for(var f=0;f<this.data.length;f++)this.txa(e,this.data[f],f)}};a.prototype.txa=function(e,f,g){var h=f.values,k=b(h);if(0!==k){var l=0,m=[],n=null,p=null!=f.fillstyleobject||null!=f.linestyleobject?d.clear():null;for(l=0;l<k;l++){var q=null!=h.left?h.left[l]:null,r=null!=h.right?h.right[l]:null,t=null!=h.top?h.top[l]:null;q=this.wpa.dXa({left:q,right:r,top:t}).translate(this.center.x,this.center.y);0===l&&(n=q,p&&p.moveTo(q.x,q.y));m.push(q);p&&p.lineTo(q.x,q.y)}p&&(p.lineTo(n.x,n.y),p.qa(f.fillstyleobject),
p.ra(f.linestyleobject),p.render(e));var u=[];if(null!=f.symbol||null!=f.hightlightedsymbol)for(k=f.symbol?f.symbol:e.ac()?f.hightlightedsymbol:null,n=f.hightlightedsymbol?f.hightlightedsymbol:k,q=function(){var y=this.wpa.dTb(this.wpa.dXa({top:null!=h.top?h.top[w]:null,left:null!=h.left?h.left[w]:null,right:null!=h.right?h.right[w]:null}));u.push({index:w,top:null!=h.top?h.top[w]:y.top,left:null!=h.left?h.left[w]:y.left,right:null!=h.right?h.right[w]:y.right})},l=0;l<m.length;l++)if(p=h.selected&&
!0===h.selected[l]?n:k)if(p.Db(m[l]),h.color&&f.colorprovider&&p.qa({color:f.colorprovider.rb(h.color[l])}),h.size&&p.setSize(h.size[l],h.size[l]),e.ac()){var w=l;e.Ym(p,q.bind(this))}else p.render(e);e.ac()&&0<u.length&&e.fT({visual:this,series:g,indices:u.map(function(y){return y.index}),points:u})}};a.prototype.Sbb=function(){if(0<this.data.length){for(var e=0;e<this.data.length;++e){var f=this.data[e].values;if(f.selected)for(var g=b(f),h=0;h<g;++h)f.selected[h]=!1}this.ha()}};a.prototype.sW=
function(e,f,g){if(this.data.length>f){f=this.data[f].values;f.selected||(f.selected=[]);for(var h=b(f),k=0;k<h;++k)c(e,k)?!0===g&&(f.selected[k]=!1):f.selected[k]=!0;this.ha()}return this};a.prototype.Li=function(e,f){var g=new bk;return e instanceof U?(f=[e.la(),e.na(),e.na(),e.la()],e=[e.ka(),e.ka(),e.ma(),e.ma()],g.select(this.getRoot(),f,e,!0).filter(function(h){return!(h instanceof Fe)&&h.visual===this}.bind(this))):g.select(this.getRoot(),e.x,e.y,f?f:10).filter(function(h){return!(h instanceof
Fe)&&h.visual===this}.bind(this))};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJnZXRCb3VuZHMiOiJnYSIsInNldEJvdW5kcyI6InNhIiwicmVzZXRIaWdobGlnaHRpbmciOiJTYmIiLCJoaWdobGlnaHRJbmRpY2VzIjoic1ciLCJoaXRUZXN0IjoiTGkifX19");var mS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){b=xb(b,{center:{x:0,y:0},size:100},!0);this.center={x:0,y:0};this.size=100;this.PG=this.size/2;this.EK=this.PG/100;this.pN=this.PG*Math.sqrt(3)/100;this.RMc=this.UGc=this.aVc=this.Ub=null;this.Xbb=this.lab=this.Odb=10;this.SMc=this.VGc=this.bVc=!1;this.PMc=this.SGc=this.ZUc=null;this.QMc=this.TGc=this.$Uc=!1;this.Z4b=this.x1b=this.H9b=this.TMc=this.WGc=this.cVc=null;this.jrc=!1;this.borderStyle=null;this.EJc(b)}var a=new Ed;D(c,Sm);L(c,"geotoolkit.controls.shapes.TernaryGrid");
c.prototype.EJc=function(b){b.linestyle=X.Pa(b.linestyle);null==b.center||b.center instanceof M||(b.center=new M(b.center.x,b.center.y));null==b.center&&(b.center=new M(0,0));null==b.limits&&(b.limits={});null==b.gridlines&&(b.gridlines={});null==b.labels&&(b.labels={});null==b.border&&(b.border={});var d=b.limits;if(null==d.left||"number"!==typeof d.left.min||"number"!==typeof d.left.max||d.left.min>=d.left.max)d.left=null;if(null==d.right||"number"!==typeof d.right.min||"number"!==typeof d.right.max||
d.right.min>=d.right.max)d.right=null;if(null==d.top||"number"!==typeof d.top.min||"number"!==typeof d.top.max||d.top.min>=d.top.max)d.top=null;var e=b.gridlines;null==e.left&&(e.left={});null==e.right&&(e.right={});null==e.top&&(e.top={});var f=e.top,g=e.left;e=e.right;null==f.linestyle?f.linestyle=b.linestyle:f.linestyle instanceof X||(f.linestyle=new X(f.linestyle));null==g.linestyle?g.linestyle=b.linestyle:g.linestyle instanceof X||(g.linestyle=new X(g.linestyle));null==e.linestyle?e.linestyle=
b.linestyle:e.linestyle instanceof X||(e.linestyle=new X(e.linestyle));var h=Ki.Pa(b.textstyle)||new Ki({color:"black"});f.textstyle=Ki.Pa(f.textstyle)||h;g.textstyle=Ki.Pa(g.textstyle)||h;e.textstyle=Ki.Pa(e.textstyle)||h;null==f.visiblelabels&&(f.visiblelabels=!0);null==g.visiblelabels&&(g.visiblelabels=!0);null==e.visiblelabels&&(e.visiblelabels=!0);null==f.step&&(f.step=10);null==f.visible&&(f.visible=!0);null==g.step&&(g.step=10);null==g.visible&&(g.visible=!0);null==e.step&&(e.step=10);null==
e.visible&&(e.visible=!0);var k=b.labels;null==k.left&&(k.left={});null==k.right&&(k.right={});null==k.top&&(k.top={});var l=k.top,m=k.left;k=k.right;l.textstyle=Ki.Pa(l.textstyle)||h;m.textstyle=Ki.Pa(m.textstyle)||h;k.textstyle=Ki.Pa(k.textstyle)||h;null==l.text&&(l.text=null);null==m.text&&(m.text=null);null==k.text&&(k.text=null);h=b.border;null==h.linestyle?h.linestyle=b.linestyle:h.linestyle instanceof X||(h.linestyle=new X(h.linestyle));null==h.visible&&(h.visible=!0);this.center=b.center;
this.size=b.size;this.PG=this.size/2;this.EK=this.PG/100;this.pN=this.PG*Math.sqrt(3)/100;var n=new U(this.center.x-this.PG,this.center.y-this.PG,this.center.x+this.PG,this.center.y+this.PG);Sm.call(this,n);this.Ub=d;this.aVc=f.linestyle;this.UGc=g.linestyle;this.RMc=e.linestyle;this.Odb=f.step;this.lab=g.step;this.Xbb=e.step;this.bVc=f.visible;this.VGc=g.visible;this.SMc=e.visible;this.ZUc=f.textstyle;this.SGc=g.textstyle;this.PMc=e.textstyle;this.$Uc=f.visiblelabels;this.TGc=g.visiblelabels;this.QMc=
e.visiblelabels;this.cVc=l.textstyle;this.WGc=m.textstyle;this.TMc=k.textstyle;this.H9b=l.text;this.x1b=m.text;this.Z4b=k.text;this.jrc=h.visible;this.borderStyle=h.linestyle;void 0!==b.linestyle&&this.ra(b.linestyle)};c.prototype.sf=function(b){switch(b){case "top":return null!=this.Ub&&null!=this.Ub.top?this.Ub.top.min:0;case "left":return null!=this.Ub&&null!=this.Ub.left?this.Ub.left.min:0;case "right":return null!=this.Ub&&null!=this.Ub.right?this.Ub.right.min:0}return Number.NaN};c.prototype.kg=
function(b){switch(b){case "top":return null!=this.Ub&&null!=this.Ub.top?this.Ub.top.max:100;case "left":return null!=this.Ub&&null!=this.Ub.left?this.Ub.left.max:100;case "right":return null!=this.Ub&&null!=this.Ub.right?this.Ub.right.max:100}return Number.NaN};c.prototype.dXa=function(b){null!=this.Ub&&null!=this.Ub.left&&null!=b.left&&(b.left=(b.left-this.Ub.left.min)/(this.Ub.left.max-this.Ub.left.min)*100);null!=this.Ub&&null!=this.Ub.right&&null!=b.right&&(b.right=(b.right-this.Ub.right.min)/
(this.Ub.right.max-this.Ub.right.min)*100);null!=this.Ub&&null!=this.Ub.top&&null!=b.top&&(b.top=(b.top-this.Ub.top.min)/(this.Ub.top.max-this.Ub.top.min)*100);return this.wQ(b)};c.prototype.wQ=function(b){var d=null!=b.right?b.right:100-b.left-b.top;b=null!=b.top?b.top:100-b.right-b.left;return new M(this.size*this.EK*(2*d+b)/100-this.PG,-this.size*this.pN*b/100+this.PG)};c.prototype.dTb=function(b){b=this.idd(b);null==this.Ub||null==this.Ub.left||isNaN(b.left)||(b.left=b.left/100*(this.Ub.left.max-
this.Ub.left.min)+this.Ub.left.min);null==this.Ub||null==this.Ub.right||isNaN(b.right)||(b.right=b.right/100*(this.Ub.right.max-this.Ub.right.min)+this.Ub.right.min);null==this.Ub||null==this.Ub.top||isNaN(b.top)||(b.top=b.top/100*(this.Ub.top.max-this.Ub.top.min)+this.Ub.top.min);return b};c.prototype.idd=function(b){var d=100*-(b.getY()-this.PG)/this.size/this.pN;b=(100*(b.getX()+this.PG)/this.size/this.EK-d)/2;var e=100-d-b;if(0>d||100<d||0>b||100<b||0>e||100<e)e=b=d=Number.NaN;return{left:e,right:b,
top:d}};c.prototype.render=function(b){this.aVb(b);this.Ghd(b);this.$k(b);this.QE(b)};c.prototype.$k=function(b){if(this.jrc){var d=this.wQ({left:100,right:0}).translate(this.center.x,this.center.y),e=this.wQ({left:0,right:100}).translate(this.center.x,this.center.y),f=this.wQ({left:0,right:0}).translate(this.center.x,this.center.y);a.clear().moveTo(d.getX(),d.getY()).lineTo(e.getX(),e.getY()).lineTo(f.getX(),f.getY()).lineTo(d.getX(),d.getY()).close();b.ra(this.borderStyle);b.Gx(a);b.stroke()}};
c.prototype.aVb=function(b){var d;if(this.bVc){b.ra(this.aVc);var e=null!=this.Ub&&null!=this.Ub.top?this.Ub.top.min:0;var f=null!=this.Ub&&null!=this.Ub.top?this.Ub.top.max:100;for(d=f-this.Odb;d>e;d-=this.Odb){var g=null!=this.Ub&&null!=this.Ub.top?(d-e)/(f-e)*100:d;var h=this.wQ({left:g,right:0}).translate(this.center.x,this.center.y);g=this.wQ({left:0,right:g}).translate(this.center.x,this.center.y);b.Nc(h.getX(),h.getY(),g.getX(),g.getY())}}if(this.VGc)for(b.ra(this.UGc),e=null!=this.Ub&&null!=
this.Ub.left?this.Ub.left.min:0,f=null!=this.Ub&&null!=this.Ub.left?this.Ub.left.max:100,d=f-this.lab;d>e;d-=this.lab)g=null!=this.Ub&&null!=this.Ub.left?(d-e)/(f-e)*100:d,h=this.wQ({top:g,right:0}).translate(this.center.x,this.center.y),g=this.wQ({top:0,right:g}).translate(this.center.x,this.center.y),b.Nc(h.getX(),h.getY(),g.getX(),g.getY());if(this.SMc)for(b.ra(this.RMc),e=null!=this.Ub&&null!=this.Ub.right?this.Ub.right.min:0,f=null!=this.Ub&&null!=this.Ub.right?this.Ub.right.max:100,d=f-this.Xbb;d>
e;d-=this.Xbb)g=null!=this.Ub&&null!=this.Ub.right?(d-e)/(f-e)*100:d,h=this.wQ({left:g,top:0}).translate(this.center.x,this.center.y),g=this.wQ({left:0,top:g}).translate(this.center.x,this.center.y),b.Nc(h.getX(),h.getY(),g.getX(),g.getY())};c.prototype.Ghd=function(b){var d,e=new ek;if(this.$Uc){e.ib(this.ZUc);e.vt(!0);e.Yy(Math.PI/3);e.tc(O.Je);var f=null!=this.Ub&&null!=this.Ub.top?this.Ub.top.min:0;var g=null!=this.Ub&&null!=this.Ub.top?this.Ub.top.max:100;for(d=g-this.Odb;d>f;d=Math.round(100*
(d-this.Odb))/100){e.Eb(Math.round(100*d)/100);var h=null!=this.Ub&&null!=this.Ub.top?(d-f)/(g-f)*100:d;h=this.wQ({top:h,left:-2}).translate(this.center.x,this.center.y);e.Db(h.getX(),h.getY());e.render(b)}}if(this.TGc)for(e.ib(this.SGc),e.vt(!0),e.Yy(-Math.PI/3),e.tc(O.Je),f=null!=this.Ub&&null!=this.Ub.left?this.Ub.left.min:0,g=null!=this.Ub&&null!=this.Ub.left?this.Ub.left.max:100,d=g-this.lab;d>f;d=Math.round(100*(d-this.lab))/100)e.Eb(Math.round(100*d)/100),h=null!=this.Ub&&null!=this.Ub.left?
(d-f)/(g-f)*100:d,h=this.wQ({left:h,right:-2}).translate(this.center.x,this.center.y),e.Db(h.getX(),h.getY()),e.render(b);if(this.QMc)for(e.ib(this.PMc),e.vt(!0),e.Yy(0),e.tc(O.Xd),f=null!=this.Ub&&null!=this.Ub.right?this.Ub.right.min:0,g=null!=this.Ub&&null!=this.Ub.right?this.Ub.right.max:100,d=g-this.Xbb;d>f;d=Math.round(100*(d-this.Xbb))/100)e.Eb(Math.round(100*d)/100),h=null!=this.Ub&&null!=this.Ub.right?(d-f)/(g-f)*100:d,h=this.wQ({right:h,top:-2}).translate(this.center.x,this.center.y),e.Db(h.getX(),
h.getY()),e.render(b)};c.prototype.QE=function(b){var d=new ek;d.vt(!0);if(this.H9b){d.ib(this.cVc);d.tc(O.Je);var e=this.wQ({right:-1,left:-1}).translate(this.center.x,this.center.y);d.Db(e.getX(),e.getY());d.Eb(this.H9b);d.render(b)}this.x1b&&(d.ib(this.WGc),d.tc(O.Qf),e=this.wQ({top:-1,right:-1}).translate(this.center.x,this.center.y),d.Db(e.getX(),e.getY()),d.Eb(this.x1b),d.render(b));this.Z4b&&(d.ib(this.TMc),d.tc(O.Ld),e=this.wQ({top:-1,left:-1}).translate(this.center.x,this.center.y),d.Db(e.getX(),
e.getY()),d.Eb(this.Z4b),d.render(b))};c.prototype.ia=function(){var b=Sm.prototype.ia.call(this);b=xb(this.options,b);b.options=this.options;b.center=this.center;b.size=this.size;return b};c.prototype.fa=function(b){Sm.prototype.fa.call(this,b);this.options=G(void 0!==b.options?b.options:b,this.options,!0);this.EJc(this.options);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ0ZXJuYXJ5VG9DYXJ0ZXNpYW4iOiJkWGEiLCJjYXJ0ZXNpYW5Ub1Rlcm5hcnkiOiJkVGIiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var nS=/*#__PURE__*/va(/*#__PURE__*/{bdc:"maxtomin",edc:"mintomax",Bc:"none"},2,"eyJNYXhUb01pbiI6ImJkYyIsIk1pblRvTWF4IjoiZWRjIiwiTm9uZSI6IkJjIn0g"),oS=/*#__PURE__*/va(/*#__PURE__*/{sk:0,Bo:1,Na:2},2,"eyJJbnNpZGUiOiJzayIsIk91dHNpZGUiOiJCbyIsIkNlbnRlciI6Ik5hIn0g"),pS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){Cg.call(this,d);d=G(d,{left:null,right:null,label:null,bounds:new U(0,0,200,200),leftfillstyle:"rgba(128,100,255,1.0)",rightfillstyle:"rgba(128,100,255,1.0)",linestyle:new X({color:"rgba(0,0,0,1.0)",pixelsnapmode:!0}),leftlinestyle:new X({color:"rgba(0,0,0,1.0)",pixelsnapmode:!0}),rightlinestyle:new X({color:"rgba(0,0,0,1.0)",pixelsnapmode:!0}),lefttextstyle:new Ki(a,"middle","left",b),righttextstyle:new Ki(a,
"middle","right",b),labelposition:c.AZa.Na,spacing:.2,autogradient:!0,sort:nS.Bc,drawlabels:!1},!0);this.oDa=d.sort;this.sa(d.bounds);this.c3=d.spacing;this.vMa=d.drawlabels;this.ja=[];this.Hp=[];this.y6=d.autogradient;this.OPa=d.labelposition;void 0!==d.data?this.setData(d.data):this.setData(d);this.M7b(d.righttextstyle);this.S6b(d.lefttextstyle);this.Rga(d.leftlinestyle);this.Uga(d.rightlinestyle);this.kWa(d.leftfillstyle);this.xWa(d.rightfillstyle);this.qa(d.fillstyle);this.ra(d.linestyle)}var a=
"#757575",b="12px Roboto";L(c,"geotoolkit.controls.shapes.TornadoChart");D(c,Cg);c.h3c=nS;c.AZa=oS;c.prototype.setData=function(d){if(null==d)return this;var e=d.left,f=d.right,g=d.label;null!=d.sort&&d.sort&&(this.oDa=d.sort);this.ja=[];this.Hp=[];if(null!=e&&e instanceof Array&&null!=f&&f instanceof Array){for(d=0;d<e.length&&d<f.length;d++){var h=null;null!=g&&null!=g[d]&&(h=g[d]);this.ja.push({left:e[d],right:f[d],label:h})}this.$8b()}e=Number.NEGATIVE_INFINITY;for(d=0;d<this.Hp.length;d++)this.Hp[d].left>
e&&(e=this.Hp[d].left),this.Hp[d].right>e&&(e=this.Hp[d].right);this.Ub=e===Number.NEGATIVE_INFINITY?new U(0,0,1,1):new U(-e,.5,e,this.Hp.length+.5);this.ncd();return this};c.prototype.$8b=function(){this.oDa===nS.Bc?this.Hp=this.ja:(this.Hp=this.ja.slice(),this.oDa===nS.bdc?this.Hp.sort(function(d,e){return e.left+e.right-(d.left+d.right)}):this.oDa===nS.edc&&this.Hp.sort(function(d,e){return d.left+d.right-(e.left+e.right)}))};c.prototype.ncd=function(){var d,e=[];for(d=0;d<this.Hp.length;++d)e.push({position:d+
1,grade:"major"});var f=[];for(d=0;d<this.Hp.length;++d)f.push({position:d+1,grade:"major",label:this.Hp[d].label});this.VO={ticks:e,labels:f}};c.prototype.qvb=function(){return this.VO};c.prototype.nIa=function(d){this.y6!==d&&(this.y6=d,this.xWa(this.vxa),this.kWa(this.Hwa));return this};c.prototype.VRa=function(){return this.y6};c.prototype.IAb=function(d){this.c3=d;return this};c.prototype.lW=function(){return this.c3};c.prototype.$Oc=function(d){this.vMa=d;if(!this.vMa){d=Number.NEGATIVE_INFINITY;
for(var e=0;e<this.Hp.length;e++)this.Hp[e].left>d&&(d=this.Hp[e].left),this.Hp[e].right>d&&(d=this.Hp[e].right);this.Ub=new U(-d,.5,d,this.Hp.length+.5)}return this};c.prototype.Ymd=function(){return this.vMa};c.prototype.Vr=function(d){this.OPa=d;return this};c.prototype.K9=function(){return this.OPa};c.prototype.getData=function(){return this.Hp};c.prototype.render=function(d){d=null!=this.Qa()?d.Zb(this.Qa()):d;this.Eh(d);d.ac()?(d.qa(rf.kh),d.sc(this.pa())):(this.Aua(d),this.jh(d))};c.prototype.Uga=
function(d,e){if(this.Ybb===d)return this;this.Ybb=X.He(this,this.Ybb,d,e,this.sb());this.xa().ha();return this};c.prototype.Rga=function(d,e){if(this.mab===d)return this;this.mab=X.He(this,this.mab,d,e,this.sb());this.xa().ha();return this};c.prototype.xWa=function(d,e){if(this.vxa===d)return this;this.vxa=tg.$t(this,this.vxa,d,e,this.sb());this.Ioa=null;if(this.y6){e=Pd.Sg(this.vxa.rb());d=new Pe(e);d.Y8(-.1);d.nM(.1);e=d.zN();var f=Pd.Sg(this.vxa.rb());d=new Pe(f);d.Y8(.1);d.nM(-.1);f=d.zN();d=
f.Nl();e=e.Nl();f=f.Nl();this.Ioa=new ng;this.Ioa.bRa();this.Ioa.$n(0,d);this.Ioa.$n(.5,e);this.Ioa.$n(1,f);this.Ioa.Xga(new M(0,0));this.Ioa.setEndPoint(new M(0,1))}this.xa().ha();return this};c.prototype.ZSa=function(){return this.Ybb};c.prototype.DSa=function(){return this.mab};c.prototype.GZb=function(){return this.vxa};c.prototype.oYb=function(){return this.Hwa};c.prototype.kWa=function(d,e){if(this.Hwa===d)return this;this.Hwa=tg.$t(this,this.Hwa,d,e,this.sb());this.Jna=null;if(this.y6){e=Pd.Sg(this.Hwa.rb());
d=new Pe(e);d.Y8(-.1);d.nM(.1);e=d.zN();var f=Pd.Sg(this.Hwa.rb());d=new Pe(f);d.Y8(.1);d.nM(-.1);f=d.zN();d=f.Nl();e=e.Nl();f=f.Nl();this.Jna=new ng;this.Jna.bRa();this.Jna.$n(0,d);this.Jna.$n(.5,e);this.Jna.$n(1,f);this.Jna.Xga(new M(0,0));this.Jna.setEndPoint(new M(0,1))}this.xa().ha();return this};c.prototype.S6b=function(d,e){if(this.nab===d)return this;this.nab=Ki.He(this,this.nab,d,e,this.sb());this.xa().ha();return this};c.prototype.M7b=function(d,e){if(this.Zbb===d)return this;this.Zbb=Ki.He(this,
this.Zbb,d,e,this.sb());this.xa().ha();return this};c.prototype.Aua=function(d){if(!(0>=this.Hp.length)){var e=d.Fa(),f=e.pd(d.jg());e=e.Ta(this.ga());d.ra(this.Ea());this.Pvd(d,e);e=new W;e.MIa(this.pa(),this.ga(),!1,!1,!1);var g=this.Hwa,h=this.vxa;null!=this.Jna&&(g=this.Jna);null!=this.Ioa&&(h=this.Ioa);for(var k=this.Hp.length,l=0;l<k;l++){var m=this.Ub.ka()+(1*l+this.c3/2),n=m+(1-this.c3),p=new U(-this.Hp[l].left,m,0,n);m=new U(0,m,this.Hp[l].right,n);e.Ta(p,p);e.Ta(m,m);f.Nd(p)&&(d.ra(this.mab),
d.qa(g,p),d.sc(p));f.Nd(m)&&(d.ra(this.Ybb),d.qa(h,m),d.sc(m))}this.vMa&&this.QE(d,e);d.ra(this.Ea());f=this.Ka.la()+this.Ka.ca()/2;d.Nc(f,this.Ka.ka(),f,this.Ka.ma())}};c.prototype.QE=function(d,e){var f=d.Fa();e=W.multiply(f,e);d.Tb(new W);d.ib(this.nab);d.WJ().textBaseline="middle";var g;for(g=0;g<this.BNa.length;g++){d.WJ().textAlign=this.BNa[g].align;var h=e.Ma(this.BNa[g].position);d.je(h.x,h.y,this.BNa[g].label)}d.ib(this.Zbb);d.WJ().textBaseline="middle";for(g=0;g<this.ePa.length;g++)d.WJ().textAlign=
this.ePa[g].align,h=e.Ma(this.ePa[g].position),d.je(h.x,h.y,this.ePa[g].label);d.Tb(f)};c.prototype.Pvd=function(d,e){if(this.vMa){d=!0;null!=this.BNa&&this.ePa?d=!1:(this.BNa=[],this.ePa=[]);var f=Number.NEGATIVE_INFINITY,g;for(g=0;g<this.Hp.length;g++)this.Hp[g].left>f&&(f=this.Hp[g].left),this.Hp[g].right>f&&(f=this.Hp[g].right);var h=this.Hp.length;for(g=0;g<h;g++){var k=e.ca()/2,l=k/f*this.Hp[g].left,m=this.Dk(this.Hp[g].left),n=rg.measureText(m,this.nab),p=k/f*this.Hp[g].right,q=this.Dk(this.Hp[g].right),
r=rg.measureText(q,this.Zbb),t=new M(-this.Hp[g].left,g+1),u=new M(this.Hp[g].right,g+1),w="right",y="left";this.OPa===c.AZa.Bo?(n.ca()+l>=k&&(n=n.ca()+l-k,l*=f/(l-n),l>f&&(f=l)),r.ca()+p>=k&&(n=r.ca()+p-k,l=f/(p-n)*p,l>f&&(f=l))):this.OPa===c.AZa.sk?d&&(n.width<l&&(w="left"),r.width<p&&(y="right")):this.OPa===c.AZa.Na&&d&&(n.width<l&&(t=new M(0,g+1)),r.width<p&&(u=new M(0,g+1)));d&&(this.BNa.push({label:m,position:t,align:w}),this.ePa.push({label:q,position:u,align:y}))}this.Ub=new U(-f,.5,f,this.Hp.length+
.5)}};c.prototype.Dk=function(d){var e=100;null!=this.Ws&&(e=this.Ws);d=(Math.round(d*e)/e).toString();return" "+d+" "};c.prototype.pa=function(){return this.Ub};c.prototype.ptd=function(){return this.oDa};c.prototype.lSc=function(d){this.oDa=d;this.$8b();return this};c.prototype.ga=function(){return null!=this.Ka?this.Ka:this.Ub};c.prototype.sa=function(d){this.Ka=d;this.ha();return this};c.prototype.ia=function(){var d=Cg.prototype.ia.call(this);d.bounds=this.Ka;d.lefttextstyle=this.nab;d.leftfillstyle=
this.Hwa;d.leftlinestyle=this.mab;d.linestyle=this.Cf;d.righttextstyle=this.Zbb;d.rightlinestyle=this.Ybb;d.rightfillstyle=this.vxa;d.autogradient=this.y6;d.spacing=this.c3;d.sort=this.oDa;d.drawlabels=this.vMa;d.labelposition=this.OPa;return d};c.prototype.fa=function(d){d=hc(d);if(null==d)return this;Cg.prototype.fa.call(this,d);void 0!==d.bounds&&(this.Ka=d.bounds);void 0!==d.lefttextstyle&&this.S6b(d.lefttextstyle,!1===d.lefttextstyle instanceof Ki);void 0!==d.leftfillstyle&&this.kWa(d.leftfillstyle,
!1===d.leftfillstyle instanceof rf);void 0!==d.leftlinestyle&&this.Rga(d.leftlinestyle,!1===d.leftlinestyle instanceof X);void 0!==d.linestyle&&this.ra(d.linestyle,!1===d.linestyle instanceof X);void 0!==d.righttextstyle&&this.M7b(d.righttextstyle,!1===d.righttextstyle instanceof Ki);void 0!==d.rightlinestyle&&this.Uga(d.rightlinestyle,!1===d.rightlinestyle instanceof X);void 0!==d.rightfillstyle&&this.xWa(d.rightfillstyle,!1===d.rightfillstyle instanceof rf);void 0!==d.data&&this.setData(d.data);
void 0!==d.autogradient&&this.nIa(d.autogradient);void 0!==d.spacing&&(this.c3=d.spacing);void 0!==d.sort&&this.lSc(d.sort);void 0!==d.drawlabels&&this.$Oc(d.drawlabels);void 0!==d.labelposition&&this.Vr(d.labelposition);d.hasOwnProperty("left")&&d.hasOwnProperty("right")&&this.setData(d);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzb3J0RGF0YSI6IiQ4YiIsImdldFRpY2tzQW5kTGFiZWxzIjoicXZiIiwic2V0QXV0b0dyYWRpZW50IjoibklhIiwiZ2V0QXV0b0dyYWRpZW50IjoiVlJhIiwic2V0U3BhY2luZyI6IklBYiIsImdldFNwYWNpbmciOiJsVyIsInNldERyYXdMYWJlbHMiOiIkT2MiLCJnZXREcmF3TGFiZWxzIjoiWW1kIiwic2V0TGFiZWxQb3NpdGlvbiI6IlZyIiwiZ2V0TGFiZWxQb3NpdGlvbiI6Iks5Iiwic2V0UmlnaHRMaW5lU3R5bGUiOiJVZ2EiLCJzZXRMZWZ0TGluZVN0eWxlIjoiUmdhIiwic2V0UmlnaHRGaWxsU3R5bGUiOiJ4V2EiLCJnZXRSaWdodExpbmVTdHlsZSI6IlpTYSIsImdldExlZnRMaW5lU3R5bGUiOiJEU2EiLCJnZXRSaWdodEZpbGxTdHlsZSI6IkdaYiIsImdldExlZnRGaWxsU3R5bGUiOiJvWWIiLCJzZXRMZWZ0RmlsbFN0eWxlIjoia1dhIiwic2V0TGVmdFRleHRTdHlsZSI6IlM2YiIsInNldFJpZ2h0VGV4dFN0eWxlIjoiTTdiIiwiZ2V0TW9kZWxMaW1pdHMiOiJwYSIsImdldFNvcnQiOiJwdGQiLCJzZXRTb3J0IjoibFNjIiwiZ2V0Qm91bmRzIjoiZ2EiLCJzZXRCb3VuZHMiOiJzYSIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSJ9fX0g");var rS=/*#__PURE__*/va(/*#__PURE__*/{TKa:"Squarify",Hfb:"HorizontalSliceAndDice",Ugb:"VerticalSliceAndDice",Beb:"AlternateSliceAndDice"},2,"eyJTcXVhcmlmeSI6IlRLYSIsIkhvcml6b250YWxTbGljZUFuZERpY2UiOiJIZmIiLCJWZXJ0aWNhbFNsaWNlQW5kRGljZSI6IlVnYiIsIkFsdGVybmF0ZVNsaWNlQW5kRGljZSI6IkJlYiJ9"),tS=/*#__PURE__*/va(/*#__PURE__*/{nb:"Top",Jeb:"Below",kc:"Left",$b:"Right"},2,"eyJUb3AiOiJuYiIsIkJlbG93IjoiSmViIiwiTGVmdCI6ImtjIiwiUmlnaHQiOiIkYiJ9"),uS=/*#__PURE__*/va(/*#__PURE__*/{HX:"onDataChanged"},2,"eyJEYXRhQ2hhbmdlZCI6IkhYIn0g"),vS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(m,n,p,q){n=q?n:p;for(q=p=0;q<m.length;q++)p+=m[q].value;return n/p}function a(m,n,p,q){return Math.max(q*q*n/(p*p),p*p/(q*q*m))}function b(m,n,p){n=n*p/e(m);for(p=0;p<m.length;p++)m[p].value*=n;return m}function d(m){m.sort(function(n,p){return p.value-n.value});return m}function e(m){null==m&&(m=
[]);for(var n=0,p=0;p<m.length;p++)n+=m[p].value;return n}function f(m,n){Sm.call(this,m);this.ww=new U;this.Pb=(new ek).yaa(!0).vt(!0).bpa(!0).apa(!0).wb(!1);this.ea={nodevalues:{visible:!0,textstyle:new Ki,location:f.qdc.nb},linestyle:new X({color:"gray",width:1}),fillstyle:new rf({color:"lightblue"})};this.Ykc=this.ea.nodevalues.visible;this.Xkc=this.ea.nodevalues.location;this.Nca=f.MQ.TKa;this.qu=[];this.Me=[];this.Ul=!1;this.r8=this.e3=0;this.Q3a=!0;this.p1a=!1;this.Rc=null;this.Zne=0;this.setOptions(m);
n&&this.setData(n)}function g(m){for(var n=0;n<m.length;n++)if(m[n].id=l++,m[n].hasOwnProperty("level")){g(m[n].level);for(var p=m[n].children=0;p<m[n].level.length;p++)m[n].children=m[n].children+m[n].level[p].children+1}else m[n].children=0}function h(m,n){for(var p=0;p<m.length;p++)m[p].atlevel=n,0<m[p].children&&(n+=1,h(m[p].level,n),--n)}function k(m,n){for(var p=0;p<m.length;p++){if(0===m[p].atlevel)m[p].parent=-1,n=[];else{var q=m[p].atlevel;n=n.slice(0,q);m[p].parent=n[n.length-1]}0<m[p].children&&
(n.push(m[p].id),k(m[p].level,n))}}var l=0;D(f,Sm);L(f,"geotoolkit.controls.shapes.Treemap");f.MQ=rS;f.qdc=tS;f.Ja=uS;f.prototype.fa=function(m){m=hc(m);if(null==m)return this;Sm.prototype.fa.call(this,m);return this.setOptions(m)};f.prototype.ia=function(){var m=Sm.prototype.ia.call(this);return xb(this.ta(),m)};f.prototype.ZKd=function(m){switch(m){case f.MQ.Beb:this.Nca=f.MQ.Beb;break;case f.MQ.Hfb:this.Nca=f.MQ.Hfb;break;case f.MQ.Ugb:this.Nca=f.MQ.Ugb;break;default:this.Nca=f.MQ.TKa}this.Ul=
!1;this.xa().ha();return this};f.prototype.xpd=function(){return this.Nca};f.prototype.setData=function(m){m=G(m,{mode:f.MQ.TKa,datasets:null});this.Nca=m.mode;m=m.datasets;this.qu=wb(m);this.notify(uS.HX,this,this.qu);this.ha();return this};f.prototype.getData=function(){return{mode:this.Nca,datasets:this.qu}};f.prototype.xQd=function(m){Array.isArray(m)&&0<m.length&&(this.qu=m,this.Ul=!1,this.notify(uS.HX,this,m))};f.prototype.setOptions=function(m){m=G(m,{});xb(m,this.ea);this.ea.nodevalues&&(this.Ykc=
this.ea.nodevalues.visible,this.Xkc=this.ea.nodevalues.location,this.Pb.ib(this.ea.nodevalues.textstyle));this.ea.linestyle=X.Pa(this.ea.linestyle);this.ea.fillstyle=tg.ad(this.ea.fillstyle);this.ha();return this};f.prototype.ta=function(){return{nodevalues:{visible:this.Ykc,location:this.Xkc,textstyle:this.Pb.jb()}}};f.prototype.Zjd=function(m,n){if(null!=this.qu&&n){m=m.slice(0);var p=n.getX(),q=n.getY(),r=n.ca();n=n.da();this.Me=[];if(this.Nca===f.MQ.TKa)m=b(m,r,n),m=d(m),this.v7a(m,[],r,n,p,q);
else{switch(this.Nca){case f.MQ.Hfb:var t="vertical";break;case f.MQ.Ugb:t="horizontal";break;case f.MQ.Beb:t="alternate";break;default:t=(t=this.kd<this.$c)?"horizontal":"vertical"}this.wvc(m,r,n,p,q,t)}}};f.prototype.v7a=function(m,n,p,q,r,t){var u=q<p,w=u?q:p,y=m[0],A=null!=y?y.value:0,x=n.map(function(B){return B.value}),C=e(n),z=V.sf(x);x=V.kg(x);A=a(Math.min(z,A),Math.max(x,A),C+A,w);z=a(z,x,C,w);if(0===n.length||A<z)m.shift(),n.push(y),this.v7a(m,n,p,q,r,t);else{x="";y=r;z=t;w=C/w;for(C=0;C<
n.length;C++){A=n[C].value/w;x=void 0!==n[C].name?n[C].name:"";var v=void 0!==n[C].color?n[C].color:"";u?(this.Me.push({x:y,y:z,width:w,height:A,color:v,name:x,children:n[C].children,id:n[C].id,atlevel:n[C].atlevel,parent:n[C].parent}),void 0!==n[C].level&&(x=b(n[C].level,w,A),x=d(x),this.v7a(x,[],w,A,y,z)),z+=A):(this.Me.push({x:y,y:z,width:A,height:w,color:v,name:x,children:n[C].children,id:n[C].id,atlevel:n[C].atlevel,parent:n[C].parent}),void 0!==n[C].level&&(x=b(n[C].level,A,w),x=d(x),this.v7a(x,
[],A,w,y,z)),y+=A)}u?(r+=w,p-=w):(t+=w,q-=w);0<m.length&&this.v7a(m,[],p,q,r,t)}};f.prototype.wvc=function(m,n,p,q,r,t){var u=[],w=!1;null==t&&(t="");switch(t){case "horizontal":t=!0;break;case "vertical":t=!1;break;case "alternate":t=p<n;w=!0;break;default:t=p<n}var y,A=n,x=p;if(w)for(y=t;0<m.length;){var C=c(m,A,x,y);u.push({scaledValue:m[0].value*C,color:m[0].hasOwnProperty("color")?m[0].color:"",child:m[0].hasOwnProperty("level")?m[0].level:null,name:m[0].hasOwnProperty("name")?m[0].name:"",children:m[0].children,
id:m[0].id,atlevel:m[0].atlevel,parent:m[0].parent});y?A-=m[0].value*C:x-=m[0].value*C;y=!y;m.shift()}else for(C=c(m,A,x,t);0<m.length;)u.push({scaledValue:m[0].value*C,color:m[0].hasOwnProperty("color")?m[0].color:"",child:m[0].hasOwnProperty("level")?m[0].level:null,name:m[0].hasOwnProperty("name")?m[0].name:"",children:m[0].children,id:m[0].id,atlevel:m[0].atlevel,parent:m[0].parent}),m.shift();y=t;for(m=0;m<u.length;m++)this.Me.push({x:q,y:r,width:y?u[m].scaledValue:n,height:y?p:u[m].scaledValue,
color:u[m].color,name:u[m].name,children:u[m].children,id:u[m].id,atlevel:u[m].atlevel,parent:u[m].parent}),null!=u[m].child&&this.wvc(u[m].child,y?u[m].scaledValue:n,y?p:u[m].scaledValue,q,r,w?"alternate":t?"vertical":"horizontal"),w?(y?(q+=u[m].scaledValue,n-=u[m].scaledValue):(r+=u[m].scaledValue,p-=u[m].scaledValue),y=!y):t?q+=u[m].scaledValue:r+=u[m].scaledValue};f.prototype.Eyb=function(m,n,p,q){var r={x:n.x,y:n.y,width:n.width,height:n.height},t=this.ea.fillstyle;""!==n.color&&null==p&&(t=
new rf({color:n.color}));null!=p&&""!==p&&(t=new rf({color:p}));n=this.ww.cb(r);!0===q&&(this.Rc=W.Sd(n,this.Ka));null!=this.Rc&&(n=this.Rc.transform(n));m.qa(t,n);m.ra(this.ea.linestyle,n);m.sc(n)};f.prototype.XHa=function(m,n){var p=n.name.trim(),q=n.x+n.width/2;n=n.y+n.height/2;null!=this.Rc&&(n=this.Rc.Hc(q,n),q=n.getX(),n=n.getY());this.Pb.Eb(p);this.Pb.Db(q,n);this.Pb.render(m)};f.prototype.hid=function(){var m;if(0===this.r8)for(m=0;m<this.Me.length;m++)this.Me[m].visible=0===this.Me[m].atlevel,
this.Me[m].visibleborder=!0;else{var n=null,p=0;for(m=0;m<this.Me.length;m++)null==n||p>=n?(this.Me[m].id===this.e3?(this.Me[m].visibleborder=!0,n=this.Me[m].children):this.Me[m].visibleborder=!1,this.Me[m].visible=!1):(p+=1,this.Me[m].visible=this.Me[m].atlevel===this.r8,this.Me[m].visibleborder=!0)}};f.prototype.kHd=function(m){var n=!0,p;for(p=0;p<this.Me.length;p++)if(this.Me[p].visible){this.Eyb(m,this.Me[p]);var q=this.Me[p].color}else this.Me[p].visibleborder&&(0<this.r8&&n?(this.Eyb(m,this.Me[p],
q,!0),n=!1):(0===this.r8&&(this.Rc=null),this.Eyb(m,this.Me[p],q,!1)));for(p=0;p<this.Me.length;p++)this.Me[p].visible&&this.XHa(m,this.Me[p])};f.prototype.lHd=function(m){for(var n=0;n<this.Me.length;n++)this.Eyb(m,this.Me[n]),this.XHa(m,this.Me[n])};f.prototype.kHc=function(){if(!this.Ul){this.Ul=!0;var m=this.ga(),n=[];0>=this.qu.length&&(this.qu=[{value:1,name:"Empty Tree"}]);if(0===m.ca()||0===m.da())m=null;n=wb(this.qu);l=0;this.Q3a=!0;g(n);h(n,0);k(n,[]);this.Zjd(n,m);this.Nca===f.MQ.TKa&&
this.Me.sort(function(p,q){return p.id-q.id})}};f.prototype.render=function(m){var n=null!=this.Qa()?m.Zb(this.Qa()):m;this.Eh(n);this.kHc();this.Q3a&&(this.Q3a=!1,this.hid());this.p1a?this.kHd(n):this.lHd(n);this.jh(m)};f.prototype.Fzd=function(m){this.kHc();if(this.Ul){for(var n=[],p=0;p<this.Me.length;p++)this.Me[p].name===m&&n.push(this.Me[p].id);return n}return[]};f.prototype.Li=function(m){var n=this.wa();m=n.hd(m);n=[];for(var p=0;p<this.Me.length;p++)if(this.ww.cb({x:this.Me[p].x,y:this.Me[p].y,
width:this.Me[p].width,height:this.Me[p].height}),!this.p1a||this.Me[p].visible)null!=this.Rc&&(this.ww=this.Rc.transform(this.ww)),this.ww.contains(m.getX(),m.getY())&&n.push(this.Me[p]);return n};f.prototype.RJd=function(m){this.p1a=m;return this};f.prototype.UEc=function(m){this.p1a=this.Q3a=!0;if(isNaN(m)||0>m||m>this.Me.length-1)this.e3=this.r8=0,this.ha(),this.Rc=null;else{var n=this.Me[m];if(null!=n){var p=n.parent;1<=n.children?(this.e3=m,this.r8=n.atlevel+1):-1===p?this.r8=this.e3=0:(this.e3=
p,this.r8=n.atlevel);this.ha()}}};f.prototype.Lvd=function(m){if(!(isNaN(m)||0>m||m>this.Me.length-1)&&(this.p1a=this.Q3a=!0,m=this.Me[m],null!=m)){m=m.parent;if(-1===m)this.r8=this.e3=0;else{var n=this.Me[m].parent;-1===n?this.r8=this.e3=0:(this.e3=n,this.r8=this.Me[m].atlevel)}this.Rc=null;this.ha()}};f.prototype.U8b=function(m,n){n?this.Lvd(m):this.UEc(m)};f.prototype.sOd=function(m){if(!(isNaN(m)||0>=m)){for(var n=0;n<m;n++)if(-1!==this.e3){var p=this.Me[this.e3];this.e3=p.parent}this.UEc(this.e3)}};
return f}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRMYXlvdXRNb2RlIjoiWktkIiwiZ2V0TGF5b3V0TW9kZSI6InhwZCIsInVwZGF0ZURhdGFTZXRzIjoieFFkIiwiZ2V0T3B0aW9ucyI6InRhIiwibG9va1VwRm9ySWRCeU5hbWUiOiJGemQiLCJoaXRUZXN0IjoiTGkiLCJzaG93TGV2ZWwiOiJVOGIiLCJzaG93UGFyZW50TGV2ZWxBdERpc3RhbmNlIjoic09kIn19fSAg");var xS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e){e=xb(e,{element:null,icon:"",title:"",action:null,init:null,checkbox:{enabled:!1,checked:!1,name:[]},width:null,height:null,color:null,border:""});this.Bf=null==e.element?xc("div",b):e.element;this.gLa=e.action;this.Di=e.init;this.Whb=e.checkbox.enabled;this.fc=Array.isArray(e.checkbox.name)?e.checkbox.name:[e.checkbox.name];this.$c=e.width;this.kd=e.height;if(e.icon){var f=xc("span",e.icon);this.Bf.appendChild(f)}e.title&&(this.Bf.title=e.title);this.Whb&&e.checkbox.checked&&
this.Bf.classList.add(d);e.color&&this.setColor(e.color);e.border&&this.Noa(e.border)}function a(e){e.preventDefault()}var b="cg-toolbar-button",d="cg-toolbar-checked";L(c,"geotoolkit.controls.toolbar.Button");c.prototype.clone=function(){return Cb(this)};c.prototype.Ba=function(e){this.Bf=e.Bf.cloneNode(!0);this.gLa=e.gLa;this.Di=e.Di;this.Whb=e.Whb;this.fc=e.fc;this.$c=e.$c;this.kd=e.kd;return this};c.prototype.rd=function(){return this.Bf};c.prototype.ckd=function(){return this.gLa};c.prototype.HId=
function(e){this.gLa=e;return this};c.prototype.apd=function(){return this.Di};c.prototype.NKd=function(e){this.Di=e;return this};c.prototype.Da=function(){return this.fc};c.prototype.ca=function(){return this.$c};c.prototype.da=function(){return this.kd};c.prototype.setSize=function(e,f){null==f&&(f=e);this.Bf.style.width=e+"px";this.Bf.style.minWidth=e+"px";this.Bf.style.height=f+"px";this.Bf.style.minHeight=f+"px";this.Bf.style.lineHeight=f+"px";this.$c=e;this.kd=f;return this};c.prototype.OWb=
function(){return this.Bf.classList.contains(d)};c.prototype.kcb=function(e){e?this.Bf.classList.add(d):this.Bf.classList.remove(d);return this};c.prototype.setColor=function(e){this.Wea().style.backgroundColor=e;return this};c.prototype.rb=function(){return this.Wea().style.backgroundColor};c.prototype.Noa=function(e){this.Wea().style.border=e;return this};c.prototype.TE=function(){return this.Wea().style.border};c.prototype.clear=function(e,f){if(this.Bf.parentNode){var g=f.indexOf(this);0<=g&&
f.splice(g,1);this.Di&&this.Di.call(this,e,!1);this.Wea().removeEventListener("click",this.pJ);this.Wea().removeEventListener("contextmenu",a);e=this.Bf.parentNode;for(f=0;f<e.childElementCount;f++)if(e.children[f]===this.Bf){null==e.children[f+1]||e.children[f+1].classList.contains(b)?null==e.children[f-1]||e.children[f-1].classList.contains(b)||e.removeChild(e.children[f-1]):e.removeChild(e.children[f+1]);e.removeChild(this.Bf);break}}};c.prototype.Wea=function(){return this.Bf};c.prototype.init=
function(e,f,g,h,k,l){this.Di&&this.Di.call(this,e,!0);var m=this;this.pJ=function(n){l(m);n.stopPropagation();n.preventDefault()};this.Bf.classList.contains(d)&&this.action(e,!0);this.Wea().addEventListener("click",this.pJ);this.Wea().addEventListener("contextmenu",a);k=null!=k&&null!=h?2*k:k;null!=k&&g.childElementCount>k?(e=g.children[k],g.insertBefore(this.Bf,e),null!=h&&g.insertBefore(h.cloneNode(!0),e)):(null!=h&&0<g.childElementCount&&g.appendChild(h.cloneNode(!0)),g.appendChild(this.Bf));
f.push(this);null==this.$c&&null==this.kd||this.setSize(this.$c,this.kd);return this};c.prototype.action=function(e,f){this.Whb&&this.kcb(f);null!=this.gLa&&this.gLa.call(this,e,f);return this};c.prototype.match=function(e){e=e.Da();if(0===this.fc.length||0===e.length)return!1;for(var f=0;f<this.fc.length;f++){var g=this.fc[f];if(0<=e.indexOf(g))return!0}return!1};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsImdldEVsZW1lbnQiOiJyZCIsImdldEFjdGlvbiI6ImNrZCIsInNldEFjdGlvbiI6IkhJZCIsImdldEluaXQiOiJhcGQiLCJzZXRJbml0IjoiTktkIiwiZ2V0TmFtZSI6IkRhIiwiZ2V0V2lkdGgiOiJjYSIsImdldEhlaWdodCI6ImRhIiwiZ2V0Q2hlY2tlZCI6Ik9XYiIsInNldENoZWNrZWQiOiJrY2IiLCJnZXRDb2xvciI6InJiIiwic2V0Qm9yZGVyIjoiTm9hIiwiZ2V0Qm9yZGVyIjoiVEUifX19");var yS=/*#__PURE__*/va(/*#__PURE__*/{g6:"pointer",ON:"rubberband"},2,"eyJQb2ludGVyIjoiZzYiLCJSdWJiZXJCYW5kIjoiT04ifSAg");var zS=/*#__PURE__*/va(/*#__PURE__*/{Ipa:"Distance",DX:"Area"},2,"eyJEaXN0YW5jZSI6IklwYSIsIkFyZWEiOiJEWCJ9");var AS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){this.Zj={}}L(c,"geotoolkit.controls.toolbar.ButtonRegistry");c.prototype.register=function(b,d){this.Zj[b]=d instanceof xS?d:new xS(d);return this};c.prototype.HWb=function(b){return this.Zj.hasOwnProperty(b)?this.Zj[b].clone():null};c.prototype.Pod=function(){return Object.keys(this.Zj)};var a=null;c.ya=function(){null==a&&(a=new c,a.register("zoom-in",{title:"Zoom in",icon:"fas fa-plus",action:function(b){var d=b.Wb("zoom"),e=b.tb();d&&e.ga&&(b=b.tb().ga())&&d.zoom(2,
2,b.cc(),b.zc())}}).register("zoom-out",{title:"Zoom out",icon:"fas fa-minus",action:function(b){var d=b.Wb("zoom"),e=b.tb();d&&e.ga&&(b=b.tb().ga())&&d.zoom(.5,.5,b.cc(),b.zc())}}).register("export-png",{title:"Save as PNG",icon:"fas fa-file-image",action:function(b){b=b.Pe().wk();var d=xc("a");d.href=b.toDataURL();d.download="screen.png";d.click()}}).register("point-selection",{title:"Point Selection",icon:"fas fa-hand-pointer",checkbox:{enabled:!0,name:"tools"},action:function(b,d){(b=b.Wb("pick"))&&
b.Ob(d).Wga(yS.g6)}}).register("rubberband-selection",{title:"RubberBand Selection",icon:"fas fa-vector-square",checkbox:{enabled:!0,name:"tools"},action:function(b,d){(b=b.Wb("pick"))&&b.Ob(d).Wga(yS.ON)}}).register("polygon-selection",{title:"Polygon Selection",icon:"fas fa-draw-polygon",checkbox:{enabled:!0,name:"tools"},action:function(b,d){(b=b.Wb("polygon-selection"))&&b.Ob(d)}}).register("tooltip",{title:"Tooltip",icon:"fas fa-comment-alt",checkbox:{enabled:!0,name:"tools"},action:function(b,
d){(b=b.Wb("tooltip"))&&b.Ob(d)}}).register("measure",{title:"Measure distance",icon:"fas fa-ruler-horizontal",checkbox:{enabled:!0,name:"tools"},action:function(b,d){(b=b.Wb("measure"))&&b.Ob(d).fAb(zS.Ipa)}}).register("measure-area",{title:"Measure area",icon:"fas fa-ruler-combined",checkbox:{enabled:!0,name:"tools"},action:function(b,d){(b=b.Wb("measure"))&&b.Ob(d).fAb(zS.DX)}}));return a};return c}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsiZ2V0QnV0dG9uIjoiSFdiIiwiZ2V0SWRzIjoiUG9kIn19fSAg");var BS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){d=G(d,{text:"",padding:10,checkbox:{enabled:!0}});xS.call(this,d);this.Jf=d.padding;if(d.text){var e=xc("div",b);e.innerText=d.text;this.rd().appendChild(e)}this.rd().classList.add(a);this.rd().style.paddingLeft=this.Jf+"px";this.rd().style.paddingRight=this.Jf+"px"}var a="cg-toolbar-checkbox",b="cg-toolbar-checkbox-text";D(c,xS);L(c,"geotoolkit.controls.toolbar.Checkbox");c.prototype.Ba=function(d){this.Jf=d.Jf};c.prototype.setSize=function(d,e){null==e&&null!=d&&
(e=d,d=this.ca());return xS.prototype.setSize.call(this,d,e)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSJ9fX0g");var CS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){b=xb(b,{icon:"fas fa-ellipsis-v",checkbox:{enabled:!0},buttons:[]});xS.call(this,b);this.Zj=[];var d=AS.ya();b=Array.isArray(b.buttons)?b.buttons:[];for(var e=0;e<b.length;e++){var f="string"===typeof b[e]?d.HWb(b[e]):b[e];null!=f&&this.Zj.push(f)}d=xc("div",a);d.appendChild(this.rd());this.Bf=d}var a="cg-toolbar-dropdown";D(c,xS);L(c,"geotoolkit.controls.toolbar.Dropdown");c.prototype.Ba=function(b){this.Zj=[];for(var d=0;d<b.Zj.length;d++)this.Zj.push(b.Zj[d].clone())};
c.prototype.init=function(b,d,e,f,g,h){xS.prototype.init.call(this,b,d,e,f,g,h);for(e=0;e<this.Zj.length;e++)this.Zj[e].init(b,d,this.rd(),f,null,h);return this};c.prototype.Wea=function(){return this.rd().firstChild};c.prototype.setSize=function(b,d){xS.prototype.setSize.call(this,b,d);var e=0<this.Zj.length&&!this.OWb();e&&this.kcb(!0);for(var f=0;f<this.Zj.length;f++)this.Zj[f].setSize(b,d);e&&this.kcb(!1);return this};c.prototype.IWb=function(){return this.Zj};c.prototype.setColor=function(b){xS.prototype.setColor.call(this,
b);for(var d=0;d<this.Zj.length;d++)this.Zj[d].setColor(b);return this};c.prototype.Noa=function(b){xS.prototype.Noa.call(this,b);for(var d=0;d<this.Zj.length;d++)this.Zj[d].Noa(b);return this};c.prototype.clear=function(b,d){for(var e=0;e<this.Zj.length;e++)this.Zj[e].clear(b,d);this.Zj.length=0;xS.prototype.clear.call(this,b,d)};AS.ya().register("selection",new c({title:"Selection Tools",icon:"fas fa-tools",buttons:["point-selection","polygon-selection","rubberband-selection"]})).register("tools",
new c({title:"Tools",icon:"fas fa-tools",buttons:"point-selection rubberband-selection polygon-selection tooltip measure measure-area".split(" ")}));return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsImdldEJ1dHRvbkVsZW1lbnQiOiJXZWEiLCJnZXRCdXR0b25zIjoiSVdiIiwic2V0Qm9yZGVyIjoiTm9hIn19fSAg");var DS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){b=G(b,{text:"",padding:5,icon:null});xS.call(this,b);this.Jf=b.padding;var d=xc("div",a);d.innerText=b.text;this.rd().appendChild(d);this.rd().classList.add(a);this.rd().style.paddingLeft=this.Jf+"px";this.rd().style.paddingRight=this.Jf+"px"}var a="cg-toolbar-label";D(c,xS);L(c,"geotoolkit.controls.toolbar.Label");c.prototype.Ba=function(b){this.Jf=b.Jf};c.prototype.Eb=function(b){var d=this.rd().getElementsByClassName(a)[0];d.innerText=b;return this};c.prototype.setSize=
function(b,d){if(null==d){d=b;var e=this.rd().getElementsByClassName(a)[0],f=0;e&&(f=e.offsetWidth+2*this.Jf);b=Math.max(b,f)}return xS.prototype.setSize.call(this,b,d)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsInNldFRleHQiOiJFYiJ9fX0g");var ES=/*#__PURE__*/va(/*#__PURE__*/function(){function c(l){l=G(l,{tools:null,element:null,buttons:[],alignment:O.Ld,orientation:Rh.ob,offset:10,size:30,fontsize:15,gap:1,borderradius:5,border:"",color:"white",node:null});this.Ke=l.alignment;this.uk=l.tools;var m=this.uk.Pe();k.has(m)||k.set(m,[]);this.jm=k.get(m);this.Ne=l.size;this.ez=l.color;this.Un=l.border;this.Cb="number"===typeof l.offset?new Vd(l.offset,l.offset):l.offset;this.Bf=this.createElement(l);this.pJ=this.Xc.bind(this);this.Zj=[];this.wL=this.hfd(l.gap);for(var n=
null,p=0;p<l.buttons.length;p++)n=this.XTb(l.buttons[p],n,this.wL,null,null,this.pJ);this.nCa=this.PD.bind(this);this.vmb=this.Bf.offsetWidth;this.umb=this.Bf.offsetHeight;m.on(Ml.RT,this.nCa);this.lc=m;this.Fd=l.node;if(null!=this.Fd)this.Fd.on(Ce.DC,this.nCa);this.PD()}var a="cg-toolbar-container",b="cg-toolbar-left",d="cg-toolbar-right",e="cg-toolbar-top",f="cg-toolbar-bottom",g="cg-toolbar-group",h="cg-toolbar-gap",k=new Map;L(c,"geotoolkit.controls.toolbar.Toolbar");c.prototype.zsc=function(){for(var l=
0;l<this.Zj.length;l++)for(var m=0;m<this.Zj[l].length;m++)this.Zj[l][m].clear(this.uk,this.jm);for(;this.Bf.firstChild;)this.Bf.removeChild(this.Bf.lastChild);this.Zj=[];return this};c.prototype.zve=function(l){this.zsc();for(var m=null,n=0;n<l.length;n++)m=this.XTb(l[n],m,this.wL,null,null,this.pJ);return this};c.prototype.getSize=function(){return this.Ne};c.prototype.No=function(l){this.Cb=l;this.PD();return this};c.prototype.rd=function(){return this.Bf};c.prototype.pS=function(){return this.Bf.style.display};
c.prototype.Gxa=function(l){this.Bf.style.display=l;return this};c.prototype.Ia=function(){return"visible"===this.Bf.style.visibility};c.prototype.va=function(l){if(this.Ia()===l)return this;this.Bf.style.visibility=l?"visible":"hidden";return this};c.prototype.Xkd=function(){return this.Zj};c.prototype.jxd=function(l,m,n){var p=this.Bf.children[l];this.XTb(n,p,this.wL,l,m,this.pJ);this.PD();return this};c.prototype.MFd=function(l){for(var m=0;m<this.Zj.length;m++)for(var n=0;n<this.Zj[m].length;n++)if(this.Zj[m][n]===
l)return this.Zj[m].splice(n,1),l.clear(this.uk,this.jm),this;return this};c.prototype.createElement=function(l){var m=l.element;null==m&&(this.I6=null,this.I6=l.orientation===Rh.ob?qk.kv(l.alignment)?d:b:qk.dC(l.alignment)?f:e,null!=l.classname&&(this.I6+=" "+l.classname),m=xc("div",this.I6),l.borderradius&&(m.style.borderRadius=l.borderradius+"px"),l.fontsize&&(m.style.fontSize=l.fontsize+"px"),m.style.position="absolute");l=this.uk.Pe().Vv();var n=l.parentNode;if(n&&n.classList.contains(a))n.appendChild(m);
else{var p=xc("div",a);p.appendChild(l);p.appendChild(m);n&&n.appendChild(p)}m.style.visibility="visible";return m};c.prototype.XTb=function(l,m,n,p,q,r){if("-"===l)return null;"string"===typeof l?l=AS.ya().HWb(l):Array.isArray(l)&&(l=new CS({icon:"fas fa-ellipsis-v",buttons:l}));if(!l)return m;m||(m=xc("div",g),this.Bf.appendChild(m),this.Zj.push([]));l.init(this.uk,this.jm,m,n,q,r);null!=this.Ne&&null==l.ca()&&null==l.da()&&l.setSize(this.Ne);this.Un&&l.Noa(this.Un);l.setColor(this.ez);null==p&&
(p=this.Zj.length-1);this.Zj[p].push(l);return m};c.prototype.hfd=function(l){if(0>=l&&!this.Un)return null;var m=xc("div",h);m.style.width=l+"px";m.style.minWidth=l+"px";m.style.height=l+"px";m.style.minHeight=l+"px";this.Un&&(l=parseInt(this.Un))&&(m.style.marginTop=-l+"px",m.style.marginLeft=-l+"px");return m};c.prototype.PD=function(){this.vmb=this.Bf.offsetWidth||this.vmb;this.umb=this.Bf.offsetHeight||this.umb;var l=this.uk.Pe();l=l.Vv();l=new U(l.offsetLeft,l.offsetTop,l.offsetLeft+l.offsetWidth,
l.offsetTop+l.offsetHeight);null!=this.Fd&&(l=this.Fd.Ki());qk.Iu(this.Ke)?this.Bf.style.left=l.la()+this.Cb.ca()+"px":qk.kv(this.Ke)?this.Bf.style.left=l.na()-this.vmb-this.Cb.ca()+"px":this.Bf.style.left=l.cc()-this.vmb/2-this.Cb.ca()+"px";this.Bf.style.top=qk.Qz(this.Ke)?l.ka()+this.Cb.da()+"px":qk.dC(this.Ke)?l.ma()-this.umb-this.Cb.da()+"px":l.zc()-this.umb/2-this.Cb.da()+"px"};c.prototype.Xc=function(l){var m=l.OWb();if(!m)for(var n=0;n<this.jm.length;n++)this.jm[n]!==l&&this.jm[n].match(l)&&
this.jm[n].action(this.uk,!1);l.action(this.uk,!m)};c.prototype.dispose=function(){null!=this.uk&&(null!=this.Fd&&this.Fd.za(Ce.DC,this.nCa),null!=this.lc&&this.lc.za(Ml.RT,this.nCa),this.zsc(),null!=this.Bf&&null!=this.Bf.parentNode&&this.Bf.parentNode.removeChild(this.Bf),this.jm=this.Bf=this.uk=null,this.Zj.length=0,this.wL=null)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRPZmZzZXQiOiJObyIsImdldEVsZW1lbnQiOiJyZCIsImdldFZpc2libGUiOiJJYSIsInNldFZpc2libGUiOiJ2YSIsImdldEJ1dHRvbkxpc3QiOiJYa2QiLCJpbnNlcnRCdXR0b24iOiJqeGQiLCJyZW1vdmVCdXR0b24iOiJNRmQifX19");var FS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d,e,f){this.Gt=a;this.pjb=b;this.tq=d;this.dk=e;this.zn=f;this.If=!0}c.prototype.vyc=function(){return this.Gt};c.prototype.vh=function(){return this.pjb};c.prototype.Bd=function(){return this.dk};c.prototype.Ec=function(){return this.tq};c.prototype.isEnabled=function(){return this.If&&this.tq.isEnabled()};c.prototype.Ob=function(a){this.If=a;return this};c.prototype.fre=function(){return this.zn};c.prototype.hg=function(a){if(a instanceof OR)return this.zn.call(this,
a),a;a=new OR(this.pjb,a);this.zn.call(this,a);return a};c.prototype.za=function(){this.Gt.za(this);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb21wb3NpdGVUb29sIjoidnljIiwiZ2V0RXZlbnROYW1lIjoidmgiLCJnZXRPYmplY3QiOiJCZCIsImdldFRvb2wiOiJFYyIsInNldEVuYWJsZWQiOiJPYiIsImV4ZWN1dGUiOiJoZyJ9fX0g");var GS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e,f,g){for(var h,k,l=0;l<e.length;l++){h=e[l];k=h.Da();if(0===k.length&&h instanceof d){var m=h.m_b(f,g);if(null!=m)return m}if(k===f[g]){if(g===f.length-1)return h;if(h instanceof d)return h.m_b(f,g+1)}}return null}function a(e,f){for(var g=[],h,k=0;k<e.length;k++){h=e[k];if(h instanceof f)return h;h instanceof d&&g.push(h)}if(0<g.length)for(e=0;e<g.length;e++)if(h=g[e].GS(f),null!=h)return h;return null}function b(e,f){for(var g=[],h,k=0;k<e.length;k++){h=e[k];if(h.Da()===
f||h.Da().replace(/-/g,"")===f.replace(/-/g,""))return h;h instanceof d&&g.push(h)}for(e=0;e<g.length;e++)if(h=g[e].Wb(f),null!=h)return h;return null}function d(e){e="object"===typeof e?e:{name:e};IR.call(this,e);this.lc=null;this.uk=[];this.zU={};this.tU={};this.J2a=!1}D(d,IR);L(d,"geotoolkit.controls.tools.AbstractCompositeTool");d.prototype.WH=function(e){if(this.lc!==e){this.lc=e;for(var f in this.uk)this.uk.hasOwnProperty(f)&&this.uk[f].WH(e)}return IR.prototype.WH.call(this,e)};d.prototype.dispose=
function(){if(!this.ge()){this.WH(null);for(var e=this.uk.length-1;0<=e;--e)this.uk[e]&&this.uk[e].dispose();IR.prototype.dispose.call(this)}};d.prototype.m_b=function(e,f){return f>=e.length?null:c(this.uk,e,f)};d.prototype.Wb=function(e){var f=b(this.uk,e);null==f&&(e=e.split("."),0<e.length&&e[0]===this.Da()&&(f=this.m_b(e,1)));return f};d.prototype.GS=function(e){return a(this.uk,e)};d.prototype.I4=function(){return this.vvc(this.Da(),[])};d.prototype.vvc=function(e,f){for(var g,h,k=0;k<this.uk.length;k++)g=
this.uk[k],h=g.Da(),g instanceof d?(h=0===h.length?e:0===e.length?h:e+"."+h,g.vvc(h,f)):f.push(0<e.length?e+"."+h:h);return f};d.prototype.$Gc=function(){return this.uvc([])};d.prototype.uvc=function(e){for(var f,g=0;g<this.uk.length;g++)f=this.uk[g],f instanceof d?f.uvc(e):e.push(f);return e};d.prototype.f$a=function(e){return this.uk.indexOf(e)};d.prototype.Pf=function(e){!0===e&&(this.uk.forEach(function(f){f.detach(this)}.bind(this)),this.uk.forEach(function(f){f.attach(this)}.bind(this)));null!=
this.Mva()&&this.Mva().Pf(!0);this.fireEvent(HR.VUa,null);return this};d.prototype.Jn=function(e,f){this.uk.forEach(function(g){g.detach(this)}.bind(this));e=Array.isArray(f)?[e,0].concat(f):[e,0,f];Array.prototype.splice.apply(this.uk,e);this.J2a=!1;this.uk.forEach(function(g){g.WH(this.lc);g.attach(this)}.bind(this));!0===this.J2a&&this.Pf();return this};d.prototype.add=function(e){if(null==e)return this;e=Array.isArray(e)?e:[e];this.J2a=!1;for(var f=0;f<e.length;++f)null!=e[f]&&(this.uk.push(e[f]),
e[f].WH(this.lc),e[f].attach(this));!0===this.J2a&&this.Pf();return this};d.prototype.remove=function(e){e=Array.isArray(e)?e:[e];for(var f=0;f<e.length;++f){var g=this.uk.indexOf(e[f]);-1!==g&&(this.uk.splice(g,1),e[f].detach(this),e[f].WH(null))}return this};d.prototype.on=function(e,f,g,h){null==this.zU[e]&&(this.zU[e]=[],this.J2a=!0);0===this.zU[e].length&&this.attachEvent(e);f=new FS(this,e,f,g,h);this.zU[e].push(f);return f};d.prototype.za=function(e){if(null==e||!(e instanceof FS))return hb("A wrong handler is in AbstractCompositeTool.prototype.off"),
this;var f=this.zU[e.vh()];if(null==f)return this;var g=f.indexOf(e);-1!==g&&f.splice(g,1);0===f.length&&this.detachEvent(e.vh());return this};d.prototype.detachEvent=function(e){this.tU[e]=null;return this};d.prototype.attachEvent=function(e){if(null!=this.tU[e])return this;var f=function(g){return this.dispatchEvent(e,g)}.bind(this);this.tU[e]=f;return this};d.prototype.Smd=function(e){return null==e?this.tU:this.tU[e]};d.prototype.dispatchEvent=function(e,f){if(!this.isEnabled())return!1;var g=
f.ena()?f.ena().length:0;e=this.zU[e];if(null==e)return!1;for(var h=!0,k=IR.I8a(f.Pe()),l=0;l<e.length;++l){var m=e[l];if(m.Ec().S0b(g)&&(!1!==m.Ec()instanceof d||null==k||m.Ec()===k)&&m.isEnabled()){h=m.hg(f);if(h.mk())return h.mEa();h=h&&h.mEa()}}return h};d.prototype.S0b=function(e){return!0};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhdHRhY2hUb1Bsb3QiOiJXSCIsImdldFRvb2xCeU5hbWUiOiJXYiIsImdldFRvb2xCeVR5cGUiOiJHUyIsImxpc3RUb29sc05hbWVzIjoiSTQiLCJnZXRUb29sSW5kZXgiOiJmJGEiLCJpbnNlcnQiOiJKbiIsImlzTXVsdGlUb3VjaENvbXBsaWFudCI6IlMwYiJ9fX0g");var HS=/*#__PURE__*/va(/*#__PURE__*/{Y5:0,xb:1,ob:2,Feb:3},2,"eyJGcmVlIjoiWTUiLCJIb3Jpem9udGFsIjoieGIiLCJWZXJ0aWNhbCI6Im9iIiwiQXNwZWN0UmF0aW8iOiJGZWIifSAg");var IS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d){a=G(a,{name:"string"===typeof b?b:"",mode:null==d?HS.Y5:d});IR.call(this,a);this.ed=new M(0,0);this.en=new M(0,0);this.$3a=a.mode;this.Zj=Cc.kc}D(c,IR);L(c,"geotoolkit.controls.tools.AbstractRubberTool");c.prototype.YRc=function(a){this.$3a=a;return this};c.prototype.dDc=function(){return this.$3a};c.prototype.Trc=function(a,b){var d=this.ec().vb(!0);if(this.$3a===HS.Feb){var e=d.da()/d.ca();d=b.getY()-a.getY();var f=b.getX()-a.getX(),g=Math.abs(d),h=Math.abs(f);
e<g/h?(d=g/e,0<f?b.Ga(a.getX()+d,b.getY()):b.Ga(a.getX()-d,b.getY())):(f=h*e,0<d?b.Ga(b.getX(),a.getY()+f):b.Ga(b.getX(),a.getY()-f))}else this.$3a===HS.ob?(a.Ga(d.la(),a.getY()),b.Ga(d.na(),b.getY())):this.$3a===HS.xb&&(a.Ga(a.getX(),d.ka()),b.Ga(b.getX(),d.ma()))};c.prototype.SFa=function(){return this.Zj};c.prototype.Jcb=function(a){this.Zj=a;return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRSdWJiZXJCYW5kUmVuZGVyTW9kZSI6IllSYyIsImdldFJ1YmJlckJhbmRSZW5kZXJNb2RlIjoiZERjIiwiZ2V0TW91c2VCdXR0b25zIjoiU0ZhIiwic2V0TW91c2VCdXR0b25zIjoiSmNiIn19fSAg");var JS=/*#__PURE__*/va(/*#__PURE__*/{hYa:"corner",Na:"center"},2,"eyJDb3JuZXIiOiJoWWEiLCJDZW50ZXIiOiJOYSJ9");var KS=/*#__PURE__*/va(/*#__PURE__*/{kc:"left",$b:"right",CC:"both"},2,"eyJMZWZ0Ijoia2MiLCJSaWdodCI6IiRiIiwiQm90aCI6IkNDIn0g"),LS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{name:"colorbarcursor",offset:0,symbolalignment:KS.CC,symbol:new Nm({cssclass:a.cssclass||"colorbarcursor-symbol",width:6,height:6,alignment:O.Na,sizeIsInDeviceSpace:!0,painter:Mm,fillstyle:"black",visible:!0})},!0);if(null==a.colorbar)throw Error("colorbar should be defined");var b={slots:{},name:a.name,layer:a.group};IR.call(this,b);this.Qe=a.colorbar;this.js=jf(this.Qe).mc(function(d){return d instanceof wN}).mg();this.sm({pointermove:this.Ac.bind(this),
"cg-enter":function(d){this.rIa(!0);this.fireEvent(HR.gga,d)}.bind(this),"cg-leave":function(d){this.rIa(!1);this.fireEvent(HR.Ry,d)}.bind(this)});this.Et=a.callback;"function"===typeof a.init&&a.init(this);this.eM=this.dM=null;this.ioc=a.symbolalignment;this.Cb=a.offset;this.Nn(a.symbol);this.rIa(!1);this.Z7=this.ZQd.bind(this);this.Qe.on(Vh.Tu,this.Z7)}D(c,IR);L(c,"geotoolkit.controls.tools.ColorBarCursorTool");c.w3c=KS;c.prototype.dispose=function(){this.Qe.za(Vh.Tu,this.Z7);this.dM&&this.ec().removeChild(this.dM);
this.eM&&this.ec().removeChild(this.eM);IR.prototype.dispose.call(this)};c.prototype.No=function(a){if(this.Cb===a)return this;this.Cb=a;this.rWc();return this};c.prototype.rIa=function(a){null!=this.dM&&this.dM.va(a);null!=this.eM&&this.eM.va(a);return this};c.prototype.setPosition=function(a){if(a===this.$f)return this.rIa(!0);var b=this.Qe.vCc(a);if(!1===Number.isFinite(b))return this.rIa(!1),this;this.$f=a;a=this.js.ga().clone();var d=this.js.getParent().wa();d.Ta(a,a);var e=this.ec().wa(),f=
this.Zc.ca()/2+this.Cb;if(this.Qe.xl()){d=a.getY();var g=this.Qe.getParent().wa().M5(b,0);if(this.dM){var h=e.Nw(g,d-f);b=this.dM.lb();this.dM.translate(h.getX()-b.hf(),h.getY()-b.We())}this.eM&&(h=e.Nw(g,d+f+a.da()),b=this.eM.lb(),this.eM.translate(h.getX()-b.hf(),h.getY()-b.We()))}else d=a.getX(),g=this.Qe.getParent().wa().Paa(0,b),this.dM&&(h=e.Nw(d-f,g),b=this.dM.lb(),this.dM.translate(h.getX()-b.hf(),h.getY()-b.We())),this.eM&&(h=e.Nw(d+f+a.ca(),g),b=this.eM.lb(),this.eM.translate(h.getX()-b.hf(),
h.getY()-b.We()));return this.rIa(!0)};c.prototype.rWc=function(){return null==this.$f?this:this.setPosition(this.$f)};c.prototype.Ac=function(a){if(this.isEnabled()&&this.Qe.Ia()&&null!=this.Et){var b=a.tb(),d=this.Kd(null,a);a=a.ye();b=this.Et.call(this,b?b.wa().hd(d):d,a,this);"number"===typeof b?this.setPosition(b):this.rIa(!1)}};c.prototype.qWb=function(a){var b=Math.PI/2;a=a===KS.$b;var d=this.Qe.M9();switch(d){case vN.me:case vN.vc:var e=a?0:2*b;break;case vN.Ic:case vN.dc:e=a?3*b:b}return e};
c.prototype.Nn=function(a){this.Zc=a;this.ioc!==KS.$b&&this.nAb(KS.kc);this.ioc!==KS.kc&&this.nAb(KS.$b);return this};c.prototype.nAb=function(a){var b=a===KS.$b;this.ec().removeChild(b?this.eM:this.dM);var d=this.Zc.clone();d.rotate(this.qWb(a),d.pn(),d.Vl());b?this.eM=d:this.dM=d;this.ec().oa(d);return this};c.prototype.bse=function(){var a=this.js.ga().clone();this.js.getParent().wa().Ta(a,a);return this.Qe.xl()?a.getY():a.getX()};c.prototype.ZQd=function(){null!=this.dM&&(this.dM.Kc(null),this.dM.rotate(this.qWb(KS.kc),
this.dM.pn(),this.dM.Vl()));null!=this.eM&&(this.eM.Kc(null),this.eM.rotate(this.qWb(KS.$b),this.eM.pn(),this.eM.Vl()));this.$f=null};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRPZmZzZXQiOiJObyIsInVwZGF0ZVBvc2l0aW9uIjoicldjIiwic2V0U3ltYm9sIjoiTm4ifX19");var NS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){a=G(a,{name:b||"",node:a instanceof Th?a:null},!0);GS.call(this,a);this.k0a=[];this.Fd=a.node;this.W4a=null}D(c,GS);L(c,"geotoolkit.controls.tools.CompositeTool");c.prototype.dispose=function(){this.W4a=this.Fd=null;GS.prototype.dispose.call(this)};c.prototype.tb=function(){return this.Fd};c.prototype.zl=function(a){this.Fd=a;return this};c.prototype.vhd=function(a){var b=new PR(a),d=a.H8a();if(null!=this.Fd&&null!=a.Pe()&&(null==a.ye()||d===a.Pe().Vv())){if(d=a.z4()){var e=
this.Kd(this.Fd,a);d=null!=this.Fd&&null!=this.Fd.vb?this.Fd.vb():null;if(null==d)return;var f=e.getX();e=e.getY();d=d.contains(f,e)}if(d)null==this.W4a&&("cg-enter"!==a.vh()&&this.dispatchEvent("cg-enter",new PR(a,"cg-enter")),this.W4a=this.Fd);else{null!=this.W4a&&(this.dispatchEvent("cg-leave",new PR(a,"cg-leave")),this.W4a=null);return}}this.dispatchEvent(a.vh(),b)};c.prototype.detach=function(a){a===this.Mva()&&this.vAb(null);if(!this.isEnabled())return this;for(var b in this.zU)if(null!=this.zU[b])for(var d in this.k0a)for(var e=
this.k0a[d],f=0;f<e.length;f++)e[f]&&a.za(e[f]);return this};c.prototype.attach=function(a){this.vAb(a);if(!this.isEnabled())return this;for(var b in this.zU)null!=this.zU[b]&&(null==this.k0a[b]&&(this.k0a[b]=[]),this.k0a[b].push(a.on(b,this,this,this.vhd.bind(this))));return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROb2RlIjoidGIiLCJzZXROb2RlIjoiemwifX19");var OS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){PR.call(this,a);this.De=b}D(c,PR);c.prototype.bc=function(){return this.De};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQb3NpdGlvbiI6ImJjIn19fSAg");var PS=/*#__PURE__*/va(/*#__PURE__*/{Qx:"onPositionChanged",UUa:"onPointerUp",r2b:"onPointerDown"},2,"eyJvblBvc2l0aW9uQ2hhbmdlZCI6IlF4Iiwib25Qb2ludGVyVXAiOiJVVWEiLCJvblBvaW50ZXJEb3duIjoicjJiIn0g"),QS=/*#__PURE__*/Zh,RS=/*#__PURE__*/Rh,SS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(q,r,t){var u=null==q||"none"!==q.labels?(new Ki).setColor(f).vo(g):null;q=xb(q,{layer:q instanceof Th?q:null,name:"string"===typeof r&&""!==r?r:"cross-hair",linestyle:(new X(f,1,[3,2])).Mg({x:!0,y:!0}),textstyle:u},!0);null!=q.group&&(hb("parameter options.group in CrossHair() is deprecated since 2021.1 (3.3), use parameter options.layer instead"),q.layer=q.group);null!=t&&(hb("third argument in CrossHair() is deprecated since 2021.1 (3.3), use first argument instead"),
q=xb(t,q));IR.call(this,q);this.sm({pointermove:this.Ac.bind(this),pointerup:this.Oc.bind(this),pointerdown:this.Xc.bind(this),"cg-enter":function(w){this.fireEvent(HR.gga,w)}.bind(this),"cg-leave":function(w){this.setPosition(k,!1,w);this.fireEvent(HR.Ry,w)}.bind(this)});this.hp=!0;this.Qg=this.Qnb=this.NF=null;this.qg=(new n).ra(q.linestyle).setPosition(k);this.$a.oa(this.qg);this.Ih=null;(e(q)||null==q||"none"!==q.labels)&&this.qRa(q.textstyle);a.call(this,q)}function a(q){q=hc(q);if(null==q)return this;
null!=q.linestyle&&this.qg.ra(q.linestyle);null!=q.fillstyle&&this.qg.qa(q.fillstyle);null!=q.outlinestyle&&this.qg.h0(q.outlinestyle);void 0!==q.horizontal&&this.qg.Voa(q.horizontal);void 0!==q.vertical&&this.qg.aha(q.vertical);void 0!==q.radius&&this.qg.MG(q.radius);void 0!==q.symbol&&this.qg.Nn(q.symbol);this.qg.R5();if(null!=q.labels&&("none"===q.labels||!1===q.labels))return"none"!==q.labels&&!1!==q.labels||!this.Ih||(this.$a.removeChild(this.Ih),this.Ih=null),this;e(q)&&!this.Ih&&this.qRa(q.textstyle);
if(null==this.Ih)return this;void 0!==q.textstyle&&this.Ih.ib(q.textstyle);q.center&&(q.center.labelsoffset&&(this.Ih.Xn=null!=q.center.labelsoffset.x?q.center.labelsoffset.x:0,this.Ih.mq=null!=q.center.labelsoffset.y?q.center.labelsoffset.y:0),this.Ih.Y1a=null!=q.center.lockx?q.center.lockx:this.Ih.Y1a,this.Ih.Z1a=null!=q.center.locky?q.center.locky:this.Ih.Z1a);void 0!==q.keeporientation&&(this.Ih.rBa=q.keeporientation);this.$w(Zh.me,q.north);this.$w(Zh.vc,q.south);this.$w(Zh.Ic,q.east);this.$w(Zh.dc,
q.west);this.$w(Zh.Na,q.center);this.Ih.Q5();return this}function b(q,r){return isNaN(r)?"":r.toFixed(2)}function d(q,r){return isNaN(q)?"":q.toFixed(2)}function e(q){if(!q)return!1;for(var r=0;r<l.length;++r)if(q[l[r]]&&!0===q[l[r]].visible)return!0;return"none"!==q.labels&&!1!==q.labels}var f="#757575",g="12px Roboto",h=new U,k=new M(Number.NaN,Number.NaN),l=["north","south","east","west","center"],m=function(){function q(r){ek.call(this,r);this.f3a=this.lp()}D(q,ek);L(q,"geotoolkit.controls.tools.CrossHair.CrossHairText");
q.prototype.tc=function(r,t){ek.prototype.tc.call(this,r);!1!==t&&(this.f3a=r)};q.prototype.y9a=function(){return this.f3a};return q}(),n=function(){function q(r){r=G(r,{radius:0},!0);Cg.call(this,r);this.Pc("cross-hair-cursor");this.ug(!1);this.De=new M(Number.NaN,Number.NaN);this.Cc={Hk:{left:null,NW:null,S4:null,right:null},vertical:{top:null,OW:null,R4:null,bottom:null}};this.ra((new X(f,1,[3,2])).Mg(!0));this.GB=null;this.wc=r.radius;r.outlinestyle&&this.h0(r.outlinestyle)}D(q,Cg);L(q,"geotoolkit.controls.tools.CrossHair.CrossHairCursor");
q.prototype.h0=function(r,t){if(this.GB===r)return this;this.GB=X.He(this,this.GB,r,t,this.sb());this.xa().ha();return this};q.prototype.R9=function(){return this.GB};q.prototype.ra=function(r,t){Cg.prototype.ra.call(this,r,t);!0===t?(this.aha(r,t),this.Voa(r,t)):(r=this.Ea(),this.aha(r),this.Voa(r));return this};q.prototype.MG=function(r){this.wc!==r&&(this.wc=r,this.R5().ha());return this};q.prototype.Mw=function(){return this.wc};q.prototype.Tc=function(){return this.Zc};q.prototype.Nn=function(r){this.Zc!==
r&&(this.Zc=r,this.R5().ha());return this};q.prototype.aha=function(r,t){if(this.Kta===r)return this;this.Kta=X.He(this,this.Kta,r,t,this.sb());this.xa().ha();return this};q.prototype.Gvb=function(){return this.Kta};q.prototype.Voa=function(r,t){if(this.Wra===r)return this;this.Wra=X.He(this,this.Wra,r,t,this.sb());this.xa().ha();return this};q.prototype.X8a=function(){return this.Wra};q.prototype.setPosition=function(r){if(this.De===r||this.De.Ew(r,V.Qb))return this;this.ha();this.De=null==r?this.De.Ga(NaN,
NaN):this.De.Ga(r.getX(),r.getY());this.R5().ha();return this};q.prototype.ha=function(r,t){if(null==this.getParent())return this;r=this.getParent().vb();var u=null!==this.Wra?.5*this.Wra.ca():1,w=null!==this.Kta?.5*this.Kta.ca():1;u=h.cb(0,0,u,w);(w=this.getParent().wa())&&(u=w.pd(u,u));isNaN(this.De.y)||null==this.Wra||(w=new U(r.la(),this.De.y-u.height,r.na(),this.De.y+u.height),Cg.prototype.ha.call(this,w,t));isNaN(this.De.x)||null==this.Kta||(r=new U(this.De.x-u.width,r.ka(),this.De.x+u.width,
r.ma()),Cg.prototype.ha.call(this,r,t));return this};q.prototype.R5=function(r){if(null==this.getParent())return this;var t=this.getParent().vb(),u=isNaN(this.De.getX())?t.cc():this.De.getX(),w=isNaN(this.De.getY())?t.zc():this.De.getY(),y=t.na(),A=t.ma();this.Cc.Hk.left=t.la();this.Cc.Hk.NW=[t.la(),u];this.Cc.Hk.S4=[u,y];this.Cc.Hk.right=y;this.Cc.vertical.top=t.ka();this.Cc.vertical.OW=[t.ka(),w];this.Cc.vertical.R4=[w,A];this.Cc.vertical.bottom=A;if(0<this.wc||null!=this.Zc)t=null!=this.Zc?this.Zc.ca()/
2:this.wc,u=null!=this.Zc?this.Zc.da()/2:this.wc,r=r||this.wa(),t=Hd.qb(t,0,r),u=Hd.qb(0,u,r),this.Cc.Hk.NW[1]-=t,this.Cc.Hk.S4[0]+=t,this.Cc.vertical.OW[1]-=u,this.Cc.vertical.R4[0]+=u;return this};q.prototype.bc=function(){return this.De};q.prototype.split=function(r,t,u){"horizontal"===r&&("left"===t&&(this.Cc.Hk.left=u.la(),this.Cc.Hk.NW[0]=u.na()),"right"===t&&(this.Cc.Hk.right=u.na(),this.Cc.Hk.S4[1]=u.la()),"center"===t&&(this.Cc.Hk.NW=u.la()>this.Cc.Hk.NW[0]?[this.Cc.Hk.NW[0],u.la()]:null,
this.Cc.Hk.S4=u.na()<this.Cc.Hk.S4[1]?[u.na(),this.Cc.Hk.S4[1]]:null));"vertical"===r&&("top"===t&&(this.Cc.vertical.top=u.ka(),this.Cc.vertical.OW[0]=u.ma()),"bottom"===t&&(this.Cc.vertical.bottom=u.ma(),this.Cc.vertical.R4[1]=u.ka()),"center"===t&&(this.Cc.vertical.OW=u.ka()>this.Cc.vertical.OW[0]?[this.Cc.vertical.OW[0],u.ka()]:null,this.Cc.vertical.R4=u.ma()<this.Cc.vertical.R4[1]?[u.ma(),this.Cc.vertical.R4[1]]:null))};q.prototype.eMc=function(r,t){this.Cc.Hk.left!==t.la()&&r.Nc(t.la(),this.De.y,
this.Cc.Hk.left,this.De.y);null!=this.Cc.Hk.NW&&r.Nc(this.Cc.Hk.NW[0],this.De.y,this.Cc.Hk.NW[1],this.De.y);null!=this.Cc.Hk.S4&&r.Nc(this.Cc.Hk.S4[1],this.De.y,this.Cc.Hk.S4[0],this.De.y);this.Cc.Hk.right!==t.na()&&r.Nc(t.na(),this.De.y,this.Cc.Hk.right,this.De.y)};q.prototype.qMc=function(r,t){this.Cc.vertical.top!==t.ka()&&r.Nc(this.De.x,t.ka(),this.De.x,this.Cc.vertical.top);null!=this.Cc.vertical.OW&&r.Nc(this.De.x,this.Cc.vertical.OW[0],this.De.x,this.Cc.vertical.OW[1]);null!=this.Cc.vertical.R4&&
r.Nc(this.De.x,this.Cc.vertical.R4[1],this.De.x,this.Cc.vertical.R4[0]);this.Cc.vertical.bottom!==t.ma()&&r.Nc(this.De.x,t.ma(),this.De.x,this.Cc.vertical.bottom)};q.prototype.Ep=function(){Cg.prototype.Ep.call(this);if(null!=this.Zc||0<this.wc)this.dpc=!0;return this};q.prototype.render=function(r){if(null!=this.Ea()&&null!=this.De&&null!=this.getParent()){(null!=this.Zc||0<this.wc)&&this.dpc&&(this.R5(r.Fa()),this.dpc=!1);var t=this.getParent().vb();isNaN(this.De.y)||null==this.Wra||(null!=this.GB&&
(r.ra(this.GB),this.eMc(r,t)),r.ra(this.Wra),this.eMc(r,t));isNaN(this.De.x)||null==this.Kta||(null!=this.GB&&(r.ra(this.GB),this.qMc(r,t)),r.ra(this.Kta),this.qMc(r,t));isNaN(this.De.x)||isNaN(this.De.y)||(null!=this.Zc?this.Zc.Ia()&&this.Zc.Db(this.De).render(r):0<this.wc&&(null!=this.GB&&(r.ra(this.GB),r.Rp(this.Cc.Hk.NW[1],this.Cc.vertical.OW[1],this.Cc.Hk.S4[0]-this.Cc.Hk.NW[1],this.Cc.vertical.R4[0]-this.Cc.vertical.OW[1])),null!=this.Ea()||null!=this.fb())&&(r.qa(this.fb()),r.ra(this.Ea()),
r.Rp(this.Cc.Hk.NW[1],this.Cc.vertical.OW[1],this.Cc.Hk.S4[0]-this.Cc.Hk.NW[1],this.Cc.vertical.R4[0]-this.Cc.vertical.OW[1])))}};q.prototype.ia=function(){var r=Cg.prototype.ia.call(this);r.radius=this.Mw();r.outlinestyle=this.R9();return r};q.prototype.fa=function(r){r=hc(r);if(null==r)return this;Cg.prototype.fa.call(this,r);void 0!==r.radius&&this.MG(r.radius);void 0!==r.outlinestyle&&this.h0(r.outlinestyle,!(r.outlinestyle instanceof X));return this};return q}(),p=function(){function q(t){t=
G(t,{textstyle:null},!0);oi.call(this,t);this.mq=this.Xn=0;this.rBa=this.Z1a=this.Y1a=!1;this.ug(!1);this.De=new M(Number.NaN,Number.NaN);this.Le={};null==t.textstyle?this.Gc=new Ki:this.ib(t.textstyle);this.Bla=function(u,w,y){this.Le[u]={border:{padding:0,visible:!1},text:(new m({text:"",alignment:w,ispointingup:!0})).Pc("cross-hair-label"),oRa:y};this.oa(this.Le[u].text)};this.Bla(Zh.Na,O.Xd,b);this.Bla(Zh.dc,O.Ld,b);this.Bla(Zh.Ic,O.Qf,b);this.Bla(Zh.me,O.Qf,d);this.Bla(Zh.vc,O.lh,d);this.ib(this.Gc)}var r=new U;D(q,oi);L(q,"geotoolkit.controls.tools.CrossHair.CrossHairLabels");q.prototype.render=function(t){if(0===this.Xn&&0===this.mq)oi.prototype.render.call(this,t);else{var u=t.Fa(),w=this.Le[Zh.Na].text,y=w.lb(),A=new W(u.jf,u.Bg,u.vg,u.wf,u.Oh+this.Xn,u.Ch+this.mq);u=W.multiply(u.rc(),A);w.wb(!1);w.Kc(u);w.wb(!0);oi.prototype.render.call(this,t);w.wb(!1);w.Kc(y);w.wb(!0)}};q.prototype.Q5b=function(t){this.Eia=t;return this};q.prototype.ib=function(t){if(t instanceof Ki){this.Gc=t;for(var u in this.Le)this.Le.hasOwnProperty(u)&&
(t.hasOwnProperty(u)?this.Le[u].text.ib(t[u]):this.Le[u].text.ib(this.Gc))}return this};q.prototype.jb=function(){return this.Gc};q.prototype.QE=function(t){var u=!1,w;for(w in this.Le)this.Le.hasOwnProperty(w)&&(t.hasOwnProperty(w)?(t[w]&&!this.Le[w].text.Ia()&&(u=!0),this.Le[w].text.va(t[w])):this.Le[w].text.va(!1));u&&this.Q5();return this};q.prototype.setPosition=function(t){if(this.De===t||this.De.Ew(t,V.Qb))return this;this.De=null==t?this.De.Ga(NaN,NaN):this.De.Ga(t.getX(),t.getY());this.Q5();
return this};q.prototype.Q5=function(){if(null==this.getParent())return this;var t=this.getParent().vb(),u=this.$a?this.$a.wa():this.getParent().wa(),w=this.De.getX(),y=this.De.getY(),A=Zh,x=0>u.Ab()&&this.rBa;u=0>u.pb()&&this.rBa;this.yX(A.dc,u?t.na():t.la(),y,w,y);this.yX(A.Ic,u?t.la():t.na(),y,w,y);this.yX(A.me,w,x?t.ma():t.ka(),w,y);this.yX(A.vc,w,x?t.ka():t.ma(),w,y);this.yX(A.Na,this.Y1a?t.cc():w,this.Z1a?t.zc():y,w,y);return this};q.prototype.yX=function(t,u,w,y,A){var x=this.Le[t];isNaN(u)||
isNaN(w)?(null==x.visibility&&(x.visibility=x.text.Ia()),x.text.va(!1)):null!=x.visibility&&(x.text.va(x.visibility),x.visibility=null);if(x.text.Ia()){var C="";if(null!=x.oRa||null!=this.tib)C=(x.oRa||this.tib)(y,A);x.text.Eb(C);var z=x.text.n4();C=x.text.Bq();var v=x.text.wa();A=y=0;0!==z&&(y=Hd.qb(z,0,v),A=Hd.qb(0,z,v));z=this.rBa?qk.transform(v,x.text.y9a()):x.text.y9a();null!=C&&(y=qk.Iu(z)?C.la():C.na(),A=qk.Qz(z)?C.ka():C.ma(),y=Hd.qb(y,0,v),A=Hd.qb(0,A,v));C=0>v.Ab()&&this.rBa;v=0>v.pb()&&
this.rBa;switch(z){case O.vd:u+=2*y;break;case O.Ld:u+=2*y;w+=2*A;break;case O.cg:u+=2*y;w-=2*A;break;case O.Qf:u-=2*y;w+=2*A;break;case O.lh:u-=2*y;w-=2*A;break;case O.pe:u-=2*y;break;case O.Xd:w+=2*A;break;case O.Je:w-=2*A}x.text.tc(z,!1);x.text.Db(u,w);u=Zh;w=x.text.y9a();if(t===u.dc&&w===O.vd)r.cb(x.text.ga()).Uc(y,A),this.Eia.split("horizontal",v?"right":"left",r);else if(t===u.Ic&&w===O.pe)r.cb(x.text.ga()).Uc(y,A),this.Eia.split("horizontal",v?"left":"right",r);else if(t===u.me&&w===O.Xd)r.cb(x.text.ga()).Uc(y,
A),this.Eia.split("vertical",C?"bottom":"top",r);else if(t===u.vc&&w===O.Je)r.cb(x.text.ga()).Uc(y,A),this.Eia.split("vertical",C?"top":"bottom",r);else if(t===u.Na)if(w===O.pe||w===O.vd)r.cb(x.text.ga()).Uc(y,A),this.Eia.split("horizontal","center",r);else if(w===O.Xd||w===O.Je)r.cb(x.text.ga()).Uc(y,A),this.Eia.split("vertical","center",r)}};q.prototype.vD=function(t){return this.Le[t]};q.prototype.bc=function(){return this.De};return q}();D(c,IR);L(c,"geotoolkit.controls.tools.CrossHair");c.Ja=
PS;c.E0c=QS;c.T0c=RS;c.prototype.Mi=function(){this.wya();IR.prototype.Mi.call(this)};c.prototype.ra=function(q,r){this.qg.ra(q,r);return this};c.prototype.Ea=function(){return this.qg.Ea()};c.prototype.qa=function(q,r){this.qg.qa(q,r);return this};c.prototype.fb=function(){return this.qg.fb()};c.prototype.h0=function(q,r){this.qg.h0(q,r);return this};c.prototype.R9=function(){return this.qg.R9()};c.prototype.MG=function(q){this.qg.MG(q);return this};c.prototype.Mw=function(){return this.qg.Mw()};
c.prototype.Nn=function(q){this.qg.Nn(q);return this};c.prototype.Tc=function(){return this.qg.Tc()};c.prototype.ia=function(){var q=IR.prototype.ia.call(this);q.linestyle=this.qg.Ea();q.fillstyle=this.qg.fb();q.outlinestyle=this.qg.R9();q.horizontal=this.qg.X8a();q.vertical=this.qg.Gvb();q.radius=this.qg.Mw();q.symbol=this.qg.Tc();if(null==this.Ih)return q;q.textstyle=this.Ih.jb();q.keeporientation=this.Ih.rBa;q.north=this.ASa(Zh.me);q.south=this.ASa(Zh.vc);q.east=this.ASa(Zh.Ic);q.west=this.ASa(Zh.dc);
q.center=this.ASa(Zh.Na);q.center.labelsoffset={};q.center.labelsoffset.x=this.Ih.Xn;q.center.labelsoffset.y=this.Ih.mq;q.center.lockx=this.Ih.Y1a;q.center.locky=this.Ih.Z1a;return q};c.prototype.fa=function(q){IR.prototype.fa.call(this,q);a.call(this,q);return this};c.prototype.xt=function(q){hb("method CrossHair.setSettings is deprecated since 2021.1 (3.3), use method CrossHair.setProperties instead");return this.fa(q)};c.prototype.ASa=function(q){var r={};q=this.Ih.vD(q);if(null==q)return q;var t=
q.text;r.textconverter=q.oRa;r.textstyle=t.jb();r.fillstyle=t.fb();r.linestyle=t.Ea();r.visible=t.Ia();r.alignment=t.lp();r.padding=t.n4();r.radius=t.c_();return r};c.prototype.$w=function(q,r){if(null==r)return this;if(null==this.Ih){if(!0!==r.visible)return this;this.qRa()}q=this.Ih.vD(q);if(null==q)return this;var t=q.text;void 0!==r.textconverter&&(q.oRa=r.textconverter);null!=r.textstyle&&t.ib(r.textstyle);null!=r.fillstyle&&t.qa(r.fillstyle);null!=r.linestyle&&t.ra(r.linestyle);null!=r.visible&&
(q.visibility=null,t.va(r.visible));null!=r.alignment&&t.tc(r.alignment);null!=r.padding&&t.MK(r.padding);null!=r.offset&&t.WD(r.offset);null!=r.radius&&t.tC(r.radius);return this};c.prototype.ib=function(q){null!=this.Ih&&this.Ih.ib(q);return this};c.prototype.aha=function(q,r){this.qg.aha(q,r);return this};c.prototype.Gvb=function(){return this.qg.Gvb()};c.prototype.Voa=function(q,r){this.qg.Voa(q,r);return this};c.prototype.X8a=function(){return this.qg.X8a()};c.prototype.isVisible=function(){return this.qg.Ia()};
c.prototype.va=function(q){this.hp!==q&&(this.hp=q,this.wya(),this.fireEvent(HR.aw,null));return this};c.prototype.bc=function(){return this.qg.bc()};c.prototype.hha=function(q){var r=this.bc();null!=this.NF&&(r=this.a0a(this.NF));var t=this.NF;this.setPosition(r,q);this.NF=t;return this};c.prototype.setPosition=function(q,r,t){var u=this.qg.bc();if(u===q||null!=u&&u.Ew(q,V.Qb))return this;this.qg.setPosition(q);null!=this.Ih&&this.Ih.setPosition(q);this.NF=null;!0!==r&&(r=this.Hd(),this.setActive(!0),
this.fireEvent(c.Ja.Qx,new OS(t,q)),r||this.setActive(r));return this};c.prototype.N6b=function(q,r){if(null==this.Ih)return this;q=this.Ih.vD(q);null!=q&&(q.oRa=r);return this};c.prototype.QE=function(q){"boolean"===typeof q&&(q={west:q,north:q,south:q,east:q,center:q});null!=this.Ih&&this.Ih.QE(q);return this};c.prototype.$sd=function(){return this.Qnb};c.prototype.$cb=function(q){this.Qnb=q;return this};c.prototype.vG=function(){return this.Qg};c.prototype.Ac=function(q){if(this.isEnabled()&&this.$a){var r=
this.$a instanceof Am?this.$a.getParent():this.$a;if("function"===typeof this.Qnb){var t=q.Zd();(this.Qg=this.Qnb(t))?(this.Gl=this.Z9a(this.Qg,!1,!0),r=this.Gl.ec(),r.oa([this.qg,this.Ih])):r=null}q.preventDefault();t=new M(Number.NaN,Number.NaN);r&&(mc(r,fp)?(t=r.nc(q.Zd()).clone(),(isNaN(t.getX())||isNaN(t.getY()))&&t.Ga(Number.NaN,Number.NaN)):(t=this.Kd(r,q),r.vb().contains(t)||t.Ga(Number.NaN,Number.NaN)));r=this.bc();if(null==r||!1===r.Ew(t,V.Qb))this.setPosition(t,!1,q),this.NF=this.wsa(t)}};
c.prototype.wsa=function(q){if(null==this.$a||isNaN(q.x)||isNaN(q.y))return q;var r=this.$a instanceof Am?this.$a.getParent():this.$a;return r&&r.wa()?r.wa().Ma(q):q};c.prototype.a0a=function(q){if(null==this.$a||isNaN(q.x)||isNaN(q.y))return q;var r=this.$a instanceof Am?this.$a.getParent():this.$a;return r&&r.wa()?r.wa().hd(q):q};c.prototype.Oc=function(q){this.isEnabled()&&this.$a&&this.fireEvent(c.Ja.UUa,new OS(q,this.bc()))};c.prototype.Xc=function(q){if(this.isEnabled()&&this.$a){var r=new M(Number.NaN,
Number.NaN);this.$a instanceof Am?this.$a.getParent()&&(r=this.Kd(this.$a.getParent(),q),this.$a.getParent().vb().contains(r)||r.Ga(Number.NaN,Number.NaN)):this.$a&&(r=this.Kd(this.$a,q),this.$a.vb().contains(r)||r.Ga(Number.NaN,Number.NaN));this.fireEvent(c.Ja.r2b,new OS(q,r))}};c.prototype.dispose=function(){this.qg.dispose();null!=this.Ih&&(this.Ih.dispose(),this.Ih=null);IR.prototype.dispose.call(this)};c.prototype.wya=function(){var q=this.isEnabled()&&this.hp;this.qg.va(q);null!=this.Ih&&this.Ih.va(q);
return this};c.prototype.rX=function(q){this.Gl=null;null!=this.$a&&(this.$a.removeChild(this.qg),this.$a.removeChild(this.Ih));this.$a=q;null!=this.$a&&(this.$a.oa(this.qg),this.$a.oa(this.Ih));return this};c.prototype.qRa=function(q){this.Ih||(q||(q=(new Ki).setColor(f).vo(g)),this.Ih=(new p(q)).setPosition(k).QE(!1).va(this.hp).Q5b(this.qg),this.$a.oa(this.Ih))};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkVuYWJsZWRTdGF0ZUNoYW5nZWQiOiJNaSIsInNldExpbmVTdHlsZSI6InJhIiwiZ2V0TGluZVN0eWxlIjoiRWEiLCJzZXRGaWxsU3R5bGUiOiJxYSIsImdldEZpbGxTdHlsZSI6ImZiIiwic2V0T3V0TGluZVN0eWxlIjoiaDAiLCJnZXRPdXRMaW5lU3R5bGUiOiJSOSIsInNldFJhZGl1cyI6Ik1HIiwiZ2V0UmFkaXVzIjoiTXciLCJzZXRTeW1ib2wiOiJObiIsImdldFN5bWJvbCI6IlRjIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwic2V0U2V0dGluZ3MiOiJ4dCIsImdldExhYmVsU2V0dGluZ3MiOiJBU2EiLCJzZXRMYWJlbFNldHRpbmdzIjoiJHciLCJzZXRUZXh0U3R5bGUiOiJpYiIsInNldFZlcnRpY2FsTGluZVN0eWxlIjoiYWhhIiwiZ2V0VmVydGljYWxMaW5lU3R5bGUiOiJHdmIiLCJzZXRIb3Jpem9udGFsTGluZVN0eWxlIjoiVm9hIiwiZ2V0SG9yaXpvbnRhbExpbmVTdHlsZSI6Ilg4YSIsInNldFZpc2libGUiOiJ2YSIsImdldFBvc2l0aW9uIjoiYmMiLCJ1cGRhdGVDdXJzb3JQb3NpdGlvbiI6ImhoYSIsInNldExhYmVsc1RleHRDb252ZXJ0ZXIiOiJONmIiLCJzZXRTZWxlY3RUYXJnZXRDYWxsYmFjayI6IiRjYiIsImdldFRhcmdldCI6InZHIn19fSAg");var US=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d){PR.call(this,d);this.Ov=a;this.Fj=b;this.m1a=!1}D(c,PR);L(c,"geotoolkit.controls.tools.DOMEventArgs");c.prototype.qub=function(){return this.Fj};c.prototype.getSelection=function(){return this.Ov};c.prototype.stopPropagation=function(a,b){this.xVb()?this.m1a=!0:PR.prototype.stopPropagation.call(this,a,b);return this};c.prototype.mk=function(){return this.xVb()?this.m1a:PR.prototype.mk.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRNb3VzZVBvc2l0aW9uIjoicXViIiwiaXNDYW5jZWxlZCI6Im1rIn19fSAg");var VS=/*#__PURE__*/va(/*#__PURE__*/{Mac:"collision",sk:"inside"},2,"eyJDb2xsaXNpb24iOiJNYWMiLCJJbnNpZGUiOiJzayJ9");var WS=/*#__PURE__*/va(/*#__PURE__*/{nZa:"rectangular",UJa:"circular"},2,"eyJSZWN0YW5ndWxhciI6Im5aYSIsIkNpcmN1bGFyIjoiVUphIn0g");var XS=/*#__PURE__*/va(/*#__PURE__*/{Ro:"hover",GX:"click",hza:"mousedown",Spa:"mouseup",MT:"doubleclick",XKa:"taphold"},2,"eyJIb3ZlciI6IlJvIiwiQ2xpY2siOiJHWCIsIk1vdXNlRG93biI6Imh6YSIsIk1vdXNlVXAiOiJTcGEiLCJEb3VibGVDbGljayI6Ik1UIiwiVGFwSG9sZCI6IlhLYSJ9");var ZS=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d){PR.call(this,a);this.Ov=b;this.XF=d}D(c,PR);L(c,"geotoolkit.controls.tools.SelectionEventArgs");c.prototype.dvb=function(){return this.XF};c.prototype.getSelection=function(){return this.Ov};c.prototype.wt=function(a){this.Ov=a;return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZWxlY3Rpb25Nb2RlIjoiZHZiIiwic2V0U2VsZWN0aW9uIjoid3QifX19");var $S=/*#__PURE__*/va(/*#__PURE__*/{gN:"onPick",cxa:"onSelectionEnd",Rx:"onSelectionChanged",tea:"beforeSelectionChange",Lq:"onDoubleClick"},2,"eyJvblBpY2siOiJnTiIsIm9uU2VsZWN0aW9uRW5kIjoiY3hhIiwib25TZWxlY3Rpb25DaGFuZ2VkIjoiUngiLCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2UiOiJ0ZWEiLCJvbkRvdWJsZUNsaWNrIjoiTHEifSAg"),aT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f,g){f=G(f,{layer:f instanceof Th?f:null,name:"pick",mode:g});IS.call(this,f);this.sm(xb(f.slots,{pointerdown:this.Xc.bind(this),pointermove:[{callback:this.Ac.bind(this),object:null},{callback:this.Ac.bind(this),object:Za,enabled:!1}],pointerup:[{callback:this.Oc.bind(this),object:null},{callback:this.Oc.bind(this),object:Za.document,enabled:!1}]}));this.Ug=bk.ig();
this.TBa=this.j4a=null;this.u2=!1;this.gV=[];this.AF=this.sL=this.oz=null;this.Gc=this.lka=this.zR=void 0;this.JE=this.AJ=this.eD=null;this.XF=yS.g6;this.ROb=VS.Mac;this.cDa=WS.nZa;this.QHb=JS.Na;this.eka=XS.hza;this.Oj=this.KR=null}function a(f,g){if(f===g||!(g instanceof Fe))return!0;for(;g&&g.getParent();){if(g.getParent()===f)return!0;g=g.getParent()}return!1}var b="#bdbdbd",d="rgba(189,189,189,0.5)",e=750;D(c,IS);L(c,"geotoolkit.controls.tools.Selection");c.Ja=$S;c.prototype.dtd=function(){return this.j4a};
c.prototype.bdb=function(f){this.j4a=f;return this};c.prototype.Fre=function(){return this.TBa};c.prototype.pLd=function(f){this.TBa=f;return this};c.prototype.On=function(f){this.Wr("pointermove",f,Za);this.Wr("pointerup",f,Za.document)};c.prototype.QIa=function(f){this.Oj=f;return this};c.prototype.getRootNode=function(){return this.Oj};c.prototype.Wga=function(f){if(this.XF===f)return this;this.XF=f;this.Km();return this};c.prototype.dvb=function(){return this.XF};c.prototype.XRc=function(f){this.ROb=
f;return this};c.prototype.Dsd=function(){return this.ROb};c.prototype.PMd=function(f){this.Zxb();this.$xb();this.cDa=f;this.$a.removeChild(this.eD);this.$a.removeChild(this.AJ);this.$a.removeChild(this.JE);this.JE=this.AJ=null;if(f===WS.nZa)this.eD=(new ho(new U(0,0,0,0))).va(!1).ra(this.zR).qa(this.lka).ug(!1);else if(f===WS.UJa&&(this.eD=(new Tm(0,0,0,0)).va(!1).ra(this.zR).qa(this.lka).ug(!1),this.TBa)){this.A3b();var g=this.$a.wa()?0>this.$a.wa().Ab():!1,h=new Nm({width:7,height:12,sizeisindevicespace:!0,
painter:Zm,alignment:O.Xd,linestyle:this.zR,fillstyle:this.zR.rb()});this.AJ=(new Pm(new M(0,0),new M(0,0))).va(!1).ra(this.zR).h8b(h).ug(!1);this.JE=(new ek).va(!1).vt(!0).ib(this.Gc).tc(g?O.Xd:O.Je).ug(!1)}this.$a.oa(this.eD);f===WS.UJa&&this.TBa&&(this.$a.oa(this.AJ),this.$a.oa(this.JE));return this};c.prototype.Esd=function(){return this.cDa};c.prototype.pJd=function(f){this.QHb=f;return this};c.prototype.jld=function(){return this.QHb};c.prototype.tWa=function(f){this.eka=f;return this};c.prototype.Brd=
function(){return this.eka};c.prototype.bB=function(f){this.oz=f;return this};c.prototype.b$=function(){return this.ed};c.prototype.gva=function(){return this.en};c.prototype.Zxb=function(){void 0===this.lka&&(this.lka=new rf(d));return this};c.prototype.$xb=function(){void 0===this.zR&&(this.zR=(new X(b,1,[2,3])).Mg({x:!0,y:!0}));return this};c.prototype.A3b=function(){void 0===this.Gc&&(this.Gc=(new Ki("black")).ae("center").ci("middle"));return this};c.prototype.rX=function(f){null!=this.$a&&this.XF!==
yS.g6&&(this.$a.removeChild(this.eD),this.$a.removeChild(this.AJ),this.$a.removeChild(this.JE),this.JE=this.AJ=this.eD=null,this.X7c&&this.$a.getParent().removeChild(this.$a));this.$a=f;return this};c.prototype.y3b=function(f){if(this.XF!==yS.g6)if(null==this.$a&&(this.X7c=!0,this.$a=new Am,f=f.Pe().getRoot(),f.oa(this.$a)),this.$a.removeChild(this.eD),this.$a.removeChild(this.AJ),this.$a.removeChild(this.JE),this.cDa===WS.nZa)this.Zxb(),this.$xb(),this.eD=(new ho(new U(0,0,0,0))).va(!1).ra(this.zR).qa(this.lka).ug(!1),
this.$a.oa(this.eD);else if(this.cDa===WS.UJa&&(this.Zxb(),this.$xb(),this.eD=(new Tm(0,0,0,0,!1,this.zR,this.lka)).ug(!1),this.$a.oa(this.eD),this.TBa)){this.A3b();f=this.$a.wa()?0>this.$a.wa().Ab():!1;var g=new Nm({width:7,height:12,sizeisindevicespace:!0,painter:Zm,alignment:O.Xd,linestyle:this.zR,fillstyle:this.zR.rb()});this.AJ=(new Pm(new M(0,0),new M(0,0))).va(!1).ra(this.zR).h8b(g).ug(!1);this.JE=(new ek).va(!1).vt(!0).ib(this.Gc).tc(f?O.Xd:O.Je).ug(!1);this.$a.oa(this.AJ);this.$a.oa(this.JE)}return this};
c.prototype.KPd=function(){var f=null;this.fireEvent(c.Ja.Rx,new ZS(f,this.gV,this.XF))};c.prototype.Adb=function(){if(null!=this.sL)if(this.XF===yS.ON)this.setActive(!0),this.ed=this.Kd(this.$a,this.sL),this.en=this.Kd(this.$a,this.sL);else{var f=this.sL.tb(),g=this.sL.Zd(),h=this.lSa(this.sL);this.g4a(f,this.sL,g.x,g.y,h)}};c.prototype.Xc=function(f){if(this.SFa()&f.ye().buttons||this.Gm(f))if(this.y3b(f),this.sL=f,this.XF===yS.ON)this.On(!0),this.Adb();else switch(this.AF=f.Zd(),this.eka){case XS.XKa:this.KR=
setTimeout(function(){this.XF===yS.g6&&this.eka===XS.XKa&&this.isEnabled()&&this.Adb();this.KR=null}.bind(this),e);break;case XS.hza:this.Adb()}};c.prototype.vJa=function(f){return null!=this.$a?this.$a.wa().Ma(f):f};c.prototype.g4a=function(f,g,h,k,l){if(this.j4a)g=this.getRootNode()?function(n){a(this.getRootNode(),n)&&this.j4a(n)}.bind(this):this.j4a,this.Ug.ola(g,f,h,k,l),this.KPd();else{f=this.Ug.select(f,h,k,l);if(this.getRootNode()){var m=this.getRootNode();f=f.filter(function(n){return a(m,
n)})}this.aUa(f,g)}};c.prototype.Oc=function(f){if(!(this.SFa()&f.ye().buttons)||this.Gm(f)){var g=f.Zd();this.X$a(g)&&this.Lq(f);this.y3b(f);if(this.XF===yS.ON){if(!1!==this.Hd()){this.On(!1);var h=[];g=f.tb();this.setActive(!1);var k=this.lSa(f),l=this.vJa(this.ed),m=this.vJa(this.en);this.XF===yS.ON&&null==this.en?this.aUa(h,f):(this.eD.va(!1).ha(),this.AJ&&this.AJ.va(!1).ha(),this.JE&&this.JE.va(!1).ha(),h=new U(l.x,l.y,m.x,m.y),.1>h.ca()&&h.setX(h.getX()-k/2).Ra(k/2),.1>h.da()&&h.setY(h.getY()-
k/2).Ya(k/2),this.ROb===VS.sk?this.cDa===WS.UJa?this.g4a(g.getRoot(),f,this.Agc,this.Xhb,this.Xhb):this.g4a(g.getRoot(),f,[h.x,h.x+h.width,h.x+h.width,h.x],[h.y,h.y,h.y+h.height,h.y+h.height],!1):this.g4a(g.getRoot(),f,h))}}else if(this.eka===XS.XKa&&null!=this.KR)clearTimeout(this.KR),this.KR=null;else if(this.eka===XS.Spa||this.eka===XS.GX&&this.AF&&M.Uf(this.AF,f.Zd())<this.lSa(f))this.sL=f,this.Adb()}};c.prototype.Ac=function(f){this.y3b(f);if(!this.Hd()){if(this.eka===XS.Ro){var g=f.tb();this.en=
this.Kd(this.$a,f);var h=this.vJa(this.en);this.g4a(g,f,h.x,h.y,this.zS())}}else if(this.XF===yS.ON){this.en=this.Kd(this.$a,f);this.Trc(this.ed,this.en);this.cDa===WS.nZa&&this.eD.cb(this.ed.x,this.ed.y,this.en.x,this.en.y).va(!0).ha();if(this.cDa===WS.UJa){var k=this.vJa(this.ed);g=this.vJa(this.en);h=Math.abs(g.x-k.x);var l=Math.abs(g.y-k.y),m=Math.min(h,l);this.$a.wa().hd(new M(k.x+m,k.y+m));this.QHb===JS.Na?(l=Math.sqrt(Math.pow(h,2)+Math.pow(l,2)),g=this.$a.wa().nc(new M(k.x+l,k.y+l)),h=this.$a.wa().hd(new M(k.x-
l,k.y-l)),this.Agc=k,this.Xhb=l):(k=new M((k.x+g.x)/2,(k.y+g.y)/2),l=Math.sqrt(Math.pow(Math.abs(g.x-k.x),2)+Math.pow(Math.abs(g.y-k.y),2)),h=this.$a.wa().hd(new M(k.x-l,k.y-l)),g=this.$a.wa().hd(new M(k.x+l,k.y+l)),this.Agc=k,this.Xhb=l);this.eD.cb(h.x,h.y,g.x,g.y).va(!0).ha();this.TBa?(k=new M((h.x+g.x)/2,(h.y+g.y)/2),l=new M(g.x,(h.y+g.y)/2),(m=this.TBa(this.Xhb,k.clone(),l.clone()))?(this.AJ.Oq({from:k,to:l}),this.JE.Eb(m).Db(.25*h.x+.75*g.x,(h.y+g.y)/2),this.AJ.va(!0).ha(),this.JE.va(!0).ha()):
(this.AJ.va(!1).ha(),this.JE.va(!1).ha())):(this.AJ&&this.AJ.va(!1).ha(),this.JE&&this.JE.va(!1).ha())}f.stopPropagation(!0)}};c.prototype.aUa=function(f,g){null!=this.oz&&(f=this.oz.call(this,f));this.dSc(f,g)};c.prototype.Lq=function(f){this.isEnabled()&&(this.fireEvent(c.Ja.Lq,new ZS(f,this.gV,this.XF)),this.XF===yS.g6&&this.eka===XS.MT&&(this.sL=f,this.Adb()));return this};c.prototype.getSelection=function(){return this.gV};c.prototype.wt=function(f){return this.dSc(f,null)};c.prototype.dSc=function(f,
g){this.fireEvent(c.Ja.gN,new ZS(g,f,this.XF));this.ATb(this.gV,f)||(this.fireEvent(c.Ja.tea,new ZS(g,this.gV,this.XF)),this.gV=f,this.fireEvent(c.Ja.Rx,new ZS(g,this.gV,this.XF)));this.Dna()&&this.Ob(!1);this.fireEvent(c.Ja.cxa,new ZS(g,f,this.XF));return this};c.prototype.ATb=function(f,g){if(!(f&&g&&f instanceof Array&&g instanceof Array)||f.length!==g.length)return!1;for(var h=0;h<f.length;h++)if(f[h]instanceof Array&&g[h]instanceof Array){if(!f[h].equals(g[h]))return!1}else if(f[h]!==g[h])return!1;
return!0};c.prototype.ra=function(f,g){null!=this.eD?(this.eD.ra(f,g),this.zR=this.eD.Ea()):(this.$xb(),this.zR=X.He(null,this.zR,f,g));return this};c.prototype.qa=function(f,g){null!=this.eD?(this.eD.qa(f,g),this.lka=this.eD.fb()):(this.Zxb(),this.lka=tg.$t(null,this.lka,f,g));return this};c.prototype.ib=function(f,g){null!=this.JE?(this.JE.ib(f,g),this.Gc=this.JE.jb()):(this.A3b(),this.Gc=Ki.He(null,this.Gc,f,g));return this};c.prototype.xt=function(f){null!=f.enabled&&this.Ob(f.enabled);null!=
f.mode&&this.Wga(f.mode);null!=f.linestyle&&this.ra(f.linestyle);null!=f.fillstyle&&this.qa(f.fillstyle);null!=f.autodisabled&&this.oaa(f.autodisabled);null!=f.mouseradius&&this.Tga(f.mouseradius);null!=f.touchradius&&this.$ga(f.touchradius);return this};c.prototype.oaa=function(f){this.u2=f;return this};c.prototype.Dna=function(){return this.u2};c.prototype.dispose=function(){this.eD&&this.eD.dispose();this.AJ&&this.AJ.dispose();this.JE&&this.JE.dispose();this.gV=[];IS.prototype.dispose.call(this)};
return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTZWxlY3RvckNhbGxiYWNrIjoiYmRiIiwic2V0TWVhc3VyZUNhbGxiYWNrIjoicExkIiwic2V0Um9vdE5vZGUiOiJRSWEiLCJzZXRTZWxlY3Rpb25Nb2RlIjoiV2dhIiwiZ2V0U2VsZWN0aW9uTW9kZSI6ImR2YiIsInNldFJ1YmJlckJhbmRNb2RlIjoiWFJjIiwiZ2V0UnViYmVyQmFuZE1vZGUiOiJEc2QiLCJzZXRSdWJiZXJCYW5kU2hhcGVNb2RlIjoiUE1kIiwiZ2V0UnViYmVyQmFuZFNoYXBlTW9kZSI6IkVzZCIsInNldENpcmN1bGFyTW9kZSI6InBKZCIsImdldENpcmN1bGFyTW9kZSI6ImpsZCIsInNldFBvaW50ZXJNb2RlIjoidFdhIiwiZ2V0UG9pbnRlck1vZGUiOiJCcmQiLCJzZXROb2RlRmlsdGVyIjoiYkIiLCJnZXRTdGFydFBvaW50IjoiYiQiLCJnZXRFbmRQb2ludCI6Imd2YSIsIm9uTW91c2VEb3duIjoiWGMiLCJvbk1vdXNlVXAiOiJPYyIsIm9uTW91c2VNb3ZlIjoiQWMiLCJzZXRTZWxlY3Rpb24iOiJ3dCIsInNldExpbmVTdHlsZSI6InJhIiwic2V0RmlsbFN0eWxlIjoicWEiLCJzZXRUZXh0U3R5bGUiOiJpYiIsInNldFNldHRpbmdzIjoieHQiLCJzZXRBdXRvRGlzYWJsZWQiOiJvYWEiLCJpc0F1dG9EaXNhYmxlZCI6IkRuYSJ9fX0g");var cT=/*#__PURE__*/function(){function c(b){aT.call(this);b=b||{};var d={pointermove:this.Ac.bind(this),pointerdown:this.Xc.bind(this),pointerup:this.Oc.bind(this),"cg-leave":this.Ry.bind(this)};null==b.plot&&(hb("DOM events are supported out-of-box, no need to create geotoolkit.controls.tools.DOMSupport tools manually"),d={});this.kb(b.name||"domsupport");this.sm(d);this.lc=b.plot;this.Fj=null;this.Ov=[];this.AF=null}function a(b,d,e){var f=new US(d,e.Zd(),e);for(e=d.length-1;0<=e;e--)if(!1!==d[e]instanceof
Fe){var g=b.indexOf(d[e]);0<=g?(d[e].notify(Ec.Ro,d[e],f),b.splice(g,1)):d[e].MJ(Zf.Ro).notify(Ec.nfb,d[e],f)}for(e=b.length-1;0<=e;e--)b[e]instanceof Fe&&b[e].yI(Zf.Ro).notify(Ec.Tfb,b[e],f)}D(c,aT);L(c,"geotoolkit.controls.tools.DOMSupport");c.prototype.Ac=function(b){var d=b.Zd();null!=this.Fj&&this.Fj.Ew(d)||(this.Fj=d,xe.ya().$Ec(this.lc.getRoot())&&(d=this.TZb(b),a(this.Ov,d,b),this.Ov=d))};c.prototype.Xc=function(b){this.AF=b.Zd();var d=this.TZb(b);this.Gm(b)&&(a(this.Ov,d,b),this.Ov=d);this.Vwc(d,
[Ec.hza],b)};c.prototype.Oc=function(b){var d=this.TZb(b);var e=b.Zd();e=this.X$a(e)?[Ec.Spa,Ec.GX,Ec.MT]:this.E_(b)?[Ec.Spa,Ec.GX]:[Ec.Spa];this.Vwc(d,e,b)};c.prototype.Ry=function(b){this.Fj=null;a(this.Ov,[],b);this.Ov=[]};c.prototype.E_=function(b){var d=b.Zd();b=this.Gm(b)?this.pW():this.zS();return this.AF&&M.Uf(this.AF,d)<=b};c.prototype.Vwc=function(b,d,e){e=new US(b,e.Zd(),e);for(var f=b.length-1;0<=f;f--)if(!1!==b[f]instanceof Fe)for(var g=0;g<d.length;g++)if(b[f].notify(d[g],b[f],e),e.mk())return};
c.prototype.TZb=function(b){var d=b.Zd();b=this.Gm(b)?this.pW():this.zS();return bk.select(this.lc.getRoot(),d.getX(),d.getY(),b)};return c}();var dT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){PR.call(this,a);this.Tg=Array.isArray(b)?b.slice():[b]}D(c,PR);c.prototype.Or=function(){return this.Tg};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRFbGVtZW50cyI6Ik9yIn19fSAg");var eT=/*#__PURE__*/va(/*#__PURE__*/{gN:"onPick",Rz:"onDrag",m2b:"onDrop"},2,"eyJvblBpY2siOiJnTiIsIm9uRHJhZyI6IlJ6Iiwib25Ecm9wIjoibTJiIn0g"),fT=/*#__PURE__*/va(/*#__PURE__*/{oGb:"VisibleModelLimits",bZa:"ModelLimits"},2,"eyJWaXNpYmxlTW9kZWxMaW1pdHMiOiJvR2IiLCJNb2RlbExpbWl0cyI6ImJaYSJ9"),gT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){var b=[{drag:function(d){return d.filter(function(e){return e instanceof Cg})}}];a=xb(a,{nodefilters:b,inflatex:0,inflatey:0,dragmode:c.GDb.oGb,slots:{},name:"drag-and-drop"},!0);IR.call(this,a);this.sm({pointerdown:this.Xc.bind(this),pointermove:{callback:this.Ac.bind(this),object:Za,enabled:!1},pointerup:{callback:this.Oc.bind(this),object:Za,enabled:!1}});this.lc=null;this.Ug=
new bk;this.fea=new rm;this.xf=this.AY=this.$f=null;this.u7c=a.inflatex;this.v7c=a.inflatey;this.cJb=a.dragmode;this.L2a=a.nodefilters;this.Be=this.cR=null;this.Ob(!1)}D(c,IR);L(c,"geotoolkit.controls.tools.DragAndDrop");c.Ja=eT;c.GDb=fT;c.prototype.WH=function(a){IR.prototype.WH.call(this,a);this.lc=a;return this};c.prototype.dispose=function(){null!=this.xf&&(Za.document.body.removeChild(this.xf),this.xf=null);IR.prototype.dispose.call(this)};c.prototype.Mi=function(){IR.prototype.Mi.call(this);
!1===this.isEnabled()&&this.Q4b()};c.prototype.Km=function(){IR.prototype.Km.call(this);!1===this.isEnabled()&&this.Q4b()};c.prototype.Q4b=function(){this.Be=this.cR=null;null!=this.xf&&(Za.document.body.removeChild(this.xf),this.xf=null);return this};c.prototype.vjd=function(a){var b=a.tb();a=this.Kd(b,a);b=this.Ug.select(b,a.getX(),a.getY(),2);for(a=0;a<this.L2a.length;++a){this.Be=null;this.cR=this.L2a[a].drag(b);var d=this.L2a[a].container;d&&(this.Be=d(b));if(this.cR&&0!==this.cR.length){Array.isArray(this.cR)?
1<this.cR.length&&!d&&hb("NodeFilter.Drag returned an array. NodeFilters.Container should be specified!"):this.cR=[this.cR];break}}};c.prototype.Xc=function(a){this.cR&&this.Gm(a)?a.stopPropagation(!1,!0):(this.vjd(a),this.cR&&(this.start(a),this.fireEvent(c.Ja.gN,new dT(a,this.cR))))};c.prototype.start=function(a){a.stopPropagation(!1,!0);IR.prototype.start.call(this,a);IR.lock(this.lc,this);this.Lwd(a);this.Wr("pointermove",!0,Za);this.Wr("pointerup",!0,Za);return this};c.prototype.stop=function(){IR.prototype.stop.call(this);
IR.unlock(this);this.Q4b();this.Wr("pointermove",!1,Za);this.Wr("pointerup",!1,Za);return this};c.prototype.Lwd=function(a){this.$f=null;var b=this.Be?this.Be:this.cR[0];if("function"===typeof b.ga){var d=b.ga().clone().Uc(this.u7c,this.v7c);var e=b.wa();"function"===typeof b.Yd&&null!==b.Yd()&&(e=W.multiply(e,b.Yd().rc()));if(this.cJb===c.GDb.oGb){if(b.Ki&&b.vb)var f=b.Ki();else f=e.transform(d),f.intersect(0,0,a.Pe().ca(),a.Pe().da());d=e.nc(f)}else f=e.transform(d);this.AY=yc(this.lc.Vv());this.AY.x+=
f.getX();this.AY.y+=f.getY();a=e.transform(d).bd();e=W.multiply(W.cf(-a.getX(),-a.getY()),e);e.transform(d,d);d=new Gh(d.ca(),d.da());d.clear();b instanceof lg&&null!==b.lb()&&(e=W.multiply(e,b.lb().rc()));e=d.vq(e);this.Be&&e.mea(this.fea.Axa(this.cR));b.render(e);d.Ko();this.xf=d.wk();this.xf.style.opacity="0.7";this.xf.style.position="absolute";this.xf.style.left=this.AY.x+"px";this.xf.style.top=this.AY.y+"px";this.xf.style.width=f.ca()+"px";this.xf.style.height=f.da()+"px";Za.document.body.appendChild(this.xf)}};
c.prototype.Ac=function(a){if(0===a.ye().buttons)this.Oc(a);else{var b=a.Uxc();null==this.$f?this.$f=b:(this.AY.x+=b.getX()-this.$f.getX(),this.AY.y+=b.getY()-this.$f.getY(),this.xf.style.left=this.AY.x+"px",this.xf.style.top=this.AY.y+"px",this.$f=b,this.fireEvent(c.Ja.Rz,new dT(a,this.cR)))}};c.prototype.Oc=function(a){a.stopPropagation(!1,!0);this.fireEvent(c.Ja.m2b,new dT(a,this.cR));this.stop()};c.prototype.Dqd=function(){return this.L2a};c.prototype.HLd=function(a){this.L2a=a;return this};c.prototype.Xmd=
function(){return this.cJb};c.prototype.PJd=function(a){this.cJb=a;return this};c.prototype.paa=function(a){RR.Kk(this.xf,{cursor:a},this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhdHRhY2hUb1Bsb3QiOiJXSCIsIm9uRW5hYmxlZFN0YXRlQ2hhbmdlZCI6Ik1pIiwib25BY3RpdmVTdGF0ZUNoYW5nZWQiOiJLbSIsImdldE5vZGVGaWx0ZXJzIjoiRHFkIiwic2V0Tm9kZUZpbHRlcnMiOiJITGQiLCJnZXREcmFnTW9kZSI6IlhtZCIsInNldERyYWdNb2RlIjoiUEpkIiwic2V0Q3Vyc29yIjoicGFhIn19fSAg");var iT=/*#__PURE__*/va(/*#__PURE__*/{RT:"Resized",cL:"Translated",NN:"Rotated",Vu:"Start",HQ:"Continue",Ao:"End",iba:"Drag",NYa:"Inserted",Vya:"Deleted",kKa:"Flipped",gEb:"Grouped",fGb:"Ungrouped",uj:"PropertyChanged",ygb:"SceneChanged",uYa:"EditorChanged",hfc:"Undo",Qdc:"Redo",vha:"CommandApplied"},2,"eyJSZXNpemVkIjoiUlQiLCJUcmFuc2xhdGVkIjoiY0wiLCJSb3RhdGVkIjoiTk4iLCJTdGFydCI6IlZ1IiwiQ29udGludWUiOiJIUSIsIkVuZCI6IkFvIiwiRHJhZyI6ImliYSIsIkluc2VydGVkIjoiTllhIiwiRGVsZXRlZCI6IlZ5YSIsIkZsaXBwZWQiOiJrS2EiLCJHcm91cGVkIjoiZ0ViIiwiVW5ncm91cGVkIjoiZkdiIiwiUHJvcGVydHlDaGFuZ2VkIjoidWoiLCJTY2VuZUNoYW5nZWQiOiJ5Z2IiLCJFZGl0b3JDaGFuZ2VkIjoidVlhIiwiVW5kbyI6ImhmYyIsIlJlZG8iOiJRZGMiLCJDb21tYW5kQXBwbGllZCI6InZoYSJ9");var jT=/*#__PURE__*/va(/*#__PURE__*/{Vpa:1,bGb:2,ugb:4,EQ:8,iYa:16,eKa:32,wEb:64,pYa:128,ybc:7,JZc:231,bfb:248,gB:255},2,"eyJSZXNpemUiOiJWcGEiLCJUcmFuc2xhdGUiOiJiR2IiLCJSb3RhdGUiOiJ1Z2IiLCJBZGRQb2ludCI6IkVRIiwiQ3JlYXRlV2l0aEJvdW5kcyI6ImlZYSIsIkRyYWdQb2ludCI6ImVLYSIsIkluc2VydFBvaW50Ijoid0ViIiwiRGVsZXRlUG9pbnQiOiJwWWEiLCJFZGl0QmJveCI6InliYyIsIkVkaXROb2RlIjoiSlpjIiwiQ3JlYXRlIjoiYmZiIiwiQWxsIjoiZ0IifSAg");var kT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){this.fjb=[]}var a=null;L(c,"geotoolkit.controls.tools.editors.Registry");c.prototype.DA=function(b){for(var d=0;d<this.fjb.length;d++){var e=this.fjb[d];if(e.Yp(b))return new e.constructor(b)}return null};c.prototype.register=function(b){"function"===typeof b.Yp&&0>this.fjb.indexOf(b)&&this.fjb.push(b);return this};c.ya=function(){null===a&&(a=new c);return a};return c}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsiZ2V0RWRpdG9yIjoiREEifX19");var lT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){ue.call(this);this.O7c=a;this.ql=null;this.yia=[];this.$C=0}D(c,ue);L(c,"geotoolkit.controls.tools.editors.History");c.prototype.zea=function(){return 0<this.$C};c.prototype.yea=function(){return this.$C!==this.yia.length};c.prototype.AQ=function(){if(!this.zea())return this;var a=this.yia[--this.$C],b=a.tb(),d=a.rc().setOptions(a.ta());d.tb()||d.zl(b);b=this.$Tb(d.tb());this.UD(b);null!=b&&b.apply(d).update();this.notify(iT.vha,this,d);this.notify(iT.hfc,this,a);return a.W0b()?
this:this.AQ()};c.prototype.uga=function(){if(!this.yea())return this;var a=this.yia[this.$C++],b=this.$Tb(a.tb());this.UD(b);null!=b&&b.apply(a).update();this.notify(iT.vha,this,a);this.notify(iT.Qdc,this,a);a=this.yia[this.$C];return!a||a.W0b()?this:this.uga()};c.prototype.push=function(a,b){this.yia.length=this.$C;b=b||(a.tb()?this.$Tb(a.tb()):this.ql);if(null!=b){this.UD(b);a.tb()||a.zl(b.tb());b.apply(a).update();var d=this.yia[this.yia.length-1];if(b.Hd()&&null!=d&&d.tb()===a.tb()&&d.merge(a))return this.notify(iT.vha,
this,a),this}this.yia.push(a);this.$C++;this.notify(iT.vha,this,a);return this};c.prototype.getCurrentPosition=function(){return this.$C};c.prototype.clear=function(){this.UD(null);this.$C=this.yia.length=0;return this};c.prototype.UD=function(a){if(this.ql===a)return this;this.ql=a;this.notify(iT.uYa,this,a);return this};c.prototype.Pqe=function(){return this.ql};c.prototype.$Tb=function(a){return null!=this.ql&&this.ql.tb()===a?this.ql:kT.ya().DA({node:a,editmode:null!=this.ql?this.ql.Mo():jT.gB,
layer:this.O7c,history:this})};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjYW5VbmRvIjoiemVhIiwiY2FuUmVkbyI6InllYSIsInVuZG8iOiJBUSIsInJlZG8iOiJ1Z2EifX19");var mT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){this.ea=this.Fd=null;this.ijc=!0}L(c,"geotoolkit.controls.tools.editors.commands.AbstractCommand");c.prototype.zl=function(a){this.Fd=a;return this};c.prototype.tb=function(){return this.Fd};c.prototype.merge=function(a){return!1};c.prototype.rc=function(){return this};c.prototype.GAb=function(a){this.ijc=a;return this};c.prototype.W0b=function(){return this.ijc};c.prototype.setOptions=function(a){this.ea=a;return this};c.prototype.ta=function(){return this.ea};c.prototype.vh=
function(){return null};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXROb2RlIjoiemwiLCJnZXROb2RlIjoidGIiLCJjcmVhdGVJbnZlcnNlIjoicmMiLCJzZXRTZXBhcmF0ZSI6IkdBYiIsImlzU2VwYXJhdGUiOiJXMGIiLCJnZXRPcHRpb25zIjoidGEiLCJnZXRFdmVudE5hbWUiOiJ2aCJ9fX0g");var nT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){mT.call(this);this.Xn=a;this.mq=b}D(c,mT);L(c,"geotoolkit.controls.tools.editors.commands.Translation");c.prototype.hf=function(){return this.Xn};c.prototype.We=function(){return this.mq};c.prototype.tQ=function(a,b){this.Xn=a;this.mq=b;return this};c.prototype.merge=function(a){return a instanceof c?(this.Xn+=a.hf(),this.mq+=a.We(),!0):!1};c.prototype.vh=function(){return iT.cL};c.prototype.rc=function(){return new c(-this.Xn,-this.mq)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUcmFuc2xhdGVYIjoiaGYiLCJnZXRUcmFuc2xhdGVZIjoiV2UiLCJnZXRFdmVudE5hbWUiOiJ2aCIsImNyZWF0ZUludmVyc2UiOiJyYyJ9fX0g");var oT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){mT.call(this);this.w1=a}D(c,mT);L(c,"geotoolkit.controls.tools.editors.commands.Rotation");c.prototype.hv=function(){return this.w1};c.prototype.merge=function(a){return a instanceof c?(this.w1+=a.hv(),!0):!1};c.prototype.rc=function(){return new c(-this.w1)};c.prototype.vh=function(){return iT.NN};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbmdsZSI6Imh2IiwiY3JlYXRlSW52ZXJzZSI6InJjIiwiZ2V0RXZlbnROYW1lIjoidmgifX19");var pT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){mT.call(this);this.pY=a}D(c,mT);L(c,"geotoolkit.controls.tools.editors.commands.Resize");c.prototype.bGa=function(){return this.pY};c.prototype.merge=function(a){if(a instanceof c){var b=a.bGa();this.pY.forEach(function(d,e){d.delta+=(1+d.delta)*b[e].delta});return!0}return!1};c.prototype.rc=function(){var a=this.pY.map(function(b){var d=-1>b.delta?-1:1;return{vx:d*b.vx,vy:d*b.vy,delta:-b.delta/(1+b.delta)}});return new c(a)};c.prototype.vh=function(){return iT.RT};
return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRSZXNpemVEaXJlY3Rpb25zIjoiYkdhIiwiY3JlYXRlSW52ZXJzZSI6InJjIiwiZ2V0RXZlbnROYW1lIjoidmgifX19");var qT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){PR.call(this,a);this.Pqa=b.command;this.Fd=b.node;this.ql=b.editor;this.X1=b.distances;this.vi=b.value}D(c,PR);L(c,"geotoolkit.controls.tools.PaintEventArgs");c.prototype.syc=function(){return this.Pqa};c.prototype.DA=function(){return this.ql};c.prototype.tb=function(){return this.Fd};c.prototype.D9=function(){return this.X1.slice()};c.prototype.getValue=function(){return this.vi};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb21tYW5kIjoic3ljIiwiZ2V0RWRpdG9yIjoiREEiLCJnZXROb2RlIjoidGIiLCJnZXREaXN0YW5jZXMiOiJEOSJ9fX0g");var rT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(k){k=G(k,{editmode:jT.gB,mouseradius:3,touchradius:5,bbox:new dh({linestyle:{color:"#3399ff",pattern:[3,3],pixelsnapmode:!0}}),slots:{},history:new lT(k&&k.layer)});IR.call(this,k);this.hh=!1;this.le(k);null!=k.handles&&this.GPc(k.handles);null!=k.node&&this.zl(k.node);this.TD(k.editmode)}function a(k,l,m,n){return Math.atan2(k*n-l*m,k*m+l*n)}var b=new W,d=[-1,-1,-1,0,1,1,1,0],e=[-1,0,1,1,1,0,-1,-1],f=17,g=new Nm({painter:$m,alignment:O.Na,preservereadingorientation:!0,
sizeisindevicespace:!0,width:9,height:9,fillstyle:{color:"white",shadow:{enable:!0,color:"rgba(0,0,0,0.3)",offsetx:1,offsety:1}},linestyle:"#4c4c4c"}),h=new Nm({painter:Sn,alignment:O.Na,sizeisindevicespace:!0,width:7,height:7,fillstyle:{color:"white",shadow:{enable:!0,color:"rgba(0,0,0,0.3)",offsetx:1,offsety:1}},linestyle:{color:"#7a7a7a",pixelsnapmode:!0}});D(c,IR);L(c,"geotoolkit.controls.tools.editors.AbstractEditor");c.prototype.le=function(k){!0!==this.hh&&(this.sm({pointerdown:this.Xc.bind(this),
pointermove:{callback:this.Ac.bind(this),object:Za},pointerup:{callback:this.Oc.bind(this),object:Za},keydown:{callback:this.Uw.bind(this),object:Za},"cg-leave":this.Ry.bind(this)}),this.mE=this.cU=this.Fd=this.te=null,this.Hh=k.bbox,this.rx=k.history,this.zda=g.clone(),this.ajc=!1,this.C6=new oi({visible:!1,children:[this.Hh,h.clone(),h.clone(),h.clone(),h.clone(),h.clone(),h.clone(),h.clone(),h.clone(),this.zda]}),this.Qia=new oi({children:this.C6}),null!=this.ec()&&this.ec().oa(this.Qia),this.hh=
!0)};c.prototype.Yp=function(k){return!0};c.prototype.Xc=function(k){this.cU=this.Ut(k);null!=this.cU&&k.stopPropagation(!1,!0);this.AF=k.Zd();this.sAa=this.Kd(this.ec(),k);this.SNc(!0)};c.prototype.Ac=function(k){if(null!=this.Fd&&(k.ye().buttons===Cc.Bc?this.Taa(k):null==this.cU&&(this.AF=this.AF||k.Zd(),null!=this.Ut(k)&&(this.sAa=this.Kd(this.ec(),k),this.cU=0,this.Taa(k))),null!=this.cU&&(this.Hd()||!this.E_(k)))){var l=this.C6.eb(this.cU),m=this.sAa,n=this.ga();this.sAa=this.Kd(this.ec(),k);
switch(l){case this.Hh:this.push(new nT(this.sAa.getX()-m.getX(),this.sAa.getY()-m.getY()));break;case this.zda:m=this.zda.Fk();l=this.zda.wa()||W.Xj;l=l.Ma(m,m);m=this.wa().Hc(n.cc(),n.zc());n=m.getX()-l.getX();l=m.getY()-l.getY();var p=m.getX()-k.Zd().getX();k=m.getY()-k.Zd().getY();this.push(new oT(a(n,l,p,k)));break;default:k=this.lb();l=d[this.cU-1];p=e[this.cU-1];var q=k.hd(this.sAa);m=k.hd(m,m);this.push(new pT([{vx:l*k.pb(),vy:l*k.Ji(),delta:l*(q.getX()-m.getX())/n.ca()},{vx:p*k.Yi(),vy:p*
k.Ab(),delta:p*(q.getY()-m.getY())/n.da()}]))}this.start()}};c.prototype.Oc=function(k){this.stop();this.SNc(!1);this.AF=this.sAa=this.cU=null;this.Qia.va(!0);this.update()};c.prototype.Ry=function(k){};c.prototype.Uw=function(k){var l=k.ye();switch(l.keyCode){case Ac.Rf:if(!0!==l.ctrlKey||!this.zea())break;this.AQ();k.stopPropagation(!0,!0);break;case Ac.Ca:!0===l.ctrlKey&&this.yea()&&(this.uga(),k.stopPropagation(!0,!0))}};c.prototype.hF=function(k){k=!1!==k;this.Fd.Kc(null);k&&null!=this.Fd.getParent()&&
this.Fd.getParent().removeChild(this.Fd);this.update();return this};c.prototype.apply=function(k){switch(k.vh()){case iT.uj:var l={};l[k.Da()]=k.getValue();this.Fd.fa(l);break;case iT.cL:this.Fd.translate(k.hf(),k.We());break;case iT.NN:var m=this.ga();var n=this.wa();l=this.Fd.getParent()?this.Fd.getParent().wa():W.Xj;m=n.Hc(m.cc(),m.zc());k=W.Xi(k.hv(),m.getX(),m.getY());this.Fd.Kc(k.st(l.rc()).Qp(n));break;case iT.RT:l=k.bGa();k=this.lb().clone();n=this.lua(l[0]);k.Qp(n);l=this.lua(l[1]);k.Qp(l);
this.Fd.Kc(k);break;case iT.kKa:m=this.ga();n=this.wa();l=this.Fd.getParent()?this.Fd.getParent().wa():W.Xj;m=n.Ta(m);k=W.Sd(m,m,k.Btb(),k.Ctb());this.Fd.Kc(k.st(l.rc()).Qp(n));break;case iT.ygb:l=k.Xzc();l=k.NXb().eb(l);k.NXb().removeChild(l);k.jEc().Mf(k.iEc(),l);break;case iT.Vya:this.Fd&&this.Fd.getParent()&&this.Fd.getParent().removeChild(this.Fd)}return this};c.prototype.AQ=function(){this.rx.AQ();return this};c.prototype.uga=function(){this.rx.uga();return this};c.prototype.zea=function(){return this.rx.zea()};
c.prototype.yea=function(){return this.rx.yea()};c.prototype.V8a=function(){return this.rx};c.prototype.update=function(){var k=this.ga(),l=this.Fd&&this.Fd.getParent();if(!k||k.isEmpty()||!l||!this.Ia())return this.C6.va(!1),this;this.Hh.clear();l=this.lb();var m=k.la(),n=k.cc(),p=k.na(),q=k.ka(),r=k.zc();k=k.ma();m=[m,m,m,n,p,p,p,n];r=[q,r,k,k,k,r,q,q];p=m.length;l.Naa(m,r,p);var t=null;if(this.Mo()&jT.ugb){t=this.wa();var u=new M(n,q),w=new M(n,q-1);t.Ma(u,u);t.Ma(w,w);t=M.Uf(w,u)||1;u=null!=this.Qia.wa()&&
0>this.Qia.wa().Ab();l.Hc(n,u?k+f/t:q-f/t);u?(this.Hh.moveTo(m[3],r[3]),w=l.Hc(n,k+f/t)):(this.Hh.moveTo(m[p-1],r[p-1]),w=l.Hc(n,q-f/t));this.Hh.lineTo(w.getX(),w.getY());this.zda.Db(w);t=this.zda.ga().clone()}for(l=0;l<p;l++)k=this.C6.eb(l+1).Db(m[l],r[l]).ga(),t=t?t.union(k):k.clone();this.Qia.sa(t);this.C6.sa(t).va(0!==(this.Mo()&jT.Vpa));this.Hh.moveTo(m[0],r[0]).lineTo(m[6],r[6]).moveTo(m[2],r[2]).lineTo(m[4],r[4]).moveTo(m[0],r[0]).lineTo(m[2],r[2]).moveTo(m[6],r[6]).lineTo(m[4],r[4]).ha();
return this};c.prototype.Taa=function(k,l){var m=null==this.cU?this.Ut(k):this.cU;if(null==l&&null!=m)switch(this.C6.eb(m)){case this.Hh:l="move";break;case this.zda:l="url(data:application/octet-stream;base64,AAACAAEAICACAAcABgAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAgAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfgAAAcIAAAE+AAADQIAAAoFAAAKCIAAO5BAACCdwAARBQAACgUAAAQLAAAB8gAAAQ4AAAH4AAA////////////////////////////////////////////////////////////////////////////////////////////////+B///+Af///gH///w/f//8fj///Hwf//AYD//wGA//+D4///x+P//+/D///4B///+Af///gf//8=), auto";
break;default:var n=this.wa();l=n.Ji()?Math.atan(n.Ji()/n.pb()):0;m=0<n.pb()*n.Ab()-n.Yi()*n.Ji()?-m:m;m=(Math.round(l/(Math.PI/4))+10+m)%4;l=3===m?"nesw-resize":0===m?"ew-resize":1===m?"nwse-resize":"ns-resize"}if(null!=l||null!=this.mE)this.mE=null!=l?k.Pe():null,RR.Kk(k.Pe(),{cursor:l},this)};c.prototype.SNc=function(k){if(0<this.cU){var l=this.C6.eb(this.cU);k?l.MJ("active"):l.yI("active")}return this};c.prototype.push=function(k){this.rx.push(k,this);this.Hd()&&k instanceof nT&&this.Qia.va(!1);
this.fireEvent(iT.vha,new qT(null,{node:k.tb(),command:k}));null!=k.vh()&&this.fireEvent(k.vh(),new qT(null,{node:k.tb(),command:k}));return this};c.prototype.TD=function(k){this.te=k;this.zda.va(0!==(k&jT.ugb));return this.update()};c.prototype.Mo=function(){return this.te};c.prototype.tb=function(){return this.Fd};c.prototype.zl=function(k){if(this.Fd===k)return this;this.ajc=null==k||null!=k.getParent();this.Fd=k;return this};c.prototype.bl=function(){return this.Qia};c.prototype.Pxc=function(){return this.C6};
c.prototype.fa=function(k){k=hc(k);if(null==k)return this;IR.prototype.fa.call(this,k);null==this.Fd||this.TP()||k.node instanceof Fe||this.Fd.fa(k.node);k.editmode&&this.TD(k.editmode);this.Hh.fa(k.bbox);null!=k.handles&&this.GPc(k.handles);return this};c.prototype.GPc=function(k){var l=this;this.zda.fa(k.rotation);this.C6.Gj(function(m){m!==l.Hh&&m!==l.zda&&m.fa(k.bbox)});this.wIa(k);return this};c.prototype.wIa=function(k){return this};c.prototype.ia=function(){var k=IR.prototype.ia.call(this);
null!=this.Fd&&(k.node=this.Fd.ia());k.bbox=this.Hh.ia();k.editmode=this.Mo();k.handles={rotation:g.ia(),bbox:h.ia()};return k};c.prototype.Mi=function(){this.Qia.va(this.isEnabled());IR.prototype.Mi.call(this)};c.prototype.dispose=function(){this.rx=this.Fd=null;this.Qia.dispose();null!=this.mE&&(RR.Kk(this.mE,{cursor:null},this),this.mE=null);IR.prototype.dispose.call(this)};c.prototype.ga=function(){return this.XM()?this.Fd.ga():null};c.prototype.Ut=function(k){if(null==k)return this.cU;if(!this.z4(k))return null;
var l=k.Zd(),m=this.lSa(k);l=bk.select(k.tb(),l.getX(),l.getY(),m);if(!k.ye().ctrlKey)for(m=this.C6.Yb()-1;0<m;m--)if(0<=l.indexOf(this.C6.eb(m)))return m;return this.Mo()&jT.bGb?this.Mo()&jT.Vpa&&(m=this.ga(),k=this.Kd(this.ec(),k),this.lb().hd(k,k),null!=m&&m.contains(k))?0:0<=l.indexOf(this.Fd)?0:null:null};c.prototype.lb=function(){return this.Fd&&this.Fd.lb()||W.Xj};c.prototype.wa=function(){var k=null;this.Fd&&this.Fd.getParent()?(k=this.Fd.getParent().wa()||W.Xj,k=W.multiply(k,this.lb(),b)):
this.ec()&&(k=this.ec().wa());return k||W.Xj};c.prototype.Kb=function(){return this.XM()?this.Fd:this.ec()};c.prototype.E_=function(k){var l=this.lSa(k);return null!=this.AF&&this.AF.Ew(k.Zd(),l)};c.prototype.z4=function(k){return k.ye().target===k.Pe().Vv()};c.prototype.end=function(k){this.stop();var l=this.tb();this.zl(l.clone());this.hF();this.fireEvent(iT.Ao,new qT(k,{node:l}))};c.prototype.lua=function(k){var l=k.delta;if(0===l||-1===l)return W.Xj;var m=this.lb(),n=m.pb(),p=m.Ab(),q=m.Yi(),
r=m.Ji();m=this.ga();var t=Math.abs(a(k.vx,k.vy,n,r)),u=Math.abs(a(k.vx,k.vy,q,p));n=Math.abs(a(k.vx,k.vy,-n,-r));k=Math.abs(a(k.vx,k.vy,-q,-p));switch(Math.min(t,u,n,k)){case t:return b.Tb(1+l,0,0,1,-l*m.getX(),0);case u:return b.Tb(1,0,0,1+l,0,-l*m.getY());case n:return b.Tb(1+l,0,0,1,-l*m.na(),0);default:return b.Tb(1,0,0,1+l,0,-l*m.ma())}};c.prototype.XM=function(){return null!=this.Fd&&null!=this.Fd.getParent()};c.prototype.Ia=function(){if(null==this.Fd)return!1;for(var k=this.Fd;null!=k;){if(!k.Ia())return!1;
k=k.getParent()}return!0};c.prototype.TP=function(){return this.ajc};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoibGUiLCJpc1N1cHBvcnRlZCI6IllwIiwib25Nb3VzZURvd24iOiJYYyIsIm9uTW91c2VNb3ZlIjoiQWMiLCJvbk1vdXNlVXAiOiJPYyIsIm9uTGVhdmUiOiJSeSIsIm9uS2V5RG93biI6IlV3IiwicmVzZXROb2RlIjoiaEYiLCJ1bmRvIjoiQVEiLCJyZWRvIjoidWdhIiwiY2FuVW5kbyI6InplYSIsImNhblJlZG8iOiJ5ZWEiLCJnZXRIaXN0b3J5IjoiVjhhIiwidXBkYXRlQnJvd3NlckN1cnNvciI6IlRhYSIsInNldEVkaXRNb2RlIjoiVEQiLCJnZXRFZGl0TW9kZSI6Ik1vIiwiZ2V0Tm9kZSI6InRiIiwic2V0Tm9kZSI6InpsIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwib25FbmFibGVkU3RhdGVDaGFuZ2VkIjoiTWkiLCJnZXRCb3VuZHMiOiJnYSIsImdldEJib3hIYW5kbGUiOiJVdCIsImdldExvY2FsVHJhbnNmb3JtIjoibGIiLCJnZXRWaXNpYmxlIjoiSWEifX19");var sT=/*#__PURE__*/va(/*#__PURE__*/{Sha:"Polygon",ngb:"Polyline",tgb:"Rectangle",vYa:"Ellipse",Image:"Image",UT:"Spline",Eeb:"Arrow",Line:"Line",Symbol:"Symbol",Text:"Text",S0:"Callout",nFb:"Pencil",$z:"Edit"},2,"eyJQb2x5Z29uIjoiU2hhIiwiUG9seWxpbmUiOiJuZ2IiLCJSZWN0YW5nbGUiOiJ0Z2IiLCJFbGxpcHNlIjoidllhIiwiU3BsaW5lIjoiVVQiLCJBcnJvdyI6IkVlYiIsIkNhbGxvdXQiOiJTMCIsIlBlbmNpbCI6Im5GYiIsIkVkaXQiOiIkeiJ9");var tT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d){mT.call(this);this.k7=a;this.R4a=b;this.oBa=null==a||!0===d}D(c,mT);L(c,"geotoolkit.controls.tools.editors.commands.AddSegment");c.prototype.np=function(){return this.k7};c.prototype.nr=function(){return this.R4a};c.prototype.merge=function(a){return a instanceof c&&!this.oBa?(this.k7=a.np()||this.k7,this.R4a=a.nr()||this.R4a,!0):!1};c.prototype.rc=function(){return new c(new M(NaN,NaN),new M(NaN,NaN))};c.prototype.vh=function(){return this.oBa?iT.HQ:iT.Vu};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGcm9tIjoibnAiLCJnZXRUbyI6Im5yIiwiY3JlYXRlSW52ZXJzZSI6InJjIiwiZ2V0RXZlbnROYW1lIjoidmgifX19");var uT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d){mT.call(this);this.Xn=a;this.mq=b;this.re=d}D(c,mT);L(c,"geotoolkit.controls.tools.editors.commands.DragPoint");c.prototype.hf=function(){return this.Xn};c.prototype.We=function(){return this.mq};c.prototype.getIndex=function(){return this.re};c.prototype.merge=function(a){return a instanceof c&&a.getIndex()===this.getIndex()?(this.Xn+=a.hf(),this.mq+=a.We(),!0):!1};c.prototype.rc=function(){return new c(-this.Xn,-this.mq,this.re)};c.prototype.vh=function(){return iT.iba};
return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUcmFuc2xhdGVYIjoiaGYiLCJnZXRUcmFuc2xhdGVZIjoiV2UiLCJjcmVhdGVJbnZlcnNlIjoicmMiLCJnZXRFdmVudE5hbWUiOiJ2aCJ9fX0g");var vT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){b=G(b,{name:"LineEditor",node:new Fk({linestyle:{width:2,pixelsnapmode:!0}})});rT.call(this,b)}var a=new Nm({painter:$m,alignment:O.Na,fillstyle:"#a9a9a9",linestyle:"black",sizeisindevicespace:!0,width:7,height:7});D(c,rT);L(c,"geotoolkit.controls.tools.editors.Line");c.prototype.le=function(b){!0!==this.hh&&(rT.prototype.le.call(this,b),this.Nj=null,this.B0a=a.clone(),this.S4a=a.clone(),this.xKb=new oi({children:[this.B0a,this.S4a],visible:!1}),this.bl().oa(this.xKb))};
c.prototype.Yp=function(b){return b.node instanceof Fk||b.mode===sT.Line};c.prototype.Xc=function(b){rT.prototype.Xc.call(this,b);if(null!=this.Ut()||this.XM())this.Nj=this.MM(b);else{var d=this.Kd(this.Kb(),b);this.push(new tT(d,d));b.stopPropagation(!0,!0);this.start()}};c.prototype.Ac=function(b){if(null==this.Ut()&&this.Hd()&&!this.TP())b=this.Kd(this.Kb(),b),this.push(new tT(null,b));else if(null==this.Nj||!this.Hd()&&this.E_(b))rT.prototype.Ac.call(this,b);else{var d=this.xKb.eb(this.Nj);d=
this.lb().Nw(d.pn(),d.Vl());var e=this.Kd(this.Kb(),b);this.push(new uT(e.getX()-d.getX(),e.getY()-d.getY(),this.Nj));this.start();this.Taa(b)}};c.prototype.Oc=function(b){var d=null==this.Ut()&&this.Hd();rT.prototype.Oc.call(this,b);this.Nj=null;d&&(b.stopPropagation(!0,!0),this.end(b))};c.prototype.apply=function(b){switch(b.vh()){case iT.Vu:var d=this.ec().Ik(this.bl());this.ec().Mf(d,this.tb());case iT.HQ:return this.tb().Oq({from:b.np(),to:b.nr()}),this;case iT.iba:return d=b.getIndex()?this.tb().nr():
this.tb().np(),d.translate(b.hf(),b.We()),this.tb().Oq({from:this.tb().np(),to:this.tb().nr()}),this;case iT.kKa:d=this.tb().np();var e=this.tb().nr();if(b.Btb()){var f=(d.getX()+e.getX())/2;d.setX(f+f-d.getX());e.setX(f+f-e.getX())}b.Ctb()&&(b=(d.getY()+e.getY())/2,d.setY(b+b-d.getY()),e.setY(b+b-e.getY()));this.tb().Oq({from:d,to:e});return this;case iT.RT:d=b.bGa();b=this.lua(d[0]).clone();d=this.lua(d[1]);b=W.multiply(b,d,b);if(0>b.pb()||0>b.Ab())d=this.ga(),d=W.Sd(d,d,0>b.pb(),0>b.Ab()),b.st(d),
d.st(this.lb()),this.tb().Kc(d);b.Ma(this.tb().np(),this.tb().np());b.Ma(this.tb().nr(),this.tb().nr());this.tb().lj();return this;case iT.NN:return d=this.tb().np(),e=this.tb().nr(),b=W.Xi(b.hv(),(d.getX()+e.getX())/2,(d.getY()+e.getY())/2),this.tb().Oq({from:b.Ma(d),to:b.Ma(e)}),this}return rT.prototype.apply.call(this,b)};c.prototype.update=function(){rT.prototype.update.call(this);var b=this.tb(),d=b.np(),e=b.nr();null!=b&&null!=d&&null!=e&&(b=this.lb(),d=b.Hc(d.getX(),d.getY()),this.B0a.Db(d),
e=b.Hc(e.getX(),e.getY()),this.S4a.Db(e),this.xKb.va(this.XM()));return this};c.prototype.MM=function(b){if(null==b)return this.Nj;if(0===(this.Mo()&jT.eKa)||!this.z4(b)||b.ye().ctrlKey)return null;var d=b.Zd(),e=this.Gm(b)?this.pW():this.zS();b=bk.select(b.tb(),d.getX(),d.getY(),e);return 0<=b.indexOf(this.S4a)?1:0<=b.indexOf(this.B0a)?0:null};c.prototype.ga=function(){return null};c.prototype.fa=function(b){b=hc(b);return null==b?this:rT.prototype.fa.call(this,b)};c.prototype.ia=function(){var b=
rT.prototype.ia.call(this);return b=xb(b,{handles:{from:this.B0a.ia(),to:this.S4a.ia()}})};c.prototype.wIa=function(b){this.B0a.fa(b.from);this.S4a.fa(b.to);return this};c.prototype.Taa=function(b,d){null==d&&(null!=this.Nj?d="grabbing":null!=this.MM(b)&&(d="grab"));rT.prototype.Taa.call(this,b,d)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoibGUiLCJpc1N1cHBvcnRlZCI6IllwIiwib25Nb3VzZURvd24iOiJYYyIsIm9uTW91c2VNb3ZlIjoiQWMiLCJvbk1vdXNlVXAiOiJPYyIsImdldEJvdW5kcyI6ImdhIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwidXBkYXRlQnJvd3NlckN1cnNvciI6IlRhYSJ9fX0g");var wT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{name:"ArrowEditor",node:new Pm({linestyle:{width:2,pixelsnapmode:!0},symbolEnd:new Nm({width:12,height:24,painter:Mm,alignment:O.Xd,sizeisindevicespace:!0,linestyle:"black",fillstyle:"black"})})});vT.call(this,a)}D(c,vT);L(c,"geotoolkit.controls.tools.editors.Arrow");c.prototype.Yp=function(a){return a.node instanceof Pm||a.mode===sT.Eeb};c.prototype.apply=function(a){switch(a.vh()){case iT.NN:var b=this.tb().np(),d=this.tb().nr();a=W.Xi(a.hv(),b.getX(),b.getY());
this.tb().Oq({from:b,to:a.Ma(d)});return this}return vT.prototype.apply.call(this,a)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc1N1cHBvcnRlZCI6IllwIn19fSAg");var xT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){mT.call(this);this.fc=a;this.k7=null;this.vi=b}D(c,mT);L(c,"geotoolkit.controls.tools.editors.commands.PropertyChange");c.prototype.zl=function(a){if(Array.isArray(a)){var b=this.fc;this.k7=a.map(function(d){return d.ia()[b]})}else this.k7=a.ia()[this.fc];return mT.prototype.zl.call(this,a)};c.prototype.Da=function(){return this.fc};c.prototype.getValue=function(){return this.vi};c.prototype.merge=function(a){return a instanceof c&&a.Da()===this.fc?(this.vi=a.getValue(),
!0):!1};c.prototype.rc=function(){return new c(this.fc,this.k7)};c.prototype.vh=function(){return iT.uj};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXROb2RlIjoiemwiLCJnZXROYW1lIjoiRGEiLCJjcmVhdGVJbnZlcnNlIjoicmMiLCJnZXRFdmVudE5hbWUiOiJ2aCJ9fX0g");var yT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e){e=G(e,{name:"TextEditor",node:(new ek({ispointingup:!0,showellipsis:!0,fillstyle:"white",linestyle:{color:"black",pixelsnapmode:!0},textstyle:{baseline:Di.pEb}})).Wj(ck.pB).y5(!0),preview:new dh({linestyle:{pixelsnapmode:!0,pattern:[5,5]}})});rT.call(this,e)}var a=30,b=100,d=2;D(c,rT);L(c,"geotoolkit.controls.tools.editors.Text");c.prototype.le=function(e){!0!==this.hh&&(rT.prototype.le.call(this,e),this.Qi=null,this.vJ=e.preview,this.Blc=this.vBd.bind(this),this.Sa=
new U,this.bl().Mf(0,this.vJ))};c.prototype.Yp=function(e){return e.node instanceof ek||e.mode===sT.Text};c.prototype.Xc=function(e){rT.prototype.Xc.call(this,e);this.Qi=e.Pe().Vv();this.Fj=this.Kd(this.Kb(),e);var f=this.ga();null==f||f.contains(this.Fj)||null!=this.Ut()||(this.sQ(!1),this.stop(),this.TP()||(e.stopPropagation(!0,!0),this.end(e)))};c.prototype.Ac=function(e){var f=this.b_b();this.E_(e)||this.TP()||e.ye().buttons===Cc.Bc||null!=this.Ut()?rT.prototype.Ac.call(this,e):null!=f.parentNode?
(this.sQ(!1),e.stopPropagation(!0,!0),this.end(e)):0!==(this.Mo()&jT.iYa)&&null!=this.Fj&&(this.push(new tT(this.Fj,this.Kd(this.ec(),e),this.Hd())),e.stopPropagation(!0,!0),this.start())};c.prototype.Oc=function(e){this.Qi=e.Pe().Vv();if(this.E_(e))if(this.TP()){e.stopPropagation(!0,!0);var f=e.Zd(),g=this.ga();f=this.wa().Nw(f.getX(),f.getY());this.sQ(null!=g&&g.contains(f))}else 0===(this.Mo()&jT.EQ)||this.XM()||this.lrb(e);else if(this.TP())this.sQ(!1);else{if(!this.z4(e)&&this.XM()){e.stopPropagation(!0,
!0);this.end(e);return}this.XM()&&(e.stopPropagation(!0,!0),this.push((new xT("text",this.tb().ee())).GAb(!1)),this.sQ(!0))}rT.prototype.Oc.call(this,e);null!=this.Ax&&null!=this.Ax.parentNode&&this.start()};c.prototype.Uw=function(e){var f=this.b_b();e.ye().keyCode!==Ac.MZc?rT.prototype.Uw.call(this,e):null!=f.parentNode?(e.stopPropagation(!0,!0),this.sQ(!1),this.stop(),this.TP()||this.end(e)):(e.stopPropagation(!0,!0),this.end(e))};c.prototype.apply=function(e){switch(e.vh()){case iT.uj:return"text"===
e.Da()?(this.tb().Eb(e.getValue()),this):rT.prototype.apply.call(this,e);case iT.Vu:if(!this.tb().getParent()){var f=this.ec().Ik(this.bl());this.ec().Mf(f,this.tb())}case iT.HQ:f=e.np();e=e.nr();this.Sa.cb(f.getX(),f.getY(),e.getX(),e.getY());this.update();break;case iT.cL:var g=this.lb().rc();f=g.pb()*e.hf()+g.Yi()*e.We();e=g.Ji()*e.hf()+g.Ab()*e.We();this.Sa.translate(f,e);this.update();break;case iT.RT:f=e.bGa();e=this.lua(f[0]).clone();f=this.lua(f[1]);e=W.multiply(e,f,e);if(0>e.pb()||0>e.Ab())f=
W.Sd(this.Sa,this.Sa,0>e.pb(),0>e.Ab()),e.st(f),f.st(this.lb()),this.tb().Kc(f);e.Ta(this.Sa,this.Sa);this.update();break;default:rT.prototype.apply.call(this,e)}this.sQ(!1);return this};c.prototype.ga=function(){return this.XM()?this.Sa:null};c.prototype.hF=function(e){this.sQ(!1);this.tb().Eb("");this.Sa.Ra(0);return rT.prototype.hF.call(this,e)};c.prototype.end=function(e){this.sQ(!1);return rT.prototype.end.call(this,e)};c.prototype.zl=function(e){var f=e.ia();this.Sa=new U(0,0,f.userwidth,f.userheight);
f=e.getParent()&&e.getParent().wa()||W.Xj;f.pd(this.Sa,this.Sa);this.Sa.LG(e.pn(),e.Vl());return rT.prototype.zl.call(this,e)};c.prototype.fa=function(e){e=hc(e);if(null==e)return this;rT.prototype.fa.call(this,e);e.preview&&this.vJ.fa(e.preview);return this};c.prototype.ia=function(){var e=rT.prototype.ia.call(this);e.preview=this.vJ.ia();return e};c.prototype.b_b=function(){if(!this.Ax){var e=xc("textarea");e.className="cg-editor-textarea";e.style.display="block";e.style.border="none";e.style.resize=
"none";e.style.outline="none";e.style.overflow="hidden";e.style.position="relative";e.style.backgroundColor="transparent";e.style.textAlign="left";e.style.fXc="break-word";e.style.padding=0;e.addEventListener("input",this.Blc);this.Ax=e}return this.Ax};c.prototype.sQ=function(e){if(!this.Qi||!this.Ax)return this;e&&null==this.Ax.parentNode?(this.Ax.value=this.tb().ee(),this.Qi.parentNode.insertBefore(this.Ax,this.Qi.nextSibling),this.update(),this.Ax.focus()):e||null==this.Ax.parentNode||this.Qi.parentNode.removeChild(this.Ax);
this.tb().va(!e);return this};c.prototype.update=function(){this.gCb();var e=this.ga();if(null!=this.Qi&&null!=this.Ax&&null!=e){var f=this.tb().ee();f||this.tb().Eb("|");var g=this.Msd(),h=this.wa(),k=h.Hc(e.cc(),e.zc()),l=this.tb().xa().PV(g);g.Ta(l,l);g=this.Qi.getBoundingClientRect();var m=l.ca();l=l.da();this.Ax.style.left=k.x-m/2+"px";this.Ax.style.top=k.y+l/2-g.height+"px";this.Ax.style.width=m+d+"px";this.Ax.style.height=l+"px";this.Ax.style.marginTop=-l+"px";this.Ax.style.transform="rotate("+
W.hv(h)+"rad)";h=this.tb().jb()||new Ki;this.Ax.style.font=h.lt();this.Ax.style.color=h.rb();this.Ax.style.lineHeight=h.ZB();this.Ax.style.textAlign=h.pj();this.tb().Eb(f);this.oF(e.getX(),e.getY(),e.na(),e.ma())}return rT.prototype.update.call(this)};c.prototype.vBd=function(){this.push(new xT("text",this.b_b().value))};c.prototype.oF=function(e,f,g,h){this.vJ.clear();e!==g&&f!==h&&this.XM()&&!this.TP()&&(e=[e,g,g,e],f=[f,f,h,h],this.lb().Naa(e,f,e.length),this.vJ.moveTo(e[0],f[0]).lineTo(e[1],f[1]).moveTo(e[0],
f[0]).lineTo(e[3],f[3]).moveTo(e[1],f[1]).lineTo(e[2],f[2]).moveTo(e[3],f[3]).lineTo(e[2],f[2]));this.vJ.ha()};c.prototype.dispose=function(){this.sQ(!1);this.Ax&&(this.Ax.removeEventListener("input",this.Blc),this.Ax=null);this.vJ.dispose();this.vJ=null;rT.prototype.dispose.call(this)};c.prototype.Ia=function(){if(null==this.tb()||(null==this.Ax||null==this.Ax.parentNode)&&!this.tb().Ia())return!1;for(var e=this.tb().getParent();null!=e;){if(!e.Ia())return!1;e=e.getParent()}return!0};c.prototype.gCb=
function(){var e=this.ec()&&this.ec().wa()||W.Xj,f=Wi.q9(this.Sa,this.tb().lp());this.tb().Db(f);e=e.Ta(this.Sa);this.tb().setSize(e.ca(),e.da())};c.prototype.Msd=function(){var e=this.wa(),f=Math.atan2(e.Ji(),e.pb()),g=this.ga(),h=g.cc();g=g.zc();h=e.Hc(h,g);return f?W.Xi(-f,h.getX(),h.getY()).Qp(e):e};c.prototype.lrb=function(e){e=e.Zd();e=new U(e.getX(),e.getY(),e.getX()+b,e.getY()+a);this.ec().wa().pd(e,e);var f=Wi.q9(e,this.tb().lp());e.translate(e.getX()-f.getX(),e.getY()-f.getY());this.push(new tT(e.bd(),
e.nf()));this.push((new xT("text","")).GAb(!1));this.sQ(!0)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoibGUiLCJpc1N1cHBvcnRlZCI6IllwIiwib25Nb3VzZURvd24iOiJYYyIsIm9uTW91c2VNb3ZlIjoiQWMiLCJvbk1vdXNlVXAiOiJPYyIsIm9uS2V5RG93biI6IlV3IiwiZ2V0Qm91bmRzIjoiZ2EiLCJyZXNldE5vZGUiOiJoRiIsInNldE5vZGUiOiJ6bCIsInNldFByb3BlcnRpZXMiOiJmYSIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFRleHRBcmVhVmlzaWJsZSI6InNRIiwiZ2V0VmlzaWJsZSI6IklhIiwidXBkYXRlVGV4dFNoYXBlIjoiZ0NiIiwiY3JlYXRlVGV4dE9uQ2xpY2siOiJscmIifX19");var zT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){d=G(d,{name:"CalloutEditor",node:new xQ({width:100,height:30,sizemode:ck.pB,showellipsis:!0,padding:0})});yT.call(this,d)}var a=new U,b=new Nm({painter:$m,alignment:O.Na,fillstyle:"#a9a9a9",linestyle:"black",sizeisindevicespace:!0,width:7,height:7});D(c,yT);L(c,"geotoolkit.controls.tools.editors.Callout");c.prototype.le=function(d){!0!==this.hh&&(yT.prototype.le.call(this,d),this.$f=this.Nj=null,this.VAa=this.UAa=!1,this.tqa=b.clone().Db(NaN,NaN),this.bl().oa(this.tqa))};
c.prototype.Yp=function(d){return d.mode===sT.S0||d.node instanceof xQ};c.prototype.Xc=function(d){yT.prototype.Xc.call(this,d);this.TP()&&null==this.Ut()&&(this.Nj=this.MM(d),null!=this.Nj&&(this.$f=this.Kd(this.tqa,d),d.stopPropagation(!1,!0)))};c.prototype.Ac=function(d){this.TP()&&null==this.Ut()&&null==this.Nj&&d.ye().buttons!==Cc.Bc&&null==this.Ut(d)&&(this.Nj=this.MM(d),this.$f=this.Kd(this.tqa,d));null==this.Nj||null==this.$f||!this.Hd()&&this.E_(d)?(yT.prototype.Ac.call(this,d),null!=this.Nj&&
d.stopPropagation(!0,!0)):(d=this.Kd(this.tqa,d),this.push(new uT(d.getX()-this.$f.getX(),d.getY()-this.$f.getY(),this.Nj)),this.start(),this.$f=d)};c.prototype.Oc=function(d){yT.prototype.Oc.call(this,d);this.$f=this.Nj=null;this.VAa=this.UAa=!1};c.prototype.push=function(d){switch(d.vh()){case iT.iba:this.Pxc().va(!1);break;case iT.cL:var e=this.tBc(),f=e.pb()*d.hf()+e.Yi()*d.We();e=e.Ji()*d.hf()+e.Ab()*d.We();d.tQ(f,e);break;case iT.RT:f=d.bGa(),this.UAa&&(f[0].vx=-f[0].vx,f[0].vy=-f[0].vy,f[0].delta=
-f[0].delta),this.VAa&&(f[1].vx=-f[1].vx,f[1].vy=-f[1].vy,f[1].delta=-f[1].delta)}yT.prototype.push.call(this,d);return this};c.prototype.apply=function(d){switch(d.vh()){case iT.Vu:if(!this.tb().getParent()){var e=this.ec().Ik(this.bl());this.ec().Mf(e,this.tb())}case iT.HQ:return e=d.np(),d=d.nr(),null==e||isNaN(e.getX())?this.tb().Db(NaN,NaN):e===d?this.tb().Db(e):(this.wa(),a.cb(e.getX(),e.getY(),d.getX(),d.getY()),this.tb().k8b(a),this.tb().tc(this.tb().lp())),this;case iT.iba:e=this.tb().pn();
var f=this.tb().Vl();this.tb().Db(e+d.hf(),f+d.We());break;case iT.cL:return this.tb().move(d.hf(),d.We()),this;case iT.RT:e=d.bGa();d=this.lua(e[0]).clone();e=this.lua(e[1]);e=W.multiply(d,e,d);d=this.ga();if(0>e.pb()||0>e.Ab())0>e.pb()&&(this.UAa=!this.UAa),0>e.Ab()&&(this.VAa=!this.VAa);d=e.Ta(d);e=this.tb().pn();f=this.tb().Vl();this.tb().k8b(d);var g=this.tb().pn()-e,h=this.tb().Vl()-f;d=this.wa();this.tb().move(d.pb()*g+d.Yi()*h,d.Ji()*g+d.Ab()*h);this.tb().Db(e,f);return this;case iT.NN:return this.tb().Yy(this.tb().fW()+
d.hv()),this;case iT.kKa:return e=this.tb().uub(),f=this.tb().vub(),this.tb().move(d.Btb()?-2*e:0,d.Ctb()?-2*f:0),this}return yT.prototype.apply.call(this,d)};c.prototype.Ut=function(d){var e=yT.prototype.Ut.call(this,d);if(0!==e||null==d)return e;e=this.ga();d=this.Kd(this.ec(),d);this.lb().hd(d,d);return null!=e&&e.contains(d)?0:null};c.prototype.lb=function(){var d=this.tb().fW();if(!d&&!this.UAa&&!this.VAa)return W.Xj;var e=this.tb().s4(),f=this.tb().wa()||W.Xj;e=f.Hc(e.cc(),e.zc());return W.Xi(d,
e.getX(),e.getY()).st(f.rc()).Qp(f)};c.prototype.sQ=function(d){yT.prototype.sQ.call(this,d);this.tb().va(!0).TSc(!d);return this};c.prototype.MM=function(d){if(null==d)return this.Nj;var e=d.Zd(),f=this.Gm(d)?this.pW():this.zS();d=bk.select(d.tb(),e.getX(),e.getY(),f);return-1!==d.indexOf(this.tqa)||-1!==d.indexOf(this.tb())?0:null};c.prototype.update=function(){yT.prototype.update.call(this);var d=this.tb().pn(),e=this.tb().Vl();this.tqa.Db(d,e);var f=this.bl().ga();null==f||isNaN(d)||(a.cb(f).AN(d,
e),this.bl().sa(a));return this};c.prototype.ga=function(){return this.XM()?this.tb().s4():null};c.prototype.gCb=function(){};c.prototype.fa=function(d){d=hc(d);return null==d?this:yT.prototype.fa.call(this,d)};c.prototype.wIa=function(d){null!=d.anchor&&this.tqa.fa(d.anchor);return this};c.prototype.ia=function(){var d=yT.prototype.ia.call(this);return d=xb(d,{handles:{anchor:this.tqa.ia()}})};c.prototype.lrb=function(d){d=this.tBc().hd(d.Zd());this.push(new tT(d,d));this.push((new xT("text","")).GAb(!1));
this.sQ(!0)};c.prototype.tBc=function(){return this.ec()&&this.ec().wa()||W.Xj};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoibGUiLCJpc1N1cHBvcnRlZCI6IllwIiwib25Nb3VzZURvd24iOiJYYyIsIm9uTW91c2VNb3ZlIjoiQWMiLCJvbk1vdXNlVXAiOiJPYyIsImdldEJib3hIYW5kbGUiOiJVdCIsImdldExvY2FsVHJhbnNmb3JtIjoibGIiLCJzZXRUZXh0QXJlYVZpc2libGUiOiJzUSIsImdldEJvdW5kcyI6ImdhIiwidXBkYXRlVGV4dFNoYXBlIjoiZ0NiIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwiY3JlYXRlVGV4dE9uQ2xpY2siOiJscmIifX19");var AT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){mT.call(this);this.Vc=(this.oBa=!Array.isArray(a))?[a]:a;this.zd=this.oBa?[b]:b}D(c,mT);L(c,"geotoolkit.controls.tools.editors.commands.AddPath");c.prototype.getX=function(){return this.Vc};c.prototype.getY=function(){return this.zd};c.prototype.merge=function(a){return a instanceof c&&!this.oBa?(this.Vc.push(a.getX()[0]),this.zd.push(a.getY()[0]),!0):!1};c.prototype.rc=function(){return new c([],[])};c.prototype.vh=function(){return this.oBa?iT.HQ:iT.Vu};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVJbnZlcnNlIjoicmMiLCJnZXRFdmVudE5hbWUiOiJ2aCJ9fX0g");var CT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d){mT.call(this);this.Fj=a;this.re=b;this.djc=!0===d}D(c,mT);L(c,"geotoolkit.controls.tools.editors.commands.AddPoint");c.prototype.getPoint=function(){return this.Fj};c.prototype.getX=function(){return this.Fj.getX()};c.prototype.getY=function(){return this.Fj.getY()};c.prototype.getIndex=function(){return this.re};c.prototype.merge=function(a){return a instanceof uT&&a.getIndex()===this.getIndex()?(this.Fj.translate(a.hf(),a.We()),!0):!1};c.prototype.rc=function(){return new BT(this.Fj,
this.re)};c.prototype.Q0b=function(){return this.djc};c.prototype.vh=function(){return this.djc?iT.NYa:0!==this.re?iT.HQ:iT.Vu};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVJbnZlcnNlIjoicmMiLCJpc0luc2VydCI6IlEwYiIsImdldEV2ZW50TmFtZSI6InZoIn19fSAg"),BT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){mT.call(this);this.Fj=a;this.re=b}D(c,mT);L(c,"geotoolkit.controls.tools.editors.commands.DeletePoint");c.prototype.getX=function(){return this.Fj.getX()};c.prototype.getY=function(){return this.Fj.getY()};c.prototype.getIndex=function(){return this.re};c.prototype.rc=function(){return new CT(this.Fj,this.re,!0)};c.prototype.vh=function(){return iT.Vya};
return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVJbnZlcnNlIjoicmMiLCJnZXRFdmVudE5hbWUiOiJ2aCJ9fX0g");var ET=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){mT.call(this)}D(c,mT);L(c,"geotoolkit.controls.tools.editors.commands.Delete");c.prototype.vh=function(){return iT.Vya};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRFdmVudE5hbWUiOiJ2aCJ9fX0g");var FT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){mT.call(this);this.UAa=!0===a;this.VAa=!0===b}D(c,mT);L(c,"geotoolkit.controls.tools.editors.commands.Flip");c.prototype.Btb=function(){return this.UAa};c.prototype.Ctb=function(){return this.VAa};c.prototype.vh=function(){return iT.kKa};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGbGlwWCI6IkJ0YiIsImdldEZsaXBZIjoiQ3RiIiwiZ2V0RXZlbnROYW1lIjoidmgifX19");var HT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){mT.call(this);this.ab=new oi}D(c,mT);L(c,"geotoolkit.controls.tools.editors.commands.Group");c.prototype.zl=function(a){for(var b=new U,d=null,e=0;e<a.length;e++){var f=a[e].lb()||W.Xj,g=a[e].ga();null!=g&&(f.Ta(g,b),d=d?d.union(b):b.clone())}this.ab.sa(d);return mT.prototype.zl.call(this,a)};c.prototype.yIa=function(a){this.ab=a;return this};c.prototype.Jtb=function(){return this.ab};c.prototype.rc=function(){return(new GT).zl(this.ab)};c.prototype.vh=function(){return iT.gEb};
return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXROb2RlIjoiemwiLCJzZXRHcm91cCI6InlJYSIsImdldEdyb3VwIjoiSnRiIiwiY3JlYXRlSW52ZXJzZSI6InJjIiwiZ2V0RXZlbnROYW1lIjoidmgifX19"),GT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){mT.call(this);this.bj=[]}D(c,mT);L(c,"geotoolkit.controls.tools.editors.commands.Ungroup");c.prototype.zl=function(a){this.bj=a.vf().toArray().slice();return mT.prototype.zl.call(this,a)};c.prototype.rc=function(){return(new HT).zl(this.bj).yIa(this.tb())};c.prototype.vh=function(){return iT.fGb};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXROb2RlIjoiemwiLCJjcmVhdGVJbnZlcnNlIjoicmMiLCJnZXRFdmVudE5hbWUiOiJ2aCJ9fX0g");var JT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d,e){mT.call(this);this.Uhc=a;this.e2=b;this.Boc=d;this.Aoc=e}D(c,mT);L(c,"geotoolkit.controls.tools.editors.commands.SceneChange");c.prototype.NXb=function(){return this.Uhc};c.prototype.Xzc=function(){return this.e2};c.prototype.jEc=function(){return this.Boc};c.prototype.iEc=function(){return this.Aoc};c.prototype.rc=function(){return new c(this.Boc,this.Aoc,this.Uhc,this.e2)};c.prototype.vh=function(){return iT.ygb};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGcm9tUGFyZW50IjoiTlhiIiwiZ2V0RnJvbUlkIjoiWHpjIiwiZ2V0VG9QYXJlbnQiOiJqRWMiLCJnZXRUb0lkIjoiaUVjIiwiY3JlYXRlSW52ZXJzZSI6InJjIiwiZ2V0RXZlbnROYW1lIjoidmgifX19");var KT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{name:"CompositeEditor",node:[]});rT.call(this,a)}D(c,rT);L(c,"geotoolkit.controls.tools.editors.CompositeEditor");c.prototype.le=function(a){!0!==this.hh&&(rT.prototype.le.call(this,a),this.w2=!1,this.Me=[],this.py=[],this.d$c=this.kOd.bind(this))};c.prototype.Yp=function(a){return Array.isArray(a.node)||a.node instanceof oi};c.prototype.kOd=function(a,b){!this.isEnabled()||this.w2||null!=this.hia&&this.hia!==a||(this.hia=a,a.bl().va(!0),a=b.syc(),a.zl(this.tb()),
this.push(a),this.start())};c.prototype.Xc=function(a){if(this.w2)rT.prototype.Xc.call(this,a);else for(var b=this.py.length-1;0<=b&&(this.py[b].Xc(a),null==this.hia&&!a.mk());b--);};c.prototype.Ac=function(a){if(this.w2)rT.prototype.Ac.call(this,a);else if(null!=this.hia)this.hia.Ac(a);else for(var b=this.py.length-1;0<=b&&(this.py[b].Ac(a),null==this.hia&&!a.mk());b--);};c.prototype.Oc=function(a){if(this.w2)rT.prototype.Oc.call(this,a);else{for(var b=0;b<this.py.length;b++)this.py[b].Oc(a);this.hia=
null;this.stop()}};c.prototype.tb=function(){return this.w2?rT.prototype.tb.call(this):this.Me};c.prototype.TD=function(a){a&=jT.ybc;for(var b=0;b<this.py.length;b++)this.py[b].TD(a);return rT.prototype.TD.call(this,a)};c.prototype.Ob=function(a){for(var b=0;b<this.py.length;b++)this.py[b].Ob(a);return rT.prototype.Ob.call(this,a)};c.prototype.apply=function(a){var b;switch(a.vh()){case iT.gEb:if(this.w2||1>this.Me.length||!this.Me[0].getParent())break;var d=this.Me[0].getParent();var e=d.Ik(this.Me[0]);
var f=a.Jtb();a=f.Qa()||W.Xj;for(b=0;b<this.Me.length;b++){var g=W.multiply(a.rc(),this.Me[b].lb()||W.Xj);this.Me[b].Kc(g)}f.dh().oa(this.Me);this.zl(f);d.Mf(e,f);break;case iT.fGb:if(!this.w2||!this.tb().getParent())break;a=this.tb().Qa()||W.Xj;d=this.tb().getParent();e=d.Ik(this.tb());d.removeChild(this.tb());this.Me=Hg.toArray(this.tb().vf());for(b=this.Me.length-1;0<=b;b--)f=this.Me[b].lb()||W.Xj,this.Me[b].Kc(W.multiply(a,f)),d.Mf(e,this.Me[b]);this.zl(this.Me);break;case iT.uj:if(this.w2)return rT.prototype.apply.call(this,
a);e=a.Da();d=a.getValue();f=Array.isArray(d);for(b=0;b<this.py.length;b++)g=f?new xT(e,d[b]):a,this.py[b].apply(g);break;case iT.ygb:return rT.prototype.apply.call(this,a);case iT.cL:case iT.NN:case iT.RT:case iT.kKa:if(this.w2)return rT.prototype.apply.call(this,a);for(b=0;b<this.py.length;b++)this.hia!==this.py[b]&&this.py[b].apply(a)}return this};c.prototype.zl=function(a){var b;for(b=0;b<this.py.length;b++)this.py[b].dispose();this.py=[];if(this.w2=!Array.isArray(a))return this.Me=Hg.toArray(a.vf()),
this.bl().va(!0),rT.prototype.zl.call(this,a);this.Me=a.reduce(function(d,e){!e.getParent()||0!==d.length&&d[0].getParent()!==e.getParent()||d.push(e);return d},[]);0<this.Me.length&&(this.Me=this.Me[0].getParent().vf(function(d){return 0<=this.Me.indexOf(d)}.bind(this)).toArray());for(b=0;b<this.Me.length;)a=kT.ya().DA({node:this.Me[b],layer:this.ec()}),null!=a?(a.addListener(iT.vha,this.d$c),this.py.push(a),b++):this.Me.splice(b,1);return rT.prototype.zl.call(this,null)};c.prototype.hF=function(a){if(this.w2)return rT.prototype.hF.call(this,
a);for(var b=0;b<this.py.length;b++)this.py[b].hF(a);return this};c.prototype.update=function(){for(var a=0;a<this.py.length;a++)this.py[a].update();return rT.prototype.update.call(this)};c.prototype.dispose=function(){for(var a=0;a<this.py.length;a++)this.py[a].dispose();this.py=[];this.Me=[];this.hia=null;rT.prototype.dispose.call(this)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoibGUiLCJpc1N1cHBvcnRlZCI6IllwIiwib25Nb3VzZURvd24iOiJYYyIsIm9uTW91c2VNb3ZlIjoiQWMiLCJvbk1vdXNlVXAiOiJPYyIsImdldE5vZGUiOiJ0YiIsInNldEVkaXRNb2RlIjoiVEQiLCJzZXRFbmFibGVkIjoiT2IiLCJzZXROb2RlIjoiemwiLCJyZXNldE5vZGUiOiJoRiJ9fX0g");var LT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){b=G(b,{name:"SymbolEditor",node:new Nm({alignment:O.Na,linestyle:"black",fillstyle:"white"})});rT.call(this,b)}var a=new Vd(50,50);D(c,rT);L(c,"geotoolkit.controls.tools.editors.SymbolEditor");c.prototype.le=function(b){!0!==this.hh&&(rT.prototype.le.call(this,b),this.Fj=null,this.Ne=a)};c.prototype.Yp=function(b){return b.node instanceof Nm||b.mode===sT.Symbol};c.prototype.Xc=function(b){rT.prototype.Xc.call(this,b);this.Fj=null==this.Ut()?b.Zd():null;this.XM()||0===
(this.Mo()&jT.iYa)||0===(this.Mo()&jT.EQ)||b.stopPropagation(!0,!0)};c.prototype.Ac=function(b){if(null==this.Fj||this.TP()||0===(this.Mo()&jT.iYa)||!this.Hd()&&(this.E_(b)||this.XM()))rT.prototype.Ac.call(this,b);else{var d=b.Zd(),e=d.getX(),f=d.getY();b.ye().shiftKey&&(e=this.s9(),f=d.getX()-this.Fj.getX(),d=d.getY()-this.Fj.getY(),Math.abs(f)<e*Math.abs(d)?d=0<f===0<d?f/e:-f/e:f=0<f===0<d?d*e:-d*e,e=this.Fj.getX()+f,f=this.Fj.getY()+d);b=this.wa();d=b.hd(this.Fj);e=b.hd(new M(e,f));this.push(new tT(d,
e,this.Hd()));this.start()}};c.prototype.Oc=function(b){var d=!1;null!=this.Fj&&(this.E_(b)&&0!==(this.Mo()&jT.EQ)&&!this.XM()?(d=b.Zd(),d=(new U(d.getX(),d.getY(),d.getX(),d.getY())).Uc(this.Ne.ca()/2,this.Ne.da()/2),this.Kb().wa().pd(d,d),this.push(new tT(d.bd(),d.nf())),d=!0):this.Hd()&&(b.stopPropagation(!0,!0),d=!0));this.Fj=null;rT.prototype.Oc.call(this,b);d&&this.end(b)};c.prototype.ga=function(){return this.XM()?this.tb().QJ(W.Xj):null};c.prototype.apply=function(b){switch(b.vh()){case iT.Vu:if(!this.tb().getParent()){var d=
this.ec().Ik(this.bl());this.ec().Mf(d,this.tb())}case iT.HQ:return d=b.np(),b=b.nr(),b=new U(d.getX(),d.getY(),b.getX(),b.getY()),this.tb().va(!0).sa(b),this}return rT.prototype.apply.call(this,b)};c.prototype.s9=function(){return this.tb().s9()};c.prototype.MVc=function(){this.Ne=this.tb().getSize();return this};c.prototype.b$=function(){return this.Fj};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoibGUiLCJpc1N1cHBvcnRlZCI6IllwIiwib25Nb3VzZURvd24iOiJYYyIsIm9uTW91c2VNb3ZlIjoiQWMiLCJvbk1vdXNlVXAiOiJPYyIsImdldEJvdW5kcyI6ImdhIiwiZ2V0QXNwZWN0UmF0aW8iOiJzOSJ9fX0g");var MT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{name:"RectangleEditor",node:new ho({fillstyle:"white",linestyle:{width:2,pixelsnapmode:!0}})});LT.call(this,a)}D(c,LT);L(c,"geotoolkit.controls.tools.editors.Rectangle");c.prototype.Yp=function(a){return a.node instanceof ho||a.mode===sT.tgb};c.prototype.s9=function(){return 1};c.prototype.ga=function(){return this.XM()?this.Fd.ga():null};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc1N1cHBvcnRlZCI6IllwIiwiZ2V0Qm91bmRzIjoiZ2EifX19");var NT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{name:"EllipseEditor",node:new Tm({fillstyle:"white",linestyle:{width:2,pixelsnapmode:!0}})});MT.call(this,a)}D(c,MT);L(c,"geotoolkit.controls.tools.editors.Ellipse");c.prototype.Yp=function(a){return a.node instanceof Tm||a.mode===sT.vYa};c.prototype.Ac=function(a){if(!a.ye().ctrlKey||null==this.b$()||this.TP()||0===(this.Mo()&jT.iYa)||!this.Hd()&&(this.E_(a)||this.XM()))MT.prototype.Ac.call(this,a);else{var b=this.b$();a=a.Zd();a=M.Uf(b,a);b=(new U(b.getX(),
b.getY(),b.getX(),b.getY())).Uc(a);this.Kb().wa().pd(b,b);this.push(new tT(b.bd(),b.nf(),this.Hd()));this.start()}};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc1N1cHBvcnRlZCI6IllwIiwib25Nb3VzZU1vdmUiOiJBYyJ9fX0g");var OT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{name:"ImageEditor",node:new Gj({alignment:O.Na})});LT.call(this,a);this.MVc();this.vR=this.MVc.bind(this);this.tb().on(Fj.Cj,this.vR)}D(c,LT);L(c,"geotoolkit.controls.tools.editors.Image");c.prototype.Yp=function(a){return a.node instanceof Gj||a.mode===sT.Image};c.prototype.zl=function(a){null!=this.tb()&&this.tb().za(Fj.Cj,this.vR);LT.prototype.zl.call(this,a);if(null!=this.tb())this.tb().on(Fj.Cj,this.vR);return this};c.prototype.dispose=function(){this.tb().za(Fj.Cj,
this.vR);LT.prototype.dispose.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc1N1cHBvcnRlZCI6IllwIiwic2V0Tm9kZSI6InpsIn19fSAg");var PT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{name:"PencilEditor",node:new dh({linestyle:{width:2,pixelsnapmode:!0}})});rT.call(this,a)}D(c,rT);L(c,"geotoolkit.controls.tools.editors.Pencil");c.prototype.Yp=function(a){if(a.mode===sT.nFb)return!0;if(a.node instanceof dh){for(var b=a.node.Vd().getTags(),d=0;d<b.length;d++)if(b[d]!==Dd.bz&&(b[d]!==Dd.ey||0!==d))return!1;return null!=a.node.mt("type")&&"pencil"!==a.node.mt("type")?!1:!0}return!1};c.prototype.Xc=function(a){rT.prototype.Xc.call(this,a);if(null==
this.Ut()&&0===this.tb().Vd().getLength()){var b=a.Zd();this.push(new AT([b.getX()],[b.getY()]));a.stopPropagation(!0,!0);this.start()}};c.prototype.Ac=function(a){null==this.Ut()&&this.Hd()&&!this.TP()?(a=a.Zd(),this.push(new AT(a.getX(),a.getY()))):rT.prototype.Ac.call(this,a)};c.prototype.Oc=function(a){var b=null==this.Ut()&&this.Hd();rT.prototype.Oc.call(this,a);b&&(a.stopPropagation(!0,!0),this.end(a))};c.prototype.hF=function(a){this.tb().clear().ha();return rT.prototype.hF.call(this,a)};c.prototype.apply=
function(a){switch(a.vh()){case iT.HQ:return a=this.wa().Nw(a.getX()[0],a.getY()[0]),this.tb().lineTo(a.getX(),a.getY()).ha(),this;case iT.Vu:if(!this.tb().getParent()){var b=this.ec().Ik(this.bl());this.ec().Mf(b,this.tb())}b=a.getX();var d=a.getY(),e=this.wa();this.tb().setProperty("type","pencil").clear();0<b.length&&(a=e.Nw(b[0],d[0]),this.tb().moveTo(a.getX(),a.getY()));for(var f=1;f<b.length;f++)a=e.Nw(b[f],d[f]),this.tb().lineTo(a.getX(),a.getY());this.tb().ha();return this}return rT.prototype.apply.call(this,
a)};c.prototype.fa=function(a){rT.prototype.fa.call(this,a);this.tb().qa(null);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc1N1cHBvcnRlZCI6IllwIiwib25Nb3VzZURvd24iOiJYYyIsIm9uTW91c2VNb3ZlIjoiQWMiLCJvbk1vdXNlVXAiOiJPYyIsInJlc2V0Tm9kZSI6ImhGIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var QT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){d=G(d,{name:"PolygonEditor",node:new Vm({linestyle:{width:2,pixelsnapmode:!0},fillstyle:"white"}),preview:new dh({linestyle:{color:"red",width:1.5,pattern:[7,3]}})});rT.call(this,d)}var a=new M,b=new Nm({painter:$m,alignment:O.Na,fillstyle:"#a9a9a9",linestyle:"black",sizeisindevicespace:!0,width:7,height:7});D(c,rT);L(c,"geotoolkit.controls.tools.editors.Polygon");c.prototype.le=function(d){!0!==this.hh&&(rT.prototype.le.call(this,d),this.vJ=d.preview,this.r_a=b.clone(),
this.S2=b.clone(),this.BMa=b.clone(),this.cOa=[],this.Kja=new oi,this.Nj=null,this.bl().oa([this.vJ,this.Kja]))};c.prototype.Yp=function(d){return d.node instanceof Vm||d.mode===sT.Sha};c.prototype.Xc=function(d){this.Nj=this.MM(d);rT.prototype.Xc.call(this,d);if(null!=this.Nj)d.stopPropagation(!1,!0);else if(0>=this.Ut()&&!d.ye().ctrlKey){var e=this.intersect(d);null!==e&&(this.Nj=e.index,this.push((new CT(new M(e.x,e.y),this.Nj,!0)).setOptions(e)),d.stopPropagation(!1,!0),this.bl().removeChild(this.S2),
this.start())}this.m7b(!0)};c.prototype.Ac=function(d){if(null==this.Nj||!this.Hd()&&this.E_(d))rT.prototype.Ac.call(this,d),null!=this.Nj&&d.stopPropagation(!0,!0);else{var e=this.o_().eb(this.Nj);e=this.lb().Nw(e.pn(),e.Vl());var f=this.Kd(this.Kb(),d);this.push(new uT(f.getX()-e.getX(),f.getY()-e.getY(),this.Nj));d.stopPropagation(!0,!0);this.start();this.Taa(d)}this.oF(this.z4(d)?d:null)};c.prototype.Oc=function(d){var e=!1;this.m7b(!1);if(this.Hd())d.stopPropagation(!0,!0);else if(this.E_(d)&&
this.z4(d))if((this.twa(this.Nj)||d.ye().button===Dc.$b)&&this.XM()&&0!==(this.Mo()&jT.EQ))d.stopPropagation(!0,!0),this.Nj=null,e=!0;else if(null==this.Nj&&0>=this.Ut()&&0!==(this.Mo()&jT.EQ)){var f=this.Kd(this.Kb(),d);this.push(new CT(f,this.getSize()));this.oF()}else if(null!=this.Nj&&0!==(this.Mo()&jT.pYa)){f=this.ce();var g=this.Fe();this.push(new BT(new M(f[this.Nj],g[this.Nj]),this.Nj));this.oF(this.Gm(d)?null:d)}rT.prototype.Oc.call(this,d);this.Nj=null;e&&this.end(d)};c.prototype.Ry=function(d){this.oF();
this.bl().removeChild(this.S2)};c.prototype.apply=function(d){var e=this.ce(),f=this.Fe();switch(d.vh()){case iT.Vu:if(!this.tb().getParent()){var g=this.ec().Ik(this.bl());this.ec().Mf(g,this.tb())}case iT.HQ:case iT.NYa:g=d.getIndex();e.splice(g,0,d.getX());f.splice(g,0,d.getY());break;case iT.iba:g=d.getIndex();e[g]+=d.hf();f[g]+=d.We();break;case iT.Vya:g=d.getIndex();e.splice(g,1);f.splice(g,1);break;default:return rT.prototype.apply.call(this,d)}this.tb().he(e,f);return this.update()};c.prototype.update=
function(){var d=this.lb(),e=this.ce(),f=this.Fe(),g=[];if(0<e.length){var h=d.Hc(e[0],f[0]);this.r_a.Db(h);g.push(this.r_a);for(var k=1;k<e.length-1;k++){var l=this.cOa[k];l&&l!==this.BMa||(l=this.S2.clone());h=d.Hc(e[k],f[k]);l.Db(h);g.push(l)}1<e.length&&(h=d.Hc(e[e.length-1],f[f.length-1]),this.BMa.Db(h),g.push(this.BMa))}this.cOa.length!==g.length&&(this.Kja.removeChild(this.cOa),this.Kja.oa(g),this.cOa=g);this.Kja.va(this.Ia()&&(0!==(this.Mo()&jT.eKa)||0!==(this.Mo()&jT.pYa)));this.oF();return rT.prototype.update.call(this)};
c.prototype.push=function(d){rT.prototype.push.call(this,d);d instanceof uT||d instanceof CT&&d.Q0b()?this.Pxc().va(!1):(d instanceof oT||d instanceof pT)&&this.Kja.va(!this.Hd());return this};c.prototype.hF=function(d){this.tb().he([],[]);this.bl().removeChild(this.S2);return rT.prototype.hF.call(this,d)};c.prototype.TD=function(d){this.vJ.clear().ha();return rT.prototype.TD.call(this,d)};c.prototype.ga=function(){return 1<this.getSize()?rT.prototype.ga.call(this):null};c.prototype.Taa=function(d,
e){null==e&&(null!=this.Nj?e="grabbing":null!=this.MM(d)?e="grab":null!=this.S2.getParent()&&(e="copy"));rT.prototype.Taa.call(this,d,e)};c.prototype.fa=function(d){if(null==d)return this;this.vJ.fa(d.preview);return rT.prototype.fa.call(this,d)};c.prototype.ia=function(){var d=rT.prototype.fa.call(this);d.preview=this.vJ.ia();return d=xb(d,{handles:{begin:this.r_a.ia(),middle:this.S2.ia(),end:this.BMa.ia()}})};c.prototype.Ut=function(d){return null!=this.Nj?null:rT.prototype.Ut.call(this,d)};c.prototype.wIa=
function(d){this.r_a.fa(d.begin);this.S2.fa(d.middle);this.BMa.fa(d.end);this.cOa.forEach(function(e){e!==this.r_a&&e!==this.BMa&&e.fa(d.middle)}.bind(this))};c.prototype.m7b=function(d){if(null!=this.Nj){var e=this.Kja.eb(this.Nj);d?e.MJ("active"):e.yI("active")}return this};c.prototype.MM=function(d){if(null==d)return this.Nj;if(0===(this.Mo()&jT.eKa)||!this.z4(d)||d.ye().ctrlKey)return null;var e=d.Zd(),f=this.Gm(d)?this.jM:this.rJ;d=bk.select(d.tb(),e.getX(),e.getY(),f);for(e=this.Kja.Yb()-1;0<=
e;e--)if(0<=d.indexOf(this.Kja.eb(e)))return e;return null};c.prototype.oF=function(d){var e=this.getSize();this.vJ.clear();if(0<e&&null!=d&&!this.Hd()&&null==this.MM(d)&&0>=this.Ut(d)){var f=this.lb(),g=d.ye().ctrlKey?null:this.intersect(d);if(null!=g)g=f.Hc(g.x,g.y),this.S2.Db(g),this.bl().oa(this.S2);else if(this.bl().removeChild(this.S2),0!==(this.Mo()&jT.EQ)){g=this.ce();var h=this.Fe(),k=f.Hc(g[0],h[0]);d=this.Kd(this.ec(),d);this.vJ.moveTo(k.getX(),k.getY()).lineTo(d.getX(),d.getY());1<e&&
(e=f.Hc(g[e-1],h[e-1]),this.vJ.moveTo(e.getX(),e.getY()).lineTo(d.getX(),d.getY()))}}else this.bl().removeChild(this.S2);this.vJ.ha()};c.prototype.intersect=function(d){if(2>this.getSize()||0===(this.Mo()&jT.wEb))return null;var e=d.Zd();d=this.Gm(d)?this.jM:this.rJ;for(var f=this.wa(),g=this.ce(),h=this.Fe(),k=g.length-1,l=f.Hc(g[k],h[k]),m=0;m<g.length;k=m++){var n=l.getX(),p=l.getY();l=f.Hc(g[m],h[m]);n=e.Nsb(n,p,l.getX(),l.getY(),a);if(n.Ew(e,d))return f.hd(n,n),{x:n.getX(),y:n.getY(),index:k+
1}}return null};c.prototype.getSize=function(){return this.tb().getSize()};c.prototype.ce=function(){return this.tb().ce()};c.prototype.Fe=function(){return this.tb().Fe()};c.prototype.o_=function(){return this.Kja};c.prototype.Lw=function(){return this.vJ};c.prototype.Kw=function(){return this.S2};c.prototype.Eqd=function(){return this.cOa};c.prototype.twa=function(d){return 0===d||d===this.getSize()-1};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoibGUiLCJpc1N1cHBvcnRlZCI6IllwIiwib25Nb3VzZURvd24iOiJYYyIsIm9uTW91c2VNb3ZlIjoiQWMiLCJvbk1vdXNlVXAiOiJPYyIsIm9uTGVhdmUiOiJSeSIsInJlc2V0Tm9kZSI6ImhGIiwic2V0RWRpdE1vZGUiOiJURCIsImdldEJvdW5kcyI6ImdhIiwidXBkYXRlQnJvd3NlckN1cnNvciI6IlRhYSIsInNldFByb3BlcnRpZXMiOiJmYSIsImdldFByb3BlcnRpZXMiOiJpYSIsImdldEJib3hIYW5kbGUiOiJVdCIsInNldEV4dHJhSGFuZGxlc1Byb3BlcnRpZXMiOiJ3SWEiLCJzZXROb2RlSGFuZGxlQWN0aXZlIjoibTdiIn19fSAg");var RT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){d=G(d,{format:a});QT.call(this,d)}var a=new cj({format:"###,###.00",locale:"no"}),b=new xQ({selectable:!1,arrowsize:10,padding:3,fillstyle:{color:"#00fa9a",shadow:{enable:!0,color:"rgba(0, 0, 0, 0.5)",offsetx:2,offsety:2}},textstyle:{font:"bold 11px sans-serif"}});D(c,QT);L(c,"geotoolkit.controls.tools.editors.PolygonArea");c.prototype.le=function(d){!0!==this.hh&&(QT.prototype.le.call(this,d),this.Uh=b.clone(),this.Uh.fa(d.label),this.Ig=d.format,this.qB=null)};c.prototype.update=
function(){this.qB=this.tla();if(null==this.qB)this.bl().removeChild(this.Uh);else{var d=this.lb(),e=this.getSize(),f=this.ce(),g=this.Fe();e=c.kua(this,f[e-1],g[e-1],f[0],g[0],f[1],g[1]);d=d.Hc(f[0],g[0]);f=this.format(this.qB);this.Uh.Eb(f).Db(d).tc(e);this.bl().oa(this.Uh)}return QT.prototype.update.call(this)};c.prototype.fa=function(d){if(null==d)return this;this.Uh.fa(d.label);null!=d.format&&(this.Ig=d.format);return QT.prototype.fa.call(this,d)};c.prototype.ia=function(){var d=QT.prototype.ia.call(this);
d.label=this.Uh.ia();d.format=this.Ig;return d};c.prototype.vD=function(){return this.Uh};c.kua=function(d,e,f,g,h,k,l){var m=d.lb();e=[e,g,k];f=[f,h,l];m.Naa(e,f,e.length);m=e[1]-e[0];h=f[1]-f[0];l=e[1]-e[2];g=f[1]-f[2];k=Math.sqrt(m*m+h*h);var n=Math.sqrt(l*l+g*g);m=m/k+l/n;h=h/k+g/n;d=0>d.ec().wa().Ab();V.equals(m,0)&&V.equals(h,0)&&(m=f[0]-f[1],h=e[1]-e[0],0<h!==d&&(m=-m,h=-h));return 0>m?0<h===d?O.lh:O.Qf:0<h===d?O.cg:O.Ld};c.prototype.tla=function(d,e){d=d||this.ce();e=e||this.Fe();var f=d.length;
if(3>f)return null;for(var g=[],h=0;h<f;h++)g.push(new oh.Ppa(d[h],e[h]));g=oh.hDb.PTc(g,oh.Oi.oC);return oh.DEb.Hbd(g)};c.prototype.Ecd=function(d,e){var f=this.ce().slice(),g=this.Fe().slice();f.push(d);g.push(e);return this.tla(f,g)};c.prototype.getArea=function(){return this.qB};c.prototype.format=function(d){return this.Ig.format(d)};return c}(),1,"eyJjYWxjdWxhdGVBbmNob3JUeXBlIjoia3VhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsiaW5pdGlhbGl6ZSI6ImxlIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwiZ2V0TGFiZWwiOiJ2RCIsImNhbGN1bGF0ZUFyZWEiOiJ0bGEifX19");var ST=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{name:"PolylineEditor",node:new $n({linestyle:{width:2,pixelsnapmode:!0}})});QT.call(this,a)}D(c,QT);L(c,"geotoolkit.controls.tools.editors.Polyline");c.prototype.Yp=function(a){return a.node instanceof $n||a.mode===sT.ngb};c.prototype.oF=function(a){var b=this.getSize();this.Lw().clear();if(0<b&&null!=a&&!this.Hd()&&null==this.MM(a)&&0>=this.Ut(a)){var d=this.intersect(a);if(null!=d)d=this.lb().Hc(d.x,d.y),this.Kw().Db(d),this.bl().oa(this.Kw());else if(this.bl().removeChild(this.Kw()),
0!==(this.Mo()&jT.EQ)){d=this.ce();var e=this.Fe();b=this.lb().Hc(d[b-1],e[b-1]);a=this.Kd(this.ec(),a);this.Lw().moveTo(b.getX(),b.getY()).lineTo(a.getX(),a.getY())}}else this.bl().removeChild(this.Kw());this.Lw().ha()};c.prototype.intersect=function(a){if(2>this.tb().getSize())return null;var b=a.Zd();a=this.Gm(a)?this.jM:this.rJ;for(var d=this.tb().wa(),e=this.tb().ce(),f=this.tb().Fe(),g=d.Hc(e[0],f[0]),h=1;h<e.length;h++){var k=g.getX(),l=g.getY();g=d.Hc(e[h],f[h]);k=b.Nsb(k,l,g.getX(),g.getY());
if(k.Ew(b,a))return d.hd(k,k),{x:k.x,y:k.y,index:h}}return null};c.prototype.twa=function(a){return a===this.getSize()-1};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;QT.prototype.fa.call(this,a);this.tb().qa(null);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc1N1cHBvcnRlZCI6IllwIiwidXBkYXRlUHJldmlldyI6Im9GIiwiaXNFbmRIYW5kbGUiOiJ0d2EiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var TT=/*#__PURE__*/va(/*#__PURE__*/{Bc:0,Vu:1,Nk:2,Ao:4},2,"eyJOb25lIjoiQmMiLCJTdGFydCI6IlZ1IiwiTWlkZGxlIjoiTmsiLCJFbmQiOiJBbyJ9");var UT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{node:new $n({linestyle:{width:2,pixelsnapmode:!0}}),directionmode:TT.Bc,directionsymbol:new Nm({width:12,height:21,painter:Zm,alignment:O.Na,sizeisindevicespace:!0,selectable:!1,linestyle:"black",fillstyle:"black"})});RT.call(this,a);this.Mia=a.directionsymbol;this.DAa=a.directionmode}D(c,RT);L(c,"geotoolkit.controls.tools.editors.PolylineDistance");c.prototype.le=function(a){!0!==this.hh&&(RT.prototype.le.call(this,a),this.Le=[],this.X1=[],this.pY=[],this.EAa=
new oi,a=this.bl().Ik(this.o_()),this.bl().Mf(a,this.EAa))};c.prototype.update=function(){RT.prototype.update.call(this);var a=this.getSize(),b=this.ce(),d=this.Fe(),e=this.lb(),f=[],g=[],h=0,k=this.wa(),l=k.Hc(b[0],d[0]).clone();k.Qp(e.rc());this.X1=[];for(var m=1;m<a;m++){h+=this.MZ(b[m-1],d[m-1],b[m],d[m]);var n=this.Le[m-1]||this.vD().clone(),p=this.format(h),q=e.Hc(b[m],d[m]),r=c.lp(this,m);n.Eb(p).Db(q).tc(r);g.push(n);this.X1.push(h);p=k.Ma(q,q);n=p.getX();p=p.getY();this.wEa(l,n,p,k,f,TT.Vu);
this.wEa(l,n,p,k,f,TT.Nk);this.wEa(l,n,p,k,f,TT.Ao);l.Ga(n,p)}g.length!==this.Le.length&&(this.o_().removeChild(this.Le),this.o_().oa(g),this.Le=g);f.length!==this.pY.length&&(this.EAa.removeChild(this.pY),this.EAa.oa(f),this.pY=f);return this};c.prototype.tla=function(){return null};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;for(var b=0;b<this.Le.length;b++)this.Le[b].fa(a.label);null!=a.directionmode&&(this.DAa=a.directionmode);null!=a.directionsymbol&&(a.directionsymbol instanceof
Wi?this.Mia=a.directionsymbol:this.Mia.fa(a.directionsymbol));return RT.prototype.fa.call(this,a)};c.prototype.ia=function(){var a=RT.prototype.ia.call(this);a.directionMode=this.DAa;a.directionSymbol=this.Mia;return a};c.prototype.MZ=function(a,b,d,e){a=d-a;b=e-b;return Math.sqrt(a*a+b*b)};c.prototype.Grc=function(a,b){if(1>this.getSize())return null;var d=this.ce(),e=this.Fe(),f=this.D9();f=0<f.length?f[f.length-1]:0;return this.MZ(d[d.length-1],e[e.length-1],a,b)+f};c.prototype.wEa=function(a,
b,d,e,f,g){if(0!==(this.DAa&g)){var h=this.pY[f.length]||this.Mia.clone(),k=Math.atan2(d-a.getY(),b-a.getX())+V.sign(e.Ab())*Math.PI/2;switch(g){case TT.Vu:var l=a.getX();var m=a.getY();h.tc(O.Je);break;case TT.Nk:l=(a.getX()+b)/2;m=(a.getY()+d)/2;h.tc(O.Na);break;case TT.Ao:l=b,m=d,h.tc(O.Xd)}a=W.Xi(k,l,m).Qp(e);h.Db(a.Nw(l,m));e=a.st(e.rc());h.Kc(e);f.push(h)}};c.prototype.D9=function(){return this.X1.slice()};c.lp=function(a,b){var d=a.ce(),e=a.Fe();return 0===b?RT.kua(a,d[1],e[1],d[0],e[0],d[1],
e[1]):b===a.getSize()-1?RT.kua(a,d[b-1],e[b-1],d[b],e[b],d[b-1],e[b-1]):RT.kua(a,d[b-1],e[b-1],d[b],e[b],d[b+1],e[b+1])};c.prototype.oF=function(a){var b=this.getSize();this.Lw().clear();if(0<b&&null!=a&&!this.Hd()&&null==this.MM(a)&&0>=this.Ut(a)){var d=this.lb(),e=this.intersect(a),f=this.ce(),g=this.Fe();null!=e?(a=e.index,b=1<a?this.X1[a-2]:0,b+=this.MZ(f[a-1],g[a-1],e.x,e.y),b=this.format(b),f=RT.kua(this,f[a-1],g[a-1],e.x,e.y,f[a],g[a]),d=d.Hc(e.x,e.y),this.vD().Eb(b).Db(d).tc(f),this.Kw().Db(d),
this.bl().oa([this.Kw(),this.vD()])):(this.bl().removeChild([this.Kw(),this.vD()]),0!==(this.Mo()&jT.EQ)&&(d=d.Hc(f[b-1],g[b-1]),e=this.Kd(this.ec(),a),this.Lw().moveTo(d.getX(),d.getY()).lineTo(e.getX(),e.getY())))}else this.bl().removeChild([this.Kw(),this.vD()]);this.Lw().ha()};c.prototype.intersect=function(a){if(2>this.tb().getSize())return null;var b=a.Zd();a=this.Gm(a)?this.jM:this.rJ;for(var d=this.tb().wa(),e=this.tb().ce(),f=this.tb().Fe(),g=d.Hc(e[0],f[0]),h=1;h<e.length;h++){var k=g.getX(),
l=g.getY();g=d.Hc(e[h],f[h]);k=b.Nsb(k,l,g.getX(),g.getY());if(k.Ew(b,a))return d.hd(k,k),{x:k.x,y:k.y,index:h}}return null};c.prototype.twa=function(a){return a===this.getSize()-1};c.prototype.l_=function(){return this.Le};return c}(),1,"eyJnZXRBbmNob3JUeXBlIjoibHAiLCJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoibGUiLCJjYWxjdWxhdGVBcmVhIjoidGxhIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwiY2FsY3VsYXRlRGlzdGFuY2UiOiJNWiIsImdldERpc3RhbmNlcyI6IkQ5IiwidXBkYXRlUHJldmlldyI6Im9GIiwiaXNFbmRIYW5kbGUiOiJ0d2EiLCJnZXRMYWJlbHMiOiJsXyJ9fX0g");var VT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(k){k=G(k,{name:"SplineEditor",node:new dh({linestyle:{width:2,pixelsnapmode:!0}})});QT.call(this,k)}function a(k,l,m){return new M((1-m)*k.getX()+m*l.getX(),(1-m)*k.getY()+m*l.getY())}var b=new M,d=new M,e=new M,f=new M,g=new Nm({painter:$m,alignment:O.Na,fillstyle:"#ffe5cf",linestyle:"#ba2d32",sizeisindevicespace:!0,width:8,height:8}),h=new dh({selectable:!1,linestyle:"#db7c8d"});D(c,QT);L(c,"geotoolkit.controls.tools.editors.Spline");c.prototype.le=function(k){!0!==
this.hh&&(QT.prototype.le.call(this,k),this.os=[],this.DF=[],this.qE=[],this.N1=[],this.O1=[],this.Tqa=g.clone(),this.N6=h.clone(),this.N6.fa(k.cpline),k=this.bl().Ik(this.o_()),this.bl().Mf(k,this.N6))};c.prototype.Yp=function(k){if(k.mode===sT.UT)return!0;if(k.node instanceof dh){for(var l=k.node.Vd().getTags(),m=0;m<l.length;m++)if(l[m]!==Dd.BC&&(l[m]!==Dd.ey||0!==m))return!1;return null!=k.node.mt("type")&&"spline"!==k.node.mt("type")?!1:!0}return!1};c.prototype.zl=function(k){QT.prototype.zl.call(this,
k);k=[];for(var l=[],m=[],n=[],p=[],q=this.tb().Vd(),r=q.getTags(),t=q.getX(),u=q.getY(),w=0;w<q.getLength();w++){var y=q.getIndex(w);k.push(this.os[w]||new M);l.push(this.DF[w]||new M);m.push(this.qE[w]||new M);n.push(this.N1[w]||this.Tqa.clone());p.push(this.O1[w]||this.Tqa.clone());switch(r[w]){case Dd.ey:k[w].Ga(t[y],u[y]);break;case Dd.BC:l[w-1].Ga(t[y],u[y]),m[w].Ga(t[y+1],u[y+1]),k[w].Ga(t[y+2],u[y+2])}}for(q=k.length;q<this.getSize();q++)this.N1[q].dispose(),this.O1[q].dispose();this.os=k;
this.DF=l;this.qE=m;this.N1=n;this.O1=p;return this.update()};c.prototype.push=function(k){if(k instanceof CT){var l=k.ta()||{};if(k.Q0b()){l.isInsert=!0;var m=k.getIndex();var n=this.os[m-1],p=this.DF[m-1],q=this.qE[m],r=this.os[m];n=a(n,p,l.t);m=a(p,q,l.t);r=a(q,r,l.t);var t=a(n,m,l.t);m=a(m,r,l.t);l.cpAfter=[n,t,m,r];l.cpBefore=[p.clone(),q.clone()]}else if(p=this.getSize(),0<p)switch(1===p?(q=[this.os[0].getX(),k.getX()],n=[this.os[0].getY(),k.getY()]):(q=[this.os[p-2].getX(),this.os[p-1].getX(),
k.getX()],n=[this.os[p-2].getY(),this.os[p-1].getY(),k.getY()]),r=gh.e_(q,n),q=r.JV,n=r.KV,m=r.gX,r=r.hX,p){case 1:l.cpAfter=[new M(q[0],n[0]),new M(m[0],r[0])];break;case 2:l.cpAfter=[new M(q[0],n[0]),new M(m[0],r[0]),new M(q[1],n[1]),new M(m[1],r[1])];l.cpBefore=[this.DF[0].clone(),this.qE[1].clone()];break;default:l.cpAfter=[new M(m[0],r[0]),new M(q[1],n[1]),new M(m[1],r[1])],l.cpBefore=[this.qE[p-1].clone()]}k.setOptions(l)}else if(k instanceof BT){m=k.getIndex();if(m>this.getSize())return this;
l=k.ta()||{};l.point=this.os[m].clone();l.cp1=this.DF[m].clone();l.cp2=this.qE[m].clone();k.setOptions(l)}QT.prototype.push.call(this,k);this.N6.va(this.o_().Ia());return this};c.prototype.apply=function(k){var l=k.ta()||{};var m=l.cpAfter;switch(k.vh()){case iT.NYa:var n=k.getIndex();if(null!=m){var p=k.getX()-l.x;l=k.getY()-l.y;this.DF[n-1].Ga(m[0]);this.qE[n].Ga(m[3]);this.qE.splice(n,0,m[1].clone().translate(p,l));this.DF.splice(n,0,m[2].clone().translate(p,l));this.os.splice(n,0,new M(k.getX(),
k.getY()))}else null!=l.point&&(this.os.splice(n,0,l.point.clone()),this.DF.splice(n,0,l.cp1.clone()),this.qE.splice(n,0,l.cp2.clone()));this.N1.splice(n,0,this.Tqa.clone());this.O1.splice(n,0,this.Tqa.clone());break;case iT.Vu:this.tb().getParent()||(n=this.ec().Ik(this.bl()),this.ec().Mf(n,this.tb())),this.tb().setProperty("type","spline");case iT.HQ:this.os.push(new M(k.getX(),k.getY()));this.DF.push(new M);this.qE.push(new M);this.N1.push(this.Tqa.clone());this.O1.push(this.Tqa.clone());null!=
m&&(n=k.getIndex(),3<m.length&&this.DF[n-2].Ga(m[m.length-4]),2<m.length&&this.qE[n-1].Ga(m[m.length-3]),this.DF[n-1].Ga(m[m.length-2]),this.qE[n].Ga(m[m.length-1]));break;case iT.iba:n=k.getIndex();p=k.hf();l=k.We();n<this.getSize()?(this.os[n].translate(p,l),this.DF[n].translate(p,l),this.qE[n].translate(p,l)):n-this.getSize()<this.getSize()-1?this.DF[n-this.getSize()].translate(p,l):this.qE[n-2*this.getSize()+2].translate(p,l);break;case iT.Vya:n=k.getIndex();this.os.splice(n,1);this.DF.splice(n,
1);this.qE.splice(n,1);this.N1.splice(n,1);this.O1.splice(n,1);null!=l.cpBefore&&(k=l.cpBefore,l.isInsert?(this.DF[n-1].Ga(k[0]),this.qE[n].Ga(k[1])):2===k.length?(this.DF[0].Ga(k[0]),this.qE[1].Ga(k[1])):this.qE[n-1].Ga(k[0]));break;default:QT.prototype.apply.call(this,k)}return this.update()};c.prototype.update=function(){if(null==this.o_())return this;this.N6.clear();this.tb().clear();var k=this.lb();if(0<this.os.length){this.tb().moveTo(this.os[0].getX(),this.os[0].getY());for(var l=1;l<this.os.length;l++){var m=
this.os[l-1],n=this.os[l],p=this.DF[l-1],q=this.qE[l];this.tb().bezierCurveTo(p.getX(),p.getY(),q.getX(),q.getY(),n.getX(),n.getY());m=k.Hc(m.getX(),m.getY());this.N6.moveTo(m.getX(),m.getY());m=k.Hc(p.getX(),p.getY());this.N6.lineTo(m.getX(),m.getY());this.N1[l-1].Db(m);m=k.Hc(n.getX(),n.getY());this.N6.moveTo(m.getX(),m.getY());m=k.Hc(q.getX(),q.getY());this.N6.lineTo(m.getX(),m.getY());this.O1[l].Db(m)}}this.o_().dh();QT.prototype.update.call(this);this.o_().oa(this.Eqd()).oa(this.N1).oa(this.O1).removeChild([this.O1[0],
this.N1[this.getSize()-1]]);this.N6.va(this.o_().Ia());return this};c.prototype.hF=function(k){for(k=0;k<this.getSize();k++)this.N1[k].dispose(),this.O1[k].dispose();this.os.length=0;this.DF.length=0;this.qE.length=0;this.N1.length=0;this.O1.length=0;this.tb().Kc(null);return this.update()};c.prototype.fa=function(k){if(null==k)return this;this.N6.fa(k.cpline);QT.prototype.fa.call(this,k);this.tb().qa(null);return this};c.prototype.ia=function(){var k=QT.prototype.ia.call(this);k.cpline=this.N6.ia();
return k=xb(k,{handles:{controlpoint:this.Tqa.ia()}})};c.prototype.wIa=function(k){this.Tqa.fa(k.controlpoint);this.N1.forEach(function(l){l.fa(k.controlpoint)});this.O1.forEach(function(l){l.fa(k.controlpoint)})};c.prototype.intersect=function(k){if(2>this.getSize())return null;var l=this.wa(),m=k.Zd();k=this.Gm(k)?this.pW():this.zS();m=new U(m.getX()-k,m.getY()-k,m.getX()+k,m.getY()+k);for(k=1;k<this.getSize();k++){b.Ga(this.os[k-1]);d.Ga(this.DF[k-1]);e.Ga(this.qE[k]);f.Ga(this.os[k]);l.Ma(b,b);
l.Ma(d,d);l.Ma(e,e);l.Ma(f,f);var n=c.fwb(m,b,d,e,f);if(n)return l.hd(n.point,n.point),{index:k,t:n.t,x:n.point.x,y:n.point.y}}return null};c.prototype.oF=function(k){var l=this.getSize();this.Lw().clear();if(0<l&&null!=k&&!this.Hd()&&null==this.MM(k)&&0>=this.Ut(k)){var m=this.intersect(k);if(null!=m)m=this.lb().Hc(m.x,m.y),this.Kw().Db(m),this.bl().oa(this.Kw());else if(this.bl().removeChild(this.Kw()),0!==(this.Mo()&jT.EQ))if(m=this.lb(),k=this.Kd(this.ec(),k),1===l)m=m.Hc(this.os[0].getX(),this.os[0].getY()),
this.Lw().moveTo(m.getX(),m.getY()).lineTo(k.getX(),k.getY());else{var n=this.getSize()-1;m.Ma(this.os[n-1],b);m.Ma(this.os[n],d);var p=gh.e_([b.getX(),d.getX(),k.getX()],[b.getY(),d.getY(),k.getY()]);l=p.JV;var q=p.KV,r=p.gX;p=p.hX;var t=m.Ma(this.DF[n-1],b),u=m.Ma(this.os[n-1],d);m=m.Ma(this.os[n],e);this.Lw().moveTo(u.getX(),u.getY()).bezierCurveTo(t.getX(),t.getY(),r[0],p[0],m.getX(),m.getY()).bezierCurveTo(l[1],q[1],r[1],p[1],k.getX(),k.getY())}}else this.bl().removeChild(this.Kw());this.Lw().ha()};
c.prototype.getSize=function(){return this.os.length};c.prototype.ce=function(){return this.os.map(function(k){return k.getX()})};c.prototype.Fe=function(){return this.os.map(function(k){return k.getY()})};c.prototype.twa=function(k){return k===this.getSize()-1};c.fwb=function(k,l,m,n,p){var q=Math.min(l.getX(),m.getX(),n.getX(),p.getX()),r=Math.min(l.getY(),m.getY(),n.getY(),p.getY()),t=Math.max(l.getX(),m.getX(),n.getX(),p.getX())-q,u=Math.max(l.getY(),m.getY(),n.getY(),p.getY())-r;if(!k.Nd(q,r,
t,u))return null;if(k.ca()<t||k.da()<u){var w=l.getX(),y=l.getY();q=p.getX();r=p.getY();t=(w+m.getX())/2;u=(y+m.getY())/2;w=(m.getX()+(w+n.getX())/2)/2;var A=(m.getY()+(y+n.getY())/2)/2;y=(n.getX()+(q+m.getX())/2)/2;var x=(n.getY()+(r+m.getY())/2)/2,C=(q+n.getX())/2,z=(r+n.getY())/2,v=(w+y)/2,B=(A+x)/2;return(t=c.fwb(k,l,m.Ga(t,u),n.Ga(w,A),p.Ga(v,B)))?(t.t/=2,t):(k=c.fwb(k,l.Ga(v,B),m.Ga(y,x),n.Ga(C,z),p.Ga(q,r)))?(k.t=.5+k.t/2,k):null}return k.contains(l)?{point:l,t:0}:k.contains(p)?{point:p,t:1}:
null};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoibGUiLCJpc1N1cHBvcnRlZCI6IllwIiwic2V0Tm9kZSI6InpsIiwicmVzZXROb2RlIjoiaEYiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRFeHRyYUhhbmRsZXNQcm9wZXJ0aWVzIjoid0lhIiwidXBkYXRlUHJldmlldyI6Im9GIiwiZ2V0UG9pbnRzWCI6ImNlIiwiZ2V0UG9pbnRzWSI6IkZlIiwiaXNFbmRIYW5kbGUiOiJ0d2EifX19");var $ua=/*#__PURE__*/function(){function c(a){hb("geotoolkit.controls.tools.editors.Symbol is deprecated since 2021.1 (3.3) use geotoolkit.controls.tools.editors.SymbolEditor instead");LT.call(this,a)}D(c,LT);L(c,"geotoolkit.controls.tools.editors.Symbol");return c}();var WT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){var d;a instanceof YQ?d=a:null!=a&&null!=a.heatmap&&(d=a.heatmap);null!=b&&(hb("second argument in Highlight() is deprecated since 2021.1 (3.3), use first argument instead"),a=b);d&&(a=G(a,{name:"Highlight",heatmap:d,linestyle:new X},!0),b={},b.fillstyle=a.fillstyle,b.linestyle=a.linestyle,IR.call(this,a),this.sL=null,this.p7=a.heatmap,this.ww=(new ho(0,0,0,0)).fa(b),this.sm({pointermove:this.Ac.bind(this),"cg-enter":function(e){this.fireEvent(HR.gga,e)},"cg-leave":function(e){this.fireEvent(HR.Ry,
e);this.ww.ha();this.ww.sa(0,0,0,0)}.bind(this)}),this.p7.getParent()&&this.p7.getParent().oa(this.ww))}D(c,IR);L(c,"geotoolkit.controls.tools.HeatMap.Highlight");c.prototype.Ac=function(a){this.p7.getParent()!==this.ww.getParent()&&this.p7.getParent().oa(this.ww);if(this.p7.KZb()===XQ.mu&&this.p7.TWb()===XQ.mu){var b=a.Zd();a=this.p7.pa().la();var d=this.p7.pa().ka(),e=this.p7.SYb().offsetx,f=this.p7.SYb().offsety;if(b=this.p7.Li(b)){this.ww.ha();var g=b.getX();b=b.getY();this.ww.sa(g+a-e,b+a-f,
g+a-e+1,b+d-f+1)}}};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdXNlTW92ZSI6IkFjIn19fSAg");var XT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=xb(a,{editmode:jT.gB,mode:sT.Sha,mouseradius:3,touchradius:10,history:new lT(a&&a.layer)},!0);IR.call(this,{name:a.name||"paint",layer:a.layer,mouseradius:a.mouseradius,touchradius:a.touchradius,slots:{}});this.sm({pointerdown:this.Xc.bind(this),pointermove:[{callback:this.Ac.bind(this),object:null},{callback:this.Ac.bind(this),object:Za,enabled:!1}],pointerup:{callback:this.Oc.bind(this),object:Za},keydown:{callback:this.Uw.bind(this),object:Za},"cg-leave":this.Ry.bind(this)});
this.ql=this.te=null;this.xhc=a.editmode;this.vw={};this.l6c=this.RUa.bind(this);this.F4c=this.pBd.bind(this);this.slc=this.Oab.bind(this);this.wlc=this.qBd.bind(this);this.fa(a)}D(c,IR);L(c,"geotoolkit.controls.tools.Paint");kT.ya().register(new zT).register(new KT).register(new wT).register(new vT).register(new PT).register(new LT).register(new OT).register(new yT).register(new MT).register(new NT).register(new QT).register(new ST).register(new VT).register(new rT);c.prototype.Xc=function(a){this.AF=
a.Zd();null!=this.ql&&this.ql.isEnabled()&&this.ql.Xc(a)};c.prototype.Ac=function(a){null!=this.ql&&this.ql.isEnabled()&&this.ql.Ac(a)};c.prototype.Oc=function(a){null!=this.ql&&this.ql.isEnabled()&&this.ql.Oc(a);this.AF=null};c.prototype.Ry=function(a){null!=this.ql&&this.ql.isEnabled()&&this.ql.Ry(a)};c.prototype.Uw=function(a){var b=a.ye();if(!b.defaultPrevented)if(null!=this.ql&&this.ql.isEnabled())this.ql.Uw(a);else switch(b.keyCode){case Ac.Rf:if(!b.ctrlKey||!this.zea())break;this.AQ();a.stopPropagation(!0,
!0);break;case Ac.Ca:b.ctrlKey&&this.yea()&&(this.uga(),a.stopPropagation(!0,!0))}};c.prototype.update=function(){null!=this.ql&&this.ql.update();return this};c.prototype.setMode=function(a){if(this.te===a)return this;this.te=a;a=kT.ya().DA({mode:a,editmode:this.Mo(),mouseradius:this.zS(),touchradius:this.pW(),layer:this.ec(),history:this.rx});this.UD(a);this.rx.UD(a);return this};c.prototype.qp=function(){return this.te};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;IR.prototype.fa.call(this,
a);xb(a,this.vw);null!=a.history&&this.GKd(a.history);null!=this.ql&&this.ql.fa(a);null!=a.mode&&this.setMode(a.mode);null!=a.editmode&&this.TD(a.editmode);return this};c.prototype.ia=function(){return xb(this.vw,{})};c.prototype.AQ=function(){this.rx.AQ();return this};c.prototype.zea=function(){return this.rx.zea()};c.prototype.yea=function(){return this.rx.yea()};c.prototype.uga=function(){this.rx.uga();return this};c.prototype.TD=function(a){this.xhc=a;null!=this.ql&&this.ql.TD(a);return this};
c.prototype.Mo=function(){return this.xhc};c.prototype.Hb=function(){return this.ql?this.ql.tb():null};c.prototype.qid=function(a){this.Hb()!==a&&this.rx.UD(kT.ya().DA({node:a,editmode:this.Mo(),mouseradius:this.zS(),touchradius:this.pW(),history:this.rx,layer:this.ec()}));this.te=sT.$z;return this};c.prototype.UD=function(a){null!=this.ql&&this.ql.dispose();this.ql=a;if(null!=a){var b=a.Mo();a.addListener(iT.Ao,this.l6c).addListener(HR.aw,this.F4c).fa(this.vw).TD(b).$ga(this.pW()).Tga(this.zS())}this.fireEvent(iT.uYa,
new qT(null,{node:null!=a?a.tb():null,editor:a}));return this};c.prototype.DA=function(){return this.ql};c.prototype.clear=function(){null!=this.ql&&this.ql.hF();this.rx.clear();return this};c.prototype.qBd=function(a,b,d){d!==this.ql&&(this.UD(d),this.te=sT.$z)};c.prototype.pBd=function(a){this.setActive(a.Hd())};c.prototype.RUa=function(a,b){this.te!==sT.$z&&this.ec().removeChild(b.tb());this.fireEvent(iT.Ao,b)};c.prototype.Oab=function(a,b,d){this.fireEvent(d.vh()||a,new qT(null,{node:d.tb(),command:d}))};
c.prototype.Tga=function(a){IR.prototype.Tga.call(this,a);null!=this.ql&&this.ql.Tga(a);return this};c.prototype.$ga=function(a){IR.prototype.$ga.call(this,a);null!=this.ql&&this.ql.$ga(a);return this};c.prototype.GKd=function(a){if(null==a)return this;this.rx&&this.rx.za(iT.vha,this.slc).za(iT.uYa,this.wlc);this.rx=a.on(iT.vha,this.slc).on(iT.uYa,this.wlc);return this};c.prototype.V8a=function(){return this.rx};c.prototype.Mi=function(){null!=this.ql&&this.ql.Ob(this.isEnabled());IR.prototype.Mi.call(this)};
c.prototype.dispose=function(){null!=this.rx&&(this.rx.dispose(),this.rx=null);this.UD(null);this.vw=null;IR.prototype.dispose.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdXNlRG93biI6IlhjIiwib25Nb3VzZU1vdmUiOiJBYyIsIm9uTW91c2VVcCI6Ik9jIiwiZ2V0TW9kZSI6InFwIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwidW5kbyI6IkFRIiwiY2FuVW5kbyI6InplYSIsImNhblJlZG8iOiJ5ZWEiLCJyZWRvIjoidWdhIiwic2V0RWRpdE1vZGUiOiJURCIsImdldEVkaXRNb2RlIjoiTW8iLCJnZXRTaGFwZSI6IkhiIiwiZWRpdE5vZGUiOiJxaWQiLCJzZXRFZGl0b3IiOiJVRCIsImdldEVkaXRvciI6IkRBIiwib25Ob2RlQ3JlYXRlZCI6IlJVYSIsIm9uQ29tbWFuZEFwcGxpZWQiOiJPYWIiLCJzZXRNb3VzZVJhZGl1cyI6IlRnYSIsInNldFRvdWNoUmFkaXVzIjoiJGdhIiwiZ2V0SGlzdG9yeSI6IlY4YSIsIm9uRW5hYmxlZFN0YXRlQ2hhbmdlZCI6Ik1pIn19fSAg");var YT=/*#__PURE__*/va(/*#__PURE__*/{gfb:"DistanceChanged",gac:"AreaChanged",qza:"PositionChanged"},2,"eyJEaXN0YW5jZUNoYW5nZWQiOiJnZmIiLCJBcmVhQ2hhbmdlZCI6ImdhYyIsIlBvc2l0aW9uQ2hhbmdlZCI6InF6YSJ9");var ZT=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){d=xb(d,{name:"measure",measuremode:zS.Ipa,node:{fillstyle:{color:"rgba(100,100,100, .5)",evenoddmode:!0}},directionmode:TT.Bc,handles:{begin:a,middle:b,end:b}},!0);XT.call(this,d);this.setMode(d.measuremode)}var a={painter:new Ym([.2,1]),width:10,height:10,fillstyle:"white",linestyle:{color:"black",width:1.35}},b={painter:$m,fillstyle:"white",linestyle:{color:"black",width:1.35}};D(c,XT);L(c,"geotoolkit.controls.tools.Measure");c.prototype.D9=function(){return this.r2a===
zS.Ipa?this.DA().D9():[]};c.prototype.getArea=function(){return this.r2a===zS.DX?this.DA().getArea():null};c.prototype.l_=function(){return null==this.DA()?[]:this.r2a===zS.Ipa?this.DA().l_():this.DA().vD()};c.prototype.setMode=function(d){return this.fAb(d)};c.prototype.qp=function(){return this.nub()};c.prototype.fAb=function(d){if(this.r2a===d)return this;this.r2a=d;this.zJa();return this};c.prototype.nub=function(){return this.r2a};c.prototype.Ac=function(d){XT.prototype.Ac.call(this,d);if(null!=
this.DA()&&this.DA().isEnabled()&&0!==this.DA().Lw().Vd().getLength()){var e=this.Kd(this.ec(),d);e=this.nub()===zS.Ipa?this.DA().Grc(e.getX(),e.getY()):this.DA().Ecd(e.getX(),e.getY());null!=e&&this.fireEvent(YT.qza,new qT(d,{value:e}))}};c.prototype.Oc=function(d){var e=this.DA(),f=!e.Hd()&&e.E_(d);XT.prototype.Oc.call(this,d);d.mk()||(d.ye().button===Dc.$b||e.twa(e.MM())||f)&&e.TP()&&this.zJa()};c.prototype.TD=function(d){return XT.prototype.TD.call(this,d&jT.bfb)};c.prototype.ia=function(){var d=
XT.prototype.ia.call(this);d.editmode=this.Mo();return d};c.prototype.Mi=function(){this.isEnabled()||this.zJa();XT.prototype.Mi.call(this)};c.prototype.RUa=function(d,e){this.DA().zl(e.tb()).TD(this.Mo()&(jT.eKa|jT.wEb|jT.pYa));this.fireEvent(iT.Ao,e)};c.prototype.Oab=function(d,e,f){XT.prototype.Oab.call(this,d,e,f);d!==iT.Ao&&this.Twc(f.tb(),null,f)};c.prototype.UD=function(d){if(this.DA()===d)return this;null==d?this.zJa():(XT.prototype.UD.call(this,d),d.fa(this.ia()),this.Twc(d.tb(),d));return this};
c.prototype.zJa=function(){var d=this.Hb(),e={layer:this.ec(),editmode:this.Mo(),history:this.rx};this.V8a().clear();switch(this.qp()){case zS.Ipa:this.UD(new UT(e));break;case zS.DX:this.UD(new RT(e));break;default:return this}null!=d&&d.dispose();return this};c.prototype.Twc=function(d,e,f){this.nub()===zS.Ipa?this.fireEvent(YT.gfb,new qT(null,{node:d,editor:e,command:f,distances:this.D9()})):this.fireEvent(YT.gac,new qT(null,{node:d,editor:e,command:f,value:this.getArea()}))};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXREaXN0YW5jZXMiOiJEOSIsImdldExhYmVscyI6ImxfIiwiZ2V0TW9kZSI6InFwIiwic2V0TWVhc3VyZU1vZGUiOiJmQWIiLCJnZXRNZWFzdXJlTW9kZSI6Im51YiIsIm9uTW91c2VNb3ZlIjoiQWMiLCJvbk1vdXNlVXAiOiJPYyIsInNldEVkaXRNb2RlIjoiVEQiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJvbkVuYWJsZWRTdGF0ZUNoYW5nZWQiOiJNaSIsIm9uTm9kZUNyZWF0ZWQiOiJSVWEiLCJvbkNvbW1hbmRBcHBsaWVkIjoiT2FiIiwic2V0RWRpdG9yIjoiVUQifX19");var $T=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d){PR.call(this,a);this.th=b;this.lad=!0===d}D(c,PR);L(c,"geotoolkit.controls.tools.PanningEventArgs");c.prototype.rUa=function(){return this.lad};c.prototype.vl=function(){return this.th};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc1doZWVsIjoiclVhIiwiZ2V0RGlyZWN0aW9uIjoidmwifX19");var aU=/*#__PURE__*/va(/*#__PURE__*/{sHa:"onPanningStart",MD:"onPanning",boa:"onPanningEnd",Lq:"onDoubleClick"},2,"eyJvblBhbm5pbmdTdGFydCI6InNIYSIsIm9uUGFubmluZyI6Ik1EIiwib25QYW5uaW5nRW5kIjoiYm9hIiwib25Eb3VibGVDbGljayI6IkxxIn0g"),bU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(h){return 0===h?0:0>h?-1:1}function a(h){null==h&&(h={});h=G(h,{wheelratio:"number"===typeof h.wheelratio?h.wheelratio:.05,name:"string"===typeof h.name?h.name:"panning",acceptx:null!=h.acceptx?h.acceptx:!1,panningthreshold:g});IR.call(this,void 0,h.name);this.sm({pointerdown:this.Xc.bind(this),pointermove:[{callback:this.Ac.bind(this),object:null},{callback:this.Ac.bind(this),object:Za,enabled:!1}],
pointerup:{callback:this.Oc.bind(this),object:Za},wheel:this.zp.bind(this),dblclick:this.zhd.bind(this)});this.phc=this.$Na=!1;this.f1a=0;this.q2=this.ELb=this.th=null;this.Jjc=this.zd=this.Vc=0;this.pJ=null;this.Fpb=h.wheelratio;this.DGb=h.acceptx;this.qmc=h.panningthreshold;null!=h.inertiacoef&&this.H6b(h.inertiacoef)}var b=25,d=250,e=5,f=30,g=0;D(a,IR);L(a,"geotoolkit.controls.tools.Panning");a.Ja=aU;a.prototype.MWc=function(h){h=this.jga(h);this.Vc=h.x;this.zd=h.y;return this};a.prototype.start=
function(h){this.MWc(h);this.setActive(!0);return this};a.prototype.stop=function(){this.setActive(!1);return this};a.prototype.Eed=function(h){this.MWc(h);return this};a.prototype.vl=function(h){var k=this.jga(h);h=k.x;k=k.y;return{x:h-this.Vc,y:k-this.zd,start:{x:this.Vc,y:this.zd},end:{x:h,y:k}}};a.prototype.Tx=function(h,k){null!=this.pJ&&this.removeListener(a.Ja.MD,this.pJ);this.pJ=function(l,m){m=m.vl();var n=h.wa().hd(new M(0,0));m=h.wa().hd(new M(m.x,m.y));l=m.x-n.x;m=m.y-n.y;null==k?h.translate(l,
m):k.call(h,l,m)};this.addListener(a.Ja.MD,this.pJ);return this};a.prototype.zp=function(h){var k=h.ye();k.preventDefault();var l=!1===this.DGb?0:k.deltaY;k=k.deltaY;this.Ahd(h,l,k)};a.prototype.bkd=function(){return this.DGb};a.prototype.o5b=function(h){this.DGb=h;return this};a.prototype.pvd=function(){return this.Fpb};a.prototype.ETc=function(h){this.Fpb=h;return this};a.prototype.Ahd=function(h,k,l){var m=h.tb();if(null!=m){this.E5();var n=this.jga(h);m=m.vb();k=-1*c(k)*m.ca()*this.Fpb;l=-1*c(l)*
m.da()*this.Fpb;n={x:k,y:l,start:{x:n.x,y:n.y},end:{x:n.x+k,y:n.y+l}};this.zjd(h,n)}};a.prototype.zjd=function(h,k){this.fireEvent(a.Ja.sHa,new $T(h,null));this.fireEvent(a.Ja.MD,new $T(h,k,!0));this.fireEvent(a.Ja.boa,new $T(h,null))};a.prototype.yjd=function(h){this.fireEvent(a.Ja.sHa,new $T(h,null))};a.prototype.Uwc=function(h){!0!==this.phc&&(0!==this.f1a&&null!=h&&h.ye().timeStamp-this.Jjc<d?this.xjd(h):this.fireEvent(a.Ja.boa,new $T(h,null)))};a.prototype.xjd=function(h){this.ELb=h;var k=1,
l=Date.now();h=this.jga(h);var m={x:0,y:0,start:{x:h.x,y:h.y},end:{x:0,y:0}};if(Math.abs(this.th.x)>f||Math.abs(this.th.y)>f)h=f/Math.max(Math.abs(this.th.x),Math.abs(this.th.y)),this.th.x*=h,this.th.y*=h,this.th.end.x=this.th.start.x+this.th.x,this.th.end.y=this.th.start.y+this.th.y;var n=function(){var p=Date.now()-l;p=Math.ceil(p/b);p=Math.pow(this.f1a,p);var q=(1-p)/(1-this.f1a);m.x=Math.round(this.th.x*k*q);m.y=Math.round(this.th.y*k*q);k*=p;this.th.x*=k;this.th.y*=k;m.end.x=m.start.x+m.x;m.end.y=
m.start.y+m.y;1<=Math.abs(m.x)||1<=Math.abs(m.y)?(this.fireEvent(a.Ja.MD,new $T(null,m)),m.start.x=m.end.x,m.start.y=m.end.y,l=Date.now(),this.q2=setTimeout(n,b)):(this.q2=null,this.fireEvent(a.Ja.boa,new $T(this.ELb,null)))}.bind(this);this.q2=setTimeout(n,b)};a.prototype.Xc=function(h){if(null==h.ye().buttons||h.ye().buttons===Cc.kc)this.E5(),this.start(h)};a.prototype.Ob=function(h){!1===h&&this.E5();return IR.prototype.Ob.call(this,h)};a.prototype.Ac=function(h){if(this.Hd())if(h.ye().buttons===
Cc.Bc)this.stop(),this.$Na&&(this.Uwc(h),this.$Na=!1);else{var k=this.vl(h);if(!this.$Na){var l="touchmove"===h.vh()||"pointermove"===h.vh()&&"touch"===h.ye().pointerType?e:this.qCc();if(Math.abs(k.x)<=l&&Math.abs(k.y)<=l)return;this.phc=!0===h.ye().ctrlKey;this.yjd(h);this.$Na=!0}this.Eed(h);h.stopPropagation(!0);0===k.x&&0===k.y||this.fireEvent(a.Ja.MD,new $T(h,k));0!==this.f1a&&this.Hd()&&(this.th=k,this.Jjc=h.ye().timeStamp)}};a.prototype.Oc=function(h){this.stop();this.$Na&&(null!=h&&h.stopPropagation(!0),
this.Uwc(h),this.$Na=!1)};a.prototype.zhd=function(h){this.isEnabled()&&this.fireEvent(a.Ja.Lq,new $T(h,null));return this};a.prototype.H6b=function(h){this.f1a=!0===h?.99:0<h&&1>h?h:0;return this};a.prototype.E5=function(){null!=this.q2&&(clearTimeout(this.q2),this.q2=null,this.fireEvent(a.Ja.boa,new $T(this.ELb,null)));return this};a.prototype.dispose=function(){null!=this.q2&&(clearTimeout(this.q2),this.q2=null);IR.prototype.dispose.call(this)};a.prototype.setActive=function(h){!1===h&&null!=this.q2&&
(clearTimeout(this.q2),this.q2=null);return IR.prototype.setActive.call(this,h)};a.prototype.On=function(h){this.Wr("pointermove",!h);this.Wr("pointermove",h,Za);return this};a.prototype.lMd=function(h){this.qmc=Math.max(0,h);return this};a.prototype.qCc=function(){return this.qmc};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXREaXJlY3Rpb24iOiJ2bCIsInNldFRhcmdldCI6IlR4IiwiZ2V0QWNjZXB0WCI6ImJrZCIsInNldEFjY2VwdFgiOiJvNWIiLCJnZXRXaGVlbFJhdGlvIjoicHZkIiwic2V0V2hlZWxSYXRpbyI6IkVUYyIsInNldEVuYWJsZWQiOiJPYiIsInNldEluZXJ0aWEiOiJINmIiLCJzdG9wSW5lcnRpYSI6IkU1Iiwic2V0V2luZG93RXZlbnRzRW5hYmxlZCI6Ik9uIiwic2V0UGFubmluZ1RocmVzaG9sZCI6ImxNZCIsImdldFBhbm5pbmdUaHJlc2hvbGQiOiJxQ2MifX19");var cU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d){PR.call(this,a);this.CF=d;this.Ov=b}D(c,PR);L(c,"geotoolkit.controls.tools.PolygonSelectionEventArgs");c.prototype.y9=function(){return this.CF};c.prototype.getSelection=function(){return this.Ov};c.prototype.wt=function(a){this.Ov=a;return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb29yZGluYXRlcyI6Ink5Iiwic2V0U2VsZWN0aW9uIjoid3QifX19");var dU=/*#__PURE__*/va(/*#__PURE__*/{cxa:"onSelectionEnd",Rx:"onSelectionChanged",tea:"beforeSelectionChange"},2,"eyJvblNlbGVjdGlvbkVuZCI6ImN4YSIsIm9uU2VsZWN0aW9uQ2hhbmdlZCI6IlJ4IiwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlIjoidGVhIn0g"),eU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(h){h=xb(h,{name:"polygon-selection",layer:h instanceof Th?h:null,node:{fillstyle:e,linestyle:d},preview:{linestyle:{color:"red",width:1,pattern:[2,3]}},handles:{begin:f,middle:g,end:g}},!0);XT.call(this,h);this.u2=!1;this.Ug=new bk;this.gV=[];this.oz=null;this.TQ=!1;this.iO=!0;this.UD(new QT({layer:this.ec(),editmode:jT.bfb,history:this.rx}))}var a="rgba(100,100,100, .5)",b="black",d=new X({color:b,
width:1,pattern:[2,3],pixelsnapmode:{x:!0,y:!0}}),e=new rf({color:a,evenoddmode:!0});a=new X("rgba(255,0,0,1)",2);var f={painter:new Ym([.2,1]),width:10,height:10,fillstyle:"white",linestyle:a},g={painter:$m,fillstyle:"white",linestyle:a};D(c,XT);L(c,"geotoolkit.controls.tools.PolygonSelection");c.Ja=dU;c.prototype.selection=function(h){for(var k=h.tb(),l=k.ce(),m=k.Fe(),n=[],p=[],q=new M(0,0),r=0;r<l.length;r++)q.Ga(l[r],m[r]),q=this.vJa(q),n[r]=q.getX(),p[r]=q.getY();l=this.Ug.select(k.getRoot(),
n,p,this.TQ,this.iO);this.aUa(l,k,h);return this};c.prototype.vJa=function(h){return null!=this.$a?this.$a.wa().Ma(h):h};c.prototype.aUa=function(h,k,l){h=null!=this.oz?this.oz.call(this,h):h;l=new cU(l,h,{x:k.ce(),y:k.Fe()});this.fireEvent(c.Ja.cxa,l);this.wt(l.getSelection(),k)};c.prototype.wt=function(h,k){this.ATb(this.gV,h)||(this.fireEvent(c.Ja.tea,new cU(null,this.gV,{x:k.ce(),y:k.Fe()})),this.gV=h,this.Dna()&&this.Ob(!1),this.fireEvent(c.Ja.Rx,new cU(null,this.gV,{x:k.ce(),y:k.Fe()})));return this};
c.prototype.ATb=function(h,k){if(!(h&&k&&h instanceof Array&&k instanceof Array)||h.length!==k.length)return!1;for(var l=0;l<h.length;l++)if(h[l]instanceof Array&&k[l]instanceof Array){if(!h[l].equals(k[l]))return!1}else if(h[l]!==k[l])return!1;return!0};c.prototype.getSelection=function(){return this.gV};c.prototype.bB=function(h){this.oz=h;return this};c.prototype.bcb=function(h){this.TQ=h;return this};c.prototype.tsb=function(){return this.TQ};c.prototype.Toa=function(h){if(this.iO===h)return this;
this.iO=h;this.Hb().fb().Toa(h);return this};c.prototype.ZJ=function(){return this.iO};c.prototype.oaa=function(h){this.u2=h;return this};c.prototype.Dna=function(){return this.u2};c.prototype.TD=function(h){return XT.prototype.TD.call(this,h&jT.bfb)};c.prototype.RUa=function(h,k){this.selection(k);this.ded(k.tb());this.fireEvent(iT.Ao,k)};c.prototype.ded=function(h){var k={layer:this.ec(),editmode:this.Mo(),history:this.rx};this.V8a().clear();this.UD(new QT(k));null!=h&&h.dispose()};c.prototype.Mi=
function(){this.isEnabled()||this.ql.hF();XT.prototype.Mi.call(this)};c.prototype.ra=function(h,k){this.Hb().ra(h,k);return this};c.prototype.Ea=function(){return this.Hb().Ea()};c.prototype.qa=function(h,k){this.Hb().qa(h,k);return this};c.prototype.sNd=function(h,k){hb("geotoolkit.controls.tools.PolygonSelection.setSymbolLineStyle is deprecated since 2021.1 (3.3). Use geotoolkit.controls.tools.PolygonSelection.setProperties instead.");this.fa({handles:{begin:{linestyle:h},middle:{linestyle:h},end:{linestyle:h}}});
return this};c.prototype.Ptd=function(){hb("geotoolkit.controls.tools.PolygonSelection.getSymbolLineStyle is deprecated since 2021.1 (3.3). Use geotoolkit.controls.tools.PolygonSelection.getProperties instead.");return this.ia().handles.begin.linestyle};c.prototype.qNd=function(h,k){hb("geotoolkit.controls.tools.PolygonSelection.setSymbolFillStyle is deprecated since 2021.1 (3.3). Use geotoolkit.controls.tools.PolygonSelection.setProperties instead.");this.fa({handles:{begin:{fillstyle:h},middle:{fillstyle:h},
end:{fillstyle:h}}});return this};c.prototype.xNd=function(h){hb("geotoolkit.controls.tools.PolygonSelection.setSymbolVisibility is deprecated since 2021.1 (3.3). Use geotoolkit.controls.tools.PolygonSelection.setProperties instead.");this.fa({handles:{begin:{visible:h},middle:{visible:h},end:{visible:h}}});return this};c.prototype.hNd=function(h){hb("geotoolkit.controls.tools.PolygonSelection.setStartLineVisibility is deprecated since 2021.1 (3.3). Use geotoolkit.controls.tools.PolygonSelection.setProperties instead.");
this.fa({preview:{visible:h}});return this};c.prototype.BNd=function(h){hb("geotoolkit.controls.tools.PolygonSelection.setTextVisibility is deprecated since 2021.1 (3.3).");return this};c.prototype.ib=function(h,k){hb("geotoolkit.controls.tools.PolygonSelection.setTextStyle is deprecated since 2021.1 (3.3).");return this};c.prototype.Crd=function(){hb("geotoolkit.controls.tools.PolygonSelection.getPolygon is deprecated since 2021.1 (3.3). Use geotoolkit.controls.tools.PolygonSelection.getShape instead.");
return this.Hb()};c.prototype.bGd=function(){hb("geotoolkit.controls.tools.PolygonSelection.removeLastPoint is deprecated since 2021.1 (3.3).");return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXROb2RlRmlsdGVyIjoiYkIiLCJzZXRBbGxvd0ludGVyc2VjdGlvbiI6ImJjYiIsImdldEFsbG93SW50ZXJzZWN0aW9uIjoidHNiIiwic2V0RXZlbk9kZE1vZGUiOiJUb2EiLCJnZXRFdmVuT2RkTW9kZSI6IlpKIiwic2V0QXV0b0Rpc2FibGVkIjoib2FhIiwiaXNBdXRvRGlzYWJsZWQiOiJEbmEiLCJzZXRFZGl0TW9kZSI6IlREIiwib25Ob2RlQ3JlYXRlZCI6IlJVYSIsIm9uRW5hYmxlZFN0YXRlQ2hhbmdlZCI6Ik1pIiwic2V0TGluZVN0eWxlIjoicmEiLCJnZXRMaW5lU3R5bGUiOiJFYSIsInNldEZpbGxTdHlsZSI6InFhIiwic2V0U3ltYm9sTGluZVN0eWxlIjoic05kIiwiZ2V0U3ltYm9sTGluZVN0eWxlIjoiUHRkIiwic2V0U3ltYm9sRmlsbFN0eWxlIjoicU5kIiwic2V0U3ltYm9sVmlzaWJpbGl0eSI6InhOZCIsInNldFN0YXJ0TGluZVZpc2liaWxpdHkiOiJoTmQiLCJzZXRUZXh0VmlzaWJpbGl0eSI6IkJOZCIsInNldFRleHRTdHlsZSI6ImliIiwiZ2V0UG9seWdvbiI6IkNyZCIsInJlbW92ZUxhc3RQb2ludCI6ImJHZCJ9fX0g");var fU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){hb("geotoolkit.controls.tools.PolygonToolEventArgs is deprecated since 2021.1 (3.3). Use geotoolkit.controls.tools.PolygonSelectionEventArgs instead.");PR.call(this,a);this.CF=b}D(c,PR);L(c,"geotoolkit.controls.tools.PolygonToolEventArgs");c.prototype.y9=function(){return this.CF};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb29yZGluYXRlcyI6Ink5In19fSAg");var gU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){PR.call(this,a);this.Qg=null;this.dnc=!1}D(c,PR);c.prototype.Tx=function(a){this.Qg=a;return this};c.prototype.vG=function(){return this.Qg};c.prototype.reject=function(a){null==a&&(a=!0);this.dnc=a;return this};c.prototype.vwb=function(){return this.dnc};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRUYXJnZXQiOiJUeCIsImdldFRhcmdldCI6InZHIiwiaXNSZWplY3RlZCI6InZ3YiJ9fX0g");var hU=/*#__PURE__*/function(){function c(a,b){PR.call(this,a);this.qB=b}D(c,PR);L(c,"geotoolkit.controls.tools.RubberBandEventArgs");c.prototype.getArea=function(){return this.qB};return c}();var iU=/*#__PURE__*/va(/*#__PURE__*/{ZP:"onZoomStart",ov:"onZoomEnd",coa:"onRangeChanged"},2,"eyJvblpvb21TdGFydCI6IlpQIiwib25ab29tRW5kIjoib3YiLCJvblJhbmdlQ2hhbmdlZCI6ImNvYSJ9"),jU=/*#__PURE__*/va(/*#__PURE__*/{qcc:0,wec:1},2,"eyJIYXJkIjoicWNjIiwiU21hcnQiOiJ3ZWMifSAg"),kU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d,e){d=G(d,{slots:{},layer:d instanceof Th?d:null,name:"rubberband",mode:e});IS.call(this,d);this.sm({pointerdown:this.Xc.bind(this),pointermove:[{callback:this.Ac.bind(this),object:null},{callback:this.Ac.bind(this),object:Za,enabled:!1}],pointerup:[{callback:this.Oc.bind(this),object:null},{callback:this.Oc.bind(this),object:Za.document,enabled:!1}]});this.Ob(!1);this.u2=!0;this.CGb=!1;this.U2=
null;this.Nlb=new Vd(0,0);this.Bkc=!1;this.IMb=jU.qcc;this.cD=(new ho(new U(0,0,0,0))).va(!1).ra((new X(a,1,[2,3])).Mg({x:!0,y:!0})).qa(new rf(b));null!=this.$a&&this.$a.oa(this.cD);this.$Ba=this.Qg=null;this.rQa=new M;this.bEa=new M}var a="#bdbdbd",b="rgba(189,189,189,0.5)";D(c,IS);L(c,"geotoolkit.controls.tools.RubberBand");c.prototype.rX=function(d){this.Gl=null;null!=this.$a&&this.$a.removeChild(this.cD);this.$a=d;null!=this.$a&&this.$a.oa(this.cD);return this};c.Ja=iU;c.prototype.On=function(d){this.Wr("pointermove",
d,Za);this.Wr("pointerup",d,Za.document)};c.prototype.sLd=function(d,e){this.Bkc=null==e?!1:e;this.Nlb=d;return this};c.prototype.hqd=function(){return this.Nlb};c.prototype.tLd=function(d){this.IMb=d;return this};c.prototype.iqd=function(){return this.IMb};c.n1c=jU;c.prototype.setMode=function(d){return this.YRc(d)};c.prototype.akd=function(){return this.CGb};c.prototype.nNc=function(d){this.CGb=d;return this};c.prototype.PRc=function(d){this.U2=d;return this};c.prototype.psd=function(){return this.U2};
c.prototype.oaa=function(d){this.u2=d;return this};c.prototype.Dna=function(){return this.u2};c.prototype.qp=function(){return this.dDc()};c.prototype.Xc=function(d){var e=this.Gm(d)?Cc.kc:d.ye().buttons;0!==(e&this.SFa())&&(this.setActive(!0),this.On(!0),this.rQa=this.ed=this.Kd(this.$a,d))};c.prototype.Oc=function(d){if(this.Hd()&&(this.setActive(!1),this.On(!1),!1!==this.cD.Ia())){this.cD.va(!1);this.$Ba&&this.$Ba.va(!1);var e=new U(this.rQa.x,this.rQa.y,this.bEa.x,this.bEa.y);e.isEmpty()&&!1===
this.CGb||(d.stopPropagation(!0),this.qp()!==HS.Feb&&(e=this.XEc(e,this.rQa,this.bEa)),this.fireEvent(c.Ja.coa,new hU(d,e)),this.fireEvent(c.Ja.ov,new hU(d,e)),this.Dna()&&this.Ob(!1))}};c.prototype.Tx=function(d){this.Qg=d;this.Gl=this.$Ba=null;return this};c.prototype.ec=function(){return this.Gl&&this.Gl.ec()||this.$a};c.prototype.Ac=function(d){if(this.Hd()){var e=this.Kd(this.$a,d);if(!1===this.cD.Ia()){var f=this.$a&&this.$a.wa()||W.Xj;f=f.Hc(this.ed.getX(),this.ed.getY());if(f.Ew(d.Zd(),this.lSa(d)))return;
this.fireEvent(c.Ja.ZP,new hU(d,null))}f=this.ed;var g=e;null!=this.U2&&!1===this.U2.contains(g)&&(g.getX()<this.U2.la()&&g.setX(this.U2.la()),g.getX()>this.U2.na()&&g.setX(this.U2.na()),g.getY()<this.U2.ka()&&g.setY(this.U2.ka()),g.getY()>this.U2.ma()&&g.setY(this.U2.ma()));if(this.Qg){this.Gl=this.Z9a(this.Qg,!1,!0);var h=this.Gl.ec();h.oa(this.cD);if(this.qp()===HS.Y5&&this.Gl.OHc()){this.$Ba||(this.$Ba=this.cD.clone().qa(null).ra((new X("red",2)).Mg({x:!0,y:!0})),this.$a.oa(this.$Ba));var k=new U(Math.min(this.ed.x,
this.en.x),Math.min(this.ed.y,this.en.y),Math.max(this.ed.x,this.en.x),Math.max(this.ed.y,this.en.y));this.$Ba.cb(k).va(!0);k=this.Gl.intersect(k);this.rQa=this.Gl.Udb(k.bd());this.bEa=this.Gl.Udb(k.nf())}else this.rQa=this.Gl.Udb(this.Gl.Vdb(this.ed)),this.bEa=this.Gl.Udb(this.Gl.Vdb(e))||this.bEa;f=this.Gl.Vdb(f);g=this.Gl.Vdb(g)}else this.bEa=e;this.en=e;if(!k){if(!f||!g)return;this.Trc(f,g);k=new U(Math.min(f.x,g.x),Math.min(f.y,g.y),Math.max(f.x,g.x),Math.max(f.y,g.y));this.qp()!==HS.Feb&&(k=
this.XEc(k,f,g))}this.cD.cb(k).va(!0);d.stopPropagation(!0);this.fireEvent(c.Ja.coa,new hU(d,k))}};c.prototype.XEc=function(d,e,f){var g=this.Nlb.ca(),h=this.Nlb.da();if(this.Bkc){var k=this.$a.wa();g=Hd.qb(g,0,k);h=Hd.qb(0,h,k)}this.IMb===jU.wec?(e=d.getCenter(),d.ca()<g&&(d.setX(e.getX()-g/2),d.Ra(g)),d.da()<h&&(d.setY(e.getY()-h/2),d.Ya(h))):(d.ca()<g&&(e.x<f.x?d.setX(e.x):d.setX(e.x-g),d.Ra(g)),d.da()<h&&(e.y<f.y?d.setY(e.y):d.setY(e.y-h),d.Ya(h)));return d};c.prototype.ra=function(d,e){this.cD.ra(d,
e);return this};c.prototype.qa=function(d,e){this.cD.qa(d,e);return this};c.prototype.xt=function(d){null!=d.enabled&&this.Ob(d.enabled);null!=d.linestyle&&this.ra(d.linestyle);null!=d.fillstyle&&this.qa(d.fillstyle);null!=d.autodisabled&&this.oaa(d.autodisabled);null!=d.acceptemptyrect&&this.nNc(d.acceptemptyrect);null!=d.restrictionarea&&this.PRc(d.restrictionarea);return this};c.prototype.dispose=function(){this.cD.dispose();IS.prototype.dispose.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRNaW5EaW1lbnNpb24iOiJzTGQiLCJnZXRNaW5EaW1lbnNpb24iOiJocWQiLCJzZXRNaW5EaW1lbnNpb25Nb2RlIjoidExkIiwiZ2V0TWluRGltZW5zaW9uTW9kZSI6ImlxZCIsImdldEFjY2VwdEVtcHR5UmVjdCI6ImFrZCIsInNldEFjY2VwdEVtcHR5UmVjdCI6Im5OYyIsInNldFJlc3RyaWN0aW9uQXJlYSI6IlBSYyIsImdldFJlc3RyaWN0aW9uQXJlYSI6InBzZCIsInNldEF1dG9EaXNhYmxlZCI6Im9hYSIsImlzQXV0b0Rpc2FibGVkIjoiRG5hIiwiZ2V0TW9kZSI6InFwIiwic2V0VGFyZ2V0IjoiVHgiLCJnZXRNYW5pcHVsYXRvckxheWVyIjoiZWMiLCJzZXRMaW5lU3R5bGUiOiJyYSIsInNldEZpbGxTdHlsZSI6InFhIiwic2V0U2V0dGluZ3MiOiJ4dCJ9fX0g");var mU=/*#__PURE__*/va(/*#__PURE__*/{LT:"disabled",hu:"default",JI:"custom"},2,"eyJEaXNhYmxlZCI6IkxUIiwiRGVmYXVsdCI6Imh1IiwiQ3VzdG9tIjoiSkkifSAg"),nU=/*#__PURE__*/KR,oU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){hb("CompactBaseScroll and inheritors is deprecated since 2020.1 (3.1) Use HVBaseScroll instead");null==a&&(a={});a=G(a,{name:null!=a.name?a.name:"CompactBaseScroll",modellimits:a.modellimits instanceof U?a.modellimits:new U(0,0,1,1),visiblelimits:a.visiblelimits instanceof U?a.visiblelimits:new U(0,0,1,1),options:null!=a.options?a.options:{}});LR.call(this,{name:a.name});this.Ufc=c.PXa.hu;this.Vfc=0;this.anb=!1;this.le();
this.Ha(a.modellimits,a.visiblelimits);this.setOptions(a.options);this.XT=!1;this.Ug=new bk;this.Ed=null;this.ed=new M(0,0);this.Mh=new M(0,0);this.BJ=null}D(c,LR);L(c,"geotoolkit.controls.tools.scroll.CompactBaseScroll");c.PXa=mU;c.Ja=nU;c.prototype.setOptions=function(a){null==a&&(a={});this.ea=xb(a,this.ea);this.Ay=this.ea.minhandle;this.VC=this.ea.maxhandle;null!=this.ea.manipulation&&(null!=this.ea.manipulation.type&&(this.Ufc=this.ea.manipulation.type),null!=this.ea.manipulation.threshold&&
(this.Vfc=this.ea.manipulation.threshold));a=this.ea.minscrollbutton;var b=this.ea.maxscrollbutton,d=this.ea.minscrollbutton.caret,e=this.ea.maxscrollbutton.caret;this.usa.dh().va(a.visible).Yc(!0).oa([(new ci).ra(a.linestyle).qa(a.fillstyle).ug(!1),d]);this.RBa.dh().va(b.visible).Yc(!0).oa([(new ci).ra(b.linestyle).qa(b.fillstyle).ug(!1),e]);a=!0===this.ea.scrollbar.autohide?this.Cy.Ia():this.ea.scrollbar.visible;this.nA.dh().va(this.ea.scrolltrack.visible).oa([(new ci).ra(this.ea.scrolltrack.linestyle).qa(this.ea.scrolltrack.fillstyle).W_({top:!0,
left:!1,right:!1,bottom:!0}).ug(!1),this.Cy.dh().va(this.ea.scrollbar.visible).oa([(new ci).ra(this.ea.scrollbar.linestyle).qa(this.ea.scrollbar.fillstyle).va(this.ea.scrollbar.visible).W_({top:!0,left:!0,right:!0,bottom:!0}).ug(!1)]),this.Ay,this.VC]);this.U7b(a);return this};c.prototype.ta=function(){return this.ea};c.prototype.le=function(){this.usa=new oi;this.RBa=new oi;this.nA=new oi;this.Cy=new oi;this.Ay=this.ea.minhandle;this.VC=this.ea.maxhandle;this.oa([this.usa,this.RBa,this.nA])};c.prototype.MEc=
function(){return this.Cy};c.prototype.Ha=function(a,b){this.nA.Ha(a);this.Cy.sa(b).Ha(b);return this};c.prototype.U7b=function(a){var b=[this.Ay,this.VC,this.Cy];b.forEach(function(d){null!=d&&"function"===typeof d.va&&d.va(a)});return this};c.prototype.jQ=function(a,b){var d=a.Zd();a=(a=this.Ec().Gm(a))?this.jM:this.rJ;var e=null;if(!1===this.YJ().Uc(a,a).contains(d))return e;d=this.Ug.select(this.getRoot(),d.getX(),d.getY(),a);d.filter(function(f){return f===this.Ay||f===this.VC||f===this.usa||
f===this.RBa||f===this.Cy||!b&&f===this.nA}.bind(this)).forEach(function(f){f===this.Ay||f===this.VC||f===this.usa||f===this.RBa||f===this.Cy?e=f:b||null!=e||f!==this.nA||(e=f)}.bind(this));return e};c.prototype.mWc=function(a,b){if(null!=this.Ay&&null!=this.Ay.ga()){a=b?a.ca():a.da();switch(this.Ufc){case c.PXa.LT:this.ZLa=!1;break;case c.PXa.hu:var d=this.Ay.ga();b=b?d.ca():d.da();this.ZLa=a<3*b;break;case c.PXa.JI:d=this.Cy.wa().rc(),b=b?d.pb():d.Ab(),d=this.Vfc,this.ZLa=a<d*b}this.ZLa&&!this.anb?
(this.a9c=this.Ay.Qr(),this.$8c=this.VC.Qr(),this.Ay.ug(!0),this.VC.ug(!0)):this.ZLa&&this.anb?(this.Ay.ug(!this.Ay.Qr()),this.VC.ug(!this.VC.Qr())):!this.ZLa&&this.anb&&(this.Ay.ug(this.a9c),this.VC.ug(this.$8c));this.anb=this.ZLa}};c.prototype.z9=function(){return 10};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJnZXRWaXNpYmxlTW9kZWwiOiJNRWMiLCJzZXRNb2RlbExpbWl0cyI6IkhhIiwidXBkYXRlTWluaW11bVNjcm9sbE1vZGUiOiJtV2MiLCJnZXREZXNpcmVkU2l6ZSI6Ino5In19fSAg");var qU=/*#__PURE__*/KR,rU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(g){function h(p,q,r){p=n.Th?[q.ma(),q.ka(),q.ka()]:[q.ka()+Math.abs(q.da()/2),q.ka(),q.ma()];q=n.Th?[q.la()+Math.abs(q.ca()/2),q.la(),q.na()]:[q.na(),q.la(),q.la()];r.Sj(q,p);r.stroke();r.xi()}function k(p,q,r){p=n.Th?[q.ka(),q.ma(),q.ma()]:[q.ka()+Math.abs(q.da()/2),q.ka(),q.ma()];q=n.Th?[q.la()+Math.abs(q.ca()/2),q.la(),q.na()]:[q.la(),q.na(),q.na()];r.Sj(q,p);r.stroke();r.xi()}function l(p,q,r){p=n.Th?Hd.qb(0,.5,r.Fa()):0;var t=n.Th?0:Hd.qb(.5,0,r.Fa()),u=n.Th?
0:-Math.PI/2,w=n.Th?Math.PI:Math.PI/2;r.Fx(q.la()-t,q.ka()-p,q.ca()-2*t,q.da()-2*p,u,w)}function m(p,q,r){p=n.Th?Hd.qb(0,.5,r.Fa()):0;var t=n.Th?0:Hd.qb(.5,0,r.Fa()),u=n.Th?Math.PI:Math.PI/2,w=n.Th?0:-Math.PI/2;r.Fx(q.la()+t,q.ka()+p,q.ca()-2*t,q.da()-2*p,u,w)}var n=this;null==g&&(g={});this.Th=g.isVertical;this.ea={resizable:!0,minhandle:new Nm({painter:m,linestyle:b.clone(),fillstyle:d.clone(),width:10,height:10,alignment:O.Na,ax:0,ay:0,sizeIsInDeviceSpace:!0}),maxhandle:new Nm({painter:l,linestyle:b.clone(),
fillstyle:d.clone(),width:10,height:10,alignment:O.Na,ax:0,ay:0,sizeIsInDeviceSpace:!0}),minscrollbutton:{visible:!0,size:15,linestyle:b.clone(),fillstyle:f.clone(),caret:new Nm({painter:k,linestyle:e.clone(),fillstyle:d.clone(),width:5,height:this.Th?5:6,alignment:this.Th?O.Ld:O.vd,ax:this.Th?2:0,ay:this.Th?0:5,sizeIsInDeviceSpace:!0})},maxscrollbutton:{visible:!0,size:15,linestyle:b.clone(),fillstyle:f.clone(),caret:new Nm({painter:h,linestyle:e.clone(),fillstyle:d.clone(),width:5,height:this.Th?
5:6,alignment:this.Th?O.Ld:O.vd,ax:this.Th?2:8,ay:this.Th?8:5,sizeIsInDeviceSpace:!0})},scrollbar:{visible:!0,autohide:!0,linestyle:b.clone(),fillstyle:d.clone()},scrolltrack:{visible:!0,linestyle:b.clone(),fillstyle:f.clone()}};g=xb(g,{name:null!=g.name?g.name:"CompactScroll",modellimits:g.modellimits instanceof U?g.modellimits:new U(0,0,1,1),visiblelimits:g.visiblelimits instanceof U?g.visiblelimits:new U(0,0,1,1),options:null!=g.options?g.options:this.ea});oU.call(this,g);this.Th?this.Yl(a):this.yl(a)}var a=10,b=(new X("transparent")).Mg({x:!0,y:!0}),d=new rf("#a8a8a8"),e=(new X("#a8a8a8")).Mg({x:!0,y:!0}),f=new rf("#f1f1f1");D(c,oU);L(c,"geotoolkit.controls.tools.scroll.CompactHVBaseScroll");c.Ja=qU;c.prototype.setOptions=function(g){oU.prototype.setOptions.call(this,g);this.Th?(this.Ay.Db(this.nA.pa().cc(),this.Cy.ga().ka()),this.VC.Db(this.nA.pa().cc(),this.Cy.ga().ma())):(this.Ay.Db(this.Cy.ga().la(),this.nA.pa().zc()),this.VC.Db(this.Cy.ga().na(),this.nA.pa().zc()));g=this.ea.minscrollbutton.visible?
this.ea.minscrollbutton.size:0;var h=this.ea.maxscrollbutton.visible?this.ea.maxscrollbutton.size:0;this.Th?(this.usa.La({left:0,right:0,top:0,height:g}),this.RBa.La({left:0,right:0,bottom:0,height:h}),this.nA.La({left:0,right:0,top:g,bottom:h})):(this.usa.La({top:0,bottom:0,left:0,width:g}),this.RBa.La({top:0,bottom:0,right:0,width:h}),this.nA.La({top:0,bottom:0,left:g,right:h}));return this};c.prototype.JK=function(g){this.Th?this.Tk(g):this.nl(g);return this};c.prototype.gNc=function(g,h,k){var l=
this.nA.pa(),m=this.Cy.ga().clone();this.Th?(g?m.setY(m.getY()-h):m.setY(m.getY()+h),m.ka()<l.ka()&&m.setY(l.ka()),m.ma()>l.ma()&&m.setY(l.ma()-m.da())):(g?m.setX(m.getX()-h):m.setX(m.getX()+h),m.la()<l.la()&&m.setX(l.la()),m.na()>l.na()&&m.setX(l.na()-m.ca()));this.notify(LR.Ja.aoa,this,k);this.notify(LR.Ja.rn,this,new QR(k,m));this.notify(LR.Ja.nv,this,new QR(k,m))};c.prototype.Xc=function(g){if(null==this.Ec()||!this.Ec().Hd()){var h=this.jQ(g,!0,!1);this.BJ=this.Cy.ga().clone();var k=this.BJ.clone(),
l=this.Th?k.da()/10*(this.lo()?-1:1):k.ca()/10*(this.mi()?-1:1),m=!1,n=!1;if(null==h){var p=g.Zd();if(this.nA.Ki().contains(p))l=this.Th?k.da()*(this.lo()?-1:1):k.ca()*(this.mi()?-1:1),this.Th&&p.getY()<this.Cy.Ki().zc()||!this.Th&&p.getX()<this.Cy.Ki().cc()?m=!0:n=!0;else return}this.On(!0);if(h===this.usa||m||h===this.RBa||n)this.e9b(g),this.gNc(h===this.usa||m,l,g);this.Ed=h;g.stopPropagation("touchstart"===g.vh());this.Ec().start();this.XT=!1;this.ed=this.Ec().Kd(this.nA,g)}};c.prototype.zp=function(g){var h=
this.jQ(g,!0),k=g.Zd();if(null!=h||!1!==this.nA.Ki().contains(k))h=g.ye(),h.preventDefault(),g.stopPropagation(),k=this.Cy.ga().clone(),k=this.Th?k.da()/10*(this.lo()?-1:1):k.ca()/10*(this.mi()?-1:1),this.gNc(0>h.deltaY,k,g)};c.prototype.Ac=function(g){var h=this.jQ(g,!1);this.XWa(h);if(this.Ec())if(this.Ec().Hd()&&null!=this.Ed)!1===this.XT&&(this.notify(LR.Ja.aoa,this,g),this.XT=!0);else{var k=null;!this.ea.resizable||h!==this.Ay&&h!==this.VC?this.ea.resizable&&h===this.Cy&&(k="move"):k=this.Th?
"ns-resize":"ew-resize";RR.Kk(g.Pe(),{cursor:k},this);if(1!==this.uTa())if(null==h)null!=this.Ed&&this.JVa(),this.Ed=null;else{k=this.Ava();var l=this.gwa();!1===k.Ula(l)&&(this.Ed=h,this.ZWa(),this.jpa(LR.dfb),g.stopPropagation(!0,!0))}}};c.prototype.T$=function(g){if(this.Ec()){var h=g.ye();g.stopPropagation(!0,!0);var k=this.nA.pa(),l=this.BJ.clone();this.Mh=this.Ec().Kd(this.nA,g);this.Ed===this.Cy||!1===this.ea.resizable&&(this.Ed===this.Ay||this.Ed===this.VC)?(this.Th?(l.setY(l.getY()-(this.ed.getY()-
this.Mh.getY())),l.ka()<k.ka()&&l.setY(k.getY()),l.ma()>k.ma()&&l.setY(k.ma()-l.da())):(l.setX(l.getX()-(this.ed.getX()-this.Mh.getX())),l.la()<k.la()&&l.setX(k.getX()),l.na()>k.na()&&l.setX(k.na()-l.ca())),this.notify(LR.Ja.rn,this,new QR(h,l))):(l=this.GWc(),this.notify(LR.Ja.mxb,this,new QR(h,l)))}};c.prototype.foa=function(g){this.Ec()&&(null==this.jQ(g,!1,!1)&&oU.prototype.foa.call(this),this.Oc(g))};c.prototype.Oc=function(g){this.XWa(null);if(this.Ec()){this.Ec().Hd()&&null!=g&&g.stopPropagation(!0);
this.XT=!1;this.On(!1);var h=this.nA.pa(),k=this.BJ;this.Th&&(k.ka()<h.ka()||k.ma()>h.ma())||!this.Th&&(k.la()<h.la()||k.na()>h.na())||(this.Ec().stop(),this.Mh=this.Ec().Kd(this.nA,g),null!=this.Ed&&(this.Ed!==this.Ay&&this.Ed!==this.VC||this.ed.Ew(this.Mh)||(k=this.GWc(),this.notify(LR.Ja.nxb,this,new QR(g,k))),this.Ed===this.Cy&&(this.Th?(k.setY(k.getY()-(this.ed.getY()-this.Mh.getY())),k.ka()<h.ka()&&k.setY(h.getY()),k.ma()>h.ma()&&k.setY(h.ma()-k.da())):(k.setX(k.getX()-(this.ed.getX()-this.Mh.getX())),
k.la()<h.la()&&k.setX(h.getX()),k.na()>h.na()&&k.setX(h.na()-k.ca())),this.notify(LR.Ja.nv,this,new QR(g,k))),this.Ed=null),this.BJ=null,this.mWc(k,!this.Th))}};c.prototype.GWc=function(){var g=this.nA.pa(),h=this.BJ;if(this.Th){this.Mh.getY()<g.ka()?this.Mh.setY(g.ka()):this.Mh.getY()>g.ma()&&this.Mh.setY(g.ma());g=this.Ed!==this.Ay?this.Ay.Fk().getY():this.Mh.getY();var k=this.Ed!==this.VC?this.VC.Fk().getY():this.Mh.getY()}else this.Mh.getX()<g.la()?this.Mh.setX(g.la()):this.Mh.getX()>g.na()&&
this.Mh.setX(g.na()),g=this.Ed!==this.Ay?this.Ay.Fk().getX():this.Mh.getX(),k=this.Ed!==this.VC?this.VC.Fk().getX():this.Mh.getX();if(g>k){var l=g;g=k;k=l;this.Ed=this.Ed===this.Ay?this.VC:this.Ay}this.Th?(h.setY(g),h.Ya(k-g)):(h.setX(g),h.Ra(k-g));return h};c.prototype.Ava=function(){return this.Th?new Jd(this.pa().ka(),this.pa().ma()):new Jd(this.pa().la(),this.pa().na())};c.prototype.gwa=function(){return this.Th?new Jd(this.nA.ga().ka(),this.nA.ga().ma()):new Jd(this.nA.ga().la(),this.nA.ga().na())};
c.prototype.Ha=function(g,h){this.Th?(g=g.clone().setX(0).Ra(1),h=h.clone().setX(0).Ra(1),!0===this.ea.scrollbar.autohide&&this.U7b(Math.abs(g.da()-h.da())>V.Qb),this.Ay.Db(g.cc(),h.ka()),this.VC.Db(g.cc(),h.ma())):(g=g.clone().setY(0).Ya(1),h=h.clone().setY(0).Ya(1),!0===this.ea.scrollbar.autohide&&this.U7b(Math.abs(g.ca()-h.ca())>V.Qb),this.Ay.Db(h.la(),g.zc()),this.VC.Db(h.na(),g.zc()));oU.prototype.Ha.call(this,g,h);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRGbGlwIjoiSksiLCJnZXRNb2RlbFJhbmdlIjoiQXZhIiwiZ2V0VmlzaWJsZU1vZGVsUmFuZ2UiOiJnd2EiLCJzZXRNb2RlbExpbWl0cyI6IkhhIn19fSAg");var sU=/*#__PURE__*/KR,nva=/*#__PURE__*/function(){function c(a){a=G(a,{name:"CompactHorizontalScroll",isVertical:!1});rU.call(this,a)}D(c,rU);L(c,"geotoolkit.controls.tools.scroll.CompactHorizontalScroll");c.Ja=sU;return c}();var tU=/*#__PURE__*/KR,pva=/*#__PURE__*/function(){function c(a){a=G(a,{name:"CompactVerticalScroll",isVertical:!0});rU.call(this,a)}D(c,rU);L(c,"geotoolkit.controls.tools.scroll.CompactVerticalScroll");c.Ja=tU;return c}();var uU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d){PR.call(this,a);this.J5c=b;this.I4c=d}D(c,PR);c.prototype.getDelta=function(){return this.J5c};c.prototype.A9a=function(){return this.I4c};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQbG90cyI6IkE5YSJ9fX0g"),vU=/*#__PURE__*/uU;
Object.defineProperty(vU,"HorizontalSplitterEventArgs",{get:function(){hb("geotoolkit.controls.tools.splitter.HorizontalSplitterEventArgs is deprecated since 2021 (3.2). Use geotoolkit.controls.tools.splitter.SplitterEventArgs instead.");return uU},set:function(){}});var wU=/*#__PURE__*/va(/*#__PURE__*/{hga:"onPlotSizeChanged",Xqc:"beforePlotSizeChanged",qxb:"onShow"},2,"eyJvblBsb3RTaXplQ2hhbmdlZCI6ImhnYSIsImJlZm9yZVBsb3RTaXplQ2hhbmdlZCI6IlhxYyIsIm9uU2hvdyI6InF4YiJ9"),xU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e,f){e=G(e,{name:"splitter",layer:e instanceof Th?e:null,orientation:f?f:Rh.xb},!0);IR.call(this,e);this.sm({"cg-leave":function(){this.Pj.Ia()&&(this.Hd()&&this.stop(),this.Pj.va(!1))}.bind(this),pointerdown:this.Xc.bind(this),pointermove:[{callback:this.Ac.bind(this),object:null},{callback:this.Ac.bind(this),object:Za,enabled:!1}],pointerup:[{callback:this.Oc.bind(this),object:null},{callback:this.Oc.bind(this),
object:Za,enabled:!1}]});this.nMa=this.$_a=null;this.Wc=e.orientation;this.Ug=new bk;this.Lp=null;this.Pj=(new b(this.Wc)).va(!1).ra((new X("#444",1)).Mg({x:!0,y:!0})).qa(new rf("rgba(160,160,160, 0.5)")).Pc("containersplitter");this.ed=new M(0,0);this.$f=new M(0,0);this.h8=[];this.$a.oa(this.Pj)}var a=Zd.ya(),b=function(){function e(g){g=G(g,{orientation:"string"===typeof g?g:null},!0);ho.call(this,g);this.Wc=g.orientation}var f=new Vd(1,1);D(e,ho);L(e,"geotoolkit.controls.tools.splitter.Splitter-Handle");
e.prototype.ga=function(){if(null==this.getParent())return null;var g=this.getParent().vb();if(null==g)return null;var h=this.wa();f.setSize(1,1);null!=h&&h.Sk(f,f);h=ho.prototype.ga.call(this);return this.Wc===Rh.xb?h.N5().setX(g.getX()).Ra(g.ca()-f.ca()).Ya(f.da()).lock():h.N5().setY(g.getY()).Ra(f.ca()).Ya(g.da()-f.da()).lock()};return e}(),d=10;D(c,IR);L(c,"geotoolkit.controls.tools.splitter.Splitter");c.Ja=wU;c.prototype.l0=function(e){this.h8=[];for(var f=0;f<e.length;f++)e[f]&&this.h8.push(e[f]);
return this};c.prototype.start=function(e){this.ed=this.Kd(this.$a,e);this.$_a=e.Zd();e.stopPropagation();this.setActive(!0);IR.lock(e.Pe(),this);this.On(!0);return this};c.prototype.stop=function(){this.Pj.va(!1);this.setActive(!1);IR.unlock(this);this.nMa=this.$_a=this.Lp=null;this.Pj.Kc(null);return this};c.prototype.Pwc=function(e){this.ed=this.Kd(this.$a,e);if(!this.$a.vb().contains(this.ed))return this.lF(e.Pe(),!1),null;var f=this.Gm(e);f=f?5:2;var g=e.Zd(),h=this.Ug.select(e.Pe().getRoot(),
g.getX(),g.getY(),f);g=f=null;for(var k=0;k<this.h8.length;k++){var l=h.indexOf(this.h8[k]);-1!==l&&(null==f?f=this.h8[k]:g=this.h8[k])}if(null==f||null==g)return this.lF(e.Pe(),!1),null;h=this.$a.vb();this.$f.Ga(this.ed.x,this.ed.y);k=f.ga();k=f.getParent().wa().Ta(k);this.$a.wa().pd(k,k);l=g.ga();l=g.getParent().wa().Ta(l);this.$a.wa().pd(l,l);this.Pj.va(!0);this.Wc===Rh.xb?this.Pj.cb(h.la(),k.ma(),h.na(),l.ka()):this.Pj.cb(k.na(),h.ka(),l.la(),h.ma());this.lF(e.Pe(),!0);e.stopPropagation();this.fireEvent(c.Ja.qxb,
new uU(e,null,{top:f,bottom:g,left:f,right:g}));return{top:f,bottom:g,left:f,right:g}};c.prototype.lF=function(e,f){var g=null;f&&(g=this.ec().wa().hv(),g=Math.abs(g)<V.Qb?this.Wc===Rh.xb?"ns-resize":"ew-resize":this.Wc===Rh.xb?"ew-resize":"ns-resize");RR.Kk(e,{cursor:g},this);this.Pj.va(f);return this};c.prototype.Xc=function(e){if(null==e.ye().buttons||e.ye().buttons===Cc.kc)this.Lp=this.Pwc(e),null!=this.Lp&&(e.ye().preventDefault(),this.start(e))};c.prototype.Ac=function(e){if(this.Hd()&&(e.stopPropagation(),
this.dua(e))){this.lF(e.Pe(),!0);return}this.Pwc(e)};c.prototype.dua=function(e){var f=this.Kd(this.$a,e);if(this.Wc===Rh.xb){if(null!=this.Lp&&null!=this.Lp.top){if(this.Lp.top.ga().da()+(f.getY()-this.ed.getY())<d||this.Lp.bottom.ga().da()-(f.getY()-this.ed.getY())<d)return!0;this.Pj.translate(0,f.y-this.$f.y);this.$f.Ga(f.x,f.y);this.nMa=e.Zd();return!0}}else if(null!=this.Lp&&null!=this.Lp.left){if(this.Lp.left.ga().ca()+(f.getX()-this.ed.getX())<d||this.Lp.right.ga().ca()-(f.getX()-this.ed.getX())<
d)return!0;this.Pj.translate(f.x-this.$f.x,0);this.$f.Ga(f.x,f.y);this.nMa=e.Zd();return!0}return!1};c.prototype.Oc=function(e){if(this.Hd()&&this.$_a)if(this.lF(e.Pe(),!1),this.Lp&&this.nMa){e.stopPropagation();var f=this.Wc===Rh.xb?this.$f.getY()-this.ed.getY():this.$f.getX()-this.ed.getX(),g=this.Wc===Rh.xb?this.nMa.getY()-this.$_a.getY():this.nMa.getX()-this.$_a.getX();this.fireEvent(c.Ja.Xqc,new uU(e,f));g=this.Wc===Rh.xb?this.wbd(f,g):this.Ebd(f,g);this.fireEvent(c.Ja.hga,new uU(e,f,g));this.stop();
this.On(!1)}else this.stop()};c.prototype.wbd=function(e,f){var g={},h=this.Lp.top.getParent().pa().da();var k=this.Lp.top.Mb().getStyle().height;var l=ae.Il(k,h);if(null!=l){var m=ae.parse(k).xo;k=$h.yW(k)?f:e;k=l+k;m&&(k="%"===m?100*parseFloat(k)/h+m:a.Wa("px").convert(k,m)+m);this.Lp.top.La({height:k});g.top=this.Lp.top}k=this.Lp.top.Mb().getStyle().bottom;l=ae.Il(k,h);null!=l&&(m=ae.parse(k).xo,k=$h.yW(k)?f:e,k=l-k,m&&(k="%"===m?100*parseFloat(k)/h+m:a.Wa("px").convert(k,m)+m),this.Lp.top.La({bottom:k}),
g.top=this.Lp.top);k=this.Lp.bottom.Mb().getStyle().height;l=ae.Il(k,h);null!=l&&(m=ae.parse(k).xo,k=$h.yW(k)?f:e,k=l-k,m&&(k="%"===m?100*parseFloat(k)/h+m:a.Wa("px").convert(k,m)+m),this.Lp.bottom.La({height:k}),g.bottom=this.Lp.bottom);k=this.Lp.bottom.Mb().getStyle().top;l=ae.Il(k,h);null!=l&&(m=ae.parse(k).xo,k=$h.yW(k)?f:e,k=l+k,m&&(k="%"===m?100*parseFloat(k)/h+m:a.Wa("px").convert(k,m)+m),this.Lp.bottom.La({top:k}),g.bottom=this.Lp.bottom);return g};c.prototype.Ebd=function(e,f){var g={},h=
this.Lp.left.getParent().pa().ca();var k=this.Lp.left.Mb().getStyle().width;var l=ae.Il(k,h);if(null!=l){var m=ae.parse(k).xo;k=$h.yW(k)?f:e;k=l+k;m&&(k="%"===m?100*parseFloat(k)/h+m:a.Wa("px").convert(k,m)+m);this.Lp.left.La({width:k});g.left=this.Lp.left}k=this.Lp.left.Mb().getStyle().right;l=ae.Il(k,h);null!=l&&(m=ae.parse(k).xo,k=$h.yW(k)?f:e,k=l-k,m&&(k="%"===m?100*parseFloat(k)/h+m:a.Wa("px").convert(k,m)+m),this.Lp.left.La({right:k}),g.left=this.Lp.left);k=this.Lp.right.Mb().getStyle().width;
l=ae.Il(k,h);null!=l&&(m=ae.parse(k).xo,k=$h.yW(k)?f:e,k=l-k,m&&(k="%"===m?100*parseFloat(k)/h+m:a.Wa("px").convert(k,m)+m),this.Lp.right.La({width:k}),g.right=this.Lp.right);k=this.Lp.right.Mb().getStyle().left;l=ae.Il(k,h);null!=l&&(m=ae.parse(k).xo,k=$h.yW(k)?f:e,k=l+k,m&&(k="%"===m?100*parseFloat(k)/h+m:a.Wa("px").convert(k,m)+m),this.Lp.right.La({left:k}),g.right=this.Lp.right);return g};c.prototype.On=function(e){this.Wr("pointermove",e,Za);this.Wr("pointerup",e,Za);return this};c.prototype.ra=
function(e){this.Pj.ra(e)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQbG90cyI6ImwwIiwic2V0TGluZVN0eWxlIjoicmEifX19");var yU=/*#__PURE__*/va(/*#__PURE__*/{hga:"onPlotSizeChanged"},2,"eyJvblBsb3RTaXplQ2hhbmdlZCI6ImhnYSJ9"),tva=/*#__PURE__*/function(){function c(a){xU.call(this,a,Rh.xb);this.kb("horizontal-splitter")}D(c,xU);L(c,"geotoolkit.controls.tools.splitter.HorizontalSplitter");c.Ja=yU;return c}();var zU=/*#__PURE__*/va(/*#__PURE__*/{onStart:"onStart",axa:"onHover",Kn:"onMove",rn:"onScroll"},2,"eyJvbkhvdmVyIjoiYXhhIiwib25Nb3ZlIjoiS24iLCJvblNjcm9sbCI6InJuIn0g"),AU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{name:"ColumnHandler",tableview:a instanceof jS?a:null},!0);IR.call(this,a);this.sL=null;this.Va=a.tableview;this.kJ=null;this.EF=!1;this.lc=null;this.xF=-1;this.sm({pointermove:this.Ac.bind(this),pointerdown:this.Xc.bind(this),pointerup:[{callback:this.Oc.bind(this),object:null},{callback:function(){this.stop()}.bind(this),object:Za,enabled:!1}],keydown:{callback:this.Uw.bind(this),object:Za,enabled:!0},
keyup:{callback:this.$S.bind(this),object:Za,enabled:!0},"cg-leave":function(b){this.kJ=null}.bind(this)});this.MLa=(new ho).ra({color:"gray",pixelsnapmode:{x:!0,y:!0}}).qa({color:"rgba(236,243,255, 0.5)"}).va(!1);this.F_a=(new oi).Yc(!0).va(!1).Wd(new jl).oa([this.Vjc=(new oi).La({left:1,top:0,bottom:0,width:2}).ra({color:"#4285F4",pixelsnapmode:{x:!0,y:!0}}).qa({color:"#4285F4"}).va(!1),this.mnc=(new oi).La({right:1,top:0,bottom:0,width:2}).ra({color:"#4285F4",pixelsnapmode:{x:!0,y:!0}}).qa({color:"#4285F4"}).va(!1)]);
this.Va.oa([this.MLa,this.F_a])}D(c,IR);L(c,"geotoolkit.controls.tools.tableview.ColumnHandler");c.Ja=zU;c.prototype.On=function(a){this.Wr("pointerup",a,Za);return this};c.prototype.start=function(){this.On(!0);return IR.prototype.start.call(this)};c.prototype.stop=function(){this.On(!1);IR.unlock(this);return IR.prototype.stop.call(this)};c.prototype.Uw=function(a){if(null!=this.kJ&&!0!==this.EF&&!0===a.ye().ctrlKey){var b=this.Kd(this.Va,this.kJ);b=this.Va.jbb(b.getX(),b.getY());0===b.getY()&&
0<=b.getX()&&(RR.Kk(a.Pe(),{cursor:"move"},this),this.EF=!0)}};c.prototype.$S=function(a){if(!this.Hd()&&!1!==this.EF){var b=a.ye();if(!0===b.ctrlKey||"Control"===b.keyIdentifier)this.EF=!1,RR.Kk(a.Pe(),{cursor:null},this)}};c.prototype.Ddb=function(){null==this.Z8&&(this.Z8=(new Kl(300,function(){this.Z8.stop();this.Z8=null;null!=this.kJ&&this.Ac(this.kJ)}.bind(this))).start())};c.prototype.Ac=function(a){this.kJ=a;if(this.Hd()){RR.Kk(a.Pe(),{cursor:"move"},this);a.stopPropagation(!0,!0);var b=this.Kd(this.Va,
a),d=this.MLa.ga().clone();d.setX(d.la()+b.getX()-this.mJ.getX());var e=this.Va.JG(d.la(),d.getY()),f=this.Va.JG(d.na(),d.getY()),g=this.Va.A_();0<b.getX()-this.mJ.getX()?f.getX()>g.na()&&null==this.Z8&&(this.Ddb(),this.Va.uId(f.getX(),!0),this.fireEvent(c.Ja.rn,null)):e.getX()<g.la()&&null==this.Z8&&(this.Ddb(),this.Va.uId(e.getX(),!1),this.fireEvent(c.Ja.rn,null));b=this.Kd(this.Va,a);e=this.Va.JG(b);this.Vjc.va(e.getX()<this.xF);this.mnc.va(e.getX()>this.xF);this.F_a.va(0<=e.getX());f=-1!==e.getX()&&
e.getX()!==this.xF?"move":"not-allowed";RR.Kk(a.Pe(),{cursor:f},this);a=this.pyc(e.getX());this.F_a.sa(a).ha();a=this.Va.Hn().ga();a.la()<=d.la()&&a.na()>=d.na()&&(this.MLa.sa(d).ha(),this.mJ=b)}else this.kJ=a};c.prototype.Xc=function(a){if(!0===this.EF){var b=this.Kd(this.Va,a),d=this.Va.jbb(b.getX(),b.getY());0===d.getY()&&0<=d.getX()&&(this.start(),IR.lock(a.Pe(),this),this.xF=this.Va.JG(b.getX(),b.getY()).getX(),b=this.pyc(this.xF),this.MLa.sa(b).va(!0).Kc(null),this.F_a.sa(this.MLa.ga().clone()).va(!0),
this.Jda=this.mJ=this.Kd(this.Va,a))}};c.prototype.Oc=function(a){if(this.Hd()&&(a.stopPropagation(),this.stop(),a=this.Kd(this.Va,a),a=this.Va.JG(a.getX(),a.getY()).getX(),-1!==a&&a!==this.xF)){var b=[],d;for(d=0;d<this.Va.KP().ca();d++)b[d]=this.Va.pFa(d);d=b[this.xF];b.splice(this.xF,1);b.splice(a,0,d);for(d=0;d<b.length;d++)this.Va.pIa(d,b[d]);this.fireEvent(c.Ja.Kn,{from:this.xF,to:a})}};c.prototype.pyc=function(a){var b=this.Va.$Z(0,a);if(null==b)return null;a=new M(b.getX(),b.getY());b=new M(b.na(),
b.ma());this.Va.Hn().TC.wa().Ma(a,a);this.Va.wa().hd(a,a);this.Va.Hn().TC.wa().Ma(b,b);this.Va.wa().hd(b,b);return new U(a.x,this.Va.pa().ka(),b.x,this.Va.pa().ma()-1)};c.prototype.Km=function(){IR.prototype.Km.call(this);if(!1===this.isEnabled()||!1===this.Hd())this.kJ=null,this.EF=!1,this.MLa.va(!1),this.F_a.va(!1),this.Vjc.va(!1),this.mnc.va(!1)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6IkttIn19fSAg");var BU=/*#__PURE__*/va(/*#__PURE__*/{o2b:"onHeaderHover",i2b:"onButtonHover",j2b:"onClick"},2,"eyJvbkhlYWRlckhvdmVyIjoibzJiIiwib25CdXR0b25Ib3ZlciI6ImkyYiIsIm9uQ2xpY2siOiJqMmIifSAg"),CU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{name:"HeaderHandler",tableview:a instanceof jS?a:null},!0);IR.call(this,a);this.sL=null;this.Va=a.tableview;this.Ne=new Vd(12,12);this.NBa=new Vd(4,4);this.sm({pointermove:this.Ac.bind(this),pointerdown:this.Xc.bind(this),"cg-leave":function(b){this.kJ=null;this.Mba.va(!1)}.bind(this)});this.Va.oa([this.Mba=(new oi).va(!1)])}D(c,IR);L(c,"geotoolkit.controls.tools.tableview.HeaderHandler");c.Ja=BU;c.prototype.setSize=
function(a){this.Ne=a;return this};c.prototype.getSize=function(){return this.Ne};c.prototype.$zb=function(a){this.NBa=a;return this};c.prototype.EYb=function(){return this.NBa};c.prototype.Ac=function(a){a=this.Kd(this.Va,a);var b=this.Va.jbb(a.getX(),a.getY());0===b.getY()&&-1===b.getX()?(this.xF=-1,b=this.rsb(-1),this.Mba.sa(b).Ha(b.clone().setX(0).setY(0)),this.fireEvent(b.contains(a)?c.Ja.i2b:c.Ja.o2b,{column:this.xF,button:this.Mba})):0===b.getY()&&0<=b.getX()?(this.xF=this.Va.JG(a.getX(),a.getY()).getX(),
b=this.rsb(this.xF),this.Mba.sa(b).Ha(b.clone().setX(0).setY(0)),this.fireEvent(b.contains(a)?c.Ja.i2b:c.Ja.o2b,{column:this.xF,button:this.Mba})):this.Mba.va(!1)};c.prototype.Xc=function(a){var b=this.Kd(this.Va,a),d=this.Va.jbb(b.getX(),b.getY());0===d.getY()&&-1===d.getX()?(this.xF=-1,d=this.rsb(-1),this.Mba.va(!0).sa(d),d.contains(b)&&(a.stopPropagation(),this.fireEvent(c.Ja.j2b,{column:this.xF,button:this.Mba}))):0===d.getY()&&0<=d.getX()&&(this.xF=this.Va.JG(b.getX(),b.getY()).getX(),d=this.rsb(this.xF),
this.Mba.va(!0).sa(d),d.contains(b)&&(a.stopPropagation(),this.fireEvent(c.Ja.j2b,{column:this.xF,button:this.Mba})))};c.prototype.rsb=function(a){a=this.rSa(a);return a.setX(a.getX()+a.ca()-this.Ne.ca()-this.NBa.ca()).setY(a.getY()+this.NBa.da()).Ra(this.Ne.ca()).Ya(this.Ne.da())};c.prototype.rSa=function(a){var b=this.Va.$Z(-1,a);a=this.Va.rSa();if(null==b)return null;var d=new M(b.getX(),b.getY());b=new M(b.na(),b.ma());this.Va.Hn().TC.wa().Ma(d,d);this.Va.wa().hd(d,d);this.Va.Hn().TC.wa().Ma(b,
b);this.Va.wa().hd(b,b);return new U(d.x,a.ka(),b.x,a.ma())};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRNYXJnaW4iOiIkemIiLCJnZXRNYXJnaW4iOiJFWWIifX19");var DU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d,e){PR.call(this,a);this.cV=b;this.K6=d;this.m8c=e}D(c,PR);L(c,"geotoolkit.controls.tools.HoverEventArgs");c.prototype.JZb=function(){return this.cV};c.prototype.getColumnNumber=function(){return this.K6};c.prototype.qub=function(){return this.m8c};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRSb3dOdW1iZXIiOiJKWmIiLCJnZXRNb3VzZVBvc2l0aW9uIjoicXViIn19fSAg");var EU=/*#__PURE__*/va(/*#__PURE__*/{axa:"onHover"},2,"eyJvbkhvdmVyIjoiYXhhIn0g"),FU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{name:"Highlight",tableview:a instanceof jS?a:null},!0);IR.call(this,a);this.sL=null;this.Va=a.tableview;this.sm({pointermove:this.Ac.bind(this),"cg-leave":function(b){this.fireEvent(HR.Ry,null)}.bind(this)})}D(c,IR);L(c,"geotoolkit.controls.tools.Highlight");c.Ja=EU;c.prototype.Ac=function(a){var b=this.Kd(this.Va,a),d=this.Va.JG(b.getX(),b.getY()),e=this.Va.$Z(d.getY(),d.getX());if(e){var f=this.Va.JG(b.getX(),b.getY(),!0);b=e.ca()*(f.getX()-
d.getX());e=e.da()*(f.getY()-d.getY());this.fireEvent(c.Ja.axa,new DU(a,d.getY(),d.getX(),new M(b,e)))}};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdXNlTW92ZSI6IkFjIn19fSAg");var GU=/*#__PURE__*/va(/*#__PURE__*/{onStart:"onStart",axa:"onHover",Kn:"onMove",rn:"onScroll"},2,"eyJvbkhvdmVyIjoiYXhhIiwib25Nb3ZlIjoiS24iLCJvblNjcm9sbCI6InJuIn0g"),HU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{name:"RowHandler",tableview:a instanceof jS?a:null},!0);IR.call(this,a);this.Va=a.tableview;this.kJ=this.sL=null;this.EF=!1;this.lc=null;this.xF=-1;this.sm({pointermove:this.Ac.bind(this),pointerdown:this.Xc.bind(this),pointerup:[{callback:this.Oc.bind(this),object:null},{callback:function(){this.stop()}.bind(this),object:Za,enabled:!1}],keydown:{callback:this.Uw.bind(this),object:Za,enabled:!0},
keyup:{callback:this.$S.bind(this),object:Za,enabled:!0},"cg-leave":function(b){this.kJ=null}.bind(this)});this.iPa=(new ho).ra({color:"gray",pixelsnapmode:{x:!0,y:!0}}).qa({color:"rgba(236,243,255, 0.5)"}).va(!1);this.Z3a=(new oi).Yc(!0).va(!1).Wd(new jl).oa([this.Goc=(new oi).La({left:0,top:1,right:0,height:2}).ra({color:"#4285F4",pixelsnapmode:{x:!0,y:!0}}).qa({color:"#4285F4"}).va(!1),this.pgc=(new oi).La({left:0,bottom:1,right:0,height:2}).ra({color:"#4285F4",pixelsnapmode:{x:!0,y:!0}}).qa({color:"#4285F4"}).va(!1)]);
this.Va.oa([this.iPa,this.Z3a])}D(c,IR);L(c,"geotoolkit.controls.tools.tableview.RowHandler");c.Ja=GU;c.prototype.On=function(a){this.Wr("pointerup",a,Za);return this};c.prototype.start=function(){this.On(!0);return IR.prototype.start.call(this)};c.prototype.stop=function(){this.On(!1);IR.unlock(this);return IR.prototype.stop.call(this)};c.prototype.Uw=function(a){if(null!=this.kJ&&!0!==this.EF&&!0===a.ye().ctrlKey){var b=this.Kd(this.Va,this.kJ);b=this.Va.l3b(b.getX(),b.getY());0===b.getX()&&0<=
b.getY()&&(RR.Kk(a.Pe(),{cursor:"move"},this),this.EF=!0)}};c.prototype.$S=function(a){if(!this.Hd()&&!1!==this.EF){var b=a.ye();if(!0===b.ctrlKey||"Control"===b.keyIdentifier)this.EF=!1,RR.Kk(a.Pe(),{cursor:null},this)}};c.prototype.Xc=function(a){if(!0===this.EF){var b=this.Kd(this.Va,a);b=this.Va.l3b(b.getX(),b.getY());0===b.getX()&&0<=b.getY()&&(this.start(),IR.lock(a.Pe(),this),this.jLa=b.getY(),b=this.aDc(this.jLa),this.iPa.sa(b).va(!0).Kc(null),this.Z3a.sa(this.iPa.ga().clone()).va(!0),this.Jda=
this.mJ=this.Kd(this.Va,a))}};c.prototype.Ddb=function(){null==this.Z8&&(this.Z8=(new Kl(300,function(){this.Z8.stop();this.Z8=null;null!=this.kJ&&this.Ac(this.kJ)}.bind(this))).start())};c.prototype.Ac=function(a){this.kJ=a;if(this.Hd()){RR.Kk(a.Pe(),{cursor:"move"},this);a.stopPropagation(!0,!0);var b=this.Kd(this.Va,a),d=this.iPa.ga().clone();d.setY(d.ka()+b.getY()-this.mJ.getY());var e=this.Va.JG(d.getX(),d.ka()),f=this.Va.JG(d.getX(),d.ma()),g=this.Va.A_();0<b.getY()-this.mJ.getY()?f.getY()>=
g.ma()-1&&null==this.Z8&&(this.Ddb(),this.Va.wId(f.getY()+1,!0),this.fireEvent(c.Ja.rn,null)):e.getY()<g.ka()&&null==this.Z8&&(this.Ddb(),this.Va.wId(e.getY(),!1),this.fireEvent(c.Ja.rn,null));b=this.Kd(this.Va,a);e=this.Va.JG(b);this.Goc.va(e.getY()<this.jLa);this.pgc.va(e.getY()>this.jLa);this.Z3a.va(0<=e.getY());f=-1!==e.getY()&&e.getY()!==this.jLa?"move":"not-allowed";RR.Kk(a.Pe(),{cursor:f},this);a=this.aDc(e.getY());this.Z3a.sa(a).ha();a=this.Va.Hn().ga();a.ka()<=d.ka()&&a.ma()>=d.ma()&&(this.iPa.sa(d).ha(),
this.mJ=b)}else this.kJ=a};c.prototype.aDc=function(a){var b=this.Va.$Z(a,0);if(null==b)return null;a=new M(b.getX(),b.getY());b=new M(b.na(),b.ma());this.Va.Hn().TC.wa().Ma(a,a);this.Va.wa().hd(a,a);this.Va.Hn().TC.wa().Ma(b,b);this.Va.wa().hd(b,b);return new U(this.Va.pa().la(),a.y,this.Va.pa().na()-1,b.y)};c.prototype.Oc=function(a){this.Hd()&&(a.stopPropagation(),this.stop(),a=this.Kd(this.Va,a),a=this.Va.JG(a.getX(),a.getY()).getY(),-1!==a&&a!==this.jLa&&this.fireEvent(c.Ja.Kn,{from:this.jLa,
to:a}))};c.prototype.Km=function(){IR.prototype.Km.call(this);if(!1===this.isEnabled()||!1===this.Hd())this.kJ=null,this.EF=!1,this.iPa.va(!1),this.Z3a.va(!1),this.Goc.va(!1),this.pgc.va(!1)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6IkttIn19fSAg");var IU=/*#__PURE__*/va(/*#__PURE__*/{PD:"onResize"},2,"eyJvblJlc2l6ZSI6IlBEIn0g"),JU=/*#__PURE__*/va(/*#__PURE__*/{ob:"vertical",xb:"horizontal",CC:"both"},2,"eyJWZXJ0aWNhbCI6Im9iIiwiSG9yaXpvbnRhbCI6InhiIiwiQm90aCI6IkNDIn0g"),KU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d,e){d=G(d,{name:"Splitter",tableview:d instanceof jS?d:null,ignorezerosize:e},!0);IR.call(this,d);this.WKb=d.ignorezerosize;this.Ed=this.mJ=this.sL=null;this.Va=d.tableview;this.Gh=this.mE=null;this.sm({pointerdown:this.Xc.bind(this),pointermove:[{callback:this.Ac.bind(this),object:null},{callback:this.Ac.bind(this),object:Za,enabled:!1}],pointerup:[{callback:this.Oc.bind(this),object:null},{callback:this.Oc.bind(this),
object:Za,enabled:!1}]});this.Hda=1;this.Ug=new bk;this.aja=(new ho).Pc("tableview-splitter-vertical").ra({color:"gray",pixelsnapmode:{x:!0,y:!0}}).qa("rgba(150,150,150, 0.5)").va(!1);this.LLb=this.aja.clone();this.nnc=this.aja.clone();this.EKb=this.aja.clone().Pc("tableview-splitter-horizontal");this.rQb=this.aja.clone().Pc("tableview-splitter-horizontal");this.qgc=this.aja.clone().Pc("tableview-splitter-horizontal");this.LB=[this.aja,this.LLb,this.nnc,this.EKb,this.rQb,this.qgc];this.Va.oa(this.LB);
this.w4a=c.Fgb.ob}var a=new M(0,0),b=new M(1,0);D(c,IR);L(c,"geotoolkit.controls.tools.tableview.Splitter");c.Ja=IU;c.Fgb=JU;c.prototype.wtd=function(){return this.w4a};c.prototype.pSc=function(d){this.w4a!==d&&(this.w4a=d);return this};c.prototype.Km=function(){IR.prototype.Km.call(this);if(!1===this.isEnabled())for(var d=0;d<this.LB.length;d++)this.LB[d].va(!1)};c.prototype.getSize=function(){return this.Hda};c.prototype.setSize=function(d){this.Hda=d;return this};c.prototype.ra=function(d,e){this.LB[0].ra(d,
e);d=this.LB[0].Ea();for(e=1;e<this.LB.length;e++)this.LB[e].ra(d);return this};c.prototype.Ea=function(){return this.LB[0].Ea()};c.prototype.qa=function(d,e){this.LB[0].qa(d,e);d=this.LB[0].fb();for(e=1;e<this.LB.length;e++)this.LB[e].qa(d);return this};c.prototype.fb=function(){return this.LB[0].fb()};c.prototype.start=function(d){this.setActive(!0);null!=d&&(d.stopPropagation(!0,!0),this.mE=d.Pe());for(d=0;d<this.LB.length;d++)if(this.LB[d].Ia()){this.Ed=this.LB[d];break}return this};c.prototype.stop=
function(){this.setActive(!1);null!=this.mE&&RR.Kk(this.mE,{cursor:null},this);null!=this.Ed&&this.Ed.Kc(null).va(!1);this.Ed=this.mE=null;return this};c.prototype.Oc=function(d){!1!==this.Hd()&&(d.stopPropagation(!0,!0),this.Wr("pointermove",!1,Za),this.Wr("pointerup",!1,Za),this.zbd(d.Pe(),this.Kd(this.Va,d)))};c.prototype.zbd=function(d,e){if(null!=this.Ed)if(this.Va.wa().Ma(e,e),this.Va.Hn().TC.wa().hd(e,e),this.Va.wa().Ma(this.Jda,this.Jda),this.Va.Hn().TC.wa().hd(this.Jda,this.Jda),"tableview-splitter-vertical"===
this.Ed.xq()){var f=e.getX()-this.Jda.getX();this.Ed===this.aja?this.Gh.x=-1:this.Ed===this.LLb&&0<this.Gh.x&&--this.Gh.x;d=this.Gh.getX();!0===this.WKb&&0>=this.Va.pFa(d)&&d--;0<=d?(e=this.Va.pFa(d),f=e+f):(e=this.Va.M8a().ca(),f=e+f,f=Math.min(f,this.Va.ga().ca()-1));this.stop();15>f&&(f=15);this.Va.pIa(d,f);this.fireEvent(c.Ja.PD,{column:d,width:{current:e,"new":f}})}else f=e.getY()-this.Jda.getY(),this.Ed===this.EKb?this.Gh.y=-1:this.Ed===this.rQb&&0<this.Gh.y&&--this.Gh.y,d=this.Gh.getY(),!0===
this.WKb&&0>=this.Va.Vub(d)&&d--,0<=d?(e=this.Va.Vub(d),f=e+f):(e=this.Va.rSa().da(),f=e+f,f=Math.min(f,this.Va.ga().da()-1)),this.stop(),15>f&&(f=15),this.Va.EAb(d,f),this.fireEvent(c.Ja.PD,{row:d,height:{current:e,"new":f}})};c.prototype.Xc=function(d){for(var e=null,f=0;f<this.LB.length;f++)if(this.LB[f].Ia()){e=this.LB[f];break}if(null!=e){this.Wr("pointermove",!0,Za);this.Wr("pointerup",!0,Za);e=this.Va.getRoot();f=this.Kd(e,d);e=this.Ug.select(e,f.x,f.y,this.Hda);e=e.filter(function(g){return g instanceof
ho&&("tableview-splitter-vertical"===g.xq()||"tableview-splitter-horizontal"===g.xq())&&-1!==this.LB.indexOf(g)}.bind(this));if(0===e.length)return this;this.Ed=e[0];this.sL=d;this.Jda=this.mJ=this.Kd(this.Va,d);this.start(d)}return this};c.prototype.Ac=function(d){null!=this.Ed&&null!=d.stopPropagation&&d.stopPropagation(!0,!0);this.dua(d.Pe(),this.Kd(this.Va,d))};c.prototype.dua=function(d,e){if(null!=this.Ed)return"tableview-splitter-vertical"===this.Ed.xq()?this.Ed.translate(e.getX()-this.mJ.getX(),
0):this.Ed.translate(0,e.getY()-this.mJ.getY()),this.mJ=e,this;e=e.clone();this.Gh=this.Va.JG(e.getX(),e.getY());var f=this.Va.$Z(this.Gh.getY(),this.Gh.getX());if(null==f)return this;var g=new M(f.getX(),f.getY());f=new M(f.na(),f.ma());this.Va.Hn().TC.wa().Ma(g,g);this.Va.wa().hd(g,g);this.Va.Hn().TC.wa().Ma(f,f);this.Va.wa().hd(f,f);var h=this.Va.wa().hd(a),k=this.Va.wa().hd(b);h=M.Uf(h,k);this.w4a!==c.Fgb.xb&&(this.Va.Gv.Ia()&&this.aja.sa((new U(this.Va.Gv.ga().na(),this.Va.pa().ka(),this.Va.Gv.ga().na(),
this.Va.pa().ma())).Uc(this.Hda*h,0)).va(this.Va.Gv.Ia()),0!==this.Gh.getX()&&this.LLb.sa((new U(g.x,this.Va.pa().ka(),g.x,this.Va.pa().ma())).Uc(this.Hda*h,0)).va(!0),this.nnc.sa((new U(f.x,this.Va.pa().ka(),f.x,this.Va.pa().ma())).Uc(this.Hda*h,0)).va(!0));this.w4a!==c.Fgb.ob&&this.Va.Vrc()&&(this.Va.RC.Ia()&&this.EKb.sa((new U(0,this.Va.Ktb(),this.Va.pa().na(),this.Va.Ktb())).Uc(0,this.Hda*h)).va(!0),0!==this.Gh.getY()&&this.rQb.sa((new U(0,g.y,this.Va.pa().na(),g.y)).Uc(0,this.Hda*h)).va(!0),
this.qgc.sa((new U(0,f.y,this.Va.pa().na(),f.y)).Uc(0,this.Hda*h)).va(!0));g=this.Va;e=this.Ug.select(g,e.x,e.y,this.Hda);e=e.filter(function(l){return l instanceof ho&&("tableview-splitter-vertical"===l.xq()||"tableview-splitter-horizontal"===l.xq())&&-1!==this.LB.indexOf(l)}.bind(this));for(g=0;g<this.LB.length;g++)this.LB[g].va(!1);if(0<e.length){if("tableview-splitter-vertical"===e[0].xq()&&this.Va.Gv.Ia()&&e[0]!==this.aja&&e[0].ga().la()<this.Va.Gv.ga().na())return this;e[0].va(!0);"tableview-splitter-horizontal"===
e[0].xq()?RR.Kk(d,{cursor:"ns-resize"},this):RR.Kk(d,{cursor:"ew-resize"},this)}else RR.Kk(d,{cursor:null},this);return this};c.prototype.QPc=function(d){this.WKb=d;return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTcGxpdHRlck1vZGUiOiJ3dGQiLCJzZXRTcGxpdHRlck1vZGUiOiJwU2MiLCJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6IkttIiwic2V0TGluZVN0eWxlIjoicmEiLCJnZXRMaW5lU3R5bGUiOiJFYSIsInNldEZpbGxTdHlsZSI6InFhIiwiZ2V0RmlsbFN0eWxlIjoiZmIiLCJhcHBseU1vdXNlTW92ZSI6ImR1YSIsInNldElnbm9yZVplcm9TaXplIjoiUVBjIn19fSAg");var MU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(l,m,n){n=null==l||null==l.textstyle?(new Ki).setColor(b).vo(d):null;l=xb(l,{ternarygrid:null,layer:l instanceof Th?l:null,name:"string"===typeof m&&""!==m?m:"cross-hair",linestyle:(new X(b,1,[3,2])).Mg({x:!0,y:!0}),textstyle:n},!0);IR.call(this,l);this.sm({pointermove:this.Ac.bind(this),pointerup:this.Oc.bind(this),pointerdown:this.Xc.bind(this),"cg-enter":function(p){this.fireEvent(HR.gga,p)}.bind(this),"cg-leave":function(p){this.setPosition(e,!1,p);this.fireEvent(HR.Ry,
p)}.bind(this)});this.sd=l.ternarygrid;this.hp=!0;this.NF=null;this.qg=(new g({ternarygrid:this.sd})).ra(l.linestyle).setPosition(e);this.$a.oa(this.qg);this.Ih=null;(a(l)||null==l||"none"!==l.labels)&&this.qRa(l.textstyle,this.sd);this.uOc(l)}function a(l){if(!l)return!1;for(var m=0;m<f.length;++m)if(l[f[m]]&&!0===l[f[m]].visible)return!0;return"none"!==l.labels&&!1!==l.labels}var b="#757575",d="12px Roboto",e=new M(Number.NaN,Number.NaN),f=["right","left","top"],g=function(){function l(m){m=G(m,
{radius:0,ternarygrid:null},!0);Cg.call(this,m);this.sd=m.ternarygrid;this.Pc("cross-hair-cursor");this.ug(!1);this.De=new M(Number.NaN,Number.NaN);this.Gb={right:Number.NaN,left:Number.NaN,top:Number.NaN};this.Cc={right:{from:null,Ie:null},left:{from:null,Ie:null},top:{from:null,Ie:null}};this.ra((new X(b,1,[3,2])).Mg(!0));this.GB=null;this.wc=m.radius;m.outlinestyle&&this.h0(m.outlinestyle)}D(l,Cg);L(l,"geotoolkit.controls.tools.TernaryCrossHair.TernaryCrossHairCursor");l.prototype.h0=function(m,
n){if(this.GB===m)return this;this.GB=X.He(this,this.GB,m,n,this.sb());this.xa().ha();return this};l.prototype.R9=function(){return this.GB};l.prototype.ra=function(m,n){Cg.prototype.ra.call(this,m,n);!0===n?(this.Rga(m,n),this.Uga(m,n),this.JWa(m,n)):(m=this.Ea(),this.Rga(m),this.Uga(m),this.JWa(m));return this};l.prototype.MG=function(m){this.wc!==m&&(this.wc=m,this.R5().ha());return this};l.prototype.Mw=function(){return this.wc};l.prototype.Tc=function(){return this.Zc};l.prototype.Nn=function(m){this.Zc!==
m&&(this.Zc=m,this.R5().ha());return this};l.prototype.Rga=function(m,n){if(this.Q1a===m)return this;this.Q1a=X.He(this,this.Q1a,m,n,this.sb());this.xa().ha();return this};l.prototype.DSa=function(){return this.Q1a};l.prototype.Uga=function(m,n){if(this.U3a===m)return this;this.U3a=X.He(this,this.U3a,m,n,this.sb());this.xa().ha();return this};l.prototype.ZSa=function(){return this.U3a};l.prototype.JWa=function(m,n){if(this.U4a===m)return this;this.U4a=X.He(this,this.U4a,m,n,this.sb());this.xa().ha();
return this};l.prototype.o_b=function(){return this.U4a};l.prototype.setPosition=function(m){if(this.De===m||this.De.Ew(m,V.Qb))return this;this.ha();this.De=null==m?this.De.Ga(NaN,NaN):this.De.Ga(m.getX(),m.getY());this.R5().ha();return this};l.prototype.ha=function(m,n){if(null==this.getParent())return this;Cg.prototype.ha.call(this,this.getParent().vb(),n);return this};l.prototype.R5=function(){if(null==this.getParent()||null==this.sd||isNaN(this.De.getX())||isNaN(this.De.getY()))return this;this.Cc.right.from=
this.De.clone();this.Cc.left.from=this.De.clone();this.Cc.top.from=this.De.clone();this.Gb=this.sd.dTb(this.De);if(isNaN(this.Gb.right)||isNaN(this.Gb.left)||isNaN(this.Gb.top))return this;this.Cc.right.Ie=this.sd.dXa({right:this.Gb.right,top:this.sd.sf("top")});this.Cc.left.Ie=this.sd.dXa({left:this.Gb.left,right:this.sd.sf("right")});this.Cc.top.Ie=this.sd.dXa({top:this.Gb.top,left:this.sd.sf("left")});if(0<this.wc||null!=this.Zc){var m=.5,n=Math.cos(Math.PI/6),p=null!=this.Zc?Math.max(this.Zc.ca()/
2,this.Zc.da()/2)/n:this.wc/2;this.Cc.right.from.translate(-p*m,p*n);this.Cc.left.from.translate(-p*m,-p*n);this.Cc.top.from.translate(p,0)}return this};l.prototype.bc=function(){return this.De};l.prototype.lg=function(){return this.Gb};l.prototype.Hpd=function(){return this.Cc};l.prototype.render=function(m){isNaN(this.De.x)||isNaN(this.De.y)||isNaN(this.Gb.right)||isNaN(this.Gb.left)||isNaN(this.Gb.top)||((null!=this.U3a&&(null!=this.GB&&(m.ra(this.GB),m.Nc(this.Cc.right.from.getX(),this.Cc.right.from.getY(),
this.Cc.right.Ie.getX(),this.Cc.right.Ie.getY())),m.ra(this.U3a),m.Nc(this.Cc.right.from.getX(),this.Cc.right.from.getY(),this.Cc.right.Ie.getX(),this.Cc.right.Ie.getY())),null!=this.Q1a&&(null!=this.GB&&(m.ra(this.GB),m.Nc(this.Cc.left.from.getX(),this.Cc.left.from.getY(),this.Cc.left.Ie.getX(),this.Cc.left.Ie.getY())),m.ra(this.Q1a),m.Nc(this.Cc.left.from.getX(),this.Cc.left.from.getY(),this.Cc.left.Ie.getX(),this.Cc.left.Ie.getY())),null!=this.U4a&&(null!=this.GB&&(m.ra(this.GB),m.Nc(this.Cc.top.from.getX(),
this.Cc.top.from.getY(),this.Cc.top.Ie.getX(),this.Cc.top.Ie.getY())),m.ra(this.U4a),m.Nc(this.Cc.top.from.getX(),this.Cc.top.from.getY(),this.Cc.top.Ie.getX(),this.Cc.top.Ie.getY())),null!=this.Zc)?this.Zc.Ia()&&this.Zc.Db(this.De).render(m):0<this.wc&&(null!=this.GB&&(m.ra(this.GB),m.Rp(this.De.getX()-this.wc/2,this.De.getY()-this.wc/2,this.wc,this.wc)),null!=this.Ea()||null!=this.fb())&&(m.qa(this.fb()),m.ra(this.Ea()),m.Rp(this.De.getX()-this.wc/2,this.De.getY()-this.wc/2,this.wc,this.wc)))};
l.prototype.ia=function(){var m=Cg.prototype.ia.call(this);m.radius=this.Mw();m.outlinestyle=this.R9();return m};l.prototype.fa=function(m){m=hc(m);if(null==m)return this;Cg.prototype.fa.call(this,m);void 0!==m.radius&&this.MG(m.radius);void 0!==m.outlinestyle&&this.h0(m.outlinestyle,!(m.outlinestyle instanceof X));return this};return l}(),h=function(){function l(m){ek.call(this,m);this.f3a=this.lp()}D(l,ek);L(l,"geotoolkit.controls.tools.TernaryCrossHair.TernaryCrossHairText");l.prototype.tc=function(m,
n){ek.prototype.tc.call(this,m);!1!==n&&(this.f3a=m)};l.prototype.y9a=function(){return this.f3a};return l}(),k=function(){function l(m,n){m=G(m,{textstyle:null},!0);oi.call(this,m);this.sd=n;this.mq=this.Xn=0;this.Z1a=this.Y1a=!1;this.ug(!1);this.De=new M(Number.NaN,Number.NaN);this.Le={};this.Bla=function(p,q,r){this.Le[p]={border:{padding:0,visible:!1},text:(new h({text:"",alignment:q,rotationangle:r,ispointingup:!0})).Pc("cross-hair-label")};this.oa(this.Le[p].text)};this.Bla("right",O.Je,0);
this.Bla("left",O.Xd,-Math.PI/3);this.Bla("top",O.Xd,Math.PI/3);this.ib(m)}D(l,oi);L(l,"geotoolkit.controls.tools.TernaryCrossHair.TernaryCrossHairLabels");l.prototype.Q5b=function(m){this.Eia=m;return this};l.prototype.ib=function(m){m instanceof Ki&&(this.Gc=m);for(var n in this.Le)this.Le.hasOwnProperty(n)&&(m.hasOwnProperty(n)?(this.Le[n].text.ib(m[n]),this.Le[n].text.fa(m[n])):this.Le[n].text.ib(this.Gc));return this};l.prototype.jb=function(){return this.Gc};l.prototype.QE=function(m){var n=
!1;"boolean"===typeof m&&(m={right:m,left:m,top:m});for(var p in this.Le)this.Le.hasOwnProperty(p)&&(m.hasOwnProperty(p)?(m[p]&&!this.Le[p].text.Ia()&&(n=!0),this.Le[p].text.va(m[p])):this.Le[p].text.va(!1));n&&this.Q5();return this};l.prototype.setPosition=function(m){if(this.De===m||this.De.Ew(m,V.Qb))return this;this.De=null==m?this.De.Ga(NaN,NaN):this.De.Ga(m.getX(),m.getY());this.Q5();return this};l.prototype.Q5=function(){var m=this.Eia.lg(),n=this.Eia.Hpd();if(null==n.right.Ie||null==n.left.Ie||
null==n.top.Ie)return this;this.yX("right",n.right.Ie,m.right);this.yX("left",n.left.Ie,m.left);this.yX("top",n.top.Ie,m.top);return this};l.prototype.yX=function(m,n,p){var q=n.getX(),r=n.getY(),t=this.Le[m];isNaN(this.De.getX())||isNaN(this.De.getY())||isNaN(q)||isNaN(r)||isNaN(p)?(null==t.visibility&&(t.visibility=t.text.Ia()),t.text.va(!1)):null!=t.visibility&&(t.text.va(t.visibility),t.visibility=null);if(t.text.Ia()){p=p.toFixed(2);t.text.Eb(p);var u=t.text.n4(),w=t.text.wa(),y=p=0;0!==u&&(p=
Hd.qb(u,0,w),y=Hd.qb(0,u,w));u=Hd.qb(0,t.text.da(),w);switch(m){case "right":r-=y;n.translate(-(-2*y-u)*Math.tan(Math.PI/6),-2*y-u);break;case "left":q+=p;r+=y;n.translate(.5*(2*y+u),2*y+u);break;case "top":q-=2*p,n.translate(-2*y-u,0)}t.text.tc(t.text.y9a(),!1);t.text.Db(q,r)}};l.prototype.vD=function(m){return this.Le[m]};l.prototype.bc=function(){return this.De};return l}();D(c,IR);L(c,"geotoolkit.controls.tools.TernaryCrossHair");c.prototype.uOc=function(l){l=hc(l);if(null==l)return this;null!=
l.linestyle&&this.qg.ra(l.linestyle);null!=l.fillstyle&&this.qg.qa(l.fillstyle);null!=l.outlinestyle&&this.qg.h0(l.outlinestyle);void 0!==l.top&&this.qg.JWa(l.top);void 0!==l.right&&this.qg.Uga(l.right);void 0!==l.left&&this.qg.Rga(l.left);void 0!==l.radius&&this.qg.MG(l.radius);void 0!==l.symbol&&this.qg.Nn(l.symbol);this.qg.R5();if(null!=l.labels&&("none"===l.labels||!1===l.labels))return"none"!==l.labels&&!1!==l.labels||!this.Ih||(this.$a.removeChild(this.Ih),this.Ih=null),this;a(l)&&!this.Ih&&
this.qRa(l.textstyle,this.sd);if(null==this.Ih)return this;void 0!==l.textstyle&&this.Ih.ib(l.textstyle);this.Ih.Q5();return this};c.prototype.Mi=function(){this.wya();IR.prototype.Mi.call(this)};c.prototype.ra=function(l,m){this.qg.ra(l,m);return this};c.prototype.Ea=function(){return this.qg.Ea()};c.prototype.qa=function(l,m){this.qg.qa(l,m);return this};c.prototype.fb=function(){return this.qg.fb()};c.prototype.h0=function(l,m){this.qg.h0(l,m);return this};c.prototype.R9=function(){return this.qg.R9()};
c.prototype.MG=function(l){this.qg.MG(l);return this};c.prototype.Mw=function(){return this.qg.Mw()};c.prototype.Nn=function(l){this.qg.Nn(l);return this};c.prototype.Tc=function(){return this.qg.Tc()};c.prototype.ia=function(){var l=IR.prototype.ia.call(this);l.linestyle=this.qg.Ea();l.fillstyle=this.qg.fb();l.outlinestyle=this.qg.R9();l.top=this.qg.X8a();l.right=this.qg.ZSa();l.left=this.qg.DSa();l.radius=this.qg.Mw();l.symbol=this.qg.Tc();if(null==this.Ih)return l;l.textstyle=this.Ih.jb();return l};
c.prototype.fa=function(l){IR.prototype.fa.call(this,l);this.uOc(l);return this};c.prototype.ib=function(l){null!=this.Ih&&this.Ih.ib(l);return this};c.prototype.Rga=function(l,m){this.qg.Rga(l,m);return this};c.prototype.DSa=function(){return this.qg.DSa()};c.prototype.Uga=function(l,m){this.qg.Uga(l,m);return this};c.prototype.ZSa=function(){return this.qg.ZSa()};c.prototype.JWa=function(l,m){this.qg.JWa(l,m);return this};c.prototype.o_b=function(){return this.qg.o_b()};c.prototype.isVisible=function(){return this.qg.Ia()};
c.prototype.va=function(l){this.hp!==l&&(this.hp=l,this.wya(),this.fireEvent(HR.aw,null));return this};c.prototype.bc=function(){return this.qg.bc()};c.prototype.hha=function(l){var m=this.bc();null!=this.NF&&(m=this.a0a(this.NF));var n=this.NF;this.setPosition(m,l);this.NF=n;return this};c.prototype.setPosition=function(l,m,n){var p=this.qg.bc();if(p===l||null!=p&&p.Ew(l,V.Qb))return this;this.qg.setPosition(l);null!=this.Ih&&this.Ih.setPosition(l);this.NF=null;!0!==m&&(m=this.Hd(),this.setActive(!0),
this.fireEvent(PS.Qx,new OS(n,l)),m||this.setActive(m));return this};c.prototype.N6b=function(l,m){if(null==this.Ih)return this;l=this.Ih.vD(l);null!=l&&(l.oRa=m);return this};c.prototype.QE=function(l){"boolean"===typeof l&&(l={right:l,left:l,top:l});null!=this.Ih&&this.Ih.QE(l);return this};c.prototype.Ac=function(l){if(this.isEnabled()&&this.$a){var m=this.$a instanceof Am?this.$a.getParent():this.$a;l.preventDefault();var n=new M(Number.NaN,Number.NaN);m&&(mc(m,fp)?(n=m.nc(l.Zd()).clone(),(isNaN(n.getX())||
isNaN(n.getY()))&&n.Ga(Number.NaN,Number.NaN)):(n=this.Kd(m,l),m.vb().contains(n)||n.Ga(Number.NaN,Number.NaN)));m=this.bc();if(null==m||!1===m.Ew(n,V.Qb))this.setPosition(n,!1,l),this.NF=this.wsa(n)}};c.prototype.wsa=function(l){if(null==this.$a||isNaN(l.x)||isNaN(l.y))return l;var m=this.$a instanceof Am?this.$a.getParent():this.$a;return m&&m.wa()?m.wa().Ma(l):l};c.prototype.a0a=function(l){if(null==this.$a||isNaN(l.x)||isNaN(l.y))return l;var m=this.$a instanceof Am?this.$a.getParent():this.$a;
return m&&m.wa()?m.wa().hd(l):l};c.prototype.Oc=function(l){this.isEnabled()&&this.$a&&this.fireEvent(PS.UUa,new OS(l,this.bc()))};c.prototype.Xc=function(l){if(this.isEnabled()&&this.$a){var m=new M(Number.NaN,Number.NaN);this.$a instanceof Am?this.$a.getParent()&&(m=this.Kd(this.$a.getParent(),l),this.$a.getParent().vb().contains(m)||m.Ga(Number.NaN,Number.NaN)):this.$a&&(m=this.Kd(this.$a,l),this.$a.vb().contains(m)||m.Ga(Number.NaN,Number.NaN));this.fireEvent(PS.r2b,new OS(l,m))}};c.prototype.dispose=
function(){this.qg.dispose();null!=this.Ih&&(this.Ih.dispose(),this.Ih=null);IR.prototype.dispose.call(this)};c.prototype.wya=function(){var l=this.isEnabled()&&this.hp;this.qg.va(l);null!=this.Ih&&this.Ih.va(l);return this};c.prototype.qRa=function(l,m){this.Ih||(l||(l=(new Ki).setColor(b).vo(d)),this.Ih=(new k(l,m)).Q5b(this.qg).setPosition(null).QE(!0).va(this.hp),this.$a.oa(this.Ih))};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkVuYWJsZWRTdGF0ZUNoYW5nZWQiOiJNaSIsInNldExpbmVTdHlsZSI6InJhIiwiZ2V0TGluZVN0eWxlIjoiRWEiLCJzZXRGaWxsU3R5bGUiOiJxYSIsImdldEZpbGxTdHlsZSI6ImZiIiwic2V0T3V0TGluZVN0eWxlIjoiaDAiLCJnZXRPdXRMaW5lU3R5bGUiOiJSOSIsInNldFJhZGl1cyI6Ik1HIiwiZ2V0UmFkaXVzIjoiTXciLCJzZXRTeW1ib2wiOiJObiIsImdldFN5bWJvbCI6IlRjIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwic2V0VGV4dFN0eWxlIjoiaWIiLCJzZXRMZWZ0TGluZVN0eWxlIjoiUmdhIiwiZ2V0TGVmdExpbmVTdHlsZSI6IkRTYSIsInNldFJpZ2h0TGluZVN0eWxlIjoiVWdhIiwiZ2V0UmlnaHRMaW5lU3R5bGUiOiJaU2EiLCJzZXRUb3BMaW5lU3R5bGUiOiJKV2EiLCJnZXRUb3BMaW5lU3R5bGUiOiJvX2IiLCJzZXRWaXNpYmxlIjoidmEiLCJnZXRQb3NpdGlvbiI6ImJjIiwidXBkYXRlQ3Vyc29yUG9zaXRpb24iOiJoaGEiLCJzZXRMYWJlbHNUZXh0Q29udmVydGVyIjoiTjZiIn19fSAg");var NU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e,f,g){null==g&&(g=[]);if(null==f||null==e)return g;if(e instanceof GS){e=e.$Gc();for(var h=0;h<e.length;h++)c(e[h],f,g)}else e instanceof IR&&(f=e.Oqd(f),null!=f&&f.forEach(function(k){-1===g.indexOf(k)&&g.push(k)}));return g}function a(e,f){this.lc=e;this.Qi=e.Vv();this.tq=(new NS(e.getRoot(),"root")).WH(this.lc);this.Y5c=new cT({plot:this.lc});this.tq.add(this.Y5c);this.bnc=this.cLc.bind(this);this.tq.addListener(HR.VUa,this.bnc);this.pO=!1;b.ya().add(this);this.tU=
{};this.N8={};this.uja=f;!0!==this.uja&&null!=e.Wda&&e.Wda.Ob(!1)}var b=function(){function e(h,k){return h.target===k.Vv()}function f(){this.uk=[];this.F8c=this.T$.bind(this);IR.UFa("pointermove").forEach(function(h){Za.addEventListener(h,this.F8c,!0)}.bind(this));this.D8c=function(h){null!=this.gL&&(this.gL.Juc(h),this.gL=null)}.bind(this);Za.document.addEventListener("mouseleave",this.D8c,!0);this.gL=null}var g=null;f.prototype.T$=function(h){if(null==this.gL||!e(h,this.gL.lc)){for(var k=null,
l=0;l<this.uk.length;l++)if(!1!==this.uk[l].isEnabled()&&e(h,this.uk[l].lc)){k=this.uk[l];break}this.gL!==k&&(null!=this.gL&&this.gL.Juc(h),this.gL=k,null!=this.gL&&this.gL.sad(h))}};f.prototype.add=function(h){this.uk.push(h);return this};f.prototype.remove=function(h){var k=this.uk.indexOf(h);-1!==k&&(this.uk.splice(k,1),this.gL===h&&(this.gL=null));return this};f.ya=function(){null==g&&(g=new f);return g};return f}();lc(a,Jl);L(a,"geotoolkit.controls.tools.ToolsContainer");a.prototype.dispose=
function(e){this.tq.removeListener(HR.VUa,this.bnc);b.ya().remove(this);for(var f in this.tU)this.detachEvent(f);!0===e&&this.tq.dispose();this.tU=this.Qi=this.lc=this.tq=null};a.prototype.Ob=function(e){this.tq.Ob(e);return this};a.prototype.isEnabled=function(){return this.tq.isEnabled()};a.prototype.Wb=function(e){return this.tq.Wb(e)};a.prototype.GS=function(e){return this.tq.GS(e)};a.prototype.I4=function(){return this.tq.I4()};a.prototype.sad=function(e){if(!0===this.pO)return this;this.pO=
!0;e=IR.Qqb(e,this.lc);e=new M(e.x,e.y);e=new OR("cg-enter",null,e,this.lc.getRoot(),this.lc);this.x$b(e);this.tq.dispatchEvent("cg-enter",e);return this};a.prototype.Juc=function(e){if(!1===this.pO)return this;this.pO=!1;e=IR.Qqb(e,this.lc);e=new M(e.x,e.y);e=new OR("cg-leave",null,e,this.lc.getRoot(),this.lc);this.x$b(e);this.tq.dispatchEvent("cg-leave",e);return this};a.prototype.Pe=function(){return this.lc};a.prototype.tb=function(){return this.lc.getRoot()};var d={capture:!1,passive:!1};a.prototype.detachEvent=
function(e){if(!this.tU[e])return this;this.tU[e].forEach(function(f){f.object.removeEventListener(e,f.callback,d)});return this};a.prototype.attachEvent=function(e){var f=function(h){var k=IR.Qqb(h,this.lc);k=new OR(e,h,new M(k.x,k.y),this.lc.getRoot(),this.lc);this.x$b(k);this.tq.dispatchEvent(e,k);h.currentTarget===h.target&&"touchend"===h.type&&h.preventDefault()}.bind(this);null==this.tU[e]&&(this.tU[e]=[]);var g=c(this.tq,e,[]);null!=g&&0<g.length&&g.forEach(function(h){var k=null==h?this.lc.Vv():
h;h=this.tU[e].filter(function(l){return l.object===k});0===h.length&&(k.addEventListener(e,f,d),this.tU[e].push({object:k,callback:f}))}.bind(this));return this};a.prototype.add=function(e){this.tq.add(e);this.cLc();return this};a.prototype.cLc=function(){var e=this.tq.Smd(),f;for(f in e)this.attachEvent(f)};a.prototype.remove=function(e){-1!==this.tq.f$a(e)&&this.tq.remove(e);return this};a.prototype.Ec=function(){return this.tq};a.prototype.x$b=function(e){var f=e.ye();if(f&&this.tq.Gm(e))if(null!=
f.touches){for(var g=[],h=e.Pe(),k=h.getBoundingClientRect(),l=0;l<f.touches.length;l++){var m=f.touches[l];g.push(new M((m.clientX-k.left)/(k.right-k.left)*h.ca(),(m.clientY-k.top)/(k.bottom-k.top)*h.da()))}e.KWa(g)}else{f=f.pointerId;switch(e.vh()){case "pointerup":null!=this.N8[f]&&delete this.N8[f];break;case "pointerdown":this.N8[f]=e.Zd();break;case "pointermove":null!=this.N8[f]&&(this.N8[f]=e.Zd())}f=[];for(g in this.N8)this.N8.hasOwnProperty(g)&&f.push(this.N8[g]);e.KWa(f)}};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRFbmFibGVkIjoiT2IiLCJnZXRUb29sQnlOYW1lIjoiV2IiLCJnZXRUb29sQnlUeXBlIjoiR1MiLCJsaXN0VG9vbHNOYW1lcyI6Ikk0IiwiZ2V0Tm9kZSI6InRiIiwiZ2V0VG9vbCI6IkVjIn19fSAg");var OU=/*#__PURE__*/function(){function c(){}L(c,"geotoolkit.controls.tools.Tools");c.start=function(){Jl.DFd(function(a){var b=null,d=a.getRoot();null!=d&&null!=NU&&(b=new NU(a,!0),"function"===typeof d.Ec&&(a=d.Ec(),mc(a,Il)&&b.add(a)));return b})};return c}();var PU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(k){k=G(k,{name:"tooltip",callback:null,autoupdate:!0,autoflip:!1,delay:0,mode:XS.Ro,alignment:O.Ld,orientation:Rh.ob,offsetx:10,offsety:-10,slots:{},positionhandler:d,sizehandler:b},!0);IR.call(this,k);this.te=k.mode;this.mMa=k.delay;this.Be=null;this.WLa=a;if("function"===typeof k.divelement){var l=k.divelement();this.WLa=k.divelement}else k.divelement?l=k.divelement:this.Be=l=this.WLa();this.WI=[];this.sm({pointerup:this.Oc.bind(this),pointerdown:this.Xc.bind(this),
pointermove:this.Ac.bind(this),dblclick:this.Lq.bind(this),"cg-enter":this.gga.bind(this),"cg-leave":this.Ry.bind(this),keydown:{callback:this.Uw.bind(this),object:Za,enabled:this.te!==XS.Ro}});"function"===typeof k.init&&k.init(this);this.Et=k.callback;this.Ey=new h(l,this.te===XS.Ro);this.zH=[];this.XC=this.WC=0;this.Ke=k.alignment;this.Wc=k.orientation;this.j_a=this.yn=!1;this.sZ=this.KR=this.oMa=this.AF=null;this.RHb=new M;this.c5c=[];this.Vs=this.pya.bind(this);this.r4a=this.JOa=null;this.cTc(k)}function a(){var k=Za.document.createElement("div");k.className="cg-tooltip-container";k.style.display="none";e().appendChild(k);return k}function b(){return null}function d(k,l,m){return l}function e(){return null!=f?f:f=Za.document.body}var f=Za.document.body,g=new M,h=function(){function k(l,m){this.c7=l;this.lf=l.style;this.S5c="none"!==this.lf.display?this.lf.display:"inline-block";this.NGb=this.MGb=this.XC=this.WC=0;this.Wc=Rh.ob;this.C_a=null;this.init(m)}k.prototype.init=function(l){"hidden"!==
this.lf.overflow&&(this.lf.overflow="hidden");"nowrap"!==this.lf["white-space"]&&(this.lf["white-space"]="nowrap");"none"!==this.lf.display&&(this.lf.display="none");"absolute"!==this.lf.position&&(this.lf.position="absolute");l&&"none"!==this.lf.pointerEvents&&(this.lf.pointerEvents="none")};k.prototype.J5b=function(l){null==l||l instanceof Jd||(l=null);if(null!=this.C_a&&null!=l&&l.low===this.C_a.low&&l.high===this.C_a.high)return this;this.C_a=l;if(null!=this.C_a){var m=l.low;l=l.high;null!=m&&
0!==m?this.c7.style.minWidth=m+"px":this.c7.style.removeProperty("min-width");null!=l&&0!==l?this.c7.style.maxWidth=l+"px":this.c7.style.removeProperty("max-width")}else this.c7.style.removeProperty("min-width"),this.c7.style.removeProperty("max-width");return this};k.prototype.show=function(l,m,n,p){if(null!=l&&null!=m)this.qKd(m);else return this.v4();m=this.c7.offsetWidth;var q=this.c7.offsetHeight;if(Za.pageYOffset){var r=Za.pageXOffset;var t=Za.pageYOffset}else t=e().scrollTop,r=e().scrollLeft;
var u=l.getX(),w=this.WC-this.MGb*m+r;l=l.getY();var y=-this.XC-this.NGb*q+t;if(n&&null!=p){n=u+w+m;var A=l+y+q,x=this.MGb,C=this.NGb,z=this.WC,v=this.XC;this.Wc===Rh.ob?(n-r>p.right+r&&(z=-z,x=1),u+w-r<p.left+r&&(z=-z,x=0),l+y-t<p.top+t&&(v=-v,C=0),A-t>p.bottom+t&&(v=-v,C=1)):(n+q+w+y-r>p.right+r&&(v=-v,C=1),u-q-r<p.left+r&&(v=-v,C=0),l+y+m-t<p.top+t&&(z=-z,x=0),A-m-t>p.bottom+t&&(z=-z,x=1));w=z-x*m+r;y=-v-C*q+t}this.Wc===Rh.ob?(l+=y,u+=w):(w+=.5*(q+m),y+=.5*(q-m));this.lf.top=Math.round(l)+"px";
this.lf.left=Math.round(u)+"px";this.lf.transform=this.Wc===Rh.ob?"rotate(0deg)":"rotate(-90deg) translateX("+w+"px) translateY("+y+"px)";this.c7.focus();return this};k.prototype.qKd=function(l){this.c7.innerHTML=l;this.lf.display=this.S5c;return this};k.prototype.setOrientation=function(l){this.Wc=l};k.prototype.tc=function(l){this.MGb=qk.Iu(l)?0:qk.kv(l)?1:.5;this.NGb=qk.Qz(l)?0:qk.dC(l)?1:.5};k.prototype.v4=function(){this.lf.display="none";return this};return k}();D(c,IR);L(c,"geotoolkit.controls.tools.ToolTipTool");
c.prototype.cTc=function(k){k=hc(k);if(null==k)return this;void 0!==k.mode&&(this.te=k.mode);null!=k.divelement&&this.YOc(k.divelement);void 0!==k.offsetx&&this.hRc(k.offsetx);void 0!==k.offsety&&this.iRc(k.offsety);void 0!==k.alignment&&(this.Ke=k.alignment,this.Ey.tc(k.alignment),0!==this.zH.length&&this.zH.forEach(function(m){m.tc(k.alignment)}));void 0!==k.orientation&&(this.Wc=k.orientation,this.Ey.setOrientation(k.orientation),0!==this.zH.length&&this.zH.forEach(function(m){m.setOrientation(k.orientation)}));
void 0!==k.callback&&this.nzb(k.callback);if(void 0!==k.autoupdate){var l=this.ec();if(l instanceof Fe&&(l.za(Ce.gb,this.Vs),k.autoupdate))l.on(Ce.gb,this.Vs)}void 0!==k.autoflip&&(this.j_a=k.autoflip);void 0!==k.delay&&(this.mMa=k.delay);void 0!==k.positionhandler&&this.dTc(k.positionhandler);void 0!==k.sizehandler&&this.eTc(k.sizehandler);return this};c.prototype.nzb=function(k){this.Et=k;return this};c.prototype.Wxc=function(){return this.Et};c.prototype.Mi=function(){IR.prototype.Mi.call(this);
!0!==this.isEnabled()&&(this.Ey.v4(),this.kwa())};c.prototype.hRc=function(k){null!=k&&(this.Ey.WC=k,0!==this.zH.length&&this.zH.forEach(function(l){l.WC=k}),this.WC=k);return this};c.prototype.iRc=function(k){null!=k&&(this.Ey.XC=k,0!==this.zH.length&&this.zH.forEach(function(l){l.XC=k}),this.XC=k);return this};c.prototype.vXb=function(){return this.Be?this.WLa:this.Ey.c7};c.prototype.YOc=function(k){null!=k&&(this.qvc(),"function"===typeof k?(this.Be=k(),this.Ey=new h(this.Be,this.te===XS.Ro),this.WLa=
k,k=this.WI.length,this.mvc(),this.Vtc(k)):this.Ey=new h(k,this.te===XS.Ro));return this};c.prototype.ia=function(){var k=IR.prototype.ia.call(this);k.offsetx=this.WC;k.offsety=this.XC;k.alignment=this.Ke;k.orientation=this.Wc;k.mode=this.te;k.autoupdate=this.yn;k.autoflip=this.j_a;k.delay=this.mMa;return k};c.prototype.fa=function(k){IR.prototype.fa.call(this,k);this.cTc(k);return this};c.prototype.setOptions=function(k){return this.fa(k)};c.prototype.gga=function(k){this.fireEvent(HR.gga,k)};c.prototype.Ry=
function(k){this.te===XS.Ro&&(this.Ey.v4(),this.kwa(),null!=this.sZ&&(clearTimeout(this.sZ),this.sZ=null),this.oMa=null);this.fireEvent(HR.Ry,k)};c.prototype.Uw=function(k){27===k.ye().keyCode&&(this.Ey.v4(),this.kwa(),this.yn=!0)};c.prototype.Ac=function(k){this.te===XS.Ro&&this.RWa(k,null,this.mMa)};c.prototype.Xc=function(k){this.AF=k.Zd();switch(this.te){case XS.hza:this.RWa(k);break;case XS.XKa:this.KR&&clearTimeout(this.KR),this.KR=setTimeout(function(){this.RWa(k);this.KR=null}.bind(this),
750)}};c.prototype.Oc=function(k){switch(this.te){case XS.Spa:this.RWa(k);break;case XS.GX:null!=this.AF&&this.AF.Ew(k.Zd())&&this.RWa(k);break;case XS.XKa:this.KR&&(clearTimeout(this.KR),this.KR=null)}this.AF=null};c.prototype.pya=function(){!this.yn&&this.isEnabled()&&null!=this.Et&&null!=this.oMa&&(null==this.mMa||0>=this.mMa?this.iBb(this.oMa,{}):(null!=this.sZ&&(this.Ey.v4(),this.kwa(),clearTimeout(this.sZ)),this.sZ=setTimeout(function(){this.sZ=null;this.iBb(this.oMa,{})}.bind(this),this.mMa)));
return this};c.prototype.Lq=function(k){this.te===XS.MT&&this.RWa(k)};c.prototype.RWa=function(k,l,m){if(this.isEnabled())if(null==this.Et)this.Ey.v4(),this.kwa();else{if(null==l){l=k.tb();var n=this.Kd(null,k);l=l?l.wa().hd(n,n):n}var p=k.ye();n={x:p.clientX,y:p.clientY};null!=p.touches&&0<p.touches.length&&(n={x:p.touches[0].clientX,y:p.touches[0].clientY});g.Ga(n.x,n.y);p=this.JOa(l,g,k);Array.isArray(p)?this.c5c=p:p instanceof M?this.RHb.Ga(p.getX(),p.getY()):this.RHb.Ga(n.x,n.y);this.oMa=l;null==
m||0>=m?this.iBb(l,k):(null!=this.sZ&&(this.Ey.v4(),this.kwa(),clearTimeout(this.sZ)),this.sZ=setTimeout(function(){this.sZ=null;this.iBb(this.oMa,k)}.bind(this),m))}};c.prototype.kwa=function(){0!==this.zH.length&&this.zH.forEach(function(k){k.v4()})};c.prototype.Vtc=function(k){var l=this.WI.length;if(l<k)for(;l<k;l++)this.WI.push(this.WLa?this.WLa():a()),this.zH.push(new h(this.WI[l],this.te===XS.Ro)),this.zH[l].WC=this.WC,this.zH[l].XC=this.XC,this.zH[l].tc(this.Ke),this.zH[l].setOrientation(this.Wc)};
c.prototype.Aud=function(){return this.JOa};c.prototype.dTc=function(k){if("function"===typeof k)return this.JOa=k,this;this.JOa=d;return this};c.prototype.Bud=function(){return this.r4a};c.prototype.eTc=function(k){if("function"===typeof k)return this.r4a=k,this;this.r4a=b;return this};c.prototype.iBb=function(k,l){this.yn=!0;var m=k;if(l instanceof OR){var n=l.Pe().Vv().getBoundingClientRect();m=l.ye();m=null!=m.touches&&0<m.touches.length?new M(m.touches[0].clientX,m.touches[0].clientY):new M(m.clientX,
m.clientY)}var p=null,q=null,r=this.Et(k,l,this);if(null!=r&&Array.isArray(r)){var t,u=r.length;if(0===u)this.kwa();else for(this.Vtc(u),t=0;t<u;t++){var w=r[t];if(null==w)this.zH[t].v4();else{if("object"===typeof w){var y=w.sizerange;var A=w.clientpoint;w=w.content}else if("string"===typeof w)null===p&&(p=this.JOa(k,m,l)),null===q&&(q=this.r4a(k,m,l,r)),A=Array.isArray(p)?p[t]:p,y=Array.isArray(q)?q[t]:q;else{this.zH[t].v4();continue}this.zH[t].J5b(y).show(A instanceof M?A:m,w,this.j_a,n)}}}else null!=
r?"object"===typeof r&&null!=r.content&&0!==r.content.length?(A=null==r.clientpoint?m:r.clientpoint,y=r.sizerange,this.Ey.J5b(y).show(A instanceof M?A:m,r.content,this.j_a,n)):"string"===typeof r&&0!==r.length?(l instanceof OR||(m=this.RHb),p=this.JOa(k,m,l),q=this.r4a(k,m,l,r),A=Array.isArray(p)?p[0]:p,y=Array.isArray(q)?q[0]:q,p=A instanceof M?A:m,this.Ey.J5b(y).show(p,r,this.j_a,n)):this.Ey.v4():0!==this.zH.length?this.kwa():this.Ey.v4();this.yn=!1};c.prototype.qvc=function(){this.Be&&this.Be.parentNode&&
this.Be.parentNode.removeChild(this.Be);this.Be=null};c.prototype.mvc=function(){if(0!==this.WI.length)for(var k=0;k<this.WI.length;k++)this.WI[k]&&this.WI[k].parentNode&&this.WI[k].parentNode.removeChild(this.WI[k]);this.WI=[]};c.prototype.dispose=function(){var k=this.ec();k instanceof Fe&&k.za(Ce.gb,this.Vs);this.KR&&clearTimeout(this.KR);this.sZ&&clearTimeout(this.sZ);this.qvc();this.mvc();IR.prototype.dispose.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRDYWxsYmFjayI6Im56YiIsIm9uRW5hYmxlZFN0YXRlQ2hhbmdlZCI6Ik1pIiwic2V0T2Zmc2V0WCI6ImhSYyIsInNldE9mZnNldFkiOiJpUmMiLCJnZXREaXZFbGVtZW50IjoidlhiIiwic2V0RGl2RWxlbWVudCI6IllPYyIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSIsInVwZGF0ZUluZm8iOiJweWEiLCJnZXRUb29sdGlwUG9zaXRpb25IYW5kbGVyIjoiQXVkIiwic2V0VG9vbHRpcFBvc2l0aW9uSGFuZGxlciI6ImRUYyIsImdldFRvb2x0aXBTaXplSGFuZGxlciI6IkJ1ZCIsInNldFRvb2x0aXBTaXplSGFuZGxlciI6ImVUYyJ9fX0g");var Eva=/*#__PURE__*/function(){function c(a){a=G(a,{group:void 0,name:"level-manipulator",chart:void 0,callback:null},!0);if(null==a.chart)throw Error("value of chart is null");var b={slots:{},name:a.name,layer:a.group};IR.call(this,b);this.sm({mousedown:this.Xc.bind(this),keydown:{callback:this.Uw.bind(this),object:Za,enabled:!0},keyup:{callback:this.$S.bind(this),object:Za,enabled:!0}});this.EF=!1;this.Uhb=a.chart;this.ht=a.callback;this.PF=0;this.ulb=[];this.Uhb.RJd(!0)}D(c,IR);L(c,"geotoolkit.controls.tools.treemap.TreemapLevelTool");
c.prototype.Xc=function(a){this.isEnabled()&&(a=this.Kd(null,a),a=this.Uhb.Li(a),0<a.length&&(this.EF?(this.Uhb.U8b(a[0].id,!0),this.ht&&0<this.PF?(this.ulb.pop(),a={list:this.ulb,action:"removed"},this.ht.call(this,a),--this.PF):0<this.PF&&--this.PF):1<=a[0].children&&(this.Uhb.U8b(a[0].id,!1),this.PF+=1,this.ulb.push(a[0].name),this.ht&&(a={list:this.ulb,action:"added"},this.ht.call(this,a)))))};c.prototype.Uw=function(a){!0!==this.EF&&!0===a.ye().ctrlKey&&(this.EF=!0)};c.prototype.$S=function(){!this.Hd()&&
!1!==this.EF&&this.EF&&(this.EF=!1)};return c}();var QU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){PR.call(this,a);b?(this.W8=b.visiblemodellimits||null,this.x8=b.scaling||b):this.x8=this.W8=null}D(c,PR);L(c,"geotoolkit.controls.tools.ZoomEventArgs");c.prototype.Yub=function(){return this.x8};c.prototype.vb=function(){return this.W8};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTY2FsaW5nIjoiWXViIiwiZ2V0VmlzaWJsZU1vZGVsTGltaXRzIjoidmIifX19");var RU=/*#__PURE__*/va(/*#__PURE__*/{Aa:0,Ca:1,l1:2,ZFb:4},2,"eyJYIjoiQWEiLCJZIjoiQ2EiLCJYWSI6ImwxIiwiVG91Y2hQb2ludCI6IlpGYiJ9"),SU=/*#__PURE__*/va(/*#__PURE__*/{ZP:"onZoomStart",bT:"onZoom",ov:"onZoomEnd",Lq:"onDoubleClick"},2,"eyJvblpvb21TdGFydCI6IlpQIiwib25ab29tIjoiYlQiLCJvblpvb21FbmQiOiJvdiIsIm9uRG91YmxlQ2xpY2siOiJMcSJ9"),TU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(h){h=h||{};var k={slots:{},layer:h.layer,name:h.name||"zoom"};IR.call(this,k);this.sm({wheel:this.zp.bind(this),pointerdown:this.Xc.bind(this),pointermove:this.Ac.bind(this),pointerup:{callback:this.Oc.bind(this),object:Za}});this.Ei=0;this.ui=Infinity;this.s4a=1.1;this.P4a=0;this.te=RU.l1;this.JAa=md.Q8a()[kd.IDb];this.fa(h);this.R6=0;this.Sia=null;this.jda=new U;this.ALd([0,
1,2])}var a=25,b=1.25,d=3,e=new U,f=new U,g=new W;D(c,IR);L(c,"geotoolkit.controls.tools.Zoom");c.Av=RU;c.Ja=SU;c.prototype.E5=function(h){null!=this.Sia&&(clearTimeout(this.Sia),this.R6=0,this.Sia=null,this.fireEvent(SU.ov,new QU(h,null)));return this};c.prototype.setMode=function(h){this.te=h;return this};c.prototype.start=function(h){this.Hd()||this.fireEvent(c.Ja.ZP,new QU(h,null));return IR.prototype.start.call(this,h)};c.prototype.Xc=function(h){if(this.Gm(h)){var k=this.ec(),l=h.ena();null!=
k&&2===l.length&&(this.Rrc(l[0],l[1],this.jda),h.stopPropagation(!0,!0),this.start(h))}};c.prototype.Ac=function(h){if(this.Hd()&&this.Gm(h)){var k=this.ec(),l=h.ena();if(null!=k&&2===l.length){var m=k.wa();this.Rrc(l[0],l[1],e);f.cb(e);m.pd(e,e);m.pd(this.jda,this.jda);W.Sd(e,this.jda,!1,!1,!1,g);var n=k.vb();k=g.Ta(n);switch(this.te){case RU.Aa:m=e.ca()/this.jda.ca();var p=1;k.setY(n.getY()).Ya(n.da());break;case RU.Ca:m=1;p=e.da()/this.jda.da();k.setX(n.getX()).Ra(n.ca());break;case RU.ZFb:p=m=
e.ktb()/this.jda.ktb();break;default:m=e.ca()/this.jda.ca(),p=e.da()/this.jda.da()}this.jda.cb(f);h.stopPropagation(!0,!0);l=h.Zd().Ew(l[0])?l[1]:l[0];this.fireEvent(c.Ja.bT,new QU(h,{visiblemodellimits:k,scaling:{x:m,y:p,point:l.ia()}}))}}};c.prototype.Oc=function(h){if(this.Hd()&&this.Gm(h)){var k=h.ena();2>k.length&&(this.fireEvent(c.Ja.ov,new QU(h,null)),this.stop())}h.ye().target===h.Pe().wk()&&this.X$a(h.Zd())&&this.fireEvent(c.Ja.Lq,new QU(h,{x:this.s4a,y:this.s4a,point:h.Zd()}))};c.prototype.zp=
function(h){var k=h.ye(),l=k.deltaY;if(l){k.preventDefault();if(0===this.R6)this.R6=Math.sign(l);else if(0<this.R6===0<l)this.R6=V.clamp(this.R6*b,-d,d);else{this.E5();this.stop();return}k=Math.pow(this.s4a,-this.R6);l=h.tb();l=l.lb();null!=l&&(0<this.Ei||Infinity>this.ui)&&(l=l.pb()*k,0<this.R6&&l>this.ui?k*=this.ui/l:0>this.R6&&l<this.Ei&&(k*=this.Ei/l));this.te===RU.Aa?this.Rrb(k,1,h.Zd().ia(),h):this.te===RU.Ca?this.Rrb(1,k,h.Zd().ia(),h):this.Rrb(k,k,h.Zd().ia(),h)}};c.prototype.Rrb=function(h,
k,l,m){null!=this.Sia&&clearTimeout(this.Sia);this.start(m);if(0>=this.P4a)this.fireEvent(SU.bT,new QU(m,{x:h,y:k,point:l})),this.fireEvent(SU.ov,new QU(m,null)),this.stop(),this.R6=0,this.Sia=null;else{var n=this,p=Date.now(),q=p+this.P4a,r=1,t=1,u=function(){var w=Math.min(Date.now(),q),y=n.JAa(null,w-p,0,1,n.P4a),A=1+y*(h-1);y=1+y*(k-1);n.fireEvent(SU.bT,new QU(m,{x:A/r,y:y/t,point:l}));w===q?(n.R6=0,n.Sia=null,n.fireEvent(c.Ja.ov,new QU(m,null)),n.stop()):(r=A,t=y,n.Sia=setTimeout(u,a))};this.Sia=
setTimeout(u,a)}};c.prototype.zoom=function(h,k,l,m){this.Rrb(h,k||h,{x:l,y:m})};c.prototype.fa=function(h){h=hc(h);if(null==h)return this;IR.prototype.fa.call(this,h);null!=h.mode&&this.setMode(h.mode);if(null!=h.easing){var k=md.Q8a();this.JAa=k[h.easing]||this.JAa}null!=h.min&&(this.Ei=Math.max(0,h.min));null!=h.max&&(this.ui=Math.max(this.Ei,h.max));1<h.speed&&(this.s4a=h.speed);null!=h.time&&(this.P4a=Math.max(0,h.time));return this};c.prototype.ia=function(){var h=IR.prototype.ia.call(this);
h.mode=this.te;h.easing=this.JAa;h.min=this.Ei;h.max=this.ui;h.speed=this.s4a;h.time=this.P4a;return h};c.prototype.Rrc=function(h,k,l){l.cb(h.getX(),h.getY(),k.getX(),k.getY());h=l.ca();k=l.da();if(1>h||1>k){var m=l.cc(),n=l.zc();1>h&&l.Ra(1);1>k&&l.Ya(1);l.LG(m,n)}return l};c.prototype.Mi=function(){this.isEnabled()||this.E5();IR.prototype.Mi.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzdG9wSW5lcnRpYSI6IkU1Iiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwib25FbmFibGVkU3RhdGVDaGFuZ2VkIjoiTWkifX19");var VU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){ue.call(this)}D(c,ue);L(c,"geotoolkit.controls.util.LegendSource");c.prototype.gpd=Fb;c.prototype.ee=Fb;c.prototype.Tc=Fb;return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRJdGVtQ291bnQiOiJncGQiLCJnZXRUZXh0IjoiZWUiLCJnZXRTeW1ib2wiOiJUYyJ9fX0g");var WU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){xR.call(this,a);this.J1=2}D(c,xR);L(c,"geotoolkit.controls.util.regression.Logarithmic");c.prototype.RE=function(a,b,d){xR.prototype.RE.call(this,a,b,d);a=Array.isArray(a)?a:this.ja.x;b=Array.isArray(b)?b:this.ja.y;if(this.Qs.length>=this.J1&&this.bra)this.VU=function(m){return this.Qs[0]+this.Qs[1]*Math.log(m)};else{var e=[0,0,0,0,0],f=0;null!=this.lV&&(e=this.lV);for(var g=Math.min(a.length,b.length);f<g;f++)if(null!=b[f]){var h=d&&null!=d[f]&&0<d[f]?d[f]:1;e[0]+=
h*Math.log(a[f]);e[1]+=h*b[f]*Math.log(a[f]);e[2]+=h*b[f];e[3]+=h*Math.pow(Math.log(a[f]),2);e[4]+=h}var k=(e[4]*e[1]-e[2]*e[0])/(e[4]*e[3]-e[0]*e[0]),l=(e[2]-k*e[0])/e[4];this.lV=e;this.Qs=[l,k];this.VU=function(m){return l+k*Math.log(m)}}};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaXQiOiJSRSJ9fX0g");var XU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{order:2},!0);xR.call(this,a);this.ONb=a.order;this.Zjc=[];this.knc=[]}D(c,xR);L(c,"geotoolkit.controls.util.regression.Polynomial");c.prototype.setOptions=function(a){xR.prototype.setOptions.call(this,a);null!=a.order&&(this.ONb=a.order,this.gNb=!0);this.gNb&&this.ja.x&&this.ja.y&&(this.RE(),this.notify(xR.Eza,this,this),this.gNb=!1);return this};c.prototype.ta=function(){var a=xR.prototype.ta.call(this);a.order=this.ONb;return a};c.prototype.FVa=function(){xR.prototype.FVa.call(this);
this.Zjc=[];this.knc=[]};c.prototype.RE=function(a,b,d){xR.prototype.RE.call(this,a,b,d);a=Array.isArray(a)?a:this.ja.x;b=Array.isArray(b)?b:this.ja.y;if(this.Qs.length>=this.J1&&this.bra)this.VU=function(t){for(var u=null,w=0;w<this.J1;w++)u+=this.Qs[w]*Math.pow(t,w);return u};else{var e=this.ONb,f=this.Zjc,g=this.knc,h=0,k=h=0;e+=1;for(var l,m=Math.min(a.length,b.length),n;k<e;k++){h=null!=f[k]?f[k]:0;for(l=0;l<m;l++)n=d&&null!=d[l]&&0<d[l]?d[l]:1,null!=b[l]&&(h+=n*Math.pow(a[l],k)*b[l]);f[k]=h;
for(var p=null!=g[k]?g[k]:[],q=0;q<e;q++){h=null!=p[q]?p[q]:0;for(l=0;l<m;l++)n=d&&null!=d[l]&&0<d[l]?d[l]:1,null!=b[l]&&(h+=n*Math.pow(a[l],k+q));p[q]=h}g[k]=p}g[e]=f;a=function(t,u){for(var w,y,A,x=t.length-1,C=Array(u),z=0;z<x;z++){y=z;for(u=z+1;u<x;u++)Math.abs(t[z][u])>Math.abs(t[z][y])&&(y=u);for(w=z;w<x+1;w++)A=t[w][z],t[w][z]=t[w][y],t[w][y]=A;for(u=z+1;u<x;u++)for(w=x;w>=z;w--)t[w][u]-=t[w][z]*t[z][u]/t[z][z]}for(u=x-1;0<=u;u--){A=0;for(w=u+1;w<x;w++)A+=t[w][u]*C[w];C[u]=(t[x][u]-A)/t[u][u]}return C};
g=JSON.parse(JSON.stringify(g));var r=a(g,e);this.J1=r.length;this.Qs=r;this.VU=function(t){for(var u=null,w=0;w<r.length;w++)u+=r[w]*Math.pow(t,w);return u}}};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJyZXNldE1vZGVsIjoiRlZhIiwiZml0IjoiUkUifX19");var YU=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){xR.call(this,a);this.J1=2}D(c,xR);L(c,"geotoolkit.controls.util.regression.Power");c.prototype.RE=function(a,b,d){xR.prototype.RE.call(this,a,b,d);a=Array.isArray(a)?a:this.ja.x;b=Array.isArray(b)?b:this.ja.y;this.Qs.length>=this.J1&&this.bra&&(this.VU=function(m){return this.Qs[0]*Math.pow(m,this.Qs[1])});var e=[0,0,0,0,0],f=0;null!=this.lV&&(e=this.lV);for(var g=Math.min(a.length,b.length);f<g;f++)if(null!==b[f]){var h=d&&null!=d[f]&&0<d[f]?d[f]:1;e[0]+=h*Math.log(a[f]);
e[1]+=h*Math.log(b[f])*Math.log(a[f]);e[2]+=h*Math.log(b[f]);e[3]+=h*Math.pow(Math.log(a[f]),2);e[4]+=h}var k=(e[4]*e[1]-e[2]*e[0])/(e[4]*e[3]-e[0]*e[0]),l=Math.exp((e[2]-k*e[0])/e[4]);this.Qs=[l,k];this.lV=e;this.VU=function(m){return l*Math.pow(m,k)}};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaXQiOiJSRSJ9fX0g");export {vN,wN,xN,yN,LP,MP,OP,PP,QP,RP,SP,TP,UP,VP,WP,XP,YP,$P,aQ,bQ,cQ,dQ,eQ,gQ,hQ,iQ,jQ,kQ,lQ,mQ,oQ,pQ,qQ,rQ,tQ,uQ,vQ,xQ,yQ,zQ,AQ,BQ,CQ,DQ,EQ,GQ,HQ,IQ,JQ,KQ,LQ,MQ,NQ,PQ,QQ,SQ,TQ,VQ,WQ,XQ,YQ,$Q,aR,bR,cR,dR,eR,gR,hR,iR,jR,lR,mR,nR,pR,qR,rR,sR,tR,uR,vR,wR,xR,zR,AR,BR,CR,DR,FR,GR,HR,IR,KR,LR,NR,OR,PR,QR,RR,SR,TR,UR,WR,YR,$R,aS,bS,cS,dS,eS,fS,gS,hS,iS,jS,lS,mS,nS,oS,pS,rS,tS,uS,vS,xS,yS,zS,AS,BS,CS,DS,ES,FS,GS,HS,IS,JS,KS,LS,NS,OS,PS,QS,RS,SS,US,VS,WS,XS,ZS,$S,aT,cT,dT,eT,fT,gT,iT,jT,kT,lT,mT,nT,oT,pT,qT,rT,sT,tT,uT,vT,wT,xT,yT,zT,AT,CT,BT,ET,FT,HT,GT,JT,KT,LT,MT,NT,OT,PT,QT,RT,ST,TT,UT,VT,$ua,WT,XT,YT,ZT,$T,aU,bU,cU,dU,eU,fU,gU,hU,iU,jU,kU,mU,nU,oU,qU,rU,sU,nva,tU,pva,uU,vU,wU,xU,yU,tva,zU,AU,BU,CU,DU,EU,FU,GU,HU,IU,JU,KU,MU,NU,OU,PU,Eva,QU,RU,SU,TU,VU,WU,XU,YU};