/* eslint-disable */
import {L,Fb,lc,nc,lg,W,oi,ho,rf,X,D,Ce,M,td,hc,hb,O,Fi,ek,ck,U,Vd,Eg,Ko,G,rb,bk,$n,Vm,$m,io,Fe,xc,yc,Za,Cl,Pf,ni,uk,rk,yf,zf,Rh,am,Zh,jl,Am,$c,Dl,Tm,Ed,dh,va} from './geotoolkit.base.js';import {$k} from './geotoolkit.http.js';import {UE,AE} from './geotoolkit.svg.js';import {VP,YP,TP,OR,WP,RR,IR,eQ,PP,UR,KR,YR,NS,bU,aU,aT,$S,HS,yS,VS,HR} from './geotoolkit.controls.js';import {JZ} from './geotoolkit.widgets.js';var aa,ha=ha||{};ha.scope={};ha.Nqc=function(c){var a=0;return function(){return a<c.length?{done:!1,value:c[a++]}:{done:!0}}};ha.Moe=function(c){return{next:ha.Nqc(c)}};ha.qXc=!1;ha.URd=!1;ha.VRd=!1;ha.Mfe=!1;ha.Acc=!1;ha.defineProperty=ha.qXc||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,a,b){if(c==Array.prototype||c==Object.prototype)return c;c[a]=b.value;return c};
ha.cod=function(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<c.length;++a){var b=c[a];if(b&&b.Math==Math)return b}return function(){throw Error("Cannot find global object");}()};ha.global=ha.cod(this);ha.nEb="function"===typeof Symbol&&"symbol"===typeof Symbol("x");ha.hje=!ha.Acc||ha.nEb;ha.r3b={};ha.L3b={};ha.S1c="$jscp$";
function aaa(c,a){var b=ha.L3b[a];if(null==b)return c[a];b=c[b];return void 0!==b?b:c[a]}ha.lKc=function(c,a,b,d){a&&(ha.Acc?ha.ZDd(c,a,b,d):ha.$Dd(c,a,b,d))};ha.$Dd=function(c,a,b,d){b=ha.global;c=c.split(".");for(d=0;d<c.length-1;d++){var e=c[d];if(!(e in b))return;b=b[e]}c=c[c.length-1];d=b[c];a=a(d);a!=d&&null!=a&&ha.defineProperty(b,c,{configurable:!0,writable:!0,value:a})};
ha.ZDd=function(c,a,b,d){var e=c.split(".");c=1===e.length;d=e[0];d=!c&&d in ha.r3b?ha.r3b:ha.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];b=ha.nEb&&"es6"===b?d[e]:null;a=a(b);null!=a&&(c?ha.defineProperty(ha.r3b,e,{configurable:!0,writable:!0,value:a}):a!==b&&(ha.L3b[e]=ha.nEb?ha.global.Symbol(e):ha.S1c+e,e=ha.L3b[e],ha.defineProperty(d,e,{configurable:!0,writable:!0,value:a})))};ha.Ise=function(){};
ha.lKc("Symbol",function(c){function a(f){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new b(d+(f||"")+"_"+e++,f)}function b(f,g){this.oXc=f;ha.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})}if(c)return c;b.prototype.toString=function(){return this.oXc};var d="jscomp_symbol_",e=0;return a},"es6","es3");ha.Kse=function(){};
ha.lKc("Symbol.iterator",function(c){if(c)return c;c=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),b=0;b<a.length;b++){var d=ha.global[a[b]];"function"===typeof d&&"function"!=typeof d.prototype[c]&&ha.defineProperty(d.prototype,c,{configurable:!0,writable:!0,value:function(){return ha.Nyd(ha.Nqc(this))}})}return c},"es6","es3");ha.Jse=function(){};
ha.Nyd=function(c){c={next:c};c[Symbol.iterator]=function(){return this};return c};var X2=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}L(c,"geotoolkit.flowcharts.commands.ICommand");c.prototype.hg=Fb;c.prototype.AQ=Fb;return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJleGVjdXRlIjoiaGciLCJ1bmRvIjoiQVEifX19");var Y2=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){this.Nvb=[]}c.prototype.on=function(a){this.Nvb.push(a)};c.prototype.za=function(a){this.Nvb=this.Nvb.filter(function(b){return b!==a})};c.prototype.Xdb=function(a){this.Nvb.slice(0).forEach(function(b){return b(a)})};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvZmYiOiJ6YSIsInRyaWdnZXIiOiJYZGIifX19");var Z2=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){this.Dia=0;this.rVa=this.poa=null}c.prototype.enqueue=function(a){a={value:a};var b=this.rVa;this.rVa?(this.rVa=a,b.poa=a):this.rVa=this.poa=a;this.Dia++};c.prototype.Yuc=function(){var a=this.poa.value;this.poa=this.poa.poa;this.poa||(this.rVa=null);this.Dia--;return a};c.prototype.NDd=function(){if(this.poa)return this.poa.value};c.prototype.isEmpty=function(){return null===this.rVa};c.prototype.Ix=function(){return this.Dia};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJkZXF1ZXVlIjoiWXVjIiwicGVlayI6Ik5EZCIsImdldENvdW50IjoiSXgifX19");var $2=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}c.flatten=function(a){return a.reduce(function(b,d){return b.concat(Array.isArray(d)?c.flatten(d):d)},[])};c.$O=function(a,b,d,e,f){null==f?(a.push(d),b.push(e)):(a.splice(f,0,d),b.splice(f,0,e))};c.xyb=function(a,b,d,e){null==e&&(e=1);a.splice(d,e);b.splice(d,e)};c.yVa=function(a,b,d){for(var e=[],f=[],g=0;g<a.length;g++)if(2>e.length)e.push(a[g]),f.push(b[g]);else{var h=e.length;!d&&c.YMc(e[h-2],f[h-2],e[h-1],f[h-1],a[g],b[g])||d&&c.Lqc(e[h-2],f[h-2],a[g],b[g],e[h-
1],f[h-1],a[g],b[g],.5,!1)?(e[h-1]=a[g],f[h-1]=b[g]):(e.push(a[g]),f.push(b[g]))}return{x:e,y:f}};c.YMc=function(a,b,d,e,f,g){return 1>Math.abs((b-e)*(a-f)-(b-g)*(a-d))};c.Lqc=function(a,b,d,e,f,g,h,k,l,m){void 0===l&&(l=0);void 0===m&&(m=!0);if((Math.abs(a-d)<c.EPSILON||Math.abs(f-h)<c.EPSILON)&&Math.abs(b-e)<c.EPSILON&&Math.abs(g-k)<c.EPSILON){if((0<b-e===0<g-k||!m)&&Math.abs((a-d)/(b-e)-(f-h)/(g-k))<.05*l)return!0}else if((Math.abs(b-e)<c.EPSILON||Math.abs(g-k)<c.EPSILON)&&Math.abs(a-d)>c.EPSILON&&
Math.abs(f-h)>c.EPSILON){if((0<a-d===0<f-h||!m)&&Math.abs((b-e)/(a-d)-(g-k)/(f-h))<.05*l)return!0}else if(!m||0<b-e===0<g-k&&0<a-d===0<f-h)return Math.abs((b-e)/(a-d)-(g-k)/(f-h))<.05*l||Math.abs((a-d)/(b-e)-(f-h)/(g-k))<.05*l;return!1};c.findIndex=function(a,b){if(null==this)throw new TypeError('"this" is null or not defined');a=Object(a);var d=a.length>>>0;if("function"!==typeof b)throw new TypeError("predicate must be a function");for(var e=b,f=0;f<d;){var g=a[f];if(b.call(e,g,f,a))return f;f++}return-1};
c.find=function(a,b){if(null==this)throw new TypeError('"this" is null or not defined');a=Object(a);var d=a.length>>>0;if("function"!==typeof b)throw new TypeError("predicate must be a function");for(var e=b,f=0;f<d;){var g=a[f];if(b.call(e,g,f,a))return g;f++}};c.$0=9007199254740991;c.BKa=-9007199254740991;c.EPSILON=1E-14;return c}(),1,"eyJhZGRQb2ludCI6IiRPIiwicmVtb3ZlUG9pbnQiOiJ4eWIiLCJyZW1vdmVDb2xpbmVhclBvaW50cyI6InlWYSIsInNhbWVMaW5lIjoiWU1jIiwiYXBwcm94aW1hdGVMaW5lIjoiTHFjIiwiTUFYX0lOVCI6IiQwIiwiTUlOX0lOVCI6IkJLYSJ9");var a3=/*#__PURE__*/function(){function c(){this.reset()}c.prototype.reset=function(){this.oKa=this.zYa=0;this.SX=$2.$0};return c}();var b3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}L(c,"geotoolkit.flowcharts.shapes.IComponent");c.prototype.EP=Fb;c.prototype.Wma=Fb;c.prototype.DM=Fb;c.prototype.yfa=Fb;c.prototype.Ky=Fb;c.prototype.Roa=Fb;c.prototype.Vd=Fb;c.prototype.Jw=Fb;c.prototype.$B=Fb;c.prototype.Lxa=Fb;c.prototype.Eb=Fb;c.prototype.r0=Fb;c.prototype.Mz=Fb;c.prototype.cva=Fb;return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm90b3R5cGVJZCI6IkVQIiwiZ2V0UHJvdG90eXBlTmFtZSI6IldtYSIsImdldENhdGVnb3J5IjoiRE0iLCJnZXRTZWFyY2hLZXl3b3JkcyI6InlmYSIsImdldERlZmF1bHRTaXplIjoiS3kiLCJzZXREZWZhdWx0U2l6ZSI6IlJvYSIsImdldEdlb21ldHJ5IjoiVmQiLCJnZXRPdXRsaW5lIjoiSnciLCJnZXRMaW5rUG9pbnRzIjoiJEIiLCJzZXRMaW5rUG9pbnRzIjoiTHhhIiwic2V0VGV4dCI6IkViIiwic2V0VXJsIjoicjAiLCJnZXRVcmwiOiJNeiIsImdldERlZmF1bHRJY29uU2l6ZSI6ImN2YSJ9fX0g");var c3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}L(c,"geotoolkit.flowcharts.shapes.connectors.ILink");lc(c,b3);c.prototype.p8a=Fb;c.prototype.BN=Fb;return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb25uZWN0aW9ucyI6InA4YSIsInVwZGF0ZUxpbmtzIjoiQk4ifX19");var d3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){void 0===b&&(b=10);this.MA=a;this.fcd=b;this.yL=[];this.d9=this.haa=0;this.kha=[]}c.prototype.cFa=function(a,b){var d=new Z2,e=~~(a.getX()/this.MA);a=~~(a.getY()/this.MA);var f=~~(b.getX()/this.MA);b=~~(b.getY()/this.MA);0>e&&(e=0);e>=this.d9&&(e=this.d9-1);0>a&&(a=0);a>=this.haa&&(a=this.haa-1);d.enqueue({jx:a,Yz:e});this.kha[a][e].SX=0;this.kha[a][e].oKa=-100;this.kha[a][e].SX=-100;var g={state:!1};c.acd(d,this.yL,f,b,this.kha,0,g);if(g.state){var h=[];d=b;for(g=
f;;){h.push({jx:d,Yz:g});if(d===a&&g===e)break;g=this.kha[d][g];d=g.oKa;g=g.zYa}}c.$ac&&this.UDd(this.kha,e,a,f,b,h);return h};c.prototype.wX=function(a,b,d){this.g9c=b?b:[];this.t7c=d?d:[];b=a.ga();this.haa=Math.max(1,Math.ceil(b.da()/this.MA));this.d9=Math.max(1,Math.ceil(b.ca()/this.MA));if(null===this.yL||this.haa!==this.yL.length||null===this.yL[0]||this.d9!==this.yL[0].length)for(this.yL=[],this.kha=[],b=0;b<this.haa;b++)for(this.yL[b]=[],this.kha[b]=[],d=0;d<this.d9;d++)this.kha[b][d]=new a3,
this.yL[b][d]=1;else for(b=0;b<this.haa;b++)for(d=0;d<this.d9;d++)this.kha[b][d].reset(),this.yL[b][d]=1;for(b=0;b<a.Yb();b++)this.hKc(a.eb(b),this.fcd)};c.prototype.UDd=function(a,b,d,e,f,g){for(b=0;b<a.length;b++)for(d=0;d<a[0].length;d++)this.yL[b][d]!==c.OZa&&(this.yL[b][d]+=a[b][d].SX)};c.prototype.hKc=function(a,b,d){if(nc(a,b3)&&-1===this.t7c.indexOf(a)&&"class-text"!==a.EP()){var e=a instanceof lg&&a.lb()?a.lb().clone():new W;d&&e.st(d);nc(a,b3)&&this.VDd(a,e,0<=this.g9c.indexOf(a)?5*b:b);
if(a instanceof oi)for(d=0;d<a.Yb();d++)this.hKc(a.eb(d),b,e);else nc(a,c3)}};c.prototype.VDd=function(a,b,d){a=a.ga().clone();var e=b.Ta(a).Uc(this.MA,this.MA);b=Math.max(0,Math.min(Math.floor(e.la()/this.MA),this.d9));var f=Math.max(0,Math.min(Math.floor(e.ka()/this.MA),this.haa));a=Math.max(0,Math.min(Math.ceil(e.na()/this.MA),this.d9));for(e=Math.max(0,Math.min(Math.ceil(e.ma()/this.MA),this.haa));f<this.haa&&f<e;f++)for(var g=b;g<this.d9&&g<a;g++)this.yL[f][g]+=d};c.prototype.Zue=function(a,
b,d){};c.prototype.q3b=function(a,b,d){b=~~(b/this.MA);a=~~(a/this.MA);0>a||a>=this.d9||0>b||b>=this.haa||(this.yL[b][a]+=d)};c.prototype.Xue=function(a,b,d,e,f){a=~~a;b=~~b;d=~~d;e=~~e;var g=e-b,h=d-a;if(0>g){g=-g;var k=-1}else k=1;if(0>h){h=-h;var l=-1}else l=1;g<<=1;h<<=1;this.q3b(a,b,f);var m;if(h>g)for(m=g-(h>>1);a!==d;)0<=m&&(b+=k,m-=h),this.q3b(a,b,f),a+=l,m+=g;else for(m=h-(g>>1);b!==e;)0<=m&&(a+=l,m-=g),this.q3b(a,b,f),b+=k,m+=h};c.acd=function(a,b,d,e,f,g,h){for(;0<a.Ix();){g=a.Yuc();var k=
g.jx,l=g.Yz;g=-100!==f[k][l].SX?f[k][l].SX:0;k===e&&l===d&&(h.state=!0);0<k&&b[k-1][l]!==c.OZa&&g+b[k-1][l]<f[k-1][l].SX&&(f[k-1][l].SX=g+b[k-1][l],f[k-1][l].zYa=l,f[k-1][l].oKa=k,a.enqueue({jx:k-1,Yz:l}));k+1<b.length&&b[k+1][l]!==c.OZa&&g+b[k+1][l]<f[k+1][l].SX&&(f[k+1][l].SX=g+b[k+1][l],f[k+1][l].zYa=l,f[k+1][l].oKa=k,a.enqueue({jx:k+1,Yz:l}));0<l&&b[k][l-1]!==c.OZa&&g+b[k][l-1]<f[k][l-1].SX&&(f[k][l-1].SX=g+b[k][l-1],f[k][l-1].zYa=l,f[k][l-1].oKa=k,a.enqueue({jx:k,Yz:l-1}));l+1<b[0].length&&b[k][l+
1]!==c.OZa&&g+b[k][l+1]<f[k][l+1].SX&&(f[k][l+1].SX=g+b[k][l+1],f[k][l+1].zYa=l,f[k][l+1].oKa=k,a.enqueue({jx:k,Yz:l+1}))}};c.$ac=0;c.OZa=-1;return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaW5kUGF0aCI6ImNGYSJ9fX0g");var e3=/*#__PURE__*/function(){function c(a,b,d){void 0===d&&(d=!0);ho.call(this,a?a.pa():new ho);this.rOd=d;this.had=new rf({color:"rgba(0, 0, 0, 0.8)"});this.fa({linestyle:new X({color:"rgba(150, 150, 150, 0.4)",width:1,pixelsnapmode:!0}),fillstyle:new rf({color:"rgba(0, 200, 0, 0.05)"})});this.uJ=b;this.jAb(a)}D(c,ho);L(c,"geotoolkit.flowcharts.shapes.PathGrid");c.prototype.jAb=function(a){if(a!==this.AM){this.AM&&(this.AM.za(Ce.Uq,function(){this.sa(this.AM.pa());this.wX(this.AM)}.bind(this)),this.AM.za(Ce.Qn,
function(){this.wX(this.AM)}.bind(this)),this.AM.za(Ce.zo,function(){this.wX(this.AM)}.bind(this)),this.AM.za(Ce.RI,function(){this.wX(this.AM)}.bind(this)));if(this.AM=a)a.on(Ce.Uq,function(){this.sa(this.AM.pa())}.bind(this)),a.on(Ce.Qn,function(){this.wX(this.AM)}.bind(this)),a.on(Ce.zo,function(){this.wX(this.AM)}.bind(this)),a.on(Ce.RI,function(){this.wX(this.AM)}.bind(this));this.sa(this.AM.pa());this.wX(this.AM)}};c.prototype.wX=function(a){};c.prototype.Yue=function(a,b){var d=a.ce().slice();
a=a.Fe().slice();b.Naa(d,a,d.length);this.path=this.uJ.cFa(new M(d[0],a[0]),new M(d[d.length-1],a[a.length-1]))};c.prototype.LGd=function(a){a=this.Qa()?a.Zb(this.Qa()):a;a.yV();var b=this.ga();a.ra(this.Ea());for(var d=b.la();d<b.na();d+=this.uJ.MA)a.Nc(d,b.ka(),d,b.ma());for(d=b.ka();d<b.ma();d+=this.uJ.MA)a.Nc(b.la(),d,b.na(),d);a.HV()};c.prototype.F4b=function(a){if(!a.ac()){a=this.Qa()?a.Zb(this.Qa()):a;a.yV();a.qa(this.fb());a.ra(null);var b=this.ga(),d=$2.BKa,e=this.uJ.yL;e.forEach(function(n){n.forEach(function(p){d=
Math.max(d,p)})});for(var f=255/d,g=0;g<this.uJ.haa;g++)for(var h=0;h<this.uJ.d9;h++)if(e[g][h]){if(0>e[g][h])a.qa(this.had);else{var k=Math.min(e[g][h]*f,255),l=255-k,m=255-k;a.qa(new rf({color:new td(k,m,l,1)}))}a.sc(b.la()+h*this.uJ.MA,b.ka()+g*this.uJ.MA,this.uJ.MA,this.uJ.MA)}a.HV()}};c.prototype.TGd=function(a){if(this.path){a=this.Qa()?a.Zb(this.Qa()):a;a.yV();a.qa(new rf({color:"rgba(0, 200, 0, 1)"}));a.ra(new X({color:"transparent"}));for(var b=this.ga(),d=0,e=this.path;d<e.length;d++){var f=
e[d];a.sc(b.la()+f.Yz*this.uJ.MA,b.ka()+f.jx*this.uJ.MA,this.uJ.MA,this.uJ.MA)}a.HV()}};c.prototype.render=function(a){a.ac()||(ho.prototype.render.call(this,a),this.F4b(a),this.TGd(a),this.rOd&&this.LGd(a))};return c}();var f3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}c.Py=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;a="x"===a?b:b&3|8;return a.toString(16)})};return c}(),1,"eyJuZXdHdWlkIjoiUHkifSAg");var g3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=hc(a);oi.call(this,a);this.tt=[];this.tt.length=5;this.Yc(!1);this.bxd();this.fa(a)}D(c,oi);lc(c,b3);L(c,"geotoolkit.flowcharts.shapes.DiagramVisual");c.prototype.I0=function(){if(this.ep&&!this.jpc){var a=this.ga();if(a){this.jpc=!0;this.tt[0]=a.bd();this.tt[1]=a.Wf();this.tt[2]=a.nf();this.tt[3]=a.Vf();this.tt[4]=a.getCenter();var b=this.wa();if(b)for(var d=0;d<this.tt.length;d++)this.tt[d]=b.Ma(this.tt[d]);b=M.Uf(this.tt[0],this.tt[1]);d=M.Uf(this.tt[0],this.tt[3]);
this.ep.setSize(b,d);b=a.getCenter();d=O.Na;switch(this.ep.jb().pj()){case Fi.Vu:case Fi.kc:b=a.CSa();d=O.vd;break;case Fi.Ao:case Fi.$b:b=a.cGa();d=O.pe;break;case Fi.Na:b=a.getCenter(),d=O.Na}this.ep.Db(b);this.ep.tc(d);this.jpc=!1}}};c.prototype.bxd=function(){if(!this.ep){var a=new ek({text:""});a.jb().ae("center");a.jb().lWa(1);this.DEBUG&&a.fa({fillstyle:new rf({color:"rgba(0,255,0, 0.2)"}),linestyle:new X({color:"rgba(0, 0, 255, 1)"})});a.bx(!0);if(this.ga()){var b=this.ga();a.Db(b.getCenter());
a.setSize(b.width,b.height)}a.Wj(ck.eL);a.Dd("TEXT_SHAPE");this.q8b(a)}};c.prototype.Ba=function(a){this.hU=a.hU;this.$m(a.Lc?a.Lc.clone():null);this.Aia=a.Aia;this.via=a.via;this.Kia=a.Kia.clone();this.DR=a.DR?a.DR.slice():[];this.JL=a.JL?a.JL.slice().map(function(b){return new M(b.getX(),b.getY())}):null;this.Cn=a.Cn?a.Cn.clone():null;a.ep&&this.q8b(a.ep.clone());this.sa(this.Lc&&this.Lc.ga()?this.Lc.ga():new U(0,0,1,1));this.r0(a.cea);this.Dd(f3.Py());return this};c.prototype.xa=function(a,b){null!=
this.Lc&&this.Lc.xa(a,b);oi.prototype.xa.call(this,a,b);this.ZAd!==this.wa()&&(this.notify("StateUpdated",this),this.ZAd=this.wa());return this};c.prototype.L4b=function(a){this.ep&&(a.fh(a.Fa().Ta(this.ga())),a.filter(this.ep)&&this.ep.render(a))};c.prototype.Eh=function(a,b){var d=this;b?null!=this.Lc?this.Lc.we(a,function(){oi.prototype.Eh.call(d,a,b)}):oi.prototype.Eh.call(d,a,b):(null!=this.Lc&&this.Lc.render(a),oi.prototype.Eh.call(this,a))};c.prototype.jh=function(a,b){var d=null!=this.Qa()?
a.Zb(this.Qa()):a;d.save();this.L4b(a);b?oi.prototype.jh.call(this,d,function(){d.restore();b()}):(oi.prototype.jh.call(this,d),d.restore())};c.prototype.EP=function(){return this.Aia};c.prototype.Wma=function(){return this.hU};c.prototype.DM=function(){return this.via};c.prototype.yfa=function(){return this.DR};c.prototype.Roa=function(a){this.Kia=a?a:new Vd(50,50);return this};c.prototype.Ky=function(){return this.Kia};c.prototype.Vd=function(){return this.Lc};c.prototype.Lxa=function(a){this.JL=
a;return this};c.prototype.$B=function(){return this.JL};c.prototype.Jw=function(){return this.Cn};c.prototype.cva=function(){hb("DiagramVisual.getDefaultIconSize() is deprecated since 2022 (v3.4)")};c.prototype.r0=function(a){this.cea=a;return this};c.prototype.Mz=function(){return this.cea};c.prototype.Gk=function(){return this.ep};c.prototype.Eb=function(a){var b=!1;"string"===typeof a&&a!==this.Gk().ee()&&(this.Gk().Eb(a),b=!0);a.hasOwnProperty("text")&&a.text!==this.Gk().ee()&&(this.Gk().Eb(a.text),
b=!0);void 0!==a.style&&(this.Gk().ib(a.style),b=!0);b&&(this.I0(),this.ha(this.Gk().ga()));return this};c.prototype.ee=function(){return{text:this.Gk()?this.Gk().ee():null,style:this.Gk()?this.Gk().jb():null}};c.Cjd=function(a,b){void 0===b&&(b=!0);if(isNaN(a)||!isFinite(a))return a;b=b?360:2*Math.PI;return a-Math.floor(a/b)*b};c.xsd=function(a,b){var d=b.getX()-a.getX();a=b.getY()-a.getY();return Math.atan2(a,d)};c.prototype.$m=function(a){this.Lc!==a&&(null!=this.Lc&&this.Lc.rf(null),this.Lc=a,
null!=this.Lc&&this.Lc.rf(this))};c.prototype.q8b=function(a){this.ep&&this.za(Ce.RI,this.I0.bind(this));if(this.ep=a)a.Dd("TEXT_SHAPE"),this.I0(),this.on(Ce.RI,this.I0.bind(this))};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;oi.prototype.fa.call(this,a);void 0!==a.prototypename&&(this.hU=a.prototypename,this.kb(a.prototypename));void 0!==a.geometry&&this.$m(a.geometry);void 0!==a.text&&this.Eb(a.text);void 0!==a.prototypeid&&(this.Aia=a.prototypeid);void 0!==a.category&&(this.via=a.category);
void 0!==a.defaultsize&&(this.Kia=a.defaultsize);void 0!==a.searchkeywords&&(this.DR=a.searchkeywords);void 0!==a.linkpoints&&(this.JL=a.linkpoints);void 0!==a.outline&&(this.Cn=a.outline);this.Lc&&a.hasOwnProperty("geometry")&&this.Lc.fa(a.geometry);this.sa(this.Lc&&this.Lc.ga()?this.Lc.ga():new U(0,0,1,1));void 0!==a.url&&this.r0(a.url);void 0===a.id&&(this.ic()||this.Dd(f3.Py()));return this};c.prototype.ia=function(){var a=oi.prototype.ia.call(this);this.Lc&&(a.geometry=this.Lc.ia());a.prototypename=
this.hU;a.prototypeid=this.Aia;a.category=this.via;a.defaultsize=this.Kia;a.searchkeywords=this.DR;a.linkpoints=this.JL?this.JL.slice().map(function(b){return new M(b.getX(),b.getY())}):null;a.outline=this.Jw();a.text=this.ee();a.url=this.cea;return a};c.j_d=new Vd(50,50);return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsInVwZGF0ZVN0YXRlIjoieGEiLCJwcmVSZW5kZXJpbmciOiJFaCIsInBvc3RSZW5kZXJpbmciOiJqaCIsImdldFByb3RvdHlwZUlkIjoiRVAiLCJnZXRQcm90b3R5cGVOYW1lIjoiV21hIiwiZ2V0Q2F0ZWdvcnkiOiJETSIsImdldFNlYXJjaEtleXdvcmRzIjoieWZhIiwic2V0RGVmYXVsdFNpemUiOiJSb2EiLCJnZXREZWZhdWx0U2l6ZSI6Ikt5IiwiZ2V0R2VvbWV0cnkiOiJWZCIsInNldExpbmtQb2ludHMiOiJMeGEiLCJnZXRMaW5rUG9pbnRzIjoiJEIiLCJnZXRPdXRsaW5lIjoiSnciLCJnZXREZWZhdWx0SWNvblNpemUiOiJjdmEiLCJzZXRVcmwiOiJyMCIsImdldFVybCI6Ik16Iiwic2V0VGV4dCI6IkViIiwiZ2V0VGV4dCI6ImVlIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIn19fSAg");var h3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){g3.call(this,a||{});this.Nh=[]}D(c,g3);L(c,"geotoolkit.flowcharts.shapes.edit.VirtualGroupVisual");c.prototype.hSc=function(a){var b;if(this.Nh)for(b=0;b<this.Nh.length;b++)this.Nh[b].za(Ce.GC,this.EGa.bind(this)),this.Nh[b].za(Ce.DC,this.EGa.bind(this));this.Nh=a?a:[];for(b=0;b<this.Nh.length;b++)this.Nh[b].on(Ce.GC,this.EGa.bind(this)),this.Nh[b].on(Ce.DC,this.EGa.bind(this));this.EGa();return this};c.prototype.Zv=function(){return this.Nh};c.prototype.EGa=function(){this.Sa=
null;this.notify(Ce.DC,this,this.ga());return this};c.prototype.ga=function(){if(!this.Sa){if(!this.Nh||!this.Nh.length)return new U;for(var a,b=0;b<this.Nh.length;b++)a=(a=this.Nh[b].lb?this.Nh[b].lb():null)?a.Ta(this.Nh[b].ga()):this.Nh[b].ga(),this.Sa?this.Sa.union(a):this.Sa=a.clone()}return this.Sa};c.prototype.lb=function(){return null};c.prototype.wa=function(){return this.Pmb&&this.Pmb.wa&&this.Pmb.wa()?this.Pmb.wa():new W};c.prototype.Kc=function(a){a||(a=new W);this.ha();for(var b=0;b<this.Nh.length;b++)this.Nh[b].Kc(W.multiply(a,
this.Nh[b].lb()?this.Nh[b].lb():new W));this.EGa();this.ha()};c.prototype.mMd=function(a){this.Pmb=a};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTaGFwZXMiOiJoU2MiLCJnZXRTaGFwZXMiOiJadiJ9fX0g");var i3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}function a(){b||(b=$k.ya().sS());return b}var b;L(c,"geotoolkit.flowcharts.shapes.ResourceLoader");c.eHc=function(d){if(c.X1a.get(d))return c.X1a.get(d);var e=new Eg(function(f,g){c.VLb.Cw(d)?f(c.VLb.get(d)):a().get(d).then(function(h){c.VLb.put(d,h.data);c.X1a.remove(d);f(h.data)},function(h){c.X1a.remove(d);g(h)})});c.X1a.put(d,e);return e};c.VLb=new Ko;c.X1a=new Ko;return c}(),2,"eyJsb2FkVGV4dCI6ImVIYyJ9");var j3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{islinkpointsrelative:!0},!0);g3.call(this,a);this.QF=!1;void 0!==a.islinkpointsrelative&&(this.fsa=a.islinkpointsrelative);void 0!==a.svgdata&&this.setData(a.svgdata);void 0!==a.justdeserialized&&(this.NGc=a.justdeserialized);void 0!==a.referencesize&&(this.mka=a.referencesize)}D(c,g3);L(c,"geotoolkit.flowcharts.shapes.SvgDiagramVisual");c.prototype.setData=function(a){this.NPb=a;this.QF=!1;if(a)try{this.RJc(a)}catch(b){hb("FlowCharts.SvgDiagramVisual: could not parse SVG data",
a)}};c.prototype.Ba=function(a){this.fsa=a.fsa;this.QF=a.QF;this.Lc||this.$m(a.Lc?a.Lc.clone():new oi);a.NPb&&this.setData(a.NPb);this.JL=a.fsa?a.AZb().slice().map(function(b){return new M(b.getX(),b.getY())}):this.$B()?a.$B().slice().map(function(b){return new M(b.getX(),b.getY())}):null;this.mka=a.mka?a.mka.clone():this.Kia?this.Kia.clone():new Vd(100,100);return this};c.prototype.aHc=function(a){this.Mz()?i3.eHc(this.Mz()).then(function(b){this.ge()||(this.RJc(b),a&&a())}.bind(this)).catch(function(b){rb("SvgVisual plugin: url '"+
this.Mz()+"' can not be resolved ("+b+")");a&&a(b)}.bind(this)):(rb("SvgVisual plugin: url is not defined"),a&&a())};c.prototype.RJc=function(a){var b=new UE;b.parse(this.Vd(),a);b=this.Vd().ga();this.sa(b);this.ep&&this.ga()&&(this.ep.Db(this.ga().getCenter()),this.ep.setSize(b.width,b.height));a=0!==b.ca()?this.Kia.width/b.width:1;b=0!==b.da()?this.Kia.height/b.height:1;var d=this.lb()?this.lb().clone():new W;this.NGc||(this.Kc(W.cf(d.hf(),d.We()).Qp(W.dl(a,b))),this.NGc=!1);this.QF=!0;this.notify("StateUpdated",
this,this.ga())};c.prototype.r0=function(a){a!==this.Mz()&&(this.Lc||(this.Lc=new oi),g3.prototype.r0.call(this,a),this.QF=!1,this.aHc());return this};c.prototype.render=function(a){this.QF&&g3.prototype.render.call(this,a)};c.prototype.we=function(a,b){var d=this;this.QF?g3.prototype.we.call(this,a,b):this.aHc(function(){g3.prototype.we.call(d,a,b)})};c.prototype.lYb=function(){return this.fsa};c.prototype.AZb=function(){if(this.fsa)return g3.prototype.$B.call(this);var a=this.ga();return this.$B().map(function(b){return new M((b.getX()-
a.getX())/a.ca(),(b.getY()-a.getY())/a.da())})};c.prototype.$B=function(){if(this.fsa){var a=g3.prototype.$B.call(this);a&&a.length||(a=c.dhd);for(var b=[],d=this.QF?this.ga():new U(0,0,this.mka.width,this.mka.height),e=0;e<a.length;e++){var f=a[e];b.push(new M(d.getX()+d.ca()*f.getX(),d.getY()+d.da()*f.getY()))}return b}return g3.prototype.$B.call(this)};c.prototype.fa=function(a){a=hc(a);if(null==a)return this;g3.prototype.fa.call(this,a);void 0!==a.islinkpointsrelative&&(this.fsa=a.islinkpointsrelative);
void 0!==a.svgdata&&this.setData(a.svgdata);void 0!==a.referencesize?this.mka=a.referencesize:this.mka||(this.mka=a.defaultsize);return this};c.prototype.ia=function(){var a=g3.prototype.ia.call(this)||{};a.referencesize=this.mka;a.islinkpointsrelative=this.fsa;a.svgdata=this.NPb;return a};c.dhd=[new M(.5,0),new M(.5,1),new M(0,.5),new M(1,.5)];return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsInNldFVybCI6InIwIiwicmVuZGVyQXN5bmMiOiJ3ZSIsImdldElzTGlua1BvaW50c1JlbGF0aXZlIjoibFliIiwiZ2V0UmVsYXRpdmVMaW5rUG9pbnRzIjoiQVpiIiwiZ2V0TGlua1BvaW50cyI6IiRCIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIn19fSAg");var k3=/*#__PURE__*/function(){function c(a,b,d,e){void 0===d&&(d=new Vd(20,20));VP.call(this,a+2,b-2,d);this.yxa(new rf({color:"rgba(100, 100, 100, 0.1)"}));this.iWa(new rf({color:"rgba(100, 100, 100, 0.0)"}));this.KPa=new j3({prototypeId:"class-cursors",prototypeName:"RotateCursor",category:"cursors",searchKeywords:[],defaultSize:d,geometry:(new oi).kb("svg_lazy_group"),linkPoints:[],svgData:'<?xml version="1.0" encoding="UTF-8"?>\n<svg  x="0px" y="0px" viewBox="0 0 286.374 286.374" >\n<path style="clip-rule:evenodd;fill:#00aad4;fill-rule:evenodd" d="m 227.925,196.882 58.449,-62.644 -34.15,0 C 247.63,69.222 191.474,17.898 125.288,17.898 56.09,17.898 0,73.989 0,143.187 c 0,69.198 56.09,125.289 125.289,125.289 30.037,0 57.592,-10.592 79.171,-28.215 l -31.934,-31.935 c -13.276,9.643 -29.565,15.403 -47.237,15.403 -44.484,0 -80.543,-36.059 -80.543,-80.543 0,-44.484 36.058,-80.544 80.543,-80.544 41.455,0 75.562,31.327 80.018,71.594 l -35.272,0 z M 89.491,143.187 c 0,19.77 16.027,35.797 35.797,35.797 19.77,0 35.796,-16.027 35.796,-35.797 0,-19.77 -16.026,-35.797 -35.796,-35.797 -19.769,0 -35.797,16.027 -35.797,35.797 z"/>\n</svg>',url:e});
this.KPa.Gk().Eb("");this.KPa.Aw(function(){this.ha()}.bind(this))}D(c,VP);L(c,"geotoolkit.flowcharts.shapes.edit.handles.RotateHandle");c.prototype.render=function(a){a=this.Qa()?a.Zb(this.Qa()):a;var b=a.pp().yC(this.H9()),d=this.Fk().clone(),e=new U(d.getX()-b.ca()/2,d.getY()-b.da()/2,d.getX()+b.ca()/2,d.getY()+b.da()/2);e.cb(d.getX()-b.ca()/2,d.getY()-b.da()/2,d.getX()+b.ca()/2,d.getY()+b.da()/2);a.ra(new X({color:"transparent"}));a.qa(this.osb());b=new U(e);b.Uc(-3,-3);a.Rp(b.getX(),b.getY(),
b.ca(),b.da());b=this.KPa.lb()?this.KPa.lb():new W;b.cB(e.getX(),e.getY());this.KPa.Kc(b);this.KPa.render(a)};return c}();var l3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){YP.call(this);this.Fb=[];this.v5a=new h3;this.Ug=new bk;this.v5a.on(Ce.DC,this.fxc.bind(this));this.v5a.on(Ce.GC,this.fxc.bind(this));YP.prototype.Lm.call(this,this.v5a)}D(c,YP);L(c,"geotoolkit.flowcharts.shapes.edit.VisualPluginAdapter");c.prototype.Lm=function(a){a=$2.flatten([a]);this.v5a.hSc(a);this.v5a.mMd(0<a.length?a[0].getParent():this.ec());this.s$()?this.Fh():this.le();this.sr(this.Fb[0]);return this};c.prototype.fxc=function(){this.Fh()};c.prototype.a$=function(){return this.Hb().ga()};
c.prototype.Km=function(a){this.Fh();for(var b=0;b<this.Fb.length;b++)this.Fb[b].va(a)};c.prototype.ml=function(){this.Fb=[];var a=this.a$();this.Fb.push((new TP(a)).Al({x:1,y:1,width:0,height:0}).yxa(new rf("transparent")));this.Fb.push(new k3(a.na(),a.ka()));this.Fb.push((new VP(0,0)).Al({x:1,y:1,width:-1,height:-1}));this.Fb.push((new VP(0,0)).Al({x:0,y:1,width:1,height:-1}));this.Fb.push((new VP(0,0)).Al({x:0,y:0,width:1,height:1}));this.Fb.push((new VP(0,0)).Al({x:1,y:0,width:-1,height:1}));
this.Fb.push((new VP(0,0)).Al({x:1,y:0,width:-1,height:0}));this.Fb.push((new VP(0,0)).Al({x:0,y:0,width:1,height:0}));this.Fb.push((new VP(0,0)).Al({x:0,y:1,width:0,height:-1}));this.Fb.push((new VP(0,0)).Al({x:0,y:0,width:0,height:1}));for(a=0;a<this.Fb.length;a++)this.ec().oa(this.Fb[a]),this.Fb[a].YA(this);this.Fh();this.setStyle({main:{linestyle:new X({color:"rgba(48, 144, 199, 1)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new rf("transparent")},corners:{linestyle:new X({color:"rgba(48, 144, 199, 1)",
width:1,pixelsnapmode:{x:!0,y:!0}})}});return!0};c.prototype.zcd=function(a,b,d,e,f,g){var h=0,k=(a-d)*(f-d)+(b-e)*(g-e);a=(a-d)*(g-e)-(b-e)*(f-d);if(0!==k||0!==a)h=Math.atan2(a,k);return h};c.prototype.sqb=function(a,b){var d=6,e=this.Hb();if(e instanceof lg){var f=e.wa().clone();e.lb()&&f.Qp(e.lb());f=f.Ta(e.ga());var g=f.clone();g.Uc(d,d);g=this.Ug.select(e.getRoot(),g,d,!0).filter(function(h){return h!==e&&h instanceof g3}).map(function(h){return e.wa().Ta(h.lb().Ta(h.ga()))});return this.POd(new M(a,
b),f,g,d)}return new M(a,b)};c.prototype.POd=function(a,b,d,e){void 0===e&&(e=8);if(!d||0===d.length)return a;var f=b.ma(),g=b.ka(),h=b.la();b=b.na();for(var k=0,l=0,m=0;m<d.length;m++){var n=d[m];Math.abs(n.ma()-f)<e?l=n.ma()-f:Math.abs(n.ma()-g)<e?l=n.ma()-g:Math.abs(n.ka()-f)<e?l=n.ka()-f:Math.abs(n.ka()-g)<e&&(l=n.ka()-g);Math.abs(n.la()-h)<e?k=n.la()-h:Math.abs(n.la()-b)<e?k=n.la()-b:Math.abs(n.na()-h)<e?k=n.na()-h:Math.abs(n.na()-b)<e&&(k=n.na()-b)}return new M(a.getX()+k,a.getY()+l)};c.prototype.Kn=
function(a,b){b=this.sqb(a,b);a=b.getX();b=b.getY();var d=this.Uv();if(!d)return this;var e=this.Hb();if(d instanceof k3){var f=this.bc(),g=d=e.ga(),h=e.wa(),k=this.ec().wa().rc();e instanceof h3&&(g=e.Zv()[0].ga(),h=e.Zv()[0].wa());if(a===this.bc().getX()&&b===this.bc().getY())return this;h=W.multiply(k,h);f=k.Ma(f);k=k.Ma(new M(a,b));g=h.Ma(g.getCenter());g=this.zcd(f.getX(),f.getY(),g.getX(),g.getY(),k.getX(),k.getY());d=W.Xi(g,d.cc(),d.zc());e.lb()?e.Kc(W.multiply(e.lb(),d)):e.Kc(d);e.ha();this.setPosition(a,
b);return this}if(!d.wh())return this;this.yxb(a,b);this.Fh();this.setPosition(a,b);e.ha();return this};c.prototype.yxb=function(a,b){var d=this.bc();if(d&&(d.getX()!==a||d.getY()!==b)){for(var e=this.Hb(),f=e instanceof h3?e.Zv():[e],g=0;g<f.length;g++){e=f[g];var h=e.ga(),k=h.clone(),l=e.getParent().wa().rc(),m=new M(d.getX(),d.getY()),n=new M(a,b);l.Ma(m,m);l.Ma(n,n);l=e.lb()?e.lb():new W;var p=l.rc();m=p.Ma(m);n=p.Ma(n);p=n.getX()-m.getX();m=n.getY()-m.getY();n=this.Uv().wh();k.setX(h.x+n.x*p);
k.setY(h.y+n.y*m);k.Ra(h.width+n.width*p);k.Ya(h.height+n.height*m);e.Kc(W.multiply(l,W.Sd(h,k,!1,!1,!1)))}e instanceof h3&&e.EGa()}};c.prototype.setStyle=function(a){function b(f){return f instanceof rf?G({},{fillstyle:f.ia()}):G({},{fillstyle:f})}function d(f){return f instanceof X?G({},{linestyle:f.ia()}):G({},{linestyle:f})}var e={};void 0!==a.main&&(void 0!==a.main.linestyle&&(e=G(e,d(a.main.linestyle))),void 0!==a.main.fillstyle&&(e=G(e,b(a.main.fillstyle))),this.Fb[0].fa(e));e={};if(void 0!==
a.corners)for(void 0!==a.corners.linestyle&&(e=G(e,d(a.corners.linestyle))),void 0!==a.corners.fillstyle&&(e=G(e,b(a.corners.fillstyle))),a=2;a<this.Fb.length;++a)this.Fb[a].fa(e);return this};c.prototype.Fh=function(){if(this.s$()){var a=this.a$();if(a){var b=this.Hb().wa(),d=this.ec().wa().rc(),e=b.Ta(a);a=e.bd();a.Ga(a.getX()-this.Fb[1].H9().ca()/2-3,a.getY()-this.Fb[1].H9().da()/2-3);e=d.Ta(e);this.Fb[0].cb(e);this.Fb[1].Db(d.Ma(a));this.Fb[2].Db(new M(e.la(),e.ka()));this.Fb[3].Db(new M(e.na(),
e.ka()));this.Fb[4].Db(new M(e.na(),e.ma()));this.Fb[5].Db(new M(e.la(),e.ma()));this.Fb[6].Db(new M(e.la(),e.zc()));this.Fb[7].Db(new M(e.na(),e.zc()));this.Fb[8].Db(new M(e.cc(),e.ka()));this.Fb[9].Db(new M(e.cc(),e.ma()));var f=this.Hb();if(f instanceof h3&&0<f.Zv().length){a=1===f.Zv().length?f.Zv()[0].ga():f.ga();e=[a.bd(),a.Wf(),a.nf(),a.Vf(),a.CSa(),a.cGa(),a.rTa(),a.i8a()];b=1===f.Zv().length?f.Zv()[0].wa():f.wa();d=W.multiply(d,b);this.Fb[0].cb(a);this.Fb[0].Kc(d);f=b.Hc(0,0).clone();var g=
b.Hc(1,0).clone(),h=b.Hc(0,1).clone();b=M.Uf(f,g);f=M.Uf(f,h);a=a.clone();b>$2.EPSILON&&f>$2.EPSILON&&(b=1/b*(this.Fb[1].H9().ca()/2+2),f=1/f*(this.Fb[1].H9().da()/2+2),a.Uc(b,f));this.Fb[1].Db(d.Ma(a.bd()));for(a=2;a<Math.min(this.Fb.length,e.length+2);a++)this.Fb[a].Db(d.Ma(e[a-2]))}}}};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTaGFwZSI6IkxtIiwiZ2V0U2hhcGVCb3VuZHMiOiJhJCIsIm9uQWN0aXZlU3RhdGVDaGFuZ2VkIjoiS20iLCJvbkluaXRpYWxpemUiOiJtbCIsIm9uTW92ZSI6IktuIn19fSAg");var m3=/*#__PURE__*/va(/*#__PURE__*/{ndc:0,Egb:1,FDb:2},2,"eyJOb0xpbmtzIjoibmRjIiwiU2luZ2xlTGluayI6IkVnYiIsIkRvdWJsZUxpbmsiOiJGRGIifSAg");var n3=/*#__PURE__*/va(/*#__PURE__*/{Line:0,mu:1},2,"eyJTdGVwIjoibXUifSAg");var o3=/*#__PURE__*/va(/*#__PURE__*/{EN:0,Ao:1},2,"eyJCZWdpbiI6IkVOIiwiRW5kIjoiQW8ifSAg");var p3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d,e){this.zt=a;this.WP=b;this.ID=d;this.TGa=e;this.$wa=null}L(c,"geotoolkit.flowcharts.shapes.connectors.LinkConnection");c.prototype.cd=function(){return this.zt};c.prototype.yva=function(){return this.WP};c.prototype.Jpd=function(){return this.ID};c.prototype.Kpd=function(){return this.TGa};c.prototype.J9a=function(){return this.zt?this.zt.ic():null};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRWaXN1YWwiOiJjZCIsImdldE1vZGVsUG9pbnQiOiJ5dmEiLCJnZXRMaW5rU2lkZSI6IkpwZCIsImdldExpbmtWaXN1YWwiOiJLcGQiLCJnZXRSZWxhdGVkVmlzdWFsSWQiOiJKOWEifX19");var q3=/*#__PURE__*/va(/*#__PURE__*/{bKa:"Disconnected",gYa:"Connected"},2,"eyJEaXNjb25uZWN0ZWQiOiJiS2EiLCJDb25uZWN0ZWQiOiJnWWEifSAg");var r3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){$n.call(this,a);this.ahd=new X("rgba(100, 100, 100, 1)",3);this.Zgd=new rf("rgba(100, 100, 100, 1)");this.FBa=m3.Egb;this.sV=0;this.psa=n3.mu;this.DR=[];this.JL=[new M(0,0),new M(0,0)];this.uUc=10;this.tUc=8;this.ao=[null,null];this.le(a)}D(c,$n);lc(c,c3);L(c,"geotoolkit.flowcharts.LinkVisual");c.prototype.EP=function(){return this.Aia};c.prototype.Wma=function(){return this.hU};c.prototype.DM=function(){return this.via};c.prototype.yfa=function(){return this.DR};c.prototype.Ky=
function(){var a=this.ga();return new Vd(a.ca(),a.da())};c.prototype.Roa=function(a){return this};c.prototype.Eb=function(a){return this};c.prototype.Vd=function(){return this};c.prototype.$B=function(){var a=this.ce().length-1;this.JL[0].Ga(this.ce()[0],this.Fe()[0]);this.JL[1].Ga(this.ce()[a],this.Fe()[a]);return[this.JL[0],this.JL[1]]};c.prototype.Lxa=function(a){return this};c.prototype.Jw=function(){return this.Cn};c.prototype.cva=function(){return this.Nib};c.prototype.r0=function(a){this.cea=
a;return this};c.prototype.Mz=function(){return this.cea};c.prototype.Gk=function(){hb("LinkVisual.getTextShape() is deprecated since 2022 (v3.4)");return null};c.prototype.wYb=function(){return this.psa};c.prototype.W6b=function(a){this.psa=a;return this};c.prototype.$5b=function(a){this.CAa=a;return this};c.prototype.Ttd=function(){return{width:this.uUc,height:this.tUc}};c.prototype.DQc=function(a){this.FBa=null===a||void 0===a?m3.ndc:a;return this};c.prototype.lBc=function(){return this.FBa};c.prototype.nGa=
function(){return this.sV};c.prototype.LWa=function(a){if(null===a||void 0===a||0>a)a=0;this.sV!==a&&(this.ha(),this.sV=a,this.ha());return this};c.prototype.ga=function(){var a=$n.prototype.ga.call(this).clone(),b=this.Ea()?this.Ea().ca()/2:.5;a.Uc(a.ca()<$2.EPSILON?1E-5:b,a.da()<$2.EPSILON?1E-5:b);this.sV&&a.Uc(this.sV,this.sV);return a};c.prototype.le=function(a){a&&(this.hU=a.prototypeName,this.Lc=a.geometry,this.Aia=a.prototypeId,this.via=a.category,this.Nib=a.defaultIconSize,this.DR=a.searchKeywords,
this.JL=a.linkPoints,this.Cn=a.outline,this.cea=a.url,this.W6b(a.linkType),a.geometry instanceof $n&&this.fa(a.geometry.ia()),this.kb(a.prototypeName),this.FBa=null!=a.linkingMode?a.linkingMode:m3.Egb,this.sV=a.tubingWidth,this.lj());this.ckc=function(){this.BN(!0)}.bind(this);this.Dd(a&&a.id?a.id:f3.Py())};c.prototype.clone=function(){var a=new c({prototypeName:this.hU,geometry:this.Lc?this.Lc.clone():null,prototypeId:this.Aia,category:this.via,defaultIconSize:this.Nib,searchKeywords:this.DR?this.DR.slice():
[],linkPoints:this.JL?this.JL.slice():null,outline:this.Cn?this.Cn.clone():null,linkingMode:this.FBa,tubingWidth:this.sV,url:this.cea,linkType:this.psa});a.$5b(this.CAa);return a};c.prototype.pa=function(){for(var a=$2.$0,b=$2.$0,d=$2.BKa,e=$2.BKa,f=this.ce(),g=this.Fe(),h=0;h<f.length;h++)a>f[h]&&(a=f[h]),b>g[h]&&(b=g[h]),d<f[h]&&(d=f[h]),e<g[h]&&(e=g[h]);return new U(a,b,d,e)};c.prototype.render=function(a){$n.prototype.render.call(this,a);this.KGd(a)};c.prototype.KGd=function(a){a=this.Qa()?a.Zb(this.Qa()):
a;this.Eh(a);this.FBa!==m3.Egb&&this.FBa!==m3.FDb||this.YLc(a,!1);this.FBa===m3.FDb&&this.YLc(a,!0);this.jh(a)};c.prototype.YLc=function(a,b){var d=this.wa()?this.wa():new W,e=d.rc(),f=this.ce(),g=this.Fe(),h=b?d.Hc(f[0],g[0]).clone():d.Hc(f[f.length-1],g[g.length-1]).clone();b=b?d.Hc(f[1],g[1]).clone():d.Hc(f[f.length-2],g[g.length-2]).clone();d=Math.atan2(h.getY()-b.getY(),h.getX()-b.getX());b=this.uUc+this.Ea().ca()/2;f=this.tUc+this.Ea().ca()/2;b=[-b,0,-b];f=[-f/2,0,f/2];d=W.Xi(d,0,0);h=W.cf(h.getX(),
h.getY());d.st(h).st(e).Naa(b,f,b.length);this.Yr?this.Yr.fa({x:b,y:f,fillstyle:{color:this.Ea()?this.Ea().rb():"gray"},linestyle:this.Ea()}):this.Yr=new Vm({x:b,y:f,fillstyle:{color:this.Ea()?this.Ea().rb():"gray"},linestyle:this.Ea()});this.Yr.render(a)};c.prototype.kRa=function(a,b,d){if(!d||!a)return!1;if(null!==b&&void 0!==b){if(this.ao[b]){var e=this.ao[b].$wa;this.Hea(b)}a.on("StateUpdated",this.ckc);this.ao[b]=new p3(a,d,b,this);this.ao[b].$wa=e;this.BN(!0);this.notify(q3.gYa,this,{linkSide:b,
visual:a,modelPoint:d});return!0}return!1};c.prototype.p8a=function(){return this.ao};c.prototype.Hea=function(a){if(null!==a){var b=this.ao[a];if(!b)return;if(!b.zt){this.ao[a]=null;this.notify(q3.bKa,this,{linkSide:a});return}this.ao[o3.EN]&&this.ao[o3.Ao]&&this.ao[o3.EN].zt===this.ao[o3.Ao].zt||b.zt.za("StateUpdated",this.ckc);this.ao[a]=null;this.notify(q3.bKa,this,{linkSide:a})}this.BN(!0)};c.prototype.ZWb=function(a){for(var b=[],d=0,e=this.ao;d<e.length;d++){var f=e[d];f&&f.J9a()===a.ic()&&
b.push(f.ID===o3.EN?0:this.ce().length-1)}return b};c.prototype.BN=function(a){if(!this.m5a){this.m5a=!0;for(var b=!1,d=0;d<this.ao.length;d++){var e=this.ao[d];if(e&&e.zt&&e.WP){var f=e.zt.wa().Ta(e.zt.ga());if(a||!f.wi(e.$wa,1))b||this.ha(),b=this.getParent()?this.getParent().wa().hd(e.zt.wa().Ma(e.WP)):e.zt.lb()?e.zt.lb().Ma(e.WP):e.WP,this.wb(!1),this.Swa(e.ID,b),this.wb(!0),e.$wa=f,b=!0}}b&&(this.ha(),this.xa());this.m5a=!1}};c.prototype.Swa=function(a,b){var d=this.ce().slice(),e=this.Fe().slice(),
f=$2.$O,g=$2.xyb,h=(a=a===o3.EN)?0:d.length-1,k=a?Math.min(3,d.length-1):Math.max(0,d.length-1-3),l=this.wa(),m=l.rc(),n=this.CAa?this.CAa.Kb().wa():new W,p=n.rc(),q=this.Im.hd(b),r=q.getX();q=q.getY();p=W.multiply(p,l);if(this.psa===n3.Line)d[h]=r,e[h]=q;else{l=d[k];k=e[k];var t=l+(r-l)/2,u=k+(q-k)/2;if(this.CAa)if(this.userTouched)for(h=2<d.length?d[a?2:d.length-3]:d[a?0:d.length-1],r=2<e.length?e[a?2:e.length-3]:e[a?0:e.length-1],2<d.length&&g(d,e,a?0:d.length-2,2),b=this.CAa.cFa(p.Hc(h,r),b,[],
[this]),h=0;h<b.length;h++)g=m.Ma(n.Ma(b[h])),f(d,e,g.x,g.y,a?0:void 0);else if((p=a?this.CAa.cFa(b,p.Ma(new M(d[d.length-1],e[e.length-1])),this.ao[0]?[this.ao[0].zt]:[],[this]):this.CAa.cFa(p.Ma(new M(d[0],e[0])),b,this.ao[1]?[this.ao[1].zt]:[],[this]))&&2<=p.length)for(d=[],e=[],a=0;a<p.length;a++)b=m.Ma(n.Ma(p[a])),f(d,e,b.getX(),b.getY());else{m=Math.min(3,d.length-1);for(n=0;n<m;n++)g(d,e,a?h:h-n);Math.abs(l-b.x)>Math.abs(l-b.y)?(f(d,e,t,k,a?h:void 0),f(d,e,t,q,a?h:void 0)):(f(d,e,l,u,a?h:void 0),
f(d,e,r,u,a?h:void 0))}}d=$2.yVa(d,e,!1);this.he(d.x,d.y);this.lj()};c.prototype.r6a=function(a,b,d){if(!a||!a.wa()||nc(a,c3))return null;var e=a.$B();if(e)for(var f=0;f<e.length;f++){var g=e[f];if(M.Uf(a.wa().Ma(g),a.wa().Ma(a.lb().hd(b)))<d)return g}return null};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm90b3R5cGVJZCI6IkVQIiwiZ2V0UHJvdG90eXBlTmFtZSI6IldtYSIsImdldENhdGVnb3J5IjoiRE0iLCJnZXRTZWFyY2hLZXl3b3JkcyI6InlmYSIsImdldERlZmF1bHRTaXplIjoiS3kiLCJzZXREZWZhdWx0U2l6ZSI6IlJvYSIsInNldFRleHQiOiJFYiIsImdldEdlb21ldHJ5IjoiVmQiLCJnZXRMaW5rUG9pbnRzIjoiJEIiLCJzZXRMaW5rUG9pbnRzIjoiTHhhIiwiZ2V0T3V0bGluZSI6Ikp3IiwiZ2V0RGVmYXVsdEljb25TaXplIjoiY3ZhIiwic2V0VXJsIjoicjAiLCJnZXRVcmwiOiJNeiIsImdldFRleHRTaGFwZSI6IkdrIiwiZ2V0TGlua1R5cGUiOiJ3WWIiLCJzZXRMaW5rVHlwZSI6Ilc2YiIsImdldFN5bWJvbFNpemUiOiJUdGQiLCJzZXRMaW5raW5nTW9kZSI6IkRRYyIsImdldExpbmtpbmdNb2RlIjoibEJjIiwiZ2V0VHViaW5nV2lkdGgiOiJuR2EiLCJzZXRUdWJpbmdXaWR0aCI6IkxXYSIsImdldEJvdW5kcyI6ImdhIiwiY29ubmVjdFRvIjoia1JhIiwiZ2V0Q29ubmVjdGlvbnMiOiJwOGEiLCJkaXNjb25uZWN0RnJvbSI6IkhlYSIsImdldENvbm5lY3RlZEluZGV4ZXMiOiJaV2IiLCJ1cGRhdGVMaW5rcyI6IkJOIiwibW92ZUxpbmtIYW5kbGUiOiJTd2EiLCJjYW5Db25uZWN0IjoicjZhIn19fSAg");var s3=/*#__PURE__*/function(){function c(a,b,d){this.TGa=a;this.Xl=b;this.Yyb=d}return c}();var t3=/*#__PURE__*/{Hha:0,Agb:1,Nk:2,Jbc:4,pec:8,hYa:12};var u3=/*#__PURE__*/function(){function c(a){a=G(a,{x:0,y:0,size:new Vd(7,7),painter:$m,isindevicespace:!0});VP.call(this,a)}L(c,"geotoolkit.flowcharts.shapes.edit.handles.LinkHandle");D(c,VP);return c}();var v3=/*#__PURE__*/function(){function c(a,b,d,e,f){VP.call(this,a,b,d);this.w$=e;this.faa=f;this.p7c=!1;this.q7c=new rf("rgba(255, 0, 0, 1)");this.yxa(new rf("rgba(255, 197, 113, 1)"))}D(c,VP);L(c,"geotoolkit.flowcharts.shapes.edit.handles.LinkSplitHandle");c.prototype.render=function(a){a=this.Qa()?a.Zb(this.Qa()):a;var b=a.Fa().Sk(this.H9()),d=this.Fk();b=new U(d.getX()-b.ca()/2,d.getY()-b.da()/2,d.getX()+b.ca()/2,d.getY()+b.da()/2);a.qa(this.p7c?this.q7c:this.osb());a.ra(this.gWb());a.Sj([b.la(),b.cc(),b.na(),
b.cc()],[b.zc(),b.ka(),b.zc(),b.ma()],0,3)};c.prototype.wh=function(){return VP.prototype.wh.call(this)};c.prototype.Al=function(a){VP.prototype.Al.call(this,a);return this};return c}();var w3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){this.TGa=a;this.ID=b}c.prototype.Knd=function(){return 0};c.prototype.spd=function(){return this.TGa.ce().length-1};c.prototype.N0b=function(){return this.ID===o3.EN};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGaXJzdEluZGV4IjoiS25kIiwiZ2V0TGFzdEluZGV4Ijoic3BkIiwiaXNGaXJzdCI6Ik4wYiJ9fX0g");var x3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){YP.call(this);this.tk=null;this.Fb=[];this.IL=[];this.qDa=[];this.lR=8;this.SY=[];this.Ija=[];this.Mgc=10;this.Ug=new bk;this.VDa=!1;this.XVd=this.pVd=20;this.mE=null}var a=$2.xyb,b=$2.$O;L(c,"geotoolkit.flowcharts.shapes.edit.LinksAdapter");D(c,YP);c.prototype.HHc=function(d,e,f){this.Mfa();this.ml(!1);this.qaa("default");this.mE=null};c.prototype.U1b=function(d,e,f){d instanceof OR&&(this.mE=d.Pe());this.tk&&(this.Mfa(),this.ml(!1));this.QWa();this.VDa=!1};c.prototype.QWa=
function(){this.tk=this.Hb().clone();if(this.tk instanceof $n||this.tk instanceof io)this.tk.kb("CLONE-"+this.Hb().Da()),this.tk.qa(this.Hb().fb()),this.tk.ra(this.Hb().Ea()),this.tk.va(!0),this.tk.he(this.Hb().ce(),this.Hb().Fe()),this.tk.Kc(this.Hb().lb().clone()),this.tk.userTouched=this.Hb().userTouched,this.Hb().getParent().oa(this.tk),this.tk.lj();this.Hb().va(!1)};c.prototype.Mfa=function(){if(this.tk){this.tk.va(!1);if(this.Hb()){var d=this.tk.ce(),e=this.tk.Fe();d=$2.yVa(d,e,!1);this.Hb().he(d.x,
d.y);this.Hb().userTouched=this.tk.userTouched;this.Hb().lj()}this.Hb().getParent().removeChild(this.tk)}this.tk=null;this.Hb().va(!0)};c.prototype.sqb=function(d,e){d=new M(d,e);d=this.Ug.select(this.Hb().getRoot(),d.getX(),d.getY(),4).filter(function(f){return f!==this.Hb()&&f!==this.tk&&!nc(f,c3)&&nc(f,b3)}.bind(this));this.j7b(d)};c.prototype.j7b=function(d){d||(d=[]);if(this.Fbd(this.SY,d)||0===d.length&&0===this.SY.length)return this;this.SY=d;var e=this.ec();this.Ija.forEach(function(l){return e.removeChild(l)});
this.Ija=[];for(d=0;d<this.SY.length;d++){var f=this.SY[d];var g=W.multiply(f.wa(),e.wa().rc());if(f.$B()&&Array.isArray(f.$B())){var h=f.$B();for(f=0;f<h.length;f++){var k=h[f];g&&(k=g.Ma(k));k=new u3({x:k.x,y:k.y});this.Ija.push(k);e.oa(k)}}}return this};c.prototype.V1b=function(d,e,f){if(this.tk){e=this.Hb().ce().slice();var g=this.Hb().Fe().slice(),h=d.w$?d.w$:this.IL[0],k=d.faa?d.faa:this.IL[1],l=d,m=this.tk.wa().rc();h=m.Ma(h.wa().Ma(h.Fk()));l=m.Ma(l.wa().Ma(l.Fk()));k=m.Ma(k.wa().Ma(k.Fk()));
k=1E-7>Math.abs(h.getY()-l.getY())&&1E-7>Math.abs(l.getY()-k.getY());if(d.wh().Yyb===t3.Nk){for(h=d.w$;h;h=h.w$)if(h.wh().Yyb&t3.hYa){var n=h;break}for(h=d.faa;h;h=h.faa)if(h.wh().Yyb&t3.hYa){var p=h;break}if(!n||!p)return;d=m.Ma(n.wa().Ma(n.Fk()));m=m.Ma(n.wa().Ma(p.Fk()));k?(this.qaa("n-resize"),0!==n.wh().Xl&&p.wh().Xl===e.length-1?(a(e,g,n.wh().Xl,p.wh().Xl-n.wh().Xl),b(e,g,m.getX(),f.getY(),n.wh().Xl),b(e,g,d.getX(),f.getY(),n.wh().Xl)):0===n.wh().Xl&&p.wh().Xl!==e.length-1?(a(e,g,n.wh().Xl+
1,p.wh().Xl-n.wh().Xl),b(e,g,m.getX(),f.getY(),n.wh().Xl+1),b(e,g,d.getX(),f.getY(),n.wh().Xl+1)):(a(e,g,n.wh().Xl,p.wh().Xl-n.wh().Xl),n.w$||b(e,g,m.getX(),m.getY(),n.wh().Xl),b(e,g,m.getX(),f.getY(),n.wh().Xl),b(e,g,d.getX(),f.getY(),n.wh().Xl),p.faa||b(e,g,d.getX(),d.getY(),n.wh().Xl))):(this.qaa("e-resize"),0!==n.wh().Xl&&p.wh().Xl===e.length-1?(a(e,g,n.wh().Xl,p.wh().Xl-n.wh().Xl),b(e,g,f.getX(),m.getY(),n.wh().Xl),b(e,g,f.getX(),d.getY(),n.wh().Xl)):0===n.wh().Xl&&p.wh().Xl!==e.length-1?(a(e,
g,n.wh().Xl+1,p.wh().Xl-n.wh().Xl),b(e,g,f.getX(),m.getY(),n.wh().Xl+1),b(e,g,f.getX(),d.getY(),n.wh().Xl+1)):(a(e,g,n.wh().Xl,p.wh().Xl-n.wh().Xl),n.w$||b(e,g,m.getX(),m.getY(),n.wh().Xl),b(e,g,f.getX(),m.getY(),n.wh().Xl),b(e,g,f.getX(),d.getY(),n.wh().Xl),p.faa||b(e,g,d.getX(),d.getY(),n.wh().Xl)));this.tk.userTouched=!0}f=$2.yVa(e,g,!1);this.tk.he(f.x,f.y);this.tk.lj()}};c.prototype.Bsc=function(){var d;for(d=0;d<this.Fb.length;d++)this.Fb[d].YA(null),this.ec().removeChild(this.Fb[d]);this.j7b(null);
this.Fb=[];this.qDa=[];this.IL=[]};c.prototype.yWc=function(d,e,f){if(e&&d){var g=d.wh(),h=g.Xl;if(!(0>h||h>=this.Hb().ce().length)){var k=this.Hb().ce(),l=this.Hb().Fe(),m=0===h?k[h]:(k[h]+k[h-1])/2,n=0===h?l[h]:(l[h]+l[h-1])/2;switch(g.Yyb){case t3.Jbc:case t3.pec:d.Db(f.Ma(e.Hc(k[h],l[h]).clone()));d.va(!1);break;case t3.Hha:d.Db(f.Ma(e.Hc((k[h-1]+m)/2,(l[h-1]+n)/2)).clone());d.va(!1);break;case t3.Nk:d.Db(f.Ma(e.Hc(m,n)).clone());break;case t3.Agb:d.Db(f.Ma(e.Hc((k[h]+m)/2,(l[h]+n)/2)).clone()),
d.va(!1)}}}};c.prototype.Fh=function(d){var e=d.ga(),f=d.ce(),g=d.Fe(),h,k=null!=d.lb()?d.lb():new W,l=d.wa();if(!l)return this;var m=this.ec().wa().rc();for(h=0;h<this.Fb.length;h++){var n=this.Fb[h];var p=n.wh();p.TGa=d;n instanceof v3&&this.psa!==n3.Line?this.yWc(n,l,m):n instanceof u3?(p=p.ID===o3.EN?0:f.length-1,p=l.Hc(f[p],g[p]),n.Db(m.transform(p))):n instanceof WP&&(n.Oq({from:new M(e.la(),e.ka()),to:new M(e.na(),e.ma())}),n.Kc(k))}return this};c.prototype.xGa=function(){for(var d=0;d<this.Fb.length;d++)this.Fb[d].va(!1)};
c.prototype.ml=function(d){void 0===d&&(d=!0);this.Bsc();var e=this.Hb();this.psa=e.wYb();var f=e.ga(),g=e.ce(),h=e.Fe();this.Fb.push((new WP(f.la(),f.ka(),f.na(),f.ma())).Al(new w3(e,-1)));d&&this.sr(this.Fb[0]);if(this.psa===n3.mu){var k=new Vd(this.lR,this.lR);for(d=1;d<g.length;d++){var l=(g[d]+g[d-1])/2;var m=(h[d]+h[d-1])/2;f=q?q:(new v3(g[d-1],h[d-1],k)).Al(new s3(e,d-1,t3.Jbc));f.va(!1);q||(this.Fb.push(f),this.qDa.push(f));var n=(new v3((g[d-1]+l)/2,(h[d-1]+m)/2,k)).Al(new s3(e,d,t3.Hha));
n.va(!1);this.Fb.push(n);this.qDa.push(n);var p=(new v3(l,m,k)).Al(new s3(e,d,t3.Nk));this.Fb.push(p);this.qDa.push(p);m=(new v3((g[d]+l)/2,(h[d]+m)/2,k)).Al(new s3(e,d,t3.Agb));m.va(!1);this.Fb.push(m);this.qDa.push(m);l=(new v3(g[d],h[d],k)).Al(new s3(e,d,t3.pec));l.va(!1);this.Fb.push(l);this.qDa.push(l);q||(f.w$=r,f.faa=n);n.w$=f;n.faa=p;p.w$=n;p.faa=m;m.w$=p;m.faa=l;l.w$=m;q&&(q.faa=n);var q=l;var r=m}}r=g.length-1;q=0;for(f=[0,1];q<f.length;q++)d=f[q],d=(new u3({x:g[d*r],y:h[d*r],size:new Vd(this.lR,
this.lR)})).Al(new w3(e,d)),this.Fb.push(d),this.IL.push(d);for(d=1;d<this.Fb.length;d++)this.ec().oa(this.Fb[d]),this.Fb[d].YA(this);this.setStyle({main:{linestyle:new X({color:"rgba(48, 144, 199, 1)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new rf("transparent")},corners:{linestyle:new X({color:"rgba(48, 144, 199, 1)",width:1,pixelsnapmode:{x:!0,y:!0}})}});this.Fh(this.Hb());this.ec().ha();return!0};c.prototype.Lm=function(d){YP.prototype.Lm.call(this,d);this.le();return this};c.prototype.Km=
function(d){this.s$()||this.ml(!0);this.Fh(this.Hb());d||(this.Mfa(),this.xGa(),this.qaa("default"))};c.prototype.K6a=function(d,e,f,g){this.IL[e].setActive(!1);if(this.SY&&0<this.SY.length){var h;for(h=0;h<this.SY.length;h++){var k=this.SY[h];if(!k.getParent())return;var l=k.getParent().wa().rc();l=d.r6a(k,l.Hc(f,g),this.Mgc);for(var m=0;m<this.Ija.length;m++){var n,p=l&&this.Ija[m].Fk().Ew(n=k.Qa().Ma(l));this.Ija[m].setActive(p);p&&this.tk&&this.tk.Swa(e,n)}if(l&&(this.IL[e].setActive(!0),d.kRa(k,
e,l))){d.BN();return}}}d.Hea(e)};c.prototype.Kn=function(d,e){var f=this.Uv();if(!f)return this;var g=this.bc();if(g.getX()===d&&g.getY()===e)return this;this.VDa=!0;this.xGa();var h=this.tk?this.tk:this.Hb();if(!(h instanceof lg))return this;h.ha();var k=h.wa().rc();g=k.Ma(g);k=k.Hc(d,e).clone();if(f instanceof v3&&this.psa!==n3.Line)this.V1b(f,g,k);else if(f instanceof u3)this.sqb(d,e),f=f.wh(),null!=f&&null!=f.ID&&(h&&h.Swa(f.ID,h.lb().Ma(k)),this.K6a(f.TGa,f.ID,d,e));else for(this.qaa("move"),
this.Mfa(),d=W.cf(k.getX()-g.getX(),k.getY()-g.getY()),h.lb()?h.Kc(W.multiply(h.lb(),d)):h.Kc(d),d=0,e=[0,1];d<e.length;d++)d=e[d],f=this.IL[d].wa().Ma(this.IL[d].Fk()),this.K6a(this.Hb(),this.IL[d].wh().ID,f.getX(),f.getY());this.Fh(this.Hb());h.ha();return this};c.prototype.setStyle=function(d){function e(h){return h instanceof rf?G({},{fillstyle:h.ia()}):G({},{fillstyle:h})}function f(h){return h instanceof X?G({},{linestyle:h.ia()}):G({},{linestyle:h})}var g={};void 0!==d.main&&(void 0!==d.main.linestyle&&
(g=G(g,f(d.main.linestyle))),void 0!==d.main.fillstyle&&(g=G(g,e(d.main.fillstyle))),this.Fb[0].fa(g));g={};if(void 0!==d.corners)for(void 0!==d.corners.linestyle&&(g=G(g,f(d.corners.linestyle))),void 0!==d.corners.fillstyle&&(g=G(g,e(d.corners.fillstyle))),d=1;d<this.Fb.length;++d)this.Fb[d].fa(g);return this};c.prototype.Fbd=function(d,e){if(!d&&!e)return!0;if(!d||!e||d.length!==e.length)return!1;var f;for(f=0;f<d.length;f++)if(d[f].ic()!==e[f].ic())return!1;return!0};c.prototype.paa=function(d){hb("LinksAdapter.setCursor() is deprecated since 2022 (v3.4)");
return this};c.prototype.qaa=function(d){null!=this.mE&&RR.Kk(this.mE,{cursor:d});return this};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTaGFwZSI6IkxtIiwib25Nb3ZlIjoiS24iLCJzZXRDdXJzb3IiOiJwYWEiLCJzZXRDdXJzb3JJbnRlcm5hbCI6InFhYSJ9fX0g");var y3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];$n.call(this,b);this.ahd=new X("rgba(100, 100, 100, 1)",3);this.Zgd=new rf("rgba(100, 100, 100, 1)");this.sV=0;this.DR=[];this.JL=[new M(0,0),new M(0,0)];this.ao=[null,null];this.le(a);this.created=!1}D(c,$n);lc(c,c3);L(c,"geotoolkit.flowcharts.shapes.connectors.PolylineVisual");c.prototype.EP=function(){return this.Aia};c.prototype.Wma=function(){return this.hU};c.prototype.DM=function(){return this.via};
c.prototype.yfa=function(){return this.DR};c.prototype.Ky=function(){var a=this.ga();return new Vd(a.ca(),a.da())};c.prototype.Roa=function(a){return this};c.prototype.$m=function(a){this.Lc=a};c.prototype.Eb=function(a){return this};c.prototype.Vd=function(){return this};c.prototype.$B=function(){for(var a=[],b=this.ce(),d=this.Fe(),e=0;e<b.length;e++)a.push(new M(b[e],d[e]));return a};c.prototype.Lxa=function(a){return this};c.prototype.Jw=function(){return this.Cn};c.prototype.cva=function(){return this.Nib};
c.prototype.r0=function(a){this.cea=a;return this};c.prototype.Mz=function(){return this.cea};c.prototype.q8b=function(a){this.ep=a;return this};c.prototype.Gk=function(){return this.ep};c.prototype.nGa=function(){return this.sV};c.prototype.LWa=function(a){if(!a||0>a)a=0;this.sV!==a&&(this.ha(),this.sV=a,this.ha())};c.prototype.ga=function(){var a=$n.prototype.ga.call(this).clone(),b=this.Ea()?this.Ea().ca()/2:.5;a.Uc(a.ca()<$2.EPSILON?1E-5:b,a.da()<$2.EPSILON?1E-5:b);this.nGa()&&a.Uc(this.sV,this.sV);
return a};c.prototype.le=function(a){a&&(this.hU=a.prototypeName,this.Lc=a.geometry,this.Aia=a.prototypeId,this.via=a.category,this.Nib=a.defaultIconSize,this.DR=a.searchKeywords,this.Lxa(a.linkPoints),this.Cn=a.outline,this.cea=a.url,this.Ui=a.polygon,(a.geometry instanceof $n||a.geometry instanceof Vm)&&this.fa(a.geometry.ia()),this.kb(a.prototypeName),this.LWa(a.tubingWidth),this.lj());this.on(Ce.RI,function(){this.BN()}.bind(this));this.Dd(a&&a.id?a.id:f3.Py())};c.prototype.clone=function(){var a=
new c({prototypeName:this.hU,geometry:this.Vd(),prototypeId:this.EP(),category:this.DM(),defaultSize:this.Ky(),defaultIconSize:this.cva(),searchKeywords:this.DR?this.DR.slice():[],linkPoints:this.$B()?this.$B().slice():null,outline:this.Jw()?this.Jw().clone():null,tubingWidth:this.nGa(),url:this.Mz()});return a};c.prototype.pa=function(){for(var a=$2.$0,b=$2.$0,d=$2.BKa,e=$2.BKa,f=this.ce(),g=this.Fe(),h=0;h<f.length;h++)a>f[h]&&(a=f[h]),b>g[h]&&(b=g[h]),d<f[h]&&(d=f[h]),e<g[h]&&(e=g[h]);return new U(a,
b,d,e)};c.prototype.render=function(a){this.Lc instanceof Vm?(this.Lc.fa(this.ia()),this.Lc.render(a)):$n.prototype.render.call(this,a)};c.prototype.kRa=function(a,b,d){if(!d||!a)return!1;if(null!=b){if(this.ao[b]){var e=this.ao[b].$wa;this.Hea(b);this.ao[b]=null}a.on(Ce.RI,function(){this.BN()}.bind(this));this.ao[b]=new p3(a,d,b,this);this.ao[b].$wa=e;this.BN(!0);return!0}return!1};c.prototype.p8a=function(){return this.ao};c.prototype.Hea=function(a,b,d){if(null!=a){var e=this.ao[a];if(!e)return;
if(!e.zt){this.ao[a]=null;return}null!=b&&null!=d&&(b=this.wa().hd(new M(b,d)),d=a===o3.EN?0:this.ce().length-1,this.ce()[d]=b.getX(),this.Fe()[d]=b.getY());this.ao[a]=null;null==this.ao[o3.EN]&&null==this.ao[o3.Ao]&&e.zt.za(Ce.RI,function(){this.BN()}.bind(this))}this.BN()};c.prototype.ZWb=function(a){for(var b=[],d=0,e=this.ao;d<e.length;d++){var f=e[d];f&&f.J9a()===a.ic()&&b.push(f.ID===o3.EN?0:this.ce().length-1)}return b};c.prototype.BN=function(a){void 0===a&&(a=!1);if(!this.m5a){this.m5a=!0;
for(var b=!1,d=0,e=this.ao;d<e.length;d++){var f=e[d];if(f&&f.zt&&f.WP){var g=f.zt.wa().Ta(f.zt.ga());if(a||!g.wi(f.$wa))b||this.ha(),b=this.getParent().wa().hd(f.zt.wa().Ma(f.WP)),this.Swa(f.ID,b,!0,!0),f.$wa=g,b=!0}}b&&(this.lj(),this.ha(),this.xa());this.m5a=!1}};c.prototype.Swa=function(a,b,d,e){var f=this.ce().slice(),g=this.Fe().slice();a=(a=a===o3.EN)?0:f.length-1;var h=this.Im.hd(b);b=h.x;h=h.y;d?(f[a]=b,g[a]=h):e||$2.$O(f,g,f[a],g[a],a+1);this.he(f,g);this.lj()};c.prototype.r6a=function(a,
b,d){if(!a||!a.wa()||nc(a,c3))return null;var e=a.$B(),f=a.wa();if(e)for(var g=0;g<e.length;g++){var h=e[g];if(M.Uf(f.Ma(h),f.Ma(a.lb().hd(b)))<d)return h}return null};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm90b3R5cGVJZCI6IkVQIiwiZ2V0UHJvdG90eXBlTmFtZSI6IldtYSIsImdldENhdGVnb3J5IjoiRE0iLCJnZXRTZWFyY2hLZXl3b3JkcyI6InlmYSIsImdldERlZmF1bHRTaXplIjoiS3kiLCJzZXREZWZhdWx0U2l6ZSI6IlJvYSIsInNldFRleHQiOiJFYiIsImdldEdlb21ldHJ5IjoiVmQiLCJnZXRMaW5rUG9pbnRzIjoiJEIiLCJzZXRMaW5rUG9pbnRzIjoiTHhhIiwiZ2V0T3V0bGluZSI6Ikp3IiwiZ2V0RGVmYXVsdEljb25TaXplIjoiY3ZhIiwic2V0VXJsIjoicjAiLCJnZXRVcmwiOiJNeiIsImdldFR1YmluZ1dpZHRoIjoibkdhIiwic2V0VHViaW5nV2lkdGgiOiJMV2EiLCJnZXRCb3VuZHMiOiJnYSIsImNvbm5lY3RUbyI6ImtSYSIsImdldENvbm5lY3Rpb25zIjoicDhhIiwiZGlzY29ubmVjdEZyb20iOiJIZWEiLCJnZXRDb25uZWN0ZWRJbmRleGVzIjoiWldiIiwidXBkYXRlTGlua3MiOiJCTiIsImNhbkNvbm5lY3QiOiJyNmEifX19");var z3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){x3.call(this);this.PLa=!1}D(c,x3);L(c,"geotoolkit.flowcharts.shapes.edit.PolylineAdapter");c.prototype.Bvc=function(){this.Hb().created=!0;this.Mfa();this.ml(!0);this.qaa("default")};c.prototype.isConnected=function(){return this.PLa};c.prototype.HHc=function(a,b,d){this.Hb().created?(this.Mfa(),this.ml(!1),this.qaa("default")):(this.QWa(),this.VDa=!1)};c.prototype.U1b=function(a,b,d){this.Hb().created?(this.QWa(),this.VDa=!1):(this.Mfa(),this.ml(!1),this.qaa("default"),
this.PLa&&(this.Hb().created=!0))};c.prototype.QWa=function(){x3.prototype.QWa.call(this);this.tk.control=this.Hb().control;this.tk.created=this.Hb().created};c.prototype.Mfa=function(a){void 0===a&&(a=!1);if(this.tk){this.tk.va(!1);if(this.Hb()&&!a){a=this.tk.ce();var b=this.tk.Fe();a=$2.yVa(a,b,!0);this.Hb().he(a.x,a.y);this.Hb().userTouched=this.tk.userTouched;this.Hb().created=this.tk.created;this.Hb().lj()}this.Hb().getParent().removeChild(this.tk)}this.tk=null;this.Hb().va(!0)};c.prototype.V1b=
function(a,b,d){if(this.tk&&a){b=this.Hb().ce().slice();var e=this.Hb().Fe().slice(),f=a.wh().Xl,g=0===f?b[b.length-1]:b[f-1],h=0===f?e[e.length-1]:e[f-1],k=f===b.length-1?b[0]:b[f+1];f=f===e.length-1?e[0]:e[f+1];var l=d.getX();d=d.getY();if(0!==l-g&&0!==d-h){var m=Math.sqrt(Math.pow(l-g,2)+Math.pow(d-h,2));var n=Math.abs(l-g)/Math.abs(d-h);n<Math.tan(5*Math.PI/180)?(l=g,d=h+(0<d-h?m:-1*m)):n<Math.tan(48*Math.PI/180)&&n>Math.tan(42*Math.PI/180)?(l=g+(0<l-g?m*Math.sin(45*Math.PI/180):m*Math.sin(45*
Math.PI/180)*-1),d=h+(0<d-h?m*Math.sin(45*Math.PI/180):m*Math.sin(45*Math.PI/180)*-1)):n>Math.tan(87*Math.PI/180)&&(d=h,l=g+(0<l-g?m:-1*m))}0!==l-k&&0!==d-f&&(m=Math.sqrt(Math.pow(l-k,2)+Math.pow(d-f,2)),n=Math.abs(l-k)/Math.abs(d-f),n<Math.tan(5*Math.PI/180)?(l=k,d=f+(0<d-f?m:-1*m)):n<Math.tan(50*Math.PI/180)&&n>Math.tan(40*Math.PI/180)?(l=k+(0<l-k?m*Math.sin(45*Math.PI/180):m*Math.sin(45*Math.PI/180)*-1),d=f+(0<d-f?m*Math.sin(45*Math.PI/180):m*Math.sin(45*Math.PI/180)*-1)):n>Math.tan(85*Math.PI/
180)&&(d=f,l=k+(0<l-k?m:-1*m)));$2.xyb(b,e,a.wh().Xl);$2.$O(b,e,l,d,a.wh().Xl);this.tk.userTouched=!0;a=$2.yVa(b,e,!0);this.tk.he(a.x,a.y);this.tk.lj()}};c.prototype.yWc=function(a,b,d){if(b){var e=a.wh();e=e.Xl;if(!(0>e||e>=this.Hb().ce().length)){var f=this.Hb().ce(),g=this.Hb().Fe();b=d.Ma(b.Hc(f[e],g[e]).clone());a.Db(b)}}};c.prototype.ml=function(a){void 0===a&&(a=!0);this.Bsc();var b=this.Hb(),d=b.ga(),e=b.ce(),f=b.Fe();this.PLa&&(b.created=!0);this.Fb.push((new WP(d.la(),d.ka(),d.na(),d.ma())).Al(new w3(b,
-1)));d=new Vd(1*this.lR,1*this.lR);var g=1;if(this.Hb().Vd()instanceof Vm&&this.Hb().created)g=0;else for(var h=e.length-1,k=0,l=[0,1];k<l.length;k++){var m=l[k];m=(new u3({x:e[m*h],y:f[m*h],size:new Vd(this.lR,this.lR)})).Al(new w3(b,m));this.Fb.push(m);this.IL.push(m)}for(m=g;m<e.length-g;m++)h=(new v3(e[m],f[m],d)).Al(new s3(b,m,t3.hYa)),this.Fb.push(h),this.qDa.push(h);a&&(this.Hb().created?this.sr(this.Fb[0]):this.sr(this.IL[1]));for(m=1;m<this.Fb.length;m++)this.ec().oa(this.Fb[m]),this.Fb[m].YA(this);
this.setStyle({main:{linestyle:new X({color:"rgba(48, 144, 199, 1)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new rf("transparent")},corners:{linestyle:new X({color:"rgba(48, 144, 199, 1)",width:1,pixelsnapmode:{x:!0,y:!0}})}});this.Fh(this.Hb());this.ec().ha();return!0};c.prototype.Lm=function(a){YP.prototype.Lm.call(this,a);a.created?this.ml():(this.PLa=!1,this.le(),this.QWa(),this.VDa=!1);return this};c.prototype.Hb=function(){return YP.prototype.Hb.call(this)};c.prototype.Km=function(a){this.s$()||
this.ml(!0);this.Fh(this.Hb());a||(this.Mfa(!0),this.Hb().created=!0,this.xGa(),this.qaa("default"))};c.prototype.K6a=function(a,b,d,e){this.IL[b].setActive(!1);if(this.SY&&0<this.SY.length)for(var f=0,g,h;f<this.SY.length;f++){h=this.SY[f];if(!h.getParent())return;g=a.r6a(h,h.getParent().wa().hd(new M(d,e)),this.Mgc);for(var k=0;k<this.Ija.length;k++){var l,m=g&&this.Ija[k].Fk().Ew(l=h.Qa().Ma(g));this.Ija[k].setActive(m);m&&this.tk&&this.tk.Swa(b,l,!0,this.tk.created)}if(g){this.IL[b].setActive(!0);
a.kRa(h,b,g)&&(a.BN(),this.Fh(a));this.PLa=!0;return}this.PLa=!1}a.Hea(b)};c.prototype.Kn=function(a,b){this.sqb(a,b);var d=this.Uv();if(null==d)return this;var e=this.bc();if(e.getX()===a&&e.getY()===b)return this;this.xGa();var f=this.tk?this.tk:this.Hb();f.ha();var g=f.wa().rc();e=g.Ma(e);g=g.Hc(a,b).clone();if(d instanceof v3)this.V1b(d,e,g);else if(d instanceof u3)e=d.wh(),null!=e&&null!=e.ID&&f&&(f.Swa(e.ID,f.lb().Ma(g),this.VDa,this.Hb().created),this.Hb().created&&this.K6a(e.TGa,e.ID,a,b));
else if(this.qaa("move"),this.Mfa(),a=f.ga(),b=a.clone(),d=g.getX()-e.getX(),e=g.getY()-e.getY(),b.setX(b.getX()+d),b.setY(b.getY()+e),e=W.Sd(a,b,!1,!1,!1),g=f.lb()?f.lb():new W,f.Kc(W.multiply(g,e)),0<this.IL.length)for(e=0,g=[0,1];e<g.length;e++)a=g[e],b=this.IL[a].wa().Ma(this.IL[a].Fk()),this.K6a(this.Hb(),this.IL[a].wh().ID,b.getX(),b.getY());this.VDa=!0;this.Fh(this.Hb());f.ha();return this};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkluaXRpYWxpemUiOiJtbCIsInNldFNoYXBlIjoiTG0iLCJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6IkttIiwib25Nb3ZlIjoiS24ifX19");var A3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){a=G(a,{model:a instanceof oi?a:null,slots:{},name:"geotoolkit.flowcharts.shapes.edit.DiagramTool",layer:b},!0);IR.call(this,a);this.nH=this.Fnc=null;this.sm({pointerdown:this.Xc.bind(this),pointermove:this.Ac.bind(this),pointerup:this.Oc.bind(this),dblclick:this.Lq.bind(this)});this.zUc=!0;this.tHa=new Y2;this.t9b=0;this.x9b=function(){this.nH&&this.w9b(this.nH)}.bind(this);this.Jc=a.model;this.Ug=new bk}D(c,IR);L(c,"geotoolkit.flowcharts.shapes.edit.DiagramTool");
c.prototype.WH=function(a){this.lc=a;this.Zwd(a);return this};c.prototype.itd=function(){return this.ZL};c.prototype.Zwd=function(a){this.ZL||(this.ZL=(new eQ(null,this.ec())).register(g3.Oa(),new l3).register(j3.Oa(),new l3).register(r3.Oa(),new x3).register(y3.Oa(),new z3).register(h3.Oa(),this.Fnc=new l3).register(AE.Oa(),new l3));return this.ZL};c.prototype.Kuc=function(){this.ZL.FK(null);return this};c.prototype.dispose=function(){this.cj&&this.cj.removeEventListener("keypress",this.xMa);IR.prototype.dispose.call(this)};
c.prototype.Xc=function(a){var b,d=this.Kd(this.Jc,a),e=this.Jc.wa().Ma(d),f=this.Ug.select(this.lc.getRoot(),e.getX(),e.getY(),3).filter(function(h){return h instanceof Fe});if(this.ne instanceof z3&&!this.ne.Hb().created&&(this.ne.U1b(a,e,d),!this.ne.isConnected()))return;if(f&&0<f.length){for(b=f.length-1;0<=b;b--)if(f[b]instanceof r3||f[b]instanceof y3){var g=this.ZL.Sua();(g instanceof x3||g instanceof z3)&&g.Hd()&&g.Hb()===f[b]&&g.U1b(a,e,d)}for(b=f.length-1;1<=b;b--)if(d=f[b],d instanceof PP){if(d instanceof
TP&&(g=this.qsb())&&1===g.length&&g!==f[b])continue;if(d.aI()){this.ne=d.aI().sr(d).setPosition(e.getX(),e.getY());this.ZL.FK(this.ne);this.Hd()||this.start();a.stopPropagation(!0);return}}}(a=this.d9b(f,e,a))&&a.length?(this.tNb!==a&&this.Eva().Xdb(a),this.tNb=a):this.AV()};c.prototype.Oc=function(a){if(!this.Hd()||!this.ne)if(!(this.ne instanceof z3)||this.ne.Hb().created&&!this.ne.isConnected())return;var b=this.ZL.Sua();if(b instanceof x3||b instanceof z3){var d=this.Kd(this.Jc,a),e=this.Jc.wa().Ma(d);
b.HHc(a,e,d);b.j7b([])}a=this.ne.Hb();this.ne instanceof z3&&!this.ne.Hb().created||(a instanceof r3&&a.BN(),this.ne&&this.ne.sr(null),this.ne=null,this.stop())};c.prototype.Lq=function(a){a=this.Kd(this.Jc,a);a=this.Jc.wa().Ma(a);a=this.Ug.select(this.lc.getRoot(),a.getX(),a.getY(),4).filter(function(b){return nc(b,b3)});a=0<a.length?a[a.length-1]:null;nc(a,g3)&&this.nPd(a);this.ne instanceof z3&&(this.ne.Bvc(),this.AV())};c.prototype.Ac=function(a){if(this.ne){a=this.Kd(this.Jc,a);a=this.Jc.wa().Ma(a);
var b=this.ZL.Sua();b&&b.move(a.getX(),a.getY())}};c.prototype.AV=function(){this.tNb=null;this.Eva().Xdb([]);this.Kuc()};c.prototype.h9b=function(){return this.ne instanceof z3&&!this.ne.Hb().created?(this.ne.Bvc(),this.AV(),!0):!1};c.prototype.d9b=function(a,b,d){if(a&&0<a.length)for(var e=a.length-1;0<=e;e--)if(!a[e].getParent()||"ShapesContainer"===a[e].getParent().ic()){var f=this.ZL.aI(a[e]);if(f)return a[e]instanceof y3&&-1!==a[e].Da().indexOf("CLONE")||f.Lm(a[e]).setPosition(b.getX(),b.getY()),
this.ZL.FK(null),this.ZL.FK(f),this.ne=f,this.Hd()||this.start(),d&&d.stopPropagation(!0),[a[e]]}return[]};c.prototype.kUc=function(){this.stop();this.ne=null;this.Kuc()};c.prototype.qsb=function(){var a=[];if(!this.ZL.Sua())return a;var b=this.ZL.Sua().Hb();if(b instanceof h3){var d=b.Zv();for(b=0;b<d.length;b++)a.push(d[b])}else 0>a.indexOf(b)&&a.push(b);return a};c.prototype.kIa=function(a){if(this.ne instanceof z3&&!this.ne.Hb().created)return this;this.ZL.FK(null);var b;if(1<a.length){if(b=this.Fnc)b.Lm(a),
this.ZL.FK(b)}else if(1===a.length)for(var d=0;d<a.length;d++){b=this.ZL.aI(a[d]);if(!b)return this;b.Lm(a[d]);this.ZL.FK(b)}this.Eva().Xdb(a);return this};c.prototype.VDc=function(){return this.zUc};c.prototype.ANd=function(a){this.zUc=a;return this};c.prototype.nPd=function(a){this.VDc()&&(this.nH&&(this.nH.za(Ce.RI,this.x9b),this.nH.Gk&&this.nH.Gk()&&(this.nH.Gk().va(!0),this.nH.ha())),this.lPd(),this.nH=a)&&(a.on(Ce.RI,this.x9b),a.Gk&&a.Gk()&&(a.Gk().va(!1),a.ha()),this.w9b(a,!0),this.cj.focus())};
c.prototype.lPd=function(){this.$j||(this.$j=xc("div"),this.$j.style.position="absolute",this.$j.style.display="none",this.$j.style.border="0px solid transparent !important",this.$j.style.pointerEvents="none",this.$j.style.overflow="hidden",Za.document.body.appendChild(this.$j),this.cj=xc("div"),this.cj.style.overflow="hidden",this.cj.style.position="absolute",this.cj.style.border=this.t9b+"px solid black",this.cj.style.pointerEvents="all",this.cj.style.display="flex",this.cj.style.alignContent="center",
this.cj.style.alignItems="center",this.cj.contentEditable="true",this.$j.appendChild(this.cj),this.xMa=function(a){if("Enter"===a.key||13===a.keyCode)a.shiftKey||this.EUc()}.bind(this),this.cj.addEventListener("keypress",this.xMa),this.LAa=function(a){"Escape"===a.key||27===a.keyCode?this.kPd():(this.w9b(this.nH,!1),a.stopPropagation())}.bind(this),this.cj.addEventListener("keydown",this.LAa),this.cj.addEventListener("blur",function(){return this.EUc()}.bind(this)))};c.prototype.w9b=function(a,b){var d=
this.lc?this.lc.Vv():null;if(!d)return this;var e=yc(this.lc.Vv());d=new U({x:e.x,y:e.y,width:d.clientWidth,height:d.clientHeight});if(!a||!a.ga())return this.$j.style.display="none",this;e=this.mPd(a,!0);b&&(this.cj.innerText=a.Gk()?a.Gk().ee()||"":"",this.cj.style.wordBreak="break-all",this.cj.style.font=a.Gk().jb().lt(),this.cj.style.textAlign=a.Gk().jb().pj(),this.cj.style.justifyContent=a.Gk().jb().pj()===Fi.$b?"flex-end":a.Gk().jb().pj(),this.cj.style.color="red",this.cj.style.lineHeight=a.Gk().jb().ZB()+
"",this.cj.style.baselineShift=a.Gk().jb().Tt());this.$j.style.display="block";this.$j.style.left=d.getX()+"px";this.$j.style.top=d.getY()+"px";this.$j.style.width=d.ca()+"px";this.$j.style.height=d.da()+"px";this.cj.style.left=e.left+"px";this.cj.style.top=e.top+"px";this.cj.style.width=e.width+2*this.t9b+"px";this.cj.style.height=e.height+2*this.t9b+"px";this.cj.style.transformOrigin="center";this.cj.style.transform="rotate("+e.angle+"rad)";return this};c.prototype.mPd=function(a,b){b=a.ga();b=
[b.bd(),b.Wf(),b.nf(),b.Vf(),b.getCenter()];var d=a.wa().clone();a=[];for(var e=0;e<b.length;e++)a.push(d.Ma(b[e]));b=g3.Cjd(g3.xsd(a[0],a[1]),!1);d=M.Uf(a[0],a[1]);e=M.Uf(a[0],a[3]);return{angle:b,left:a[4].getX()-d/2,top:a[4].getY()-e/2,width:d,height:e}};c.prototype.EUc=function(){var a=this.cj.innerText;a={value:a};this.fireEvent("ValueChanged",a);this.nH instanceof g3&&(this.nH.Gk().Eb(this.cj.innerText),this.nH.ha());this.DUc();return this};c.prototype.kPd=function(){if("none"===this.cj.style.display)return this;
this.DUc();return this};c.prototype.DUc=function(){this.$j.style.display="none";this.nH&&(this.nH.za(Ce.RI,this.x9b),this.nH.Gk()&&(this.nH.Gk().va(!0),this.nH.ha()));this.nH=null};c.prototype.Eva=function(){this.tHa||(this.tHa=new Y2);return this.tHa};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhdHRhY2hUb1Bsb3QiOiJXSCIsImdldFNoYXBlQWRhcHRlcnMiOiJpdGQiLCJjbGVhclNlbGVjdGlvbiI6IkFWIiwic3RhcnRBZGFwdGVyIjoiZDliIiwiZ2V0QWN0aXZlU2VsZWN0aW9uIjoicXNiIiwic2VsZWN0VmlzdWFscyI6ImtJYSIsImdldFRleHRFZGl0b3JFbmFibGVkIjoiVkRjIiwic2V0VGV4dEVkaXRvckVuYWJsZWQiOiJBTmQiLCJnZXRPblNlbGVjdGlvbkNoYW5nZUV2ZW50IjoiRXZhIn19fSAg");var B3=/*#__PURE__*/va(/*#__PURE__*/{Bc:"None",OI:"Panning",cec:"RubberBandSelection"},2,"eyJOb25lIjoiQmMiLCJQYW5uaW5nIjoiT0kiLCJSdWJiZXJCYW5kU2VsZWN0aW9uIjoiY2VjIn0g");var C3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}var a=null;c.ya=function(){a||(a=new c);return a};c.prototype.m5=function(b,d,e){return this.PAc().m5(b,d,e)};c.prototype.X3=function(b){return this.PAc().X3(b)};c.prototype.XMd=function(b,d){this.ho().zyb(b);this.ho().Hl(b,d)};c.prototype.Eu=function(b){return this.ho().Eu(b)};c.prototype.PAc=function(){this.tjc||(this.tjc=new Cl(this.ho()));return this.tjc};c.prototype.ho=function(){this.jm||(this.jm=new Pf);return this.jm};return c}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsic2VyaWFsaXplIjoibTUiLCJkZXNlcmlhbGl6ZSI6IlgzIiwic2V0U2VyaWFsaXplciI6IlhNZCIsImdldFNlcmlhbGl6ZXIiOiJFdSJ9fX0g");var D3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){JZ.call(this,a);this.gL="Panning";this.Tlb=new U(0,0,800,500);this.yne=new Vd(1,1);this.noc=0;this.Kaa=10;this.tHa=new Y2;this.SOb=this.UF=null;this.le();this.F9b("RubberBandSelection")}D(c,JZ);L(c,"geotoolkit.flowcharts.shapes.DiagramWidget");c.prototype.ji=function(a,b,d){var e=a.Kb().pa(),f=a.Kb().vb();b&&b.Ha(e,f,a.Kb().mi());d&&d.Ha(e,f,a.Kb().lo())};c.prototype.pan=function(a,b,d,e,f){a.aE(b,d);this.ji(a,e,f);return this};c.prototype.Zed=function(a){var b=new rf({color:new td(255,
255,255,1)}),d=new X("gray",2);b=(new oi).qa(b).ra(d).Yc(!1).Ha(a.clone()).sa(a.clone());this.Df=new oi;this.Df.Ha(a.clone());this.Df.kb("ShapesContainer");this.Df.Dd("ShapesContainer");this.Df.pi(new ni);d3.$ac&&b.oa(new e3(this.Df,this.uJ));b.oa([this.Df]);return b};c.prototype.Red=function(a){this.Sda=(new uk).Pq("major",100).Pq("minor",50).Ng("minor",!0);this.Sda.jj("major").setColor("blue");this.Sda.jj("edge").setColor("darkblue");this.Sda.jj("minor").setColor("orange");this.Sda.Rk("major").vo("12px sans-serif");
this.Sda.Rk("minor").vo("12px sans-serif");this.Sda.Rk("edge").vo("12px sans-serif");var b=(new rk(this.Sda)).Zl(yf.xd).setOrientation(Rh.xb).Vr(zf.xd),d=(new rk(this.Sda)).Zl(yf.nb).setOrientation(Rh.xb).Vr(zf.nb),e=(new rk(this.Sda)).Zl(yf.$b).setOrientation(Rh.ob).Vr(zf.$b),f=(new rk(this.Sda)).Zl(yf.kc).setOrientation(Rh.ob).Vr(zf.kc);a={fillstyle:new rf({color:"red"}),model:this.Zed(a),keepvisiblelimits:!1,north:[b],south:[d],west:[e],east:[f]};this.Ib=(new am(a)).tr(null);this.Ib.La({left:0,
right:0,top:0,bottom:0});this.Ib.bb(Zh.me).yl(this.noc);this.Ib.bb(Zh.vc).yl(0);this.Ib.bb(Zh.dc).Yl(this.noc);this.Ib.bb(Zh.Ic).Yl(0);return this.Ib};c.prototype.bb=function(a){return a===Zh.Bc?null:this.Ib.bb(a)};c.prototype.KJd=function(a){this.Ib.Kb().Ha(a);this.Ib.Kb().sa(a);this.Kb().Ha(a);return this};c.prototype.le=function(){this.uJ=new d3(this.Kaa);this.Ib=this.Red(this.Tlb);this.Wd(new jl).oa(this.Ib);this.Xwd(this.Ib);this.Yh();this.ji(this.Ib,this.Id,this.wd)};c.prototype.Xwd=function(a){var b=
a.Kb(),d=function(f,g){var h=b.vb();g=g.vb();h=h.la()-g.la();this.pan(this.Ib,h,0,f,null)}.bind(this),e=function(f,g){var h=b.vb();g=g.vb();h=h.ka()-g.ka();this.pan(this.Ib,0,h,null,f)}.bind(this);this.Id=(new UR({modellimits:b.pa(),visiblelimits:b.vb(),size:10,rounded:!0})).sN(!0).addListener(KR.rn,d);this.wd=(new YR({modellimits:b.pa(),visiblelimits:b.vb(),size:10,rounded:!0})).sN(!0).addListener(KR.rn,e);a.hr(this.Id,Zh.vc);a.hr(this.wd,Zh.Ic)};c.prototype.Yh=function(){Za.document.addEventListener("keydown",
function(b){46===b.keyCode&&this.IUb()}.bind(this));Za.document.addEventListener("keydown",function(b){27===b.keyCode&&this.AV()}.bind(this));var a=new Am;this.Ib.oFa().oa(a);this.vB=new A3(this.Ib.Kb(),a);this.vB.Eva().on(function(b){this.Eva().Xdb(b)}.bind(this));this.Rca=[this.UF=this.Twd()];this.vB.Ob(!0);this.mn([this.Id.Ec(),this.wd.Ec(),this.vB,this.SOb=this.Vwd(a),(new NS(this.Ib,"selectionTools")).add(this.Rca)])};c.prototype.Twd=function(){return(new bU).Ob(!0).addListener(aU.MD,function(a,
b){a=b.vl();this.Ib.aE(a.x,a.y);this.ji(this.Ib,this.Id,this.wd)}.bind(this))};c.prototype.Vwd=function(a){return(new aT(a,HS.Y5)).oaa(!1).Wga(yS.ON).XRc(VS.sk).bB(function(b){return b.filter(function(d){return nc(d,b3)||d instanceof AE||nc(d,c3)})}).kb("RubberBandSelection").Ob(!1).addListener($S.cxa,function(b,d){if(b=d.getSelection()){d=[];for(var e=0;e<b.length;e++)b[e].getParent()&&"ShapesContainer"===b[e].getParent().ic()&&d.push(b[e]);this.vB.Ob(!0);this.vB.kIa($2.flatten([d]))}}.bind(this)).addListener(HR.Mi,
function(b){this.vB.Ob(!0);!1===b.isEnabled()&&(this.vB.Ob(!0),this.F9b(B3.OI))}.bind(this))};c.prototype.F9b=function(a){this.Rca.forEach(function(d){d.Ob(!1)});var b=B3.OI;a===B3.cec?this.gL!==a&&(b=a,this.SOb.Ob(!0),this.vB.Ob(!1)):(this.UF.Ob(!0),this.SOb.Ob(!1));this.gL=b;return this};c.prototype.kkd=function(){return this.gL};c.prototype.gGa=function(){var a=this.Ib.Kb().lb();return{x:a?a.pb():1,y:a?a.Ab():1}};c.prototype.Mn=function(a,b){a||(a=1);b||(b=a);var d=this.gGa()?this.gGa():{x:1,y:1};
this.Ib.Is(a/d.x,b/d.y);this.ji(this.Ib,this.Id,this.wd);this.g9b();return this};c.prototype.aba=function(){this.Is(2)};c.prototype.bba=function(){this.Is(.5)};c.prototype.Is=function(a){a?this.Ib.Is(a,a):this.Ib.qQ(new W);this.g9b();this.ji(this.Ib,this.Id,this.wd)};c.prototype.g9b=function(){this.vB.kUc();this.vB.stop()};c.prototype.Kb=function(){return this.Df};c.prototype.Omd=function(){return this.Df.ga().clone()};c.prototype.cFa=function(a,b,d,e){this.uJ.wX(this.Df,d,e);var f=this.uJ.cFa(a,
b);d=[];var g;if(f&&0<f.length){e=[];var h=f[f.length-1];e.push(h);for(g=f.length-2;0<=g;g--)h.jx!==f[g].jx&&h.Yz!==f[g].Yz&&(e.push(f[g+1]),h=f[g+1]);e[0].jx===f[0].jx&&e[0].Yz===f[0].Yz||e.push(f[0]);if(3<e.length)for(g=0;g<e.length;g++){var k=e[g],l=g<e.length-1?e[g+1]:k;h=new M(k.Yz*this.Kaa,k.jx*this.Kaa);0===g?(f=k.Yz===l.Yz?a.getX()-h.getX():0,h=k.jx===l.jx?a.getY()-h.getY():0,h=new M(l.Yz*this.Kaa+f,l.jx*this.Kaa+h),d.push(a,h),g++):g===e.length-2?(f=k.Yz===l.Yz?b.getX()-l.Yz*this.Kaa:0,h=
k.jx===l.jx?b.getY()-l.jx*this.Kaa:0,h=new M(k.Yz*this.Kaa+f,k.jx*this.Kaa+h),d.push(h,b),g++):d.push(h)}else 3===e.length?(d.push(a),g=new M(e[1].Yz*this.Kaa,e[1].jx*this.Kaa),f=e[0].Yz===e[1].Yz?Math.abs(a.getX()-g.getX()):0,h=e[2].jx===e[1].jx?Math.abs(b.getY()-g.getY()):0,f||h||(f=e[1].Yz===e[2].Yz?Math.abs(b.getX()-g.getX()):0,h=e[0].jx===e[1].jx?Math.abs(a.getY()-g.getY()):0),g.translate(f,h),d.push(g),d.push(b)):2>e.length&&(e=[a,b]);2===e.length&&(d.push(a),Math.abs(a.getX()-b.getX())>Math.abs(a.getY()-
b.getY())?d.push(new M((a.getX()+b.getX())/2,a.getY()),new M((a.getX()+b.getX())/2,b.getY())):d.push(new M(a.getX(),(b.getY()+a.getY())/2),new M(b.getX(),(b.getY()+a.getY())/2)),d.push(b))}return d};c.prototype.getSelection=function(){var a=[];return this.vB?a=this.vB.qsb():this.tNb=a};c.prototype.h9b=function(){return this.vB?this.vB.h9b():!1};c.prototype.AV=function(){this.vB&&this.vB.AV();return this};c.prototype.kIa=function(a){this.vB&&this.vB.kIa(a);return this};c.prototype.Mvd=function(a,b){void 0===
b&&(b="group of objects");if(a&&a.length){this.AV();var d=new AE;d.oa(a);d.kb(b);d.Dd(f3.Py());this.Kb().oa(d);this.kIa([d])}return this};c.prototype.SPd=function(a){if(a&&a.length){this.AV();for(var b=0;b<a.length;b++){var d=a[b];if(d instanceof AE){for(;0<d.Yb();){var e=d.eb(0);e instanceof lg&&(e.Kc(W.multiply(d.lb()?d.lb():new W,e.lb()?e.lb():new W)),this.Kb().oa(e))}this.Kb().removeChild(d)}}}return this};c.prototype.m6a=function(a){if(!a)return this;a=Array.isArray(a)?a:[a];this.Kb().removeChild(a);
for(var b=0;b<a.length;b++)this.Kb().Mf(this.Kb().Yb(),a[b]);return this};c.prototype.GId=function(a){if(!a)return this;a=Array.isArray(a)?a:[a];this.Kb().removeChild(a);for(var b=0;b<a.length;b++)this.Kb().Mf(0,a[b]);return this};c.prototype.xsc=function(){this.AV();this.g9b();this.Kb().dh();return this};c.prototype.xHd=function(){this.Mn(1,1);this.xsc();return this};c.prototype.cId=function(){return C3.ya().m5("model",this.Kb())};c.prototype.wzd=function(a){if(a)if(a=C3.ya().X3(a)){a=a.Bd(null,
"model");this.xsc();var b=[];if(a instanceof oi)for(;0<a.Yb();){var d=a.eb(0);this.X5a(d);b.push(d)}this.HMc(this.M7a(b),this.M7a([this.Kb()]));this.Kb().xa();this.Kb().ha()}else hb("could not deserialize data");else hb("data is not present")};c.prototype.M7a=function(a){var b=[],d,e;for(d=0;d<a.length;d++){var f=a[d];b.push(f);if(f instanceof oi||f instanceof AE){var g=[];for(e=0;e<f.Yb();e++)g.push(f.eb(e));b.push.apply(b,this.M7a(g))}}return b};c.prototype.HMc=function(a,b){function d(k,l){if(k){var m=
k.cq;!m&&k.relatedVisualId&&(m=a.find(function(n){return n instanceof Fe&&n.ic()===k.relatedVisualId}),!m&&b&&(m=b.find(function(n){return n instanceof Fe&&n.ic()===k.relatedVisualId})));m?(l.kRa(m,k.ID,k.WP),k.relatedVisualId=null,k.cq=m):(l.Hea(k.ID),hb("could not restore link to "+k.relatedVisualId))}}for(var e=0;e<a.length;e++){var f=a[e];if(f instanceof r3||f instanceof y3)if(f.userTouched=!0,f.ao&&0<f.ao.length){for(var g=0;g<f.ao.length;g++){var h=f.ao[g];d(h,f)}f.BN(!0)}}};c.prototype.Btc=
function(){return this.TTb(this.getSelection())};c.prototype.Lgd=function(){var a=this.Btc();this.IUb();return a};c.prototype.IUb=function(){var a=this.vB.qsb();a.forEach(function(b){return this.n7a(b)}.bind(this));return this};c.prototype.X5a=function(a,b,d,e){void 0===d&&(d=!0);if(b){var f=b;if(a instanceof lg&&$c(a)){var g=a.lb()?a.lb().clone():new W;g.cB(f.getX(),f.getY());f=a.ga();d?g.translate(-f.cc(),-f.zc()):g.translate(-f.la(),-f.ka());a.Kc(g)}this.X5a(a);a instanceof y3&&(e?(b=this.Kb().wa().Ma(b),
this.vB.d9b([a],b,null),this.vB.Ob(!0)):a.created=!0)}else this.Kb().oa(a);this.Uz(a);return a};c.prototype.Uz=function(a,b){if(a instanceof oi)for(var d=0;d<a.Yb();d++)this.Uz(a.eb(d));a.$5b&&a.$5b(b?null:this)};c.prototype.n7a=function(a){var b;if(a instanceof h3)for(a=a.Zv(),b=0;b<a.length;b++)this.n7a(a[b]);else if(a){for(b=0;b<this.Kb().Yb();b++){var d=this.Kb().eb(b);nc(d,c3)&&(d.Hea(o3.EN),d.Hea(o3.Ao))}this.Uz(a,!0);this.Kb().removeChild(a);this.vB.kUc()}return this};c.prototype.Xuc=function(a){for(var b=
0;b<a.length;b++)this.n7a(a[b]);return this};c.prototype.TTb=function(a){return C3.ya().m5("visuals",a)};c.prototype.Ngd=function(a){var b=this.TTb(a);this.Xuc(a);return b};c.prototype.KDd=function(a,b){try{var d=C3.ya().X3(a).getValue("visuals");a=null;var e;for(e=0;e<d.length;e++)if(d[e]){var f=d[e].lb(),g=f?f.Ta(d[e].ga()):d[e].ga().clone();a?a.union(g):a=g}for(e=0;e<d.length;e++)if(d[e]){var h=d[e],k=a.bd(),l=b.getX()-k.getX(),m=b.getY()-k.getY(),n=h.lb()?h.lb():new W;h.Kc(W.multiply(W.cf(l,m),
n));nc(h,c3)&&h.lj();h.xa();this.X5a(h)}var p=this.M7a(d);this.HMc(p,[]);for(e=0;e<p.length;e++)p[e]&&p[e].Dd(f3.Py());this.vB.kIa(d)}catch(q){}};c.prototype.Eva=function(){this.tHa||(this.tHa=new Y2);return this.tHa};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbm5vdGF0aW9uIjoiYmIiLCJzZXREaWFncmFtTGltaXRzIjoiS0pkIiwidG9nZ2xlVG9vbCI6IkY5YiIsImdldEFjdGl2ZVRvb2wiOiJra2QiLCJnZXRTY2FsZSI6ImdHYSIsInNldFNjYWxlIjoiTW4iLCJ6b29tSW4iOiJhYmEiLCJ6b29tT3V0IjoiYmJhIiwic2NhbGVNb2RlbCI6IklzIiwiZ2V0TW9kZWwiOiJLYiIsImdldERpYWdyYW1MaW1pdHMiOiJPbWQiLCJzdG9wUG9seWxpbmVFZGl0IjoiaDliIiwiY2xlYXJTZWxlY3Rpb24iOiJBViIsInNlbGVjdFZpc3VhbHMiOiJrSWEiLCJncm91cFZpc3VhbHMiOiJNdmQiLCJ1bmdyb3VwVmlzdWFscyI6IlNQZCIsImJyaW5nVG9Gcm9udCI6Im02YSIsInNlbmRUb0JhY2siOiJHSWQiLCJyZXNldERpYWdyYW0iOiJ4SGQiLCJzYXZlRGlhZ3JhbSI6ImNJZCIsImxvYWREaWFncmFtIjoid3pkIiwiZmxhdHRlblZpc3VhbHMiOiJNN2EiLCJjb3B5U2VsZWN0aW9uIjoiQnRjIiwiY3V0U2VsZWN0aW9uIjoiTGdkIiwiZGVsZXRlU2VsZWN0aW9uIjoiSVViIiwiYWRkVmlzdWFsIjoiWDVhIiwiZGVsZXRlVmlzdWFsIjoibjdhIiwiZGVsZXRlVmlzdWFscyI6Ilh1YyIsImNvcHlWaXN1YWxzIjoiVFRiIiwiY3V0VmlzdWFscyI6Ik5nZCIsInBhc3RlIjoiS0RkIiwiZ2V0T25TZWxlY3Rpb25DaGFuZ2VFdmVudCI6IkV2YSJ9fX0g");var E3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){this.cq=a.visuals||[];this.$aa=a.widget;this.center=a.center||!0;this.location=a.location||{x:0,y:0};this.IV=!1}lc(c,X2);L(c,"geotoolkit.flowcharts.commands.AddVisual");c.prototype.hg=function(){return nc(this.$aa,D3)&&this.cq&&this.$aa?(this.$aa.X5a(this.cq,this.IV?null:this.location,this.center),this.IV=!0):!1};c.prototype.AQ=function(){return this.IV&&nc(this.$aa,D3)?(this.$aa.n7a(this.cq),!0):!1};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJleGVjdXRlIjoiaGciLCJ1bmRvIjoiQVEifX19");var F3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){this.F3a=new Ko;this.cq=a.visuals||[];this.Fg=a.transformation||new W;this.IV=!1;if(this.cq)for(a=0;a<this.cq.length;a++)this.cq[a].lb()&&this.F3a.put(this.cq[a],this.cq[a].lb())}lc(c,X2);L(c,"geotoolkit.flowcharts.commands.TransformVisuals");c.prototype.KBb=function(a,b){if(a&&b){var d=a.lb()?a.lb():new W;a.ha();a.Kc(d.rc().Qp(b.rc()).rc());a.ha();return!0}return!1};c.prototype.hg=function(){if(!this.IV&&this.cq.length&&this.Fg){var a;for(a=0;a<this.cq.length;a++)this.KBb(this.cq[a],
this.Fg);return this.IV=!0}return!1};c.prototype.AQ=function(){if(this.IV){var a;for(a=0;a<this.cq.length;a++)this.cq[a].Kc(this.F3a.Cw(this.cq[a])?this.F3a.get(this.cq[a]):null);this.IV=!1;return!0}return!1};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJleGVjdXRlIjoiaGciLCJ1bmRvIjoiQVEifX19");var G3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){F3.call(this,a);this.angle=a.angle||0;this.RB=a.anchor||O.Na}D(c,F3);L(c,"geotoolkit.flowcharts.commands.RotateVisuals");c.prototype.hg=function(){if(!this.IV&&this.cq.length){var a;for(a=0;a<this.cq.length;a++){var b=this.cq[a].ga().clone();this.cq[a].lb()&&(b=this.cq[a].lb().Ta(b));b=b.Hx(this.RB);b=W.Xi(this.angle,b.x,b.y);this.KBb(this.cq[a],b)}return this.IV=!0}return!1};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJleGVjdXRlIjoiaGcifX19");var H3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){F3.call(this,a);this.EK=a.scalex||1;this.pN=a.scaley||1;this.RB=a.anchor||O.Ld}D(c,F3);L(c,"geotoolkit.flowcharts.commands.ScaleVisuals");c.prototype.hg=function(){if(!this.IV&&this.cq.length){var a;for(a=0;a<this.cq.length;a++){var b=this.cq[a].ga();this.cq[a].lb()&&(b=this.cq[a].lb().Ta(b));var d=b.clone();d.Uc(1<this.EK?b.width*this.EK/4:-(b.width-b.width*this.EK)/2,1<this.pN?b.height*this.pN/4:-(b.height-b.height*this.pN)/2);this.KBb(this.cq[a],W.Sd(b,d))}return this.IV=
!0}return!1};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJleGVjdXRlIjoiaGcifX19");var I3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){F3.call(this,a);this.delta=a.delta||{x:0,y:0}}D(c,F3);L(c,"geotoolkit.flowcharts.commands.TranslateVisuals");c.prototype.hg=function(){if(!this.IV&&this.cq.length){var a;for(a=0;a<this.cq.length;a++)this.KBb(this.cq[a],W.cf(this.delta.x,this.delta.y));return this.IV=!0}return!1};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJleGVjdXRlIjoiaGcifX19");var J3=/*#__PURE__*/function(){function c(a){Dl.call(this);void 0===a&&(a=!0);this.nJa=!0;this.nJa=a}L(c,"geotoolkit.flowcharts.persistence.visuals.DiagramVisualSerializer");D(c,Dl);c.prototype.rab=function(a){return a={prototypeName:a.getValue("prototypeName"),geometry:this.nJa?a.Bd(null,"geometry"):null,prototypeId:a.getValue("prototypeId"),category:a.getValue("category"),defaultSize:a.Bd(null,"defaultSize"),searchKeywords:a.Bd(null,"searchKeywords"),linkPoints:a.Bd(null,"linkPoints"),outline:a.Bd(null,"outline"),
text:a.Bd(null,"text"),id:a.Bd(null,"id")}};c.prototype.E1b=function(a,b){a.kb(b.getValue("name"));a.ug(b.getValue("selectable"));a.Js(b.Bd(null,"tag"));a.Kc(b.Bd(null,"localtransform"));a.ra(b.Bd(null,"linestyle"));a.Dd(b.getValue("id"))};c.prototype.OZ=function(a){return new g3(a)};c.prototype.load=function(a){var b=this.rab(a);b=this.OZ(b);this.E1b(b,a);return b};c.prototype.save=function(a,b){b.Xb("prototypeName",a.Wma());this.nJa&&b.Ee("geometry",a.Vd());b.Ee("text",a.Gk());b.Xb("prototypeId",
a.EP());b.Xb("category",a.DM());b.Ee("defaultSize",a.Ky());b.Ee("searchKeywords",a.yfa());b.Ee("linkPoints",a.$B());b.Ee("outline",a.Jw());b.Xb("id",a.ic());b.Xb("name",a.Da());b.Xb("selectable",a.Qr());b.Ee("tag",a.Vj());b.Ee("localtransform",a.lb());b.Ee("linestyle",a.Ea());b.Xb("ClassName",a.Oa());b.commit()};C3.ya().ho().Hl(g3.Oa(),new c);return c}();var K3=/*#__PURE__*/function(){function c(a){Dl.call(this);void 0===a&&(a=!0);this.nJa=a}L(c,"geotoolkit.flowcharts.persistence.visuals.ExportDiagramVisualSerializer");D(c,Dl);c.prototype.rab=function(a){return{prototypeName:a.getValue("prototypeName"),geometry:this.nJa?a.Bd(null,"geometry"):null,prototypeId:a.getValue("prototypeId"),category:a.getValue("category"),defaultSize:a.Bd(null,"defaultSize"),searchKeywords:a.Bd(null,"searchKeywords"),linkPoints:a.Bd(null,"linkPoints"),outline:a.Bd(null,"outline")}};
c.prototype.E1b=function(a,b){a.kb(b.getValue("name"));a.ug(b.getValue("selectable"));a.Js(b.Bd(null,"tag"));a.Kc(b.Bd(null,"localtransform"));a.ra(b.Bd(null,"linestyle"));a.Dd(b.getValue("id"))};c.prototype.OZ=function(a){return new g3(a)};c.prototype.load=function(a){var b=this.rab(a);b=this.OZ(b);this.E1b(b,a);return b};c.prototype.save=function(a,b){b.Xb("prototypeName",a.Wma());if(a instanceof r3){var d=C3.ya().Eu("default");d.save(a,b)}else b.Xy(a.Vd(),null);b.Ee("localtransform",a.lb());a instanceof
r3&&b.Xb("ClassName","geotoolkit.scene.shapes.Polyline");b.commit()};return c}();var L3=/*#__PURE__*/function(){function c(){}L(c,"geotoolkit.flowcharts.persistence.visuals.LinkVisualSerializer");D(c,Dl);c.prototype.load=function(a){var b=C3.ya().Eu("default");if(b&&b.load)b=b.load(a);else return null;var d=a.Bd(null,"connections");if(d&&d.length)for(var e=0;e<d.length;e++){var f=d[e];b.ao[f.ID]=f}b instanceof r3&&(b.searchKeywords=a.Bd(null,"searchKeywords"),b.DQc(a.getValue("linkingMode")),b.LWa(a.getValue("tubingWidth")),b.W6b(a.getValue("linkType")));return b};c.prototype.save=function(a,
b){var d=C3.ya().Eu("default");d.save&&d.save(a,b);d=[];for(var e=0,f=a.ao;e<f.length;e++){var g=f[e];if(g instanceof p3){var h=new p3(null,g.WP,g.ID,null);h.relatedVisualId=g.J9a();h.WP=new M(g.WP.getX(),g.WP.getY());d.push(h)}}b.Ee("connections",d);b.Ee("searchKeywords",a.yfa());b.Xb("linkType",a.wYb());b.Xb("linkingMode",a.lBc());b.Xb("tubingWidth",a.nGa());b.commit()};C3.ya().ho().Hl(r3.Oa(),new c);return c}();var M3=/*#__PURE__*/function(){function c(){}L(c,"geotoolkit.flowcharts.persistence.visuals.PolylineVisualSerializer");D(c,Dl);c.prototype.load=function(a){var b=C3.ya().Eu("default");if(b&&b.load)b=b.load(a);else return null;var d=a.Bd(null,"connections");if(d&&d.length)for(var e=0;e<d.length;e++){var f=d[e];b.ao[f.ID]=f}b instanceof y3&&(b.searchKeywords=a.Bd(null,"searchKeywords"),b.LWa(a.getValue("tubingWidth")),b.created=a.getValue("created"));return b};c.prototype.save=function(a,b){var d=C3.ya().Eu("default");
d.save&&d.save(a,b);d=[];for(var e=0,f=a.ao;e<f.length;e++){var g=f[e];if(g instanceof p3){var h=new p3(null,g.WP,g.ID,null);h.relatedVisualId=g.J9a();h.WP=new M(g.WP.getX(),g.WP.getY());d.push(h)}}b.Ee("connections",d);b.Ee("searchKeywords",a.yfa());b.Xb("tubingWidth",a.nGa());b.Xb("created",a.created);b.commit()};C3.ya().ho().Hl(y3.Oa(),new c);return c}();var N3=/*#__PURE__*/function(){function c(a){void 0===a&&(a=!1);J3.call(this,a)}L(c,"geotoolkit.flowcharts.persistence.visuals.SvgVisualPluginSerializer");D(c,J3);c.prototype.OZ=function(a){var b=new j3(a);b.r0(a.url);return b};c.prototype.rab=function(a){var b=J3.prototype.rab.call(this,a);b.url=a.getValue("url");b.isLinkPointsRelative=a.getValue("relativeLinkPoints");this.nJa||(b.geometry=new oi);b.justdeserialized=!0;return b};c.prototype.save=function(a,b){J3.prototype.save.call(this,a,b);b.Xb("relativeLinkPoints",
a.lYb());a.lYb()&&b.Ee("linkPoints",a.AZb());b.Xb("url",a.Mz());this.nJa||b.Xb("loaded",!1);b.commit()};C3.ya().ho().Hl(j3.Oa(),new c);return c}();var O3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}c.Mr=function(){return[new r3({prototypeId:"class-link",prototypeName:"Link",category:c.Tq,searchKeywords:["link","arrow"],defaultIconSize:new Vd(100,100),geometry:new $n({x:[0,100],y:[1,1],visible:!0}),linkPoints:[new M(0,1),new M(1,1)],linkType:n3.Line,url:"assets/svg/standard/line.svg"}),new r3({prototypeId:"class-steplink",prototypeName:"Steplink",category:c.Tq,searchKeywords:["link","step","arrow"],defaultIconSize:new Vd(100,100),geometry:new $n({x:[0,100],y:[1,
1],visible:!0}),linkPoints:[new M(0,1),new M(1,1)],linkType:n3.mu,url:"assets/svg/standard/stepline.svg"}),new y3({prototypeId:"class-polyline",prototypeName:"Polyline",category:c.Tq,searchKeywords:["link","polyline"],defaultIconSize:new Vd(100,100),geometry:new $n({x:[50],y:[1],visible:!0}),url:"assets/svg/standard/polyline.svg"}),new g3({prototypeId:"class-ellipse",prototypeName:"Ellipse",category:c.Tq,searchKeywords:["ellipse"],defaultSize:new Vd(50,50),geometry:new Tm({centerx:.5,centery:.5,radiusx:.5,
radiusy:.5}),linkPoints:c.oEb}),new g3({prototypeId:"class-rectangle",prototypeName:"Rectangle",category:c.Tq,searchKeywords:["rectangle"],defaultSize:new Vd(50,50),geometry:new ho(0,0,1,1),linkPoints:c.oEb}),new y3({prototypeId:"class-polygon",prototypeName:"Polylgon",category:c.Tq,searchKeywords:["polygon"],defaultIconSize:new Vd(100,100),geometry:new Vm({x:[50],y:[1],visible:!0}),url:"assets/svg/standard/polygon.svg"}),(new g3({prototypeId:"class-text",prototypeName:"Text",category:c.Tq,searchKeywords:["text"],
defaultSize:new Vd(60,25),defaultIconSize:new Vd(50,50),geometry:new ho(0,0,60,25),linkPoints:c.oEb,url:"assets/svg/standard/text.svg"})).Eb({text:"Text"})]};c.Tq="Standard";c.tKa=new U(0,0,1,1);c.oEb=[c.tKa.CSa(),c.tKa.rTa(),c.tKa.cGa(),c.tKa.i8a(),c.tKa.getCenter()];return c}(),2,"eyJnZXRDb21wb25lbnRzIjoiTXIiLCJDYXRlZ29yeSI6IlRxIn0g");var P3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}c.Mr=function(){var a,b=[new g3({prototypeId:"class-decision",prototypeName:"Decision",category:c.Tq,searchKeywords:["decision"],defaultSize:new Vd(100,50),outline:a=(new Ed).moveTo(.5,0).lineTo(1,.5).lineTo(.5,1).lineTo(0,.5).close(),geometry:new dh({geometry:a}),linkPoints:[new M(0,.5),new M(.5,0),new M(1,.5),new M(.5,1)]}),new g3({prototypeId:"class-input-output",prototypeName:"Input/Output",category:c.Tq,searchKeywords:["input","output"],defaultSize:new Vd(100,
50),outline:a=(new Ed).moveTo(.1,0).lineTo(1,0).lineTo(.9,1).lineTo(0,1).close(),geometry:new dh({geometry:a}),linkPoints:[new M(.05,.5),new M(.5,0),new M(.95,.5),new M(.5,1)]}),new g3({prototypeId:"class-stored-data",prototypeName:"Stored Data",category:c.Tq,searchKeywords:["data","store"],defaultSize:new Vd(100,50),outline:a=(new Ed).moveTo(0,0).lineTo(50,0).bezierCurveTo(35,0,35,50,50,50).lineTo(0,50).bezierCurveTo(-15,50,-15,0,0,0).close(),geometry:new dh({geometry:a}),linkPoints:[new M(-11.2,
25),new M(18.2,0),new M(38.8,25),new M(18.2,50)]}),new g3({prototypeId:"class-internal-storage",prototypeName:"Internal Storage",category:c.Tq,searchKeywords:["storage","store","internal"],defaultSize:new Vd(100,50),outline:a=(new Ed).moveTo(0,0).lineTo(100,0).lineTo(100,50).lineTo(0,50).close().moveTo(10,0).lineTo(10,50).moveTo(0,10).lineTo(100,10),geometry:new dh({geometry:a}),linkPoints:[new M(0,25),new M(50,0),new M(100,25),new M(50,50)]}),new g3({prototypeId:"class-process",prototypeName:"Process",
category:c.Tq,searchKeywords:["process"],defaultSize:new Vd(100,50),outline:a=(new Ed).moveTo(0,0).lineTo(1,0).lineTo(1,1).lineTo(0,1).close(),geometry:new dh({geometry:a}),linkPoints:[new M(0,.5),new M(.5,0),new M(1,.5),new M(.5,1),new M(.5,.5)]}),new g3({prototypeId:"class-subprocess",prototypeName:"Sub Process",category:c.Tq,searchKeywords:["subprocess"],defaultSize:new Vd(100,50),outline:a=(new Ed).moveTo(0,0).lineTo(1,0).lineTo(1,1).lineTo(0,1).close().moveTo(.1,0).lineTo(.1,1).moveTo(.9,0).lineTo(.9,
1),geometry:new dh({geometry:a}),linkPoints:[new M(0,.5),new M(.5,0),new M(1,.5),new M(.5,1),new M(.5,.5)]}),new g3({prototypeId:"class-delay",prototypeName:"Delay",category:c.Tq,searchKeywords:["delay"],defaultSize:new Vd(100,50),outline:a=(new Ed).moveTo(0,0).lineTo(50,0).bezierCurveTo(75,0,75,50,50,50).lineTo(0,50).close(),geometry:new dh({geometry:a}),linkPoints:[new M(0,25),new M(40,0),new M(70,25),new M(40,50)]}),new g3({prototypeId:"class-reference-arrow",prototypeName:"Reference Arrow",category:c.Tq,
searchKeywords:["arrow","reference"],defaultSize:new Vd(100,50),outline:a=(new Ed).moveTo(0,10).lineTo(75,10).lineTo(75,0).lineTo(100,25).lineTo(75,50).lineTo(75,40).lineTo(0,40).close(),geometry:new dh({geometry:a}),linkPoints:[new M(0,25),new M(100,25)]}),new g3({prototypeId:"class-reference-point",prototypeName:"Reference Point",category:c.Tq,searchKeywords:["point","reference"],defaultSize:new Vd(100,50),outline:a=(new Ed).moveTo(5,10).lineTo(75,10).lineTo(75,0).lineTo(100,25).lineTo(75,50).lineTo(75,
40).lineTo(5,40).bezierCurveTo(-5,30,-5,20,5,10).close(),geometry:new dh({geometry:a}),linkPoints:[new M(-2.7,25),new M(100,25)]}),new g3({prototypeId:"class-merge",prototypeName:"Merge",category:c.Tq,searchKeywords:["merge","symbol"],defaultSize:new Vd(25,25),outline:a=(new Ed).moveTo(0,0).lineTo(1,0).lineTo(.5,1).close(),geometry:new dh({geometry:a}),linkPoints:[new M(0,0),new M(.5,0),new M(1,0),new M(.5,1)]}),new g3({prototypeId:"class-extract",prototypeName:"Extract",category:c.Tq,searchKeywords:["extract",
"symbol"],defaultSize:new Vd(25,25),outline:a=(new Ed).moveTo(.5,0).lineTo(1,1).lineTo(0,1).close(),geometry:new dh({geometry:a}),linkPoints:[new M(.5,0),new M(1,1),new M(.5,1),new M(0,1)]}),new g3({prototypeId:"class-communication-line",prototypeName:"Communication",category:c.Tq,searchKeywords:["communication","line"],defaultSize:new Vd(25,50),outline:a=(new Ed).moveTo(1,0).lineTo(0,.55).lineTo(.5,.55).lineTo(0,1).lineTo(1,.45).lineTo(.5,.45).close(),geometry:new dh({geometry:a}),linkPoints:[new M(1,
0),new M(0,.55),new M(1,.45),new M(0,1)]})];return b};c.Tq="Flowchart";return c}(),2,"eyJnZXRDb21wb25lbnRzIjoiTXIiLCJDYXRlZ29yeSI6IlRxIn0g");var Q3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}c.Mr=function(){var a,b=[new g3({prototypeId:"class-hr-arki-arrow",prototypeName:"Arki Arrow",category:c.Tq,searchKeywords:["arki arrow","arrow","hr"],defaultSize:new Vd(40,50),outline:a=(new Ed).moveTo(0,0).lineTo(1,.5).lineTo(0,1).lineTo(.7,.5).close(),geometry:new dh({geometry:a}),linkPoints:[new M(0,0),new M(1,.5),new M(0,1)]}),new g3({prototypeId:"class-hr-chevron-arrow",prototypeName:"Chevron Arrow",category:c.Tq,searchKeywords:["chevron arrow","arrow","hr"],
defaultSize:new Vd(40,50),outline:a=(new Ed).moveTo(0,0).lineTo(.3,0).lineTo(1,.5).lineTo(.3,1).lineTo(0,1).lineTo(.7,.5).close(),geometry:new dh({geometry:a}),linkPoints:[new M(.15,0),new M(1,.5),new M(.15,1)]}),new g3({prototypeId:"class-hr-triangle-arrow",prototypeName:"Up Arrow",category:c.Tq,searchKeywords:["triangle arrow","arrow","hr"],defaultSize:new Vd(40,50),outline:a=(new Ed).moveTo(0,0).lineTo(1,.5).lineTo(0,1).close(),geometry:new dh({geometry:a}),linkPoints:[new M(0,0),new M(1,.5),new M(0,
1)]}),new g3({prototypeId:"class-hr-small-arrow",prototypeName:"Small Arrow",category:c.Tq,searchKeywords:["small arrow","arrow","hr"],defaultSize:new Vd(50,40),outline:a=(new Ed).moveTo(0,.4).lineTo(.72,.4).lineTo(.4,0).lineTo(.6,0).lineTo(1,.5).lineTo(.6,1).lineTo(.4,1).lineTo(.72,.6).lineTo(0,.6).close(),geometry:new dh({geometry:a}),linkPoints:[new M(0,.5),new M(1,.5),new M(.5,0),new M(.5,1)]}),new g3({prototypeId:"class-hr-fat-arrow",prototypeName:"Fat Arrow",category:c.Tq,searchKeywords:["fat arrow",
"arrow","hr"],defaultSize:new Vd(100,40),outline:a=(new Ed).moveTo(0,0).lineTo(.75,.2).lineTo(.75,.08).lineTo(1,.25).lineTo(.75,.42).lineTo(.75,.3).lineTo(0,.5).close(),geometry:new dh({geometry:a}),linkPoints:[new M(0,.25),new M(1,.25)]}),new g3({prototypeId:"class-hr-double-headed-arrow",prototypeName:"Doubleheaded Arrow",category:c.Tq,searchKeywords:["crossed arrow","arrow","hr"],defaultSize:new Vd(100,50),outline:a=(new Ed).moveTo(.2,0).lineTo(.2,.15).lineTo(.75,.15).lineTo(.75,0).lineTo(1,.25).lineTo(.75,
.5).lineTo(.75,.35).lineTo(.2,.35).lineTo(.2,.5).lineTo(0,.25).close(),geometry:new dh({geometry:a}),linkPoints:[new M(0,.25),new M(1,.25)]}),new g3({prototypeId:"class-hr-crosss",prototypeName:"Cross",category:c.Tq,searchKeywords:["cross","hr"],defaultSize:new Vd(100,100),outline:a=(new Ed).moveTo(.4,0).lineTo(.6,0).lineTo(.6,.4).lineTo(1,.4).lineTo(1,.6).lineTo(.6,.6).lineTo(.6,1).lineTo(.4,1).lineTo(.4,.6).lineTo(0,.6).lineTo(0,.4).lineTo(.4,.4).close(),geometry:new dh({geometry:a}),linkPoints:[new M(.5,
.5),new M(0,.5),new M(.5,0),new M(1,.5),new M(.5,1)]}),new g3({prototypeId:"class-hr-crosssed-arrow",prototypeName:"Crossed Arrow",category:c.Tq,searchKeywords:["crossed arrow","arrow","hr"],defaultSize:new Vd(100,100),outline:a=(new Ed).moveTo(.3,.15).lineTo(.5,0).lineTo(.7,.15).lineTo(.6,.15).lineTo(.6,.4).lineTo(.85,.4).lineTo(.85,.3).lineTo(1,.5).lineTo(.85,.7).lineTo(.85,.6).lineTo(.6,.6).lineTo(.6,.85).lineTo(.7,.85).lineTo(.5,1).lineTo(.3,.85).lineTo(.4,.85).lineTo(.4,.6).lineTo(.15,.6).lineTo(.15,
.7).lineTo(0,.5).lineTo(.15,.3).lineTo(.15,.4).lineTo(.4,.4).lineTo(.4,.15).close(),geometry:new dh({geometry:a}),linkPoints:[new M(.5,.5),new M(0,.5),new M(.5,0),new M(1,.5),new M(.5,1)]}),new g3({prototypeId:"class-hr-split-arrow",prototypeName:"Split Arrow",category:c.Tq,searchKeywords:["cross","hr"],defaultSize:new Vd(100,100),outline:a=(new Ed).moveTo(0,.42).lineTo(.58,.42).lineTo(.9,0).lineTo(1,0).lineTo(1,.1).lineTo(.7,.5).lineTo(1,.9).lineTo(1,1).lineTo(.9,1).lineTo(.58,.58).lineTo(0,.58).close(),
geometry:new dh({geometry:a}),linkPoints:[new M(.5,.5),new M(0,.5),new M(.5,0),new M(1,.5),new M(.5,1)]})];return b};c.Tq="HR Arrows";return c}(),2,"eyJnZXRDb21wb25lbnRzIjoiTXIiLCJDYXRlZ29yeSI6IlRxIn0g");var R3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}c.Mr=function(){var a,b=[new g3({prototypeId:"industrial-valve",prototypeName:"Valve",category:c.Tq,searchKeywords:["valve","industrial"],defaultSize:new Vd(70,50),outline:a=(new Ed).moveTo(0,0).lineTo(1,1).lineTo(1,0).lineTo(0,1).close(),geometry:new dh({geometry:a}),linkPoints:[new M(0,.5),new M(.5,.5),new M(1,.5)]})];return b};c.Tq="Industrial";c.tKa=new U(0,0,1,1);return c}(),2,"eyJnZXRDb21wb25lbnRzIjoiTXIiLCJDYXRlZ29yeSI6IlRxIn0g");var S3=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){this.v3a=[];this.T1=new X("rgba(170, 177, 185, 1)",2);this.oL=new rf("rgba(240, 247, 255, 0.7)");this.uVa()}var a=null;c.ya=function(){a||(a=new c);return a};c.prototype.uVa=function(){for(var b=0,d=O3.Mr().concat(P3.Mr(),Q3.Mr(),R3.Mr());b<d.length;b++)this.nLc(d[b])};c.prototype.Ard=function(){return this.v3a};c.prototype.ymd=function(){return this.oL};c.prototype.FJd=function(b){this.oL=b;return this};c.prototype.zmd=function(){return this.T1};c.prototype.HJd=function(b){this.T1=
b;return this};c.prototype.nLc=function(b){function d(f){return f.EP()===b.EP()}if(b&&b.EP()){var e=$2.findIndex(this.v3a,d);0>e?this.v3a.push(b):this.v3a[e]=b}};c.prototype.cd=function(b,d,e){function f(m){return m.EP()===b}var g=$2.find(this.v3a,f);if(g&&g.clone){g=g.clone();g.id=f3.Py();g.Roa&&d&&e&&g.Roa(new Vd(d,e));var h=null!=g.ga?g.ga():null;if(null!=h){var k=1,l=1;0!==h.ca()&&(k=(d?d:g.Ky().ca())/h.ca());0!==h.da()&&(l=(e?e:g.Ky().da())/h.da());g.Kc(W.dl(k,l))}return this.IJd(g)}return null};
c.prototype.IJd=function(b){b instanceof Fe&&b.Vd()&&!nc(b,j3)&&(b.EP&&"class-text"===b.EP()?b.Vd().fa({linestyle:new X("rgba(0, 0, 0, 0)"),fillstyle:new rf("rgba(0, 0, 0, 0)")}):b.Vd().fa({linestyle:this.T1?this.T1.clone():new X,fillstyle:this.oL?this.oL.clone():new rf}));return b};return c}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsiZ2V0UGx1Z2lucyI6IkFyZCIsImdldERlZmF1bHRGaWxsU3R5bGUiOiJ5bWQiLCJzZXREZWZhdWx0RmlsbFN0eWxlIjoiRkpkIiwiZ2V0RGVmYXVsdExpbmVTdHlsZSI6InptZCIsInNldERlZmF1bHRMaW5lU3R5bGUiOiJISmQiLCJyZWdpc3RlclBsdWdpbiI6Im5MYyIsImdldFZpc3VhbCI6ImNkIn19fSAg");var zEa=/*#__PURE__*/{Bc:0,kc:1,$b:2,nb:4,xd:8};export {X2,Y2,Z2,$2,a3,b3,c3,d3,e3,f3,g3,h3,i3,j3,k3,l3,m3,n3,o3,p3,q3,r3,s3,t3,u3,v3,w3,x3,y3,z3,A3,B3,C3,D3,E3,F3,G3,H3,I3,J3,K3,L3,M3,N3,O3,P3,Q3,R3,S3,zEa};