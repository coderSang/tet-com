/* eslint-disable */
import {X,rf,Ph,Ki,Nb,D,L,Pf,sc,G,hb,hc,U,oi,Am,Zd,Cl,Rh,Ui,xb,bj,ep,Za,jg,Vd,M,O,Yh,tg,jl,ho,ek,ni,ll,kl,jf,Zh,bk,Xh,lc,nc,sj,am,$l,Jm,ci,V,rk,tj,Aj,wj,fm,op,vp,pj,W,rj,mm,rd,se,wg,Dk,Fk,Ce,re,Zi,wk,uk,Lk,Xd,rg,ke,Al,sk,Io,$h,Oo,xl,Th,Lb,Ro,Vh,kk,jk,td,Ck,Ko,dj,Nm,ue,dh,yg,Di,Fi,ck,xc,yc,ac,Cc,pg,Fe,$n,Be,Fb,te,Ed,Zg,Fj,Gj,pk,Oe,Sm,Hd,Ug,Hg,Sh,lg,Jd,Mb,Cg,cn,dn,Rn,Sn,Un,Mm,$m,Hb,zf,yf,Qi,io,qk,bl,nl,ol,fj,Mi,Ti,Ik,va} from './geotoolkit.base.js';import {OU,NS,IR,vN,yN,RR,PR,cQ,eQ,TP,SS,bU,aU,TU,RU,SU,aT,HR,yS,kU,iU,YR,UR,$R,cS,KR,mQ,TQ,hR,vQ,$S,XS,BR,zQ,eU,dU,eR,bR,LS,KS,zU,jS,iS,KU,IU,AU,HU,CU,FU,EU,JU,MP,$Q,cR,HS,NR,SQ,PS,LR,bS} from './geotoolkit.controls.js';import {iF,dF,SF} from './geotoolkit.pdf.js';import {xG,mG,PG,jG,uG,NG,lH,HG,GG,RG,KG,tG,pG,VG,hH,sG,nG,rH,wG,DH,EH,oH,pH,BH,CH,CG,QG} from './geotoolkit.data.js';var aa,ha=ha||{};ha.scope={};ha.Nqc=function(c){var a=0;return function(){return a<c.length?{done:!1,value:c[a++]}:{done:!0}}};ha.Moe=function(c){return{next:ha.Nqc(c)}};ha.qXc=!1;ha.URd=!1;ha.VRd=!1;ha.Mfe=!1;ha.Acc=!1;ha.defineProperty=ha.qXc||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,a,b){if(c==Array.prototype||c==Object.prototype)return c;c[a]=b.value;return c};
ha.cod=function(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<c.length;++a){var b=c[a];if(b&&b.Math==Math)return b}return function(){throw Error("Cannot find global object");}()};ha.global=ha.cod(this);ha.nEb="function"===typeof Symbol&&"symbol"===typeof Symbol("x");ha.hje=!ha.Acc||ha.nEb;ha.r3b={};ha.L3b={};ha.S1c="$jscp$";
function aaa(c,a){var b=ha.L3b[a];if(null==b)return c[a];b=c[b];return void 0!==b?b:c[a]}ha.lKc=function(c,a,b,d){a&&(ha.Acc?ha.ZDd(c,a,b,d):ha.$Dd(c,a,b,d))};ha.$Dd=function(c,a,b,d){b=ha.global;c=c.split(".");for(d=0;d<c.length-1;d++){var e=c[d];if(!(e in b))return;b=b[e]}c=c[c.length-1];d=b[c];a=a(d);a!=d&&null!=a&&ha.defineProperty(b,c,{configurable:!0,writable:!0,value:a})};
ha.ZDd=function(c,a,b,d){var e=c.split(".");c=1===e.length;d=e[0];d=!c&&d in ha.r3b?ha.r3b:ha.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];b=ha.nEb&&"es6"===b?d[e]:null;a=a(b);null!=a&&(c?ha.defineProperty(ha.r3b,e,{configurable:!0,writable:!0,value:a}):a!==b&&(ha.L3b[e]=ha.nEb?ha.global.Symbol(e):ha.S1c+e,e=ha.L3b[e],ha.defineProperty(d,e,{configurable:!0,writable:!0,value:a})))};ha.Ise=function(){};
ha.lKc("Symbol",function(c){function a(f){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new b(d+(f||"")+"_"+e++,f)}function b(f,g){this.oXc=f;ha.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})}if(c)return c;b.prototype.toString=function(){return this.oXc};var d="jscomp_symbol_",e=0;return a},"es6","es3");ha.Kse=function(){};
ha.lKc("Symbol.iterator",function(c){if(c)return c;c=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),b=0;b<a.length;b++){var d=ha.global[a[b]];"function"===typeof d&&"function"!=typeof d.prototype[c]&&ha.defineProperty(d.prototype,c,{configurable:!0,writable:!0,value:function(){return ha.Nyd(ha.Nqc(this))}})}return c},"es6","es3");ha.Jse=function(){};
ha.Nyd=function(c){c={next:c};c[Symbol.iterator]=function(){return this};return c};var IZ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){Pf.call(this);this.yoa()}function a(){this.map={};this.eaa={};this.Pp("linestyle",X.Oa());this.Pp("fillstyle",rf.Oa());this.Pp("imagepattern",Ph.Oa());this.Pp("textstyle",Ki.Oa())}function b(h){return"string"==typeof h&&h.match(/^#href\(.*\)$/)?/^#href\((.*)\)$/.exec(h)[1]:null}var d="cg_type",e=null;a.ya=function(){null==e&&(e=new a);return e};a.prototype.Pp=function(h,k){this.map[h]=k;this.eaa[k]=h};a.prototype.kub=function(){return this.map};a.prototype.Gq=function(h){h=
null!=h&&"function"==typeof h.Oa?h.Oa():null;return null!=h?null!=this.eaa[h]?this.eaa[h]:h:null};a.prototype.MEa=function(h){h=null!=this.map[h]?this.map[h]:h;return null!=h?Nb(h):null};var f={save:function(h,k){var l=a.ya().Gq(h);null!=l&&k.Xb(d,l);l=k.tG(h);null!=l&&k.Xb("cg_id",l);h="function"==typeof h.ia?h.ia():h;for(var m in h)if(h.hasOwnProperty(m)&&"cg_id"!==m&&"undefined"!=typeof h[m])if(l=h[m],"object"==typeof l&&null!==l){var n=k.tG(l);null==n?k.Ee(m,l):k.Xb(m,"#href("+n+")")}else"function"!=
typeof l&&k.Xb(m,l);k.commit()},load:function(h,k){var l=null!=k?k:null;if(null==l){k=h.getValue(d);var m=h.c4();null!=k&&(l=null!=m&&a.ya().Gq(m)===k?m:a.ya().MEa(k));null==l&&(l={})}var n="function"===typeof l.fa?{}:l;h.Yw(function(p,q){var r=q.getValue(),t=b(r);null==t?n[p]=r:null!=q.Uj(t)?n[p]=q.Uj(t):q.dX(t,function(u){n[p]=u;"function"===typeof l.fa&&l.fa(n)})});"function"===typeof l.fa&&l.fa(n);k=h.getValue("cg_id");null!=k&&h.Kr(k,l);return l}};D(c,Pf);L(c,"geotoolkit.widgets.templates.Registry");
c.prototype.yoa=function(){this.Hl("geotoolkit.widgets.BaseWidget",{save:function(l,m){m.Xb("type",l.Oa());m.Ee("data",l.getData({"no-data":!0}));m.commit()},load:function(l){var m=l.Uj("#widget");m&&(l=l.getValue("data"),null!=l&&m.setData(l));return m}});var h=a.ya().kub(),k;for(k in h)h.hasOwnProperty(k)&&this.Hl(k,f);this.Hl("default",f)};var g=null;c.ag=function(){null==g&&(g=new c);return g};return c}(),2,"eyJnZXREZWZhdWx0IjoiYWcifSAg");var JZ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=G(a,{bounds:new U(0,0,300,300)});void 0!==a.children&&delete a.children;oi.call(this,a);this.Yc(!0);this.Gt=new NS(this,"compositeTool");this.hm=null}sc({imports:[OU]});D(c,oi);L(c,"geotoolkit.widgets.BaseWidget");c.prototype.rG=function(){null==this.hm&&this.OJ(this.hm=new Am({dynamic_layer:!0,name:"overlays",cssclass:"overlay"}));return this.hm};c.prototype.Yh=function(a){return this};c.prototype.uXa=function(){return Zd.ya()};c.prototype.mn=function(a){this.Gt.add(a);
return this};c.prototype.Ex=function(a){this.Gt.remove(a);return this};c.prototype.Ec=function(){return this.Gt};c.prototype.IWa=function(a){this.Gt=a;return this};c.prototype.Wb=function(a){if(null==a||1>a.length)return null;var b=this.Gt.Wb(a);null==b&&"pinchtozoom"===a&&(hb("geotoolkit.controls.tools.PinchToZoom is deprecated since 2020 (3.0)"),b=this.Gt.Wb("zoom"));return b};c.prototype.GS=function(a){return null==a?null:this.Gt.GS(a)};c.prototype.I4=function(){return this.Gt.I4()};c.prototype.dispose=
function(){this.ge()||(this.Gt.dispose(),this.Gt=null,oi.prototype.dispose.call(this))};c.prototype.JD=function(a,b){b=new Cl(b||IZ.ag());a=b.X3(a);a.Kr("#widget",this);a.Bd(this.Oa(),"template")};c.prototype.zI=function(a){a=new Cl(a||IZ.ag());return a.m5("template",this)};c.prototype.getData=function(a){return{}};c.prototype.ia=function(){var a=oi.prototype.ia.call(this);void 0!==a.children&&delete a.children;void 0!==a.viewcache&&delete a.viewcache;return a};c.prototype.fa=function(a){a=hc(a);
if(null==a)return this;void 0!==a.children&&delete a.children;void 0!==a.viewcache&&delete a.viewcache;oi.prototype.fa.call(this,a);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPdmVybGF5TGF5ZXIiOiJyRyIsImluaXRpYWxpemVUb29scyI6IlloIiwiY29ubmVjdFRvb2wiOiJtbiIsImRpc2Nvbm5lY3RUb29sIjoiRXgiLCJnZXRUb29sIjoiRWMiLCJzZXRUb29sIjoiSVdhIiwiZ2V0VG9vbEJ5TmFtZSI6IldiIiwiZ2V0VG9vbEJ5VHlwZSI6IkdTIiwibGlzdFRvb2xzTmFtZXMiOiJJNCIsImxvYWRUZW1wbGF0ZSI6IkpEIiwic2F2ZVRlbXBsYXRlIjoiekkiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var KZ=/*#__PURE__*/va(/*#__PURE__*/{Qx:"onPositionChanged",$p:"onVisibilityChanged",HIc:"onDropping",GIc:"onDropped"},2,"eyJvblBvc2l0aW9uQ2hhbmdlZCI6IlF4Iiwib25WaXNpYmlsaXR5Q2hhbmdlZCI6IiRwIiwib25Ecm9wcGluZyI6IkhJYyIsIm9uRHJvcHBlZCI6IkdJYyJ9"),LZ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(l){null==l&&(l={});var m=l.orientation===Rh.xb,n=l.locale||Ui.ag();l=xb(l,{name:"colorbar",layer:null,labelformat:new bj({locale:n,maximumfractiondigits:2}),padding:m?g[Rh.xb]:g[Rh.ob],size:m?f[Rh.xb]:f[Rh.ob],radius:5,orientation:Rh.ob,alignment:ep.kc,linestyle:e,fillstyle:d,textstyle:b,colorbar:null,textfillstyle:null},!0);IR.call(this,l);this.sm({pointerdown:this.Xc.bind(this),pointermove:[{callback:this.Ac.bind(this),
object:null},{callback:this.Ac.bind(this),object:Za,enabled:!1}],pointerup:[{callback:this.Oc.bind(this),object:null},{callback:this.Oc.bind(this),object:Za,enabled:!1}]});this.Oe=l.widget;this.Nt=n;this.Ws=l.labelformat;this.$f=this.ed=null;l.padding=jg.Pa(l.padding);l.size=Vd.Pa(l.size);this.ea=l;this.Qe=null;this.ZBa=!1;m=this.pP();null!=m&&null!=m.getParent()?this.fra=m.getParent().ga().clone():this.fra=a.clone().fa(l.size.ia());this.Pz()}var a=(new U({x:70,y:40,width:35,height:120})).lock(),
b=new Ki({font:"12px sans-serif"}),d="#F1F1F1",e={color:"#A8A8A8",pixelsnapmode:!1,width:2},f={vertical:{width:35,height:120},horizontal:{width:120,height:35}},g={vertical:{left:10,top:15,right:10,bottom:15},horizontal:{left:15,top:10,right:15,bottom:10}},h=5,k=2;D(c,IR);L(c,"geotoolkit.widgets.tools.FloatingColorBarTool");c.Ja=KZ;c.prototype.setOptions=function(l){if(null==l)return this;void 0!==l.name&&this.kb(l.name);void 0!==l.enabled&&this.Ob(l.enabled);if(l.hasOwnProperty("locale")||l.hasOwnProperty("labelformat"))void 0!==
l.locale&&(this.Nt=l.locale),void 0!==l.labelformat&&(this.Ws=l.labelformat),null!=this.Ws&&this.Ws.fa({locale:this.Nt});if(null!=l.range){var m=this.fR.ta().range,n=null!=l.range.min?l.range.min:m.min;var p=null!=l.range.max?l.range.max:m.max;if(m.min!==n||m.max!==p)this.fR.setOptions({range:{min:n,max:p}}),this.Qm.Eb(this.Ws.format(n)),this.Eo.Eb(this.Ws.format(p))}if(l.hasOwnProperty("orientation")||l.hasOwnProperty("size")||l.hasOwnProperty("padding")){p=l.hasOwnProperty("orientation")&&l.orientation!==
this.ea.orientation;n=(null!=l.orientation?l.orientation:this.ea.orientation)===Rh.ob;m=f[n?Rh.ob:Rh.xb];var q=g[n?Rh.ob:Rh.xb];!0===p&&null!=this.ed&&(this.ed=new M(this.ed.getY(),this.ed.getX()));if(void 0!==l.size){var r=l.size;r instanceof Vd||(r=p?G(r,m):this.ea.size.fa(l.size));l.size=Vd.Pa(r);r=l.size}else r=p?Vd.Pa(m):this.ea.size,l.size=r;void 0!==l.padding?(m=l.padding,m instanceof jg||(m=p?G(m,q):this.ea.padding.fa(l.padding)),l.padding=jg.Pa(m),m=l.padding):(m=p?jg.Pa(q):this.ea.padding,
l.padding=m);this.fra.fa(r.ia());p=this.ti.ga().clone().fa(r.ia());r=n?r.ca()-m.la()-m.na():r.da()-m.ka()-m.ma();this.fR.setOptions({colorbox:{size:r},location:n?vN.dc:vN.vc}).La({left:m.la(),right:m.na(),top:m.ka(),bottom:m.ma()});q=4;this.Qm.tc(n?O.Xd:O.vd).La(new Yh(n?{top:"2px",left:"50%"}:{left:q+"px",top:"50%"}));this.Eo.tc(n?O.Je:O.pe).La(new Yh(n?{bottom:"2px",left:"50%"}:{right:q+"px",top:"50%"}));n?(n=Math.max(this.Qm.ca(),this.Eo.ca())+4,n>p.ca()&&(p.Ra(n),void 0!==this.ea.alignment&&(this.ea.alignment===
ep.Na?this.fR.La(new Yh({left:(n-r)/2,width:r,top:m.ka(),bottom:m.ma()})):this.ea.alignment===ep.$b&&this.fR.La(new Yh({right:m.na(),width:r,top:m.ka(),bottom:m.ma()})))),this.Qm.va(this.Qm.da()<m.ka()).La({top:m.ka()-this.Qm.da()}),this.Eo.va(this.Eo.da()+2<m.ma()).La({bottom:m.ma()-this.Eo.da()-2})):(n=this.Qm.ca()+this.Eo.ca()+4*q,p.Ra(p.ca()+(n-(m.la()+m.na()))),m=m.clone().a0(this.Qm.ca()+2*q).wWa(this.Eo.ca()+2*q),this.fR.La({left:m.la()+"px",right:m.na()+"px"},!1,!0));this.O8b(p)}void 0!==
l.colorprovider&&this.Ur(l.colorprovider);void 0!==l.visible&&(!1===l.visible?this.F$a():this.hBb());void 0!==l.position&&(m=l.position,l.position instanceof M||(n=this.ti.ga().bd().ia(),m=M.Pa(xb(m,n))),p=this.ti.ga().clone().fa(m.ia()),this.ti.sa(p));void 0!==l.linestyle&&this.Un.ra(l.linestyle);void 0!==l.fillstyle&&this.Un.qa(l.fillstyle);void 0!==l.textstyle&&(m=Ki.Pa(l.textstyle),this.Qm.ib(m),this.Eo.ib(m));void 0!==l.textfillstyle&&(m=tg.ad(l.textfillstyle),this.Qm.qa(m),this.Eo.qa(m));void 0!==
l.tickgenerator&&this.Qe.pg(l.tickgenerator);this.ea=xb(l,this.ea);return this};c.prototype.ta=function(){return{visible:this.ti.Ia(),layer:this.$a,orientation:this.ea.orientation,padding:this.ea.padding.clone(),size:this.ea.size.clone(),position:this.ti.ga().bd(),linestyle:this.Un.Ea(),fillstyle:this.Un.fb(),textstyle:this.Qm.jb(),textfillstyle:this.Qm.fb()}};c.prototype.ga=function(){return this.ti.ga()};c.prototype.O8b=function(l){this.ti.sa(l);null!=this.ea&&this.ea.hasOwnProperty("position")&&
(this.ea.position=this.ti.ga().bd());return this};c.prototype.Pz=function(){var l=this.ea,m=l.size,n=l.padding,p=l.orientation===Rh.ob,q=Ki.Pa(l.textstyle),r=tg.ad(l.textfillstyle);this.ti=(new oi).va(!1).Yc(!0).sa(this.fra).Wd(new jl).oa([this.Un=(new ho).tC(l.radius).La({left:0,top:0,right:0,bottom:0}).ra(l.linestyle).qa(l.fillstyle),this.Qm=(new ek({sizeisindevicespace:!0,textstyle:q,alignment:p?O.Xd:O.vd})).qa(r).La(p?{top:"2px",left:"50%"}:{left:"2px",top:"50%"}),this.Eo=(new ek({sizeisindevicespace:!0,
textstyle:q,alignment:p?O.Je:O.pe})).qa(r).La(p?{bottom:"2px",left:"50%"}:{right:"2px",top:"50%"}),this.fR=(new yN({colorbox:{size:p?m.ca()-n.la()-n.na():m.da()-n.ka()-n.ma(),linestyle:null},location:p?vN.dc:vN.vc,axis:{size:0},namedcolors:{size:0,visible:!1},title:{visible:!1}})).pi(new ni).Ha(null).Yc(!0).Wd((new ll).setDirection(kl.vF)).La({left:n.la(),right:n.na(),top:n.ka(),bottom:n.ma()})]);this.$a.oa(this.ti);p?(this.Qm.va(this.Qm.da()<n.ka()).La({top:n.ka()-this.Qm.da()}),this.Eo.va(this.Eo.da()+
2<n.ma()).La({bottom:n.ma()-this.Eo.da()-2}),this.Qm.jb().ci("middle"),this.Eo.jb().ci("middle")):(this.Qm.va(this.Qm.ca()<n.la()).La({left:n.la()-this.Qm.ca()}),this.Eo.va(this.Eo.ca()+2<n.na()).La({right:n.na()-this.Eo.ca()-2}),this.Qm.jb().ci("alphabetic"),this.Eo.jb().ci("alphabetic"))};c.prototype.m6a=function(){this.$a.removeChild(this.ti);this.$a.oa(this.ti);return this};c.prototype.Mi=function(){IR.prototype.Mi.call(this);!1===this.isEnabled()&&(this.Hd()&&this.stop(),this.F$a())};c.prototype.w6a=
function(l){var m=l.Zd();if(null!=this.ti&&this.ti.Ia()&&this.ti.Ki().contains(m))return!0;l=(l=this.Gm(l))?h:k;var n=this.pP();if(null==n)return!1;var p=n.getParent();if(null==p||!p.Ia())return!1;l=p.wa().Ta(n.ga()).Uc(l);return l.contains(m)};c.prototype.Ur=function(l){this.fR.setOptions({colorprovider:l});!0===this.ti.Ia()&&(this.hBb(),this.setOptions(this.ea));return this};c.prototype.F$a=function(){if(null==this.ti||!1===this.ti.Ia())return this;this.ti.va(!1);this.fireEvent(c.Ja.$p,null);return this};
c.prototype.hBb=function(l){null==l&&(l=this.ti.wa().Ma(new M(0,0)));var m=this.pP(),n=null;null!=m&&(""===this.Qm.ee()&&""===this.Eo.ee()&&(n=m.ta(),n.range!==this.fR.ta().range&&this.fR.setOptions({range:n.range}),this.Qm.Eb(this.Ws.format(n.range.min)),this.Eo.Eb(this.Ws.format(n.range.max))),n=m.getParent());if(!0===this.ti.Ia())return this;m=this.$a.wa();n=n?m.nc(n.ga()):m.nc(this.fra);null!=l&&(l=m.nc(l),n.setX(l.getX()).setY(l.getY()));this.O8b(n);this.ti.va(!0);this.setOptions({orientation:this.ta().orientation});
this.fireEvent(c.Ja.$p,null);return this};c.prototype.lla=function(l){null==this.ed&&(this.ed=this.ti.wa().nc(l.Zd()));l=this.ti.wa().nc(l.Zd());this.ti.translate(l.getX()-this.ed.getX(),l.getY()-this.ed.getY());l=this.ti.wa().Ma(new M(0,0));this.$a.wa().nc(l);l=this.ti.ga().clone().setX(l.x).setY(l.y);var m=this.$a.pa();l.la()<m.la()&&l.setX(m.la());l.ka()<m.ka()&&l.setY(m.ka());l.na()>m.na()&&l.setX(l.getX()-(l.na()-m.na()));l.ma()>m.ma()&&l.setY(l.getY()-(l.ma()-m.ma()));this.O8b(l);this.ti.Kc(null);
return this};c.prototype.Ac=function(l){if(!1!==this.isEnabled())if(!1===this.Hd())this.w6a(l)?(RR.Kk(l.Pe(),{cursor:"grab"},this),this.ZBa=!0):!0===this.ZBa&&(this.ZBa=!1,RR.Kk(l.Pe(),{cursor:null},this));else{var m=l.Zd(),n=m.x-this.$f.x,p=m.y-this.$f.y,q=this.$a.Ki();if(m.x<q.la()||m.x>q.na())n=0;if(m.y<q.ka()||m.y>q.ma())p=0;this.$f=m.clone();if(0!==n||0!==p)this.lla(l),this.fireEvent(c.Ja.Qx,l)}};c.prototype.Xc=function(l){!1!==this.isEnabled()&&!0!==this.Hd()&&!1!==this.w6a(l)&&this.start(l)};
c.prototype.Oc=function(l){this.fireEvent(c.Ja.HIc,l);!1!==this.Hd()&&(this.stop(),this.Ac(l),this.fireEvent(c.Ja.GIc,l))};c.prototype.start=function(l){IR.prototype.start.call(this,l);RR.Kk(this.lc,{cursor:"grabbing"},this);IR.lock(l.Pe(),this);this.On(!0);this.lc=l.Pe();this.$f=l.Zd().clone();this.ti.Ia()?this.ed=this.ti.wa().hd(this.$f):(this.hBb(this.$f),this.ed=this.ti.pa().getCenter(),this.lla(l))};c.prototype.stop=function(){IR.prototype.stop.call(this);this.ed=null;this.On(!1);IR.unlock(this);
RR.Kk(this.lc,{cursor:null},this)};c.prototype.On=function(l){this.Wr("pointermove",l,Za);this.Wr("pointerup",l,Za);return this};c.prototype.pP=function(){if(null!=this.ea.colorbar)return this.ea.colorbar;if("function"===typeof this.Oe.pP&&null!=this.Oe.pP())return this.Oe.pP();null==this.Qe&&(this.Qe=jf(this.Oe).mc(function(l){return l instanceof yN}).mg());return this.Qe};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJoaWRlRmxvYXRpbmdDb2xvckJhciI6IkYkYSIsInNob3dGbG9hdGluZ0NvbG9yQmFyIjoiaEJiIn19fSAg");var MZ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d){PR.call(this,a);this.y6c=b;this.G$c=d}D(c,PR);L(c,"geotoolkit.widget.tools.LegendToolEventArgs");c.prototype.Xnd=function(){return this.y6c};c.prototype.xud=function(){return this.G$c};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGcm9tQW5ub3RhdGlvbiI6IlhuZCIsImdldFRvQW5ub3RhdGlvbiI6Inh1ZCJ9fX0g");var NZ=/*#__PURE__*/va(/*#__PURE__*/{pHa:"onAnnotationChanged",Tab:"onMoveStart",Q$:"onMoveEnd",PD:"onResize"},2,"eyJvbkFubm90YXRpb25DaGFuZ2VkIjoicEhhIiwib25Nb3ZlU3RhcnQiOiJUYWIiLCJvbk1vdmVFbmQiOiJRJCIsIm9uUmVzaXplIjoiUEQifSAg"),OZ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){null==a&&(a={});var b=G(a,{widget:a.widget,group:a.group,layer:a.layer,padding:a.padding,name:"AbstractLegendTool"}),d={name:b.name,layer:b.layer};IR.call(this,d);this.sm({pointerdown:this.Xc.bind(this),pointermove:this.Ac.bind(this),pointerup:{callback:this.Oc.bind(this),object:Za}});this.ja=b;this.Oe=this.ja.widget;this.ab=this.ja.group;this.Jf="number"==typeof this.ja.padding?this.ja.padding:
10;this.di=this.fi=Zh.Na;this.ns={west:new oi,east:new oi,north:new oi,south:new oi};this.Ug=bk.ig();this.jM=5;this.rJ=2;this.TF={east:this.Oe.bb(Zh.Ic).ga().ca(),west:this.Oe.bb(Zh.dc).ga().ca(),north:this.Oe.bb(Zh.me).ga().da(),south:this.Oe.bb(Zh.vc).ga().da()};this.Skb=!1;this.$Aa=new cQ(a);this.qA=new eQ(null,this.$a);this.qA.Tb(this.$a.Qa());this.qA.register(this.ab.Oa(),this.$Aa);this.ne=null;this.setOptions(this.ja)}D(c,IR);L(c,"geotoolkit.widgets.tools.AbstractLegendTool");c.Ja=NZ;c.prototype.dJa=
function(a){this.Oe=a;return this};c.prototype.lI=function(){return this.Oe};c.prototype.yIa=function(a){this.ab=a;return this};c.prototype.Jtb=function(){return this.ab};c.prototype.rX=function(a){this.$a=a;this.qA.rX(this.$a);this.qA.Tb(this.$a.Qa());return this};c.prototype.setOptions=function(a){this.ja=xb(a,this.ja,!0);void 0!==a.layer&&this.rX(a.layer);this.$Aa.setOptions({box:this.ja.box,handlestyle:this.ja.handlestyle});return this};c.prototype.ta=function(){return this.ja};c.prototype.reset=
function(){this.ne&&(this.ne.setPosition(null),this.ne=null);this.qA.FK(null);this.$Aa.hh=!1};c.prototype.setActive=function(a){a?this.qA.FK(this.ne):this.qA.FK(null);return IR.prototype.setActive.call(this,a)};c.prototype.Ob=function(a){a||this.qA.FK(null);return IR.prototype.Ob.call(this,a)};c.prototype.Inc=function(a){return IR.prototype.setActive.call(this,a)};c.prototype.Fh=function(){null!=this.qA&&null!=this.qA.Sua()&&this.qA.Sua().Fh();return this};c.prototype.Xc=function(a){this.ne=null;
this.qA.FK(null)};c.prototype.Ac=function(a){this.ne.Hb().ha();RR.Kk(a.Pe(),{cursor:"move"},this);this.Inc(!0);a.stopPropagation(!0,!0)};c.prototype.Oc=function(a){this.fi===Zh.Na&&this.Skb&&this.di===Zh.Na&&(this.Skb=!1,this.fireEvent(NZ.Q$,new MZ(a,null,null)));a.stopPropagation(!1,!0);this.ne.sr(null);this.ne.setPosition(null);this.ne=null;RR.Kk(a.Pe(),{cursor:null},this);this.Inc(!1)};c.prototype.vqc=function(a){var b=this.ne.Hb().ga().clone(),d=this.Oe.ga(),e=this.Oe.Kb().getParent().ga().clone();
if(this.fi===Zh.me){var f=this.Oe.bb(this.fi);var g={};b.ka()>d.ka()?(e.ka()-b.ka()>this.TF[this.fi]?(g[this.fi]=e.ka()-b.ka()+this.Jf,this.ns[this.fi].yl(g[this.fi]-this.TF[this.fi])):(g[this.fi]=this.TF[this.fi],this.ns[this.fi].yl(0)),f=f.ga().da()-g[this.fi],this.ne.Hb().sa(b.setY(b.getY()-f)),this.ne.Fh(),this.Oe.oi(g)):(this.ne.Hb().sa(b.setY(d.ka()+this.Jf)),this.ne.Fh());this.fireEvent(NZ.Q$,new MZ(a,null,this.fi))}this.fi===Zh.vc&&(f=this.Oe.bb(this.fi),g={},b.ma()<d.ma()?(b.ma()-e.ma()>
this.TF[this.fi]?(g[this.fi]=b.ma()-e.ma()+this.Jf,this.ns[this.fi].yl(g[this.fi]-this.TF[this.fi])):(g[this.fi]=this.TF[this.fi],this.ns[this.fi].yl(0)),f=f.ga().da()-g[this.fi],this.ne.Hb().sa(b.setY(b.getY()+f)),this.ne.Fh(),this.Oe.oi(g)):(this.ne.Hb().sa(b.setY(d.ma()-b.da()-this.Jf)),this.ne.Fh()),this.fireEvent(NZ.Q$,new MZ(a,null,this.fi)))};c.prototype.uqc=function(a){var b=this.ne.Hb().ga().clone(),d=this.Oe.ga(),e=this.Oe.Kb().getParent().ga().clone();if(this.di===Zh.dc){var f=this.Oe.bb(this.di);
var g={};b.la()>d.la()?(e.la()-b.la()>this.TF[this.di]?(g[this.di]=e.la()-b.la()+this.Jf,this.ns[this.di].Yl(g[this.di]-this.TF[this.di])):(g[this.di]=this.TF[this.di],this.ns[this.di].Yl(0)),f=f.ga().ca()-g[this.di],this.ne.Hb().sa(b.setX(b.getX()-f)),this.ne.Fh(),this.Oe.oi(g)):(this.ne.Hb().sa(b.setX(d.la()+this.Jf)),this.ne.Fh());this.fireEvent(NZ.Q$,new MZ(a,null,this.di))}this.di===Zh.Ic&&(f=this.Oe.bb(this.di),g={},b.na()<d.na()?(b.na()-e.na()>this.TF[this.di]?(g[this.di]=b.na()-e.na()+this.Jf,
this.ns[this.di].Yl(g[this.di]-this.TF[this.di])):(g[this.di]=this.TF[this.di],this.ns[this.di].Yl(0)),f=f.ga().ca()-g[this.di],this.ne.Hb().sa(b.setX(b.getX()+f)),this.ne.Fh(),this.Oe.oi(g)):(this.ne.Hb().sa(b.setX(d.na()-b.ca()-this.Jf)),this.ne.Fh()),this.fireEvent(NZ.Q$,new MZ(a,null,this.di)))};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJzZXRFbmFibGVkIjoiT2IiLCJ1cGRhdGVIYW5kbGVzIjoiRmgiLCJvbk1vdXNlRG93biI6IlhjIiwib25Nb3VzZU1vdmUiOiJBYyIsIm9uTW91c2VVcCI6Ik9jIn19fSAg");var PZ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){OZ.call(this,a);this.sMa=!1}D(c,OZ);L(c,"geotoolkit.widgets.tools.LegendMoveTool");c.prototype.Xc=function(a){var b=a.tb(),d=this.Gm(a),e=d?this.jM:this.rJ;this.pO=!1;d=null;var f=this.Kd(b,a);e=this.Ug.select(b,f.x,f.y,e);e=null==e?null:e.filter(function(g){return g===this.ab}.bind(this));f=this.Kd(this.$a,a);if(e&&0<e.length)for(b=e.length-1;0<=b;b--)if(d=this.qA.aI(e[b])){d.Lm(e[b]);d.setPosition(f.x,f.y);this.qA.FK(d);this.ne=d;this.pO=!0;a.stopPropagation(!1,!0);
return}OZ.prototype.Xc.call(this,a)};c.prototype.Ac=function(a){if(this.ne){var b=this.Kd(this.$a,a);if(this.ne.bc().x!==b.x||this.ne.bc().y!==b.y)this.ne.move(b.x,b.y),this.Skb=!0;b=this.ne.Hb().ga();var d=this.Oe.Kb().getParent().ga(),e=this.Kd(this.ec(),a),f=b.ca(),g=b.da();b=new U(e.getX(),e.getY(),b.cc(),b.zc());this.sMa||(this.fi!==Zh.Na&&(this.TF[this.fi]=this.Oe.bb(this.fi).ga().da()-this.ns[this.fi].ke()),this.di!==Zh.Na&&(this.TF[this.di]=this.Oe.bb(this.di).ga().ca()-this.ns[this.di].xk()));
!this.sMa&&this.ne.Uv()instanceof TP&&(this.fi!==Zh.Na&&(e={},this.ns[this.fi].yl(g+this.Jf),e[this.fi]=this.ns[this.fi].ke()+this.TF[this.fi],this.Oe.oi(e),this.fireEvent(NZ.Tab,new MZ(a,this.fi,null)),this.sMa=!0),this.di!==Zh.Na&&(e={},this.ns[this.di].Yl(f+this.Jf),e[this.di]=this.ns[this.di].xk()+this.TF[this.di],this.Oe.oi(e),this.fireEvent(NZ.Tab,new MZ(a,this.di,null)),this.sMa=!0));if(this.fi!==Zh.Na&&(b.ka()<d.ma()&&b.ka()>d.ka()||b.ma()<d.ma()&&b.ma()>d.ka())){var h=this.Oe.bb(this.fi);
e={};h.ue().remove(this.ns[this.fi]);h.removeChild(this.ns[this.fi]);e[this.fi]=this.TF[this.fi];this.Oe.oi(e);this.fireEvent(NZ.pHa,new MZ(a,this.fi,Zh.Na));this.fi=Zh.Na;var k=!0}if(this.di!==Zh.Na&&(b.na()<d.na()&&b.na()>d.la()||b.la()<d.na()&&b.la()>d.la())){h=this.Oe.bb(this.di);h.ue().remove(this.ns[this.di]);h.removeChild(this.ns[this.di]);e={};e[this.di]=this.TF[this.di];this.Oe.oi(e);this.fireEvent(NZ.pHa,new MZ(a,this.di,Zh.Na));this.di=Zh.Na;var l=!0}!k&&(b.ka()<d.ka()||b.ma()>d.ma())&&
this.fi===Zh.Na&&(this.fi=b.ka()<d.ka()?Zh.me:Zh.vc,e={},h=this.Oe.bb(this.fi),this.ns[this.fi].yl(g+this.Jf),e[this.fi]=h.ga().da()+this.ns[this.fi].ke(),this.fi===Zh.me?h.ue().Jn(0,this.ns[this.fi]):h.ue().add(this.ns[this.fi]),h.oa(this.ns[this.fi]),this.Oe.oi(e),this.fireEvent(NZ.pHa,new MZ(a,Zh.Na,this.fi)));!l&&(b.na()>d.na()||b.la()<d.la())&&this.di===Zh.Na&&(this.di=b.na()>d.na()?Zh.Ic:Zh.dc,e={},h=this.Oe.bb(this.di),this.ns[this.di].Yl(f+this.Jf),e[this.di]=h.ga().ca()+this.ns[this.di].xk(),
this.di===Zh.dc?h.ue().Jn(0,this.ns[this.di]):h.ue().add(this.ns[this.di]),h.oa(this.ns[this.di]),this.Oe.oi(e),this.fireEvent(NZ.pHa,new MZ(a,Zh.Na,this.di)));OZ.prototype.Ac.call(this,a)}};c.prototype.Oc=function(a){this.ne&&(this.fi!==Zh.Na&&this.vqc(a),this.di!==Zh.Na&&this.uqc(a),this.sMa=!1,OZ.prototype.Oc.call(this,a))};c.prototype.reset=function(){this.sMa=!1;OZ.prototype.reset.call(this)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdXNlRG93biI6IlhjIiwib25Nb3VzZU1vdmUiOiJBYyIsIm9uTW91c2VVcCI6Ik9jIn19fSAg");var QZ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){OZ.call(this,a);this.tMa=!1;this.Q_a=this.ab.ga()}D(c,OZ);L(c,"geotoolkit.widgets.tools.LegendResizeTool");c.prototype.Xc=function(a){var b=this.Gm(a),d=b?this.jM:this.rJ;this.pO=!1;var e;b=this.Kd(this.$a,a);var f=this.Ug.select(this.$a,b.x,b.y,d);if(f&&0<f.length)for(e=f.length-1;1<=e;e--)if(d=f[e],!(d instanceof TP)&&"function"===typeof d.aI){e=d.aI();d.Hd()||a.stopPropagation(!1,!0);e.sr(d);e.setPosition(b.x,b.y);this.ne=e;this.pO=!0;return}OZ.prototype.Xc.call(this,
a)};c.prototype.Ac=function(a){if(this.ne){var b=this.Kd(this.$a,a);if(this.ne.bc().x!==b.x||this.ne.bc().y!==b.y)this.ne.move(b.x,b.y),this.Skb=!0;this.tMa||(this.fi!==Zh.Na&&(this.TF[this.fi]=this.Oe.bb(this.fi).ga().da()-this.ns[this.fi].ke()),this.di!==Zh.Na&&(this.TF[this.di]=this.Oe.bb(this.di).ga().ca()-this.ns[this.di].xk()));this.tMa=!0;this.fireEvent(NZ.PD,new MZ(a));OZ.prototype.Ac.call(this,a)}};c.prototype.Oc=function(a){if(this.ne){var b=this.ne.Hb().ga().clone();if(this.fi!==Zh.Na){if(this.tMa){var d=
{};var e=this.Oe.bb(this.fi);var f=this.ne.Hb().ga().da()-this.ns[this.fi].ke();this.ns[this.fi].yl(this.ne.Hb().ga().da()+this.Jf);d[this.fi]=e.ga().da()+f;this.Oe.oi(d);this.fi===Zh.me&&b.getY()!==this.Q_a.getY()&&(this.ne.Hb().sa(b.setY(b.getY()+f)),this.ne.Fh());this.fi===Zh.vc&&b.ma()!==this.Q_a.ma()&&(this.ne.Hb().sa(b.setY(b.getY()-f)),this.ne.Fh())}this.vqc(a)}this.di!==Zh.Na&&(this.tMa&&(d={},e=this.Oe.bb(this.di),f=this.ne.Hb().ga().ca()-this.ns[this.di].xk(),this.ns[this.di].Yl(this.ne.Hb().ga().ca()+
this.Jf),d[this.di]=e.ga().ca()+f,this.Oe.oi(d),this.di===Zh.Ic&&b.na()!==this.Q_a.na()&&(this.ne.Hb().sa(b.setX(b.getX()-f)),this.ne.Fh()),this.di===Zh.dc&&b.la()!==this.Q_a.la()&&(this.ne.Hb().sa(b.setX(b.getX()+f)),this.ne.Fh())),this.uqc(a));this.tMa=!1;this.Q_a=this.ne.Hb().ga().clone();OZ.prototype.Oc.call(this,a)}};c.prototype.reset=function(){this.tMa=!1;OZ.prototype.reset.call(this)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdXNlRG93biI6IlhjIiwib25Nb3VzZU1vdmUiOiJBYyIsIm9uTW91c2VVcCI6Ik9jIn19fSAg");var RZ=/*#__PURE__*/va(/*#__PURE__*/{pHa:"onAnnotationChanged",Tab:"onMoveStart",Q$:"onMoveEnd",PD:"onResize"},2,"eyJvbkFubm90YXRpb25DaGFuZ2VkIjoicEhhIiwib25Nb3ZlU3RhcnQiOiJUYWIiLCJvbk1vdmVFbmQiOiJRJCIsIm9uUmVzaXplIjoiUEQifSAg"),SZ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){null==a&&(a={});a=G(a,{widget:a.widget,group:a.group,layer:a.manipulatorlayer||a.layer,padding:a.padding,name:"LegendTool"});var b={name:a.name,layer:a.layer};NS.call(this,b);this.Gja=new PZ(a);this.pka=new QZ(a);this.add(this.pka);this.add(this.Gja);this.ja=a;this.setOptions(this.ja)}D(c,NS);L(c,"geotoolkit.widgets.tools.LegendTool");c.Ja=RZ;c.prototype.setOptions=function(a){a.hasOwnProperty("manipulatorlayer")&&
hb("Parameter manipulatorlayer from geotoolkit.widgets.tools.LegendTool was deprecated since 3.4. Use parameter layer instead.");this.ja=xb(a,this.ja,!0);this.Gja.setOptions(a);this.pka.setOptions(a);return this};c.prototype.ta=function(){return this.ja};c.prototype.setActive=function(a){this.Gja.setActive(a);this.pka.setActive(a);return NS.prototype.setActive.call(this,a)};c.prototype.Ob=function(a){this.Gja.Ob(a);this.pka.Ob(a);return NS.prototype.Ob.call(this,a)};c.prototype.Fh=function(){this.Gja.Fh();
this.pka.Fh();return this};c.prototype.dJa=function(a){this.Oe=a;this.Gja.dJa(a);this.pka.dJa(a);return this};c.prototype.lI=function(){return this.Oe};c.prototype.yIa=function(a){this.ab=a;this.Gja.yIa(a);this.pka.yIa(a);return this};c.prototype.Jtb=function(){return this.ab};c.prototype.rX=function(a){this.$a=a;this.Gja.rX(a);this.pka.rX(a);return this};c.prototype.reset=function(){this.Gja.reset();this.pka.reset()};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJzZXRFbmFibGVkIjoiT2IiLCJ1cGRhdGVIYW5kbGVzIjoiRmgifX19");var TZ=/*#__PURE__*/va(/*#__PURE__*/{dgb:"ModelVisibleLimitsChanged"},2,"eyJNb2RlbFZpc2libGVMaW1pdHNDaGFuZ2VkIjoiZGdiIn0g"),UZ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f){f=G(f,{fillstyle:"white"});JZ.call(this,f);this.Ci=this.tca=this.Yn=this.Id=this.wd=null;this.oa(this.Pz(f));this.qV=null;this.yWa(f.tools);this.Yh(f);this.wo(f.tools);this.qa(f.fillstyle);this.ji()}function a(f,g){if(f=f.bb(g))return f.Mb()&&f.Mb().Afa()===Xh.YK?"auto":f.ke()}function b(f,g){if(f=f.bb(g))return f.Mb()&&f.Mb().Afa()===Xh.sF?"auto":f.xk()}function d(f,g,h){for(var k,l=0;l<g.length;l++)k=g[l],k=f.bb(k),void 0!==h.constraint?
k.Yc(!0).La(h):k.La(h)}var e="#757575";D(c,JZ);lc(c,sj);L(c,"geotoolkit.widgets.AnnotatedWidget");c.Ja=TZ;c.prototype.Pz=function(f){null==f&&(f={});f=G(f,{model:new oi,north:void 0,south:void 0,east:void 0,west:void 0,annotationssizes:{}});f.annotations&&(f.annotations.west&&(f.west=f.annotations.west.item,f.annotationssizes.west=f.annotations.west.size),f.annotations.north&&(f.north=f.annotations.north.item,f.annotationssizes.north=f.annotations.north.size),f.annotations.south&&(f.south=f.annotations.south.item,
f.annotationssizes.south=f.annotations.south.size),f.annotations.east&&(f.east=f.annotations.east.item,f.annotationssizes.east=f.annotations.east.size));this.Jc=f.model;var g=new X(e);g=X.Pa(f.border)||g;this.Kb().OJ([this.$a=new Am({dynamic_layer:!0,id:"manipulator_layer",name:"manipulator"}),this.rG()]);this.Ib=(new am(f)).Dd("annotated_node").La({left:0,top:0,right:0,bottom:0}).tr(new Jm);this.rG().oa(this.Un=(new ci).Cxa("visible-bounds").ra(g.Mg({x:!0,y:!0})));null===f.border&&this.Un.ra(null);
this.tg().Edb();this.oi(f.annotationssizes);f=(new oi).Dd(f.applicationId).Yc(!0).Wd(new jl).oa(this.tg());this.tg().Vbb();return f};c.prototype.tg=function(){return this.Ib};c.prototype.Ctc=function(f,g){if(null!=this.tg()&&(f=this.tg().bb(f),null!=f&&null!=f.ue())){var h=-1,k=0;f.ue().getIterator().forEach(function(l){l===g&&(h=k);k++});-1!==h&&h!==k-1&&(f.ue().remove(g),f.ue().add(g))}};c.prototype.yCb=function(f){null!=this.tg()&&(this.tg().cx(f),this.ji())};c.prototype.sa=function(f){var g=this.ga();
if(null!=g&&g.wi(f,V.Qb))return this;JZ.prototype.sa.call(this,f);f=this.ga();if(null!=g&&null!=f&&g.ca()===f.ca()&&g.da()===f.da())return this;this.Sy();this.ji();return this};c.prototype.Sy=function(){this.Ctc(Zh.vc,this.Id);this.Ctc(Zh.Ic,this.wd);this.qf();return this};c.prototype.qQ=function(f){this.tg().qQ(f);this.ji();return this};c.prototype.nXc=function(f,g){this.Wb("panning")&&this.Wb("panning").E5();f=g.Yub();this.Is(f.x,f.y,f.point.x,f.point.y);this.Wb("cross-hair")&&this.Wb("cross-hair").hha(!0)};
c.prototype.fJc=function(f,g){this.Wb("zoom")&&this.Wb("zoom").E5();f=g.vl();this.aE(f.x,f.y);this.Wb("cross-hair")&&this.Wb("cross-hair").hha(!0)};c.prototype.Yh=function(f){this.aPa=!0;f=this.ec();this.gt=new SS(f);this.Ib.on($l.ds,function(g){(g=this.Wb("cross-hair"))&&g.isEnabled()&&g.hha()}.bind(this));this.UF=(new bU).Ob(!0).addListener(aU.MD,function(g,h){var k=h.vh();h.ye()&&h.ye().ctrlKey&&("wheel"===k||"mousewheel"===k)||this.fJc(g,h)}.bind(this));this.mM=(new TU({layer:f,mode:RU.l1})).Ob(!0).addListener(SU.bT,
function(g,h){if(h.vb())this.cx(h.vb());else{var k=h.vh();(!h.ye()||h.ye().ctrlKey||"wheel"!==k&&"mousewheel"!==k)&&this.nXc(g,h)}}.bind(this));this.Ov=(new aT(f)).Ob(!1).addListener(HR.aw,function(g){var h=g.isEnabled()&&g.dvb()===yS.ON;this.Wb("panning")&&this.Wb("panning").Ob(!h);this.Wb("zoom")&&this.Wb("zoom").Ob(!h);g.isEnabled()&&this.Wb("rubberband")&&this.Wb("rubberband").Ob(!1)}.bind(this)).bB(function(g){return g}).Wga(yS.ON);this.wka=(new kU(f)).Ob(!1).addListener(HR.aw,function(g){g.isEnabled()?
(null==this.qV&&this.KVa(),this.Wb("panning")&&this.Wb("panning").Ob(!1),this.Wb("pick")&&this.Wb("pick").Ob(!1),this.Wb("zoom")&&this.Wb("zoom").Ob(!1)):(null!=this.qV&&(this.Wb("pick")&&this.Wb("pick").Ob(this.qV.selection),this.qV=null),this.Wb("panning")&&this.Wb("panning").Ob(!0),this.Wb("zoom")&&this.Wb("zoom").Ob(!0))}.bind(this)).addListener(iU.ov,function(g,h){g=h.getArea();this.tg().cx(g);this.ji()}.bind(this));this.g7=this.awb();this.mn([(new NS(this)).add([this.LY=(new NS(f,"manipulatorTools")).add([this.gt,
(new NS(this.rG())).kb("overlay"),this.wka,this.Ov,this.UF]),this.mM,this.g7])]);return this};c.prototype.awb=function(){var f=!1;return(new LZ({widget:this,layer:this})).Ob(!1).addListener(KZ.Qx,function(g,h){var k=g.Kd(this.Kb(),h);this.gt.setPosition(k,!1,h);var l=g.ga(),m=this.bb(Zh.Na).ga();m=this.wa().Ta(m);var n=this.pP();if(null!=n){var p=n.M9();if(m.Cz(l))n.va(!1),this.mb();else if(!n.Ia()){k=l.na()>=m.na()?vN.Ic:l.ka()<=m.ka()?vN.me:l.ma()>=m.ma()?vN.vc:vN.dc;if(k===vN.dc||k===vN.Ic){g.setOptions({orientation:Rh.ob}).lla(h);
var q=vN.Ic}else g.setOptions({orientation:Rh.xb}).lla(h),q=vN.vc;l=g.ga();m.Cz(l)?p!==k&&(g.setOptions({orientation:p===vN.dc||p===vN.Ic?Rh.ob:Rh.xb}),g.lla(h)):(p!==k&&(this.tg().removeItem(n,p),k===vN.dc?this.tg().cC(0,n,k):this.tg().hr(n,k),n.setOptions({location:q}).qX(k)),n.va(!0),this.mb())}}}.bind(this)).addListener(HR.aw,function(g,h){h=this.pP();!1===g.Hd()?h&&h.Ia()?g.F$a():!0===f&&this.gt.va(!0):this.gt.isVisible()&&(f=!0)}.bind(this))};c.prototype.Kn=function(){};c.prototype.cx=function(f){this.YAb(f);
return this};c.prototype.aE=function(f,g){this.tg().aE(f,g);this.ji();return this};c.prototype.Is=function(f,g,h,k){this.tg().Is(f,g,h,k);this.ji();return this};c.prototype.iF=function(f){var g=this.tg().Kb().pa();if(null==g||!1===g.wi(f,V.Qb))this.tg().Kb().Ha(f),this.ji();return this};c.prototype.CA=function(){return null!=this.tg()&&null!=this.tg().Kb()?this.tg().Kb().pa():null};c.prototype.jna=function(f){var g=this.Kb();if(!g)return null;var h=g.getParent(),k=g.pa(),l=null;null!=h&&null!=h.pa()&&
(g=g.wa(),l=null==g?new U(h.Ki()):g.pd(h.Ki()));if(null!=k&&null!=l)f||l.intersect(k);else return k;return l};c.prototype.YAb=function(f){this.tg().cx(f);this.ji();return this};c.prototype.ji=function(){var f=this.Kb().pa(),g=this.Kb().vb();this.Id&&this.Id.Ha(f,g,this.Kb().mi());this.wd&&this.wd.Ha(f,g,this.Kb().lo());this.Kn();this.notify(TZ.dgb,this,g.clone());return this};c.prototype.oi=function(f){if(null==f)return this;var g=Zh,h=!1;null!=f.west&&(d(this.tg(),[g.dc,g.fq,g.lu],{constraint:"auto"===
f.west?Xh.sF:void 0,width:"auto"===f.west?void 0:f.west}),h=!0);null!=f.east&&(d(this.tg(),[g.Ic,g.hx,g.nw],{constraint:"auto"===f.east?Xh.sF:void 0,width:"auto"===f.east?void 0:f.east}),h=!0);null!=f.north&&(d(this.tg(),[g.me,g.hx,g.fq],{constraint:"auto"===f.north?Xh.YK:void 0,height:"auto"===f.north?void 0:f.north}),h=!0);null!=f.south&&(d(this.tg(),[g.vc,g.nw,g.lu],{constraint:"auto"===f.south?Xh.YK:void 0,height:"auto"===f.south?void 0:f.south}),h=!0);!0===h&&(this.tg().mb(),this.tg().oT({west:{size:"auto"===
f.west?void 0:f.west},east:{size:"auto"===f.east?void 0:f.east},north:{size:"auto"===f.north?void 0:f.north},south:{size:"auto"===f.south?void 0:f.south}}));this.ha();return this};c.prototype.MV=function(){return{west:b(this.tg(),Zh.dc),east:b(this.tg(),Zh.Ic),north:a(this.tg(),Zh.me),south:a(this.tg(),Zh.vc)}};c.prototype.oT=function(f){f&&this.tg().oT(f)&&this.Sy();return this};c.prototype.W5a=function(f,g){null!=this.Fm(f)&&this.GLc(f);g.location=g.location?g.location:f;am.hP(this.tg(),g)};c.prototype.Fm=
function(f){f=this.bb(f);for(var g,h,k=0;k<f.Yb();k++)if((h=f.eb(k))&&"function"==typeof h.eb&&h.eb(0)instanceof ek){g=h.eb(0);break}return g};c.prototype.jdb=function(f,g){(f=this.Fm(f))&&f.fa(g);return this};c.prototype.GLc=function(f){var g=this.Fm(f);this.tg().removeItem(g.getParent(),f)};c.prototype.Sv=function(f,g,h){f instanceof rk&&null!=f.getParent()&&this.tg().removeItem(f.getParent(),g);if(f instanceof rk){var k=new oi;k.Yc(!0);k.oa(f);f.sa(k.pa());this.tg().hr(k,g)}else g=G(f,{location:g,
connect:!1}),k=am.iS(this.tg(),g),f=k.axis,f.fa(g),k=k.group;h&&this.tg().connect(f,h);return{axis:f,group:k}};c.prototype.zoa=function(f){var g=f.getParent();g=g.getParent();var h=g.ue();null!==h&&h.remove(f);g.removeChild(f);this.tg().xa();this.tg().disconnect(f)};c.prototype.connect=function(f,g,h,k){this.tg().connect(f,g,h,k);this.tg().ET();return this};c.prototype.disconnect=function(f){this.tg().disconnect(f);return this};c.prototype.aba=function(){this.Is(1.25,1.25);return this};c.prototype.bba=
function(){this.Is(.8,.8);return this};c.prototype.Kb=function(){return this.Jc};c.prototype.WZ=function(){this.tg().cx(this.Kb().pa());this.ji();return this};c.prototype.pan=function(f,g){this.aE(f,g);this.ji();return this};c.prototype.tr=function(f){this.tg().tr(f);return this};c.prototype.iGa=function(){return this.tg().iGa()};c.prototype.bb=function(f){return this.tg().bb(f)};c.prototype.ec=function(){return this.$a};c.prototype.VB=function(f){var g={paperformat:null,top:.5,bottom:.5,left:1,right:1,
units:"in",scaling:tj.Epa,keepaspectratio:!0,continuous:!1},h={footer:null,header:null,documentheader:null,save:!1,output:"PDF Output",printsettings:{},modellimits:null,imagecompression:null,streamcompression:!0,scale:null},k={mode:iF.U5,quality:1,speed:dF.a1},l=G(f||{},h,!0);l.printsettings=G(l.printsettings,g,!0);l.imagecompression=G(l.imagecompression,k,!0);l.scale||(l.scale={x:Math.abs(this.tg().Kb().wa().pb()),y:Math.abs(this.tg().Kb().wa().Ab())});null==l.printsettings.paperformat&&(f=Zd.ya().Wa("px"),
f=Aj.ya().sG("Letter",f,wj.lB),l.printsettings.paperformat=f);this.Ci={};l.modellimits&&this.Mga(l.modellimits);this.tIa(l.scale);this.Um();f=this.Wv(l);f=new fm(f,l.header,l.footer,!0);var m=new SF;g=nc(l.pdfstream,op)?l.pdfstream:new vp;Array.isArray(l.embededfonts)&&(h=l.embededfonts,h.forEach(function(n){m.Tla(n.subType,n.fontName,n.fontWeight,n.fontStyle,n.fontBase64EncodedFile,n.encoding)}));l.imagecompression&&m.Qga(l.imagecompression.mode,l.imagecompression.quality,l.imagecompression.speed);
m.Yga(l.streamcompression);return m.UEa(f,l.printsettings,g).then(function(n){this.Cm();n.save(l.output,l.save);return n}.bind(this)).catch(function(n){this.Cm();throw n;}.bind(this))};c.prototype.$J=function(){return this.Yn?this.Yn:this.tg().Kb().pa()};c.prototype.Mga=function(f){this.Yn=f;return this};c.prototype.yFa=function(){return this.tca};c.prototype.tIa=function(f){this.tca=f;return this};c.prototype.utb=function(){return this.Ci};c.prototype.Um=function(){this.Ci=this.Ci||{};var f=[];this.Ci.notification=
this.kj();this.wb(!1);jf(this).mc(function(h){return null!=h&&(null!=h.Da()&&-1!==h.Da().indexOf("manipulator")||h instanceof YR||h instanceof UR||null!=h.ic()&&"string"===typeof h.ic()&&-1!==h.ic().indexOf("manipulator"))}).select(function(h){h.Ia()&&(f.push(h),h.va(!1))});this.mb();this.Ci.layers=f;this.Ci.obb=!1;this.Ci.pbb=!1;null!=this.Id&&(this.Ci.obb=this.Id.Ia(),this.Id.va(!1));null!=this.wd&&(this.Ci.pbb=this.wd.Ia(),this.wd.va(!1));var g=this.GS(SZ);g&&(this.Ci.XGc=g.Hd(),g.setActive(!1));
g=this.$J();this.Ci.C3b=this.tg().Kb().vb();this.Un.Cxa("model-bounds");this.tg().Kb().cx(g);this.tg().ET();return this};c.prototype.Cm=function(){null!=this.Id&&this.Id.va(this.Ci.obb);null!=this.wd&&this.wd.va(this.Ci.pbb);this.Un.Cxa("visible-bounds");this.tg().Kb().cx(this.Ci.C3b);this.tg().ET();this.tg().mb();for(var f=this.Ci.layers,g=0;g<f.length;g++)f[g].va(!0);this.Ci.XGc&&this.GS(SZ).setActive(this.Ci.XGc);this.mb();this.wb(this.Ci.notification);this.Ci=null};c.prototype.Wv=function(f){var g=
this.yFa()?this.yFa():{x:Math.abs(this.tg().Kb().wa().pb()),y:Math.abs(this.tg().Kb().wa().Ab())};f=f||{};f.scale=G(f.scale,g,!0);var h=g=0,k=[];if(null!=f.documentheader){var l=f.documentheader,m=l.ga(),n=m.da();m=new pj(l,m.clone());m.sa(new U(0,0,l.ga().ca(),n));k.push(m);h+=n}n=this.tg().Kb().wa();l=Math.abs(n.pb());n=Math.abs(n.Ab());f=W.dl(f.scale.x/l,f.scale.y/n);f=this.Sxb(k,f,h);g+=f.ca();h+=f.da();var p=this;this.vf().filter(function(q){return null!=q.ga&&!(nc(q,oi)&&-1!==q.Ik(p.tg()))}).forEach(function(q){k.push((new pj(q,
q.ga())).sa(q.ga()))});return new rj(k,new mm(g,h))};c.prototype.Sxb=function(f,g,h){var k=0,l=0,m=0,n=0;var p=W.dl(g.pb(),1);var q=W.dl(1,g.Ab());var r=this.tg().bb(Zh.Na),t=new pj(r,r.ga());r=g.transform(r.ga());f.push(t);g=this.tg().bb(Zh.me);if(null!=g&&0!==g.ga().da()){var u=new pj(g,g.ga());n=p.transform(g.ga());n=n.da();f.push(u)}g=this.tg().bb(Zh.dc);if(null!=g&&0!==g.ga().ca()){var w=new pj(g,g.ga());k=q.transform(g.ga());k=k.ca();f.push(w)}g=r.ca();r=r.da();var y=this.tg().bb(Zh.Ic);if(null!=
y&&0!==y.ga().ca()){var A=new pj(y,y.ga());l=q.transform(y.ga());l=l.ca();f.push(A)}q=this.tg().bb(Zh.vc);if(null!=q&&0!==q.ga().da()){var x=new pj(q,q.ga());m=p.transform(q.ga());m=m.da();f.push(x)}p=this.tg().bb(Zh.fq);if(null!=p&&!p.ga().isEmpty()){var C=new pj(p,p.ga());f.push(C)}p=this.tg().bb(Zh.hx);if(null!=p&&!p.ga().isEmpty()){var z=new pj(p,p.ga());f.push(z)}p=this.tg().bb(Zh.lu);if(null!=p&&!p.ga().isEmpty()){var v=new pj(p,p.ga());f.push(v)}p=this.tg().bb(Zh.nw);if(null!=p&&!p.ga().isEmpty()){var B=
new pj(p,p.ga());f.push(B)}f=k;p=n;q=f+g;y=p+r;g=f+g+l;r=p+r+m;null!=u&&u.sa(new U(f,h,q,n+h));null!=w&&w.sa(new U(0,p+h,k,y+h));t.sa(new U(f,p+h,q,y+h));null!=x&&x.sa(new U(f,y+h,q,y+m+h));null!=A&&A.sa(new U(q,p+h,q+l,y+h));null!=C&&C.sa(new U(0,h,f,p+h));null!=z&&z.sa(new U(q,h,q+l,p+h));null!=v&&v.sa(new U(0,h+y,f,h+y+m));null!=B&&B.sa(new U(q,h+y,q+l,h+y+m));return new U(0,0,g,r)};c.prototype.HS=function(){var f={};null!=this.wd&&(f.verticalscroll={},f.verticalscroll.visible=this.wd.Ia(),f.verticalscroll.size=
this.Id.xk(),f.verticalscroll.type=this.wd.Oa(),f.verticalscroll.options=this.wd.ta());null!=this.Id&&(f.horizontalscroll={},f.horizontalscroll.visible=this.Id.Ia(),f.verticalscroll.size=this.Id.ke(),f.horizontalscroll.type=this.Id.Oa(),f.horizontalscroll.options=this.Id.ta());null!=this.Wb("panning")&&(f.panning={},f.panning.enabled=this.Wb("panning").isEnabled());null!=this.Wb("zoom")&&(f.zoom={},f.zoom.enabled=this.Wb("zoom").isEnabled());return f};c.prototype.wo=function(f){if(null==f)return this;
(f.hasOwnProperty("horizontalscroll")||f.hasOwnProperty("verticalscroll"))&&this.yWa(f);null!=f.crosshair&&this.Wb("cross-hair")&&this.Wb("cross-hair").fa(f.crosshair);null!=f.panning&&this.Wb("panning")&&null!=f.panning.enabled&&this.Wb("panning").Ob(f.panning.enabled);null!=f.zoom&&this.Wb("zoom")&&null!=f.zoom.enabled&&this.Wb("zoom").Ob(f.zoom.enabled);null!=f.rubberbandzoom&&this.Wb("rubberband")&&this.Wb("rubberband").xt(f.rubberbandzoom);null!=f.selection&&this.Wb("pick")&&(this.Wb("pick").xt(f.selection),
null!=f.selection.resetselection&&(this.aPa=f.selection.resetselection));return this};c.prototype.jvc=function(){null!=this.wd&&this.Ex(this.wd.Ec());null!=this.Id&&this.Ex(this.Id.Ec())};c.prototype.ved=function(){null!=this.wd&&this.mn(this.wd.Ec());null!=this.Id&&this.mn(this.Id.Ec())};c.prototype.fhd=function(){null!=this.wd&&(this.Ex(this.wd.Ec()),this.tg().removeItem(this.wd,Zh.Ic),this.wd=null);null!=this.Id&&(this.Ex(this.Id.Ec()),this.tg().removeItem(this.Id,Zh.vc),this.Id=null)};c.prototype.b$c=
function(f){var g=this.Kb().pa(),h=this.Kb().vb();f=f&&f.verticalscroll;var k=YR.Oa();if(null!=f&&null!=f.type){var l=f.options&&f.options.resizable;k=f.type;f.options=$R.ya().HEa(f.options,k);k=f.options.type;f.options=f.options.options;!l&&f.options&&delete f.options.resizable}l="VerticalScroll";null!=f&&null!=f.name&&(l=f.name);null!=this.wd&&k!==this.wd.Oa()&&(this.Ex(this.wd.Ec()),this.tg().removeItem(this.wd,Zh.Ic),this.wd=null);null==this.wd&&(this.wd=cS.ya().NM(k,{name:l,modellimits:g,visiblelimits:h}).setOptions({resizable:!1}),
g=function(m,n){m=this.Kb().vb();n=n.vb();n=(m.ka()-n.ka())*this.Kb().wa().Ab();this.pan(0,n);this.ji()}.bind(this),this.wd.addListener(KR.nv,g).addListener(KR.rn,g),this.tg().hr(this.wd,Zh.Ic),this.mn([this.wd.Ec()]));null!=f&&(null!=f.visible&&this.wd.va(f.visible),null!=f.options&&this.wd.fa(f.options),this.tg().bb(Zh.Ic).mb());this.wd.Tk(this.Kb().lo())};c.prototype.W9c=function(f){var g=this.Kb().pa(),h=this.Kb().vb();f=f&&f.horizontalscroll;var k=UR.Oa();if(null!=f&&null!=f.type){var l=f.options&&
f.options.resizable;k=f.type;f.options=$R.ya().HEa(f.options,k);k=f.options.type;f.options=f.options.options;!l&&f.options&&delete f.options.resizable}l="HorizontalScroll";null!=f&&null!=f.name&&(l=f.name);null!=this.Id&&k!==this.Id.Oa()&&(this.Ex(this.Id.Ec()),this.tg().removeItem(this.Id,Zh.vc),this.Id=null);null==this.Id&&(this.Id=cS.ya().NM(k,{name:l,modellimits:g,visiblelimits:h}).setOptions({resizable:!1}),g=function(m,n){m=this.Kb().vb();n=n.vb();n=(m.la()-n.la())*this.Kb().wa().pb();this.pan(n,
0);this.ji()}.bind(this),this.Id.addListener(KR.nv,g).addListener(KR.rn,g),this.tg().hr(this.Id,Zh.vc),this.mn([this.Id.Ec()]));this.Id.nl(this.Kb().mi());null!=f&&(null!=f.visible&&this.Id.va(f.visible),null!=f.options&&this.Id.fa(f.options),this.tg().bb(Zh.vc).mb())};c.prototype.yWa=function(f){this.b$c(f);this.W9c(f);var g=this.Id.ke(),h=this.wd.xk();null!=f&&null!=f.horizontalscroll&&null!=f.horizontalscroll.size&&(g=f.horizontalscroll.size);null!=f&&null!=f.verticalscroll&&null!=f.verticalscroll.size&&
(h=f.verticalscroll.size);this.wd.La({width:h,right:0,bottom:0,top:0});this.Id.La({left:0,right:0,bottom:0,height:g});return this};c.prototype.pP=function(){return null};c.prototype.ia=function(){var f=JZ.prototype.ia.call(this);f.annotationitemswrap=this.Ib.xxc();f.annotationssizes=this.MV();f.border=this.Un.Ea();return G({tools:this.HS()},f)};c.prototype.fa=function(f){f=hc(f);if(null==f)return this;JZ.prototype.fa.call(this,f);void 0===f.north&&void 0===f.east&&void 0===f.south&&void 0===f.west||
this.oT(f);void 0!==f.annotationitemswrap&&this.Ib.yNc(f.annotationitemswrap);void 0!==f.annotationssizes&&this.oi(f.annotationssizes);void 0!==f.border&&this.Un.ra(X.Pa(f.border));void 0!==f.tools&&this.wo(f.tools);return this};c.prototype.getData=function(f){hb("AnnotatedWidget.prototype.getData is deprecated since 2020.1 (3.1) Use AnnotatedWidget.prototype.getToolsOptions instead");return{tools:this.HS()}};c.prototype.setData=function(f){hb("AnnotatedWidget.prototype.setData is deprecated since 2020.1 (3.1) Use AnnotatedWidget.prototype.setToolsOptions instead");
if(null==f)return this;this.wo(f.tools);return this};c.prototype.KVa=function(){this.qV={oUb:this.Wb("cross-hair").isEnabled(),b5b:this.Wb("rubberband").isEnabled(),selection:this.Wb("pick").isEnabled(),eJc:this.Wb("panning").isEnabled(),zoom:this.Wb("zoom").isEnabled()};return this};c.prototype.dispose=function(){this.ge()||(this.Ib.za($l.ds),JZ.prototype.dispose.call(this))};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplTGF5b3V0IjoiUHoiLCJ6b29tVG9SZWN0IjoieUNiIiwic2V0Qm91bmRzIjoic2EiLCJyZWZyZXNoTGF5b3V0IjoiU3kiLCJzZXRNb2RlbFRyYW5zZm9ybWF0aW9uIjoicVEiLCJpbml0aWFsaXplVG9vbHMiOiJZaCIsInNldFZpc2libGVNb2RlbExpbWl0cyI6ImN4IiwidHJhbnNsYXRlTW9kZWwiOiJhRSIsInNjYWxlTW9kZWwiOiJJcyIsInNldENlbnRlck1vZGVsTGltaXRzIjoiaUYiLCJnZXRDZW50ZXJNb2RlbExpbWl0cyI6IkNBIiwiZ2V0VmlzaWJsZUNlbnRlck1vZGVsTGltaXRzIjoiam5hIiwic2V0VmlzaWJsZUNlbnRlck1vZGVsTGltaXRzIjoiWUFiIiwic3luY2hyb25pemVWaWV3TGltaXRzIjoiamkiLCJzZXRBbm5vdGF0aW9uU2l6ZSI6Im9pIiwiZ2V0QW5ub3RhdGlvblNpemUiOiJNViIsInNldEFubm90YXRpb25zT3B0aW9ucyI6Im9UIiwiYWRkVGl0bGUiOiJXNWEiLCJzZXRUaXRsZU9wdGlvbnMiOiJqZGIiLCJyZW1vdmVUaXRsZSI6IkdMYyIsImFkZEF4aXMiOiJTdiIsInJlbW92ZUF4aXMiOiJ6b2EiLCJ6b29tSW4iOiJhYmEiLCJ6b29tT3V0IjoiYmJhIiwiZ2V0TW9kZWwiOiJLYiIsImZpdFRvQm91bmRzIjoiV1oiLCJzZXRTY2FsZVNjcm9sbFN0cmF0ZWd5IjoidHIiLCJnZXRTY2FsZVNjcm9sbFN0cmF0ZWd5IjoiaUdhIiwiZ2V0QW5ub3RhdGlvbiI6ImJiIiwiZ2V0TWFuaXB1bGF0b3JMYXllciI6ImVjIiwiZXhwb3J0VG9QZGYiOiJWQiIsImdldEV4cG9ydExpbWl0cyI6IiRKIiwic2V0RXhwb3J0TGltaXRzIjoiTWdhIiwiZ2V0RXhwb3J0U2NhbGUiOiJ5RmEiLCJzZXRFeHBvcnRTY2FsZSI6InRJYSIsImJlZ2luRXhwb3J0IjoiVW0iLCJlbmRFeHBvcnQiOiJDbSIsImdldEV4cG9ydEVsZW1lbnQiOiJXdiIsImdldFRvb2xzT3B0aW9ucyI6IkhTIiwic2V0VG9vbHNPcHRpb25zIjoid28iLCJnZXRDb2xvckJhciI6InBQIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwic2F2ZVRvb2xzU3RhdGUiOiJLVmEifX19");var VZ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(h,k){var l=a();xb(h,l);var m={isdatamodel:!1,annotationitemswrap:!1,bounds:l.bounds,border:l.border,tools:{verticalscroll:{visible:!1},horizontalscroll:{visible:!1}}};UZ.call(this,m);this.uOb=new M;this.vOb=new M;this.ea=l;this.gs={};this.B_=new Dk({orientation:Rh.xb});this.K0=new Dk({orientation:Rh.ob});m=void 0!==this.ea.shape.orientation?this.ea.shape.orientation:mQ.So.xd;l=m===mQ.So.nb||m===mQ.So.xd;this.sd=this.afd(m);var n=this.ea.axistitles;if(null==n)if(l){m="Groups";
var p="Values";var q="Groups";n="Values"}else m="Values",p="Groups",q="Values",n="Groups";else m=n.north,p=n.west,q=n.south,n=n.east;this.woe=!1;am.hP(this.Ib,{location:Zh.me,text:m});var r=am.iS(this.Ib,{tickgenerator:this.gs.north,location:Zh.me,connect:!1,annotationitemswrap:!1}).axis;r.Nu(this.B_);l&&r.va(!1);am.hP(this.Ib,{location:Zh.dc,text:p});var t=am.iS(this.Ib,{tickgenerator:this.gs.west,location:Zh.dc,connect:!1,annotationitemswrap:!1}).axis;t.Nu(this.K0);var u=am.iS(this.Ib,{tickgenerator:this.gs.south,
location:Zh.vc,connect:!1,annotationitemswrap:!1}).axis;u.Nu(this.B_);am.hP(this.Ib,{location:Zh.vc,text:q});var w=am.iS(this.Ib,{tickgenerator:this.gs.east,location:Zh.Ic,connect:!1,annotationitemswrap:!1}).axis;w.Nu(this.K0);l||w.va(!1);am.hP(this.Ib,{location:Zh.Ic,text:n});this.Le={north:m,south:q,east:n,west:p};this.mh={north:r,south:u,east:w,west:t};this.YMa=null;this.Yu=new mQ;this.g3a=this.Yu.pa();this.vIb=(new Am).Dd("data_layer");this.vIb.oa(this.Yu);var y=(new oi).Dd("cache_group");this.Ib.connect(this.mh.north,
y);this.Ib.connect(this.mh.south,y);this.Ib.connect(this.mh.east,y);this.Ib.connect(this.mh.west,y);this.Ib.Kb().Mf(0,y);y.pi(new ni);this.FHb=y;m=(new Am).Dd("grid_layer");m.oa(this.sd);q=(new Am).Dd("referenceline_layer");this.SL=new Fk;q.oa(this.SL);y.oa([q,m,this.vIb]);this.Yu.on(Ce.Uq,function(){var A=this.O3a();this.Yu.sa(this.Yu.pa());y.Ha(A);this.Ib.Kb().Ha(A);this.Ib.ET();this.Ib.ha()}.bind(this));l?(this.K0.setOptions({neatlimits:this.ea.neatlimits,preciselimits:this.ea.preciselimits}),
this.B_.rWa(!1)):(this.B_.setOptions({neatlimits:this.ea.neatlimits,preciselimits:this.ea.preciselimits}),this.K0.rWa(!1));this.setOptions(h);null!=k&&k.mode===mQ.KI.RQ&&(l=k.datasets[0],m={},m.datasets=[l],k=xb(m,k));null!=k&&null==k.datasets&&null!=h.shape.valuelimits&&(this.xl()?this.Ib.Kb().Ha(new U(h.shape.valuelimits.minvalue,0,h.shape.valuelimits.maxvalue,1)):this.Ib.Kb().Ha(new U(0,h.shape.valuelimits.minvalue,1,h.shape.valuelimits.maxvalue)));this.setData(k);return this}function a(){return{shape:{barwidth:1,
barpad:0,autogradient:!1,barvalues:{visible:!0,textstyle:(new Ki).vo(g).setColor(e)},orientation:mQ.So.xd},border:{color:"transparent"},mirror:!1,referenceline:{visible:!1,value:Number.NaN,linestyle:new X(e)},neatlimits:!0,preciselimits:!1,minpspan:75,grid:{values:b(),groups:b(!0)},annotations:{north:{size:50},south:{size:50},east:{size:50},west:{size:50}}}}function b(h){return{major:{tickvisible:!h,tickstyle:{color:e,width:1,pattern:wg.Uo},labelvisible:!0,labelstyle:{font:g,color:e}},minor:{tickvisible:!1,
tickstyle:{color:f,width:1,pattern:wg.Uo},labelvisible:!1,labelstyle:{font:g,color:f}},edge:{tickvisible:!0,tickstyle:{color:e,width:1,pattern:wg.Uo},labelvisible:!1,labelstyle:{font:g,color:e}}}}var d=function(){function h(k){rd.call(this,k);this.Ucb(se.ya())}D(h,rd);h.prototype.qm=function(k,l){return"datasets"===k.attributeName&&l instanceof c};h.prototype.SE=function(k){k=k.getData();return null==k?null:k.datasets.map(function(l){return l.values})};h.prototype.apply=function(k){k.setData({datasets:this.bva().map(function(l){return{values:l}})})};
return h}(),e="#757575",f="#e0e0e0",g="12px Roboto";D(c,UZ);L(c,"geotoolkit.widgets.BarChartWidget");re.ya().IG(d);c.prototype.BAb=function(h){if(!h)return this;var k=h.value;if(void 0===k||isNaN(k))return this;var l=this.Yu.pa();if(!l)return this;this.PS()?(this.uOb.Ga(l.la(),k),this.vOb.Ga(l.na(),k)):(this.uOb.Ga(k,l.ka()),this.vOb.Ga(k,l.ma()));this.SL.wb(!1);this.SL.Oq({from:this.uOb,to:this.vOb}).va(h.visible);h.linestyle&&this.SL.ra(h.linestyle);this.SL.wb(!0);return this};c.prototype.g_b=function(){if(null!=
this.Gd){for(var h=Number.MAX_VALUE,k=0,l=0;l<this.Gd.length;l++)if(null!=this.Gd[l]){k=null==this.Gd[l-1]?k:this.Gd[l-1];var m=Math.abs(this.Gd[l]-k);m<h&&(h=m)}return h}return 1};c.prototype.afd=function(h){var k=this.ea.grid;this.Aca={values:k.values instanceof Zi?k.values:wk.ya().create(k.values).Xr("edge",!0),groups:k.groups instanceof Zi?k.groups:(new uk).Pq("major",1)};k=h===mQ.So.nb||h===mQ.So.xd?new Lk(this.Aca.values,this.Aca.groups):new Lk(this.Aca.groups,this.Aca.values);k.Nu(Rh.ob,this.K0);
k.Nu(Rh.xb,this.B_);this.$ed(h);return k};c.prototype.$ed=function(h){function k(n){return n+1}var l=wk.ya(),m=this.ea.grid;this.gs=null==h||h===mQ.So.nb||h===mQ.So.xd?{north:m.groups instanceof Zi?m.groups:(new uk).Pq("major",1).Xr("edge",!1).Ng("minor",!1).taa(k),east:m.values instanceof Zi?m.values:l.create(m.values),west:m.values instanceof Zi?m.values:l.create(m.values),south:m.groups instanceof Zi?m.groups:(new uk).Pq("major",1).Xr("edge",!1).Ng("minor",!1).taa(k)}:{east:m.groups instanceof
Zi?m.groups:(new uk).Pq("major",1).Xr("edge",!1).Ng("minor",!1).taa(k),north:m.values instanceof Zi?m.values:l.create(m.values),south:m.values instanceof Zi?m.values:l.create(m.values),west:m.groups instanceof Zi?m.groups:(new uk).Pq("major",1).Xr("edge",!1).Ng("minor",!1).taa(k)};return this};c.prototype.fQd=function(){var h=void 0!==this.ea.shape.orientation?this.ea.shape.orientation:mQ.So.xd,k=[];this.ea.grid.groups instanceof Zi||(h===mQ.So.nb||h===mQ.So.xd?(k.push(this.gs.north),k.push(this.gs.south)):
(k.push(this.gs.east),k.push(this.gs.west)));if(Array.isArray(this.YMa)){var l=this.YMa.reduce(function(m,n){return m.length>n.length?m:n});for(h=0;h<k.length;++h)k[h].Qu(function(m,n,p,q,r,t){return this.YMa&&r<this.YMa.length?this.YMa[r]:t}.bind(this)),k[h].cAb(function(m,n,p,q,r,t){return[{type:"major",value:l}]})}else for(h=0;h<k.length;++h)k[h].Qu(null),k[h].cAb(null)};c.prototype.PS=function(){return this.Yu?this.Yu.PS():!0};c.prototype.xl=function(){return this.Yu?this.Yu.xl():!1};c.prototype.kmd=
function(){return this.vIb};c.prototype.O3a=function(){var h=null==this.g3a?this.Yu.al():this.g3a,k=null!=this.ea.shape.valuelimits&&"number"===typeof this.ea.shape.valuelimits.maxvalue&&"number"===typeof this.ea.shape.valuelimits.minvalue;if(k){var l=this.ea.shape.valuelimits.minvalue,m=this.ea.shape.valuelimits.maxvalue;this.PS()?(h.setY(l),h.Ya(m-l)):(h.setX(l),h.Ra(m-l))}this.B_.Bh(h.la(),h.na(),this.Yu.wa());this.K0.Bh(h.ka(),h.ma(),this.Yu.wa());k||(h=h.clone().setX(this.B_.sf()).Ra(this.B_.kg()-
this.B_.sf()).setY(this.K0.sf()).Ya(this.K0.kg()-this.K0.sf()));return h};c.prototype.ji=function(){UZ.prototype.ji.call(this);if(!this.bQa&&this.Yu){this.bQa=!0;var h=this.Ib.Kb().pa(),k=this.O3a();k.wi(h)||(this.FHb.Ha(k),this.Ib.Kb().Ha(k),this.Ib.ET(),this.Ib.ha());this.bQa=!1}return this};c.prototype.sa=function(h){UZ.prototype.sa.call(this,h);(h=this.O3a())&&!h.isEmpty()&&this.FHb&&this.FHb.Ha(h);return this};c.prototype.Qu=function(h){this.Yu.Qu(h);return this};c.prototype.setData=function(h){h&&
(this.Yu.setData(h),this.g3a=this.Yu.al(),this.setOptions(this.ea),void 0!==h.labels&&(this.YMa=h.labels,this.fQd()),h.positions instanceof xG?this.Gd=h.positions.toArray():Array.isArray(h.positions)&&(this.Gd=h.positions),null!=this.Gd&&this.Gd.some(function(k){return"number"!==typeof k})&&(this.Gd=null),this.aRd(),this.BAb(this.ea.referenceline));this.xa();return this};c.prototype.getData=function(){return this.Yu.getData()};c.prototype.aRd=function(){if(null!=this.gs&&null!=this.Gd){var h=this.g_b();
this.PS()?("function"===typeof this.gs.south.Pq&&this.gs.south.Pq("major",h),"function"===typeof this.gs.north.Pq&&this.gs.north.Pq("major",h)):("function"===typeof this.gs.west.Pq&&this.gs.west.Pq("major",h),"function"===typeof this.gs.east.Pq&&this.gs.east.Pq("major",h))}return this};c.prototype.Fu=function(h,k){return this.Yu.Fu(h,k)};c.prototype.setOptions=function(h){if(!h)return this;var k=null,l=this.ea.shape.orientation;this.ea=xb(h,this.ea);null!=h.shape&&null!=h.shape.valuelimits&&(k=h.shape.valuelimits);
void 0!==this.ea.shape&&(this.Yu.setOptions(this.ea.shape),this.g3a=this.Yu.al(),this.Yu.U_b()&&(this.U9b(this.ea.shape.orientation),k=this.O3a(),k={minvalue:this.xl()?k.la():k.ka(),maxvalue:this.xl()?k.na():k.ma()}),h=xb(this.ea.shape,{}),h.valuelimits=k,h.neatlimits=!1,this.Yu.setOptions(h),this.QQd(),this.AQd(l,this.ea.shape.orientation),this.ji());void 0!==this.ea.annotations&&this.oT(this.ea.annotations);this.ea.annotationssizes&&this.oi(this.ea.annotationssizes);void 0!==this.ea.grid&&this.nKd(this.ea.grid);
void 0!==this.ea.referenceline&&this.BAb(this.ea.referenceline);return this};c.prototype.U9b=function(h){(h=h===mQ.So.nb||h===mQ.So.xd||void 0===h)?(this.K0.setOptions({neatlimits:this.ea.neatlimits,minspan:this.ea.minspan}),this.B_.rWa(!1)):(this.B_.setOptions({neatlimits:this.ea.neatlimits,minspan:this.ea.minspan}),this.K0.rWa(!1));return this};c.prototype.AQd=function(h,k){k=k===mQ.So.nb||k===mQ.So.xd||void 0===k;h=h===mQ.So.nb||h===mQ.So.xd||void 0===h;this.U9b(this.ea.shape.orientation);h!==
k&&(h={east:this.gs.east,west:this.gs.west,north:this.gs.north,south:this.gs.south},k?(this.sd.pg(Rh.xb,this.Aca.values),this.sd.pg(Rh.ob,this.Aca.groups)):(this.sd.pg(Rh.xb,this.Aca.groups),this.sd.pg(Rh.ob,this.Aca.values)),this.gs.east=h.north,this.gs.west=h.south,this.gs.north=h.east,this.gs.south=h.west);this.mh.east.pg(this.gs.east);this.mh.west.pg(this.gs.west);this.mh.north.pg(this.gs.north);this.mh.south.pg(this.gs.south)};c.prototype.QQd=function(){var h=this.Ib.Kb();h&&(this.PS()?h.Tk(!0):
h.Tk(!1),this.ea.mirror&&(this.PS()?h.nl(!0):h.Tk(!0)))};c.prototype.nKd=function(h){if(!h)return this;this.Aca.groups.fa(h.groups);this.Aca.values.fa(h.values);return this};c.prototype.oT=function(h){h&&(UZ.prototype.oT.call(this,h),this.mh.east.pg(this.gs.east),this.mh.west.pg(this.gs.west),this.mh.north.pg(this.gs.north),this.mh.south.pg(this.gs.south))};c.prototype.Nfa=function(h,k){this.Yu.Nfa(h,k);return this};c.prototype.Zyb=function(h,k,l){return this.Yu.Zyb(h,k,l)};c.prototype.wzb=function(h){this.Yu.wzb(h);
this.g3a=this.Yu.al();if(this.Yu.U_b()){this.U9b(this.ea.shape.orientation);h=this.O3a();var k={minvalue:this.xl()?h.la():h.ka(),maxvalue:this.xl()?h.na():h.ma()}}this.Yu.setOptions({valuelimits:k});this.ji();return this};c.prototype.$sb=function(){return this.Yu.$sb()};c.prototype.ia=function(){return xb(this.getData(),xb(this.ea,UZ.prototype.ia.call(this)))};c.prototype.fa=function(h){h=hc(h);if(null==h)return this;UZ.prototype.fa.call(this,h);this.setOptions(h);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXREYXRhTGF5ZXIiOiJrbWQiLCJzZXRCb3VuZHMiOiJzYSIsInNldEZvcm1hdExhYmVsSGFuZGxlciI6IlF1IiwiZ2V0VmFsdWVBdCI6IkZ1IiwiaGlnaGxpZ2h0QmFycyI6Ik5mYSIsInNlbGVjdEJhcnNBdCI6Ilp5YiIsInNldERhdGFTZXJpZXNWaXNpYmxlIjoid3piIiwiZ2V0RGF0YVNlcmllc1Zpc2libGUiOiIkc2IiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var WZ=/*#__PURE__*/function(){function c(a,b){TQ.call(this,a);var d=4;a=d;var e="";"string"==typeof b.unit&&(e=" ("+b.unit+") ");b.unit instanceof Xd&&(e=" ("+b.unit.Tc()+") ");e=b.axisname+": "+b.value+e;this.Pb=new ek;this.Pb.fa({text:e,ax:d,ay:a});this.Pb.tc(O.Ld);this.Gc=b.textstyle instanceof Ki?b.textstyle:new Ki;b=rg.measureText(e,this.Gc);a=a+b.da()+d;b=2*d+b.ca();this.Yc(!0);this.oa(this.Pb);this.yl(a).Yl(b).Te(!0)}D(c,TQ);L(c,"geotoolkit.widgets.BubbleWidgetTooltipLegendItem");return c}();var XZ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(h){null==h&&(h={});var k=15,l=20,m=15,n=20,p=15,q=5,r=l+n+p;h.viewcachesize=h.viewcache||null!=h.viewcachesize?G(h.viewcachesize,{width:256,height:256}):null;h.border=G(h.border,{color:"transparent"},!0);k={bounds:h.bounds,border:h.border,north:null,south:null,west:null,east:null,viewcache:!0,viewcachesize:h.viewcachesize,annotationssizes:{north:k+l,west:k+n+l,south:k+n+m+l,east:k+m+r+q}};k=G(h,k);UZ.call(this,k);this.Q7c=r;this.NE=k.viewcache;this.gic=null;this.Dt={};
null!=k.viewcachesize&&(this.NE=!0,this.Dt=k.viewcachesize);this.gAa=null;this.fJ=[];this.SC={datax:[],datay:[],datas:[],selectable:!1,highlightcolor:(new rf("pink")).rb()};this.$Gb=k.annotationssizes;this.qc=null!=k.colorprovider?k.colorprovider:this.qc;r=G(null!=k.z&&null!=k.z.axis?k.z.axis.title:null,{text:"",visible:!1,textstyle:new Ki({color:f,font:g}),alignment:O.vd});l={location:vN.Ic,componentsizes:{colorbox:p,axis:n,title:l},axis:{autolabelrotation:null!=k.z?k.z.autolabelrotation:!1,title:r},
colorprovider:this.qc,title:{text:"zlabel",textstyle:new Ki({color:f,font:g})},flip:"true"};this.Qe=(new yN(l)).pi(this.NE?null!=this.Dt?new ni(this.Dt.width,this.Dt.height):new ni:null).Te(!0);this.C5c=!1;this.V6={x:null,y:null,z:null,s:null};this.ja={x:null,y:null,z:null,s:null};this.GF={x:[],y:[],z:[],s:[]};this.HC={x:!1,y:!1,z:!1,s:!1};this.m_a={x:!1,y:!1,z:!1,s:!1};this.Tl={x:null,y:null,z:null};this.$s={x:null,y:null,z:null,s:null};this.Zs={x:null,y:null,z:null,s:null};l=this.kj();this.wb(!1);
this.Ib.Edb();this.hBa=null;this.Rob=["x","y","z","s"];this.Pob=new rf({color:"white"});this.Qob=new X({color:"grey",width:1});this.Sob=new Ki;this.Ey=(new hR({data:null,sizeisindevicespace:!0,autosize:!0,autobounds:!0})).Wd(new Al).va(!1).Te(!0);this.Ey.sa(new U(0,0,1,1));this.oa(this.Ey);this.ie=am.hP(this.Ib,{location:Zh.me,text:"",textstyle:{font:e}});n=am.iS(this.Ib,{location:Zh.vc,connect:!0,title:{text:"",visible:!1,textstyle:new Ki({color:f,font:g}),alignment:O.Je},annotationitemswrap:!1}).axis;
p=null!=k.x&&null!=k.x.axis&&null!=k.x.axis.title?null:am.hP(this.Ib,{location:Zh.vc,text:"x"});m=null!=k.y&&null!=k.y.axis&&null!=k.y.axis.title?null:am.hP(this.Ib,{location:Zh.dc,text:"y"});k=am.iS(this.Ib,{location:Zh.dc,connect:!0,autolabelrotation:!0,title:{text:"",visible:!1,textstyle:new Ki({color:f,font:g}),alignment:O.vd},annotationitemswrap:!1}).axis;this.od={x:n,y:k,z:this.Qe.ta().axis.item};this.Le={x:p,y:m,z:!1===r.visible?this.Qe.ta().title.item:null};r=new oi;r.Yl(q);this.Ib.hr(r,Zh.Ic);
this.Ib.hr(this.Qe,Zh.Ic);this.Ct=new vQ;n.Nu(this.Ct.zsb());k.Nu(this.Ct.Asb());this.lx=new oi;this.lx.oa([(new Am).Dd("bubblechart_layer").oa([this.Ct])]);this.Fhb=(new oi).oa([this.Unb=(new Am).Dd("highlight_layer").oa([this.gAa=(new vQ({selectable:!1})).kb("default")])]);this.gZ=null;this.Ib.Kb().Mf(0,this.Fhb);this.Ib.Kb().Mf(0,this.lx);this.Ib.Kb().Tk(!0);this.wd.Tk(!0);this.pRa();this.Ib.Vbb();this.Sy();this.Qe.va(!1);this.gic=null!=this.Dt?(new ni(this.Dt.width,this.Dt.height)).uIa(null):
(new ni).uIa(null);this.lx.pi(this.NE?this.gic:null);this.lx.Te(!1);this.Sy();this.Yh();this.wo(h.tools);this.setData(h);this.wb(l);return this}var a=function(){function h(k){rd.call(this,k);this.Ucb(ke.ya())}D(h,rd);h.prototype.qm=function(k,l){return"s-data"===k.attributeName&&l instanceof c};h.prototype.SE=function(k){return(k=k.getData())?k.s.data:null};h.prototype.apply=function(k){k.setData({s:{data:this.bva()}})};return h}(),b="#e0e0e0",d="#f5f5f5",e="16px Roboto",f="#757575",g="13px Roboto";
D(c,UZ);L(c,"geotoolkit.widgets.BubbleChart");re.ya().IG(a);c.prototype.pRa=function(){function h(y){y.jj("major").setColor(b);y.jj("minor").setColor(d);y.Ng("minor",!0);y.Ng("edge",!1);y.Xr("edge",!1)}var k=wk.ya(),l=k.rua(),m=k.rua(),n=k.rua(),p=new sk,q=new sk,r=new sk,t=k.create({ticks:{edge:{visible:!0}}});k=k.rua({ticks:{edge:{visible:!0}}});var u=new sk,w=new sk;h(l);h(m);h(t);h(k);h(u);h(w);this.Xk={x:l,y:m,z:n,xlog:p,ylog:q,zlog:r};this.nq={x:t,y:k,xlog:u,ylog:w};null==this.sd&&(this.sd=
new Lk(t,k),this.sd.Nu(Rh.xb,this.Ct.zsb()),this.sd.Nu(Rh.ob,this.Ct.Asb()),l=new Am,l.Dd("grid_layer"),l.oa(this.sd),this.Ib.Kb().Mf(0,l));this.i5();return this};c.prototype.i5=function(){this.od.x.pg(this.Xk["x"+(this.HC.x?"log":"")]);this.od.y.pg(this.Xk["y"+(this.HC.y?"log":"")]);this.od.z.pg(this.Xk["z"+(this.HC.z?"log":"")]);this.sd.pg(Rh.ob,this.nq["x"+(this.HC.x?"log":"")]);this.sd.pg(Rh.xb,this.nq["y"+(this.HC.y?"log":"")]);var h=this.HC.z?Math.log(this.$s.z)/Math.LN10:this.$s.z,k=this.HC.z?
Math.log(this.Zs.z)/Math.LN10:this.Zs.z;this.od.z.Ha(new U(h,h,k,k))};c.prototype.Yh=function(){if(null==this.Qe)return this;UZ.prototype.Yh.call(this);var h=this.ec();this.gt.addListener(HR.Ry,function(k,l){this.hBa=null;this.Ey.va(!1)}.bind(this));this.Ov.bB(function(k){for(var l=0;l<k.length;++l)if(k[l].bubblechart===this.Ct||k[l].colorbar===this.Qe)return k[l];return[]}.bind(this)).addListener($S.Rx,function(k,l){l.getSelection().indices instanceof Array&&this.sW({"default":{indices:l.getSelection().indices}},
this.aPa)}.bind(this)).kb("selection");this.mkb=(new aT(h)).Ob(!1).tWa(XS.Ro).bB(function(k){for(var l=0;l<k.length;++l)if(k[l].bubblechart===this.Ct||k[l].colorbar===this.Qe)return k[l];return[]}.bind(this)).addListener($S.Rx,function(k,l){l.getSelection().indices instanceof Array&&(k=l.getSelection().indices,0===k.length?(this.Ey.va(!1),this.hBa=null):this.hBa!==k[0].index&&(this.hBa=k[0].index,this.BPd()))}.bind(this)).kb("bubbleHover");this.LY.add([this.mkb]);return this};c.prototype.BPd=function(){var h=
new Io;this.Rob.forEach(function(q){var r=this.ja[q]?this.ja[q][this.hBa]:"",t=this.m_a[q]?this.m_a[q]:q;q=new WZ(null,{axisname:t,value:r,unit:this.Tl[q],textstyle:this.Sob});h.add(q)}.bind(this));this.Ey.setOptions({data:h,linestyle:this.Qob,fillstyle:this.Pob,autobounds:!0});var k=this.Ey.ga().clone(),l=this.Ib.Kb().getParent().ga(),m=(new W).MIa(this.Jc.vb(),l,!1,!0);l=new M(this.ja.x[this.hBa],this.ja.y[this.hBa]);l=m.transform(l);m=new M(this.Jc.Ki().getX()+this.Jc.Ki().ca()/2,this.Jc.Ki().getY()+
this.Jc.Ki().da()/2);var n=k.ca(),p=k.da();l.getX()<=m.getX()&&l.getY()<=m.getY()&&(k.setX(l.getX()),k.setY(l.getY()));l.getX()>=m.getX()&&l.getY()<=m.getY()&&(k.setX(l.getX()-n),k.setY(l.getY()));l.getX()<=m.getX()&&l.getY()>=m.getY()&&(k.setX(l.getX()),k.setY(l.getY()-p));l.getX()>=m.getX()&&l.getY()>=m.getY()&&(k.setX(l.getX()-n),k.setY(l.getY()-p));this.Ey.sa(k);this.Ey.va(!0)};c.prototype.setData=function(h){if(null==h)return this;this.wo(h.tools);null!=h.bounds&&this.sa(h.bounds);var k={};null!=
h.header&&this.$_(h.header);null!=h.painter&&this.vN(h.painter,k);void 0!==h.colorprovider&&(this.Ur(h.colorprovider,k),this.g7.Ur(this.Vm()));null!=h.symbolcache&&this.JSc(h.symbolcache,k);null!=h.labels&&this.xQc(h.labels,k);this.tRa=!1;null!=h.x&&this.ecb("x",h.x,k);null!=h.y&&this.ecb("y",h.y,k);null!=h.z&&this.ecb("z",h.z,k);null!=h.s&&this.ecb("s",h.s,k);this.wo(h.tools);var l=this.Ib.Kb().getParent().ga();this.Ct.Qcb(new U(0,0,l.ca(),l.da()));this.gAa.Qcb(new U(0,0,l.ca(),l.da()));this.Ct.setData(k);
k=this.Ct.getData();null==k.colorprovider?this.oi({east:this.$Gb.east-this.Q7c}):this.oi({east:this.$Gb.east});this.Sy();l=this.Ib.Kb().getParent().ga();this.Ct.Qcb(new U(0,0,l.ca(),l.da()));this.gAa.Qcb(new U(0,0,l.ca(),l.da()));this.Ct.Bh();this.dCb(h.trendline);this.gAa.Bh();this.iF(this.Ct.ga());this.Sy();this.xa();return this};c.prototype.getData=function(h){var k={tools:this.HS()};null!=this.ga()&&(k.bounds=this.ga().ia());k.header=this.i_();k.x=this.f8a("x",h);k.y=this.f8a("y",h);this.qc&&
this.ja.z&&(k.z=this.f8a("z",h));k.s=this.f8a("s",h);null!=this.Vm()&&(k.colorprovider=this.Vm());k.painter=this.T9();k.trendline=this.uEc();k.labels=this.l_();k.tools=this.HS();return k};c.prototype.setOptions=function(h){h=xb(h,this.ta());return this.setData(h)};c.prototype.ta=function(){return this.getData()};c.prototype.ia=function(){return G(this.getData(),UZ.prototype.ia.call(this))};c.prototype.fa=function(h){h=hc(h);if(null==h)return this;UZ.prototype.fa.call(this,h);this.setOptions(h);return this};
c.prototype.pP=function(){return this.Qe};c.prototype.lOa=function(h,k,l){null!=l.value.range&&l.value.range.changes===mG.Ud&&0===l.value.range.from&&(this.inc=!0);if(this.inc){var m={};m.x={datasource:this.V6.x};m.y={datasource:this.V6.y};m.z={datasource:this.V6.z};m.s={datasource:this.V6.s};this.setData(m)}else if(h=this.Ct.getData().validlength,k=null==this.ja.z?Math.min(this.ja.x.length,this.ja.y.length,this.ja.s.length):Math.min(this.ja.x.length,this.ja.y.length,this.ja.z.length,this.ja.s.length),
k>h){l=k-h;for(m in this.HC)if(this.HC.hasOwnProperty(m)&&!0===this.HC[m])for(var n=h-1;n<k;++n)this.GF[m].push(Math.log(this.ja[m][n])/Math.LN10);this.Ct.Yta(l);this.iF(this.Ct.ga());this.tRa=!0;this.dCb();this.Sy()}else if(k<h){h=l.value.range.from;l=l.value.range.amount;for(m in this.HC)this.HC.hasOwnProperty(m)&&!0===this.HC[m]&&this.GF[m].splice(h,l);this.Ct.wLc(h,l);this.tRa=!0;this.dCb();this.Sy()}};c.prototype.isd=function(){return this.gZ.LCc().Wp()};c.prototype.dCb=function(h){var k={};
this.gZ||(this.gZ=(new BR).va(!1),this.rG().oa(this.gZ));null!=h?(null!=h.enable&&this.gZ.va(h.enable),this.gZ.Ia()&&(h.regressionmodel||!h.model&&!h.order||(h.regressionmodel={},h.regressionmodel.type=h.model,h.regressionmodel.order=h.order),h.regressionline||!h.visible&&!h.linestyle||(h.regressionline={},h.regressionline.visible=h.visible,h.regressionline.linestyle=h.linestyle,h.visible=null),this.gZ.Ha(this.rG().pa()),this.gZ.setOptions(h),k.datax=h.datax?h.datax:this.ja.x,k.datay=h.datay?h.datay:
this.ja.y,this.gZ.setData(k))):this.gZ.Ia()&&(k.datax=this.ja.x,k.datay=this.ja.y,this.gZ.setData(k));return this};c.prototype.uEc=function(){var h={enable:this.gZ.Ia()};return h=G(this.gZ.ta(),h)};c.prototype.a9a=function(h){function k(m,n){return m.toFixed(2)}function l(m,n){return Math.pow(10,m).toFixed(2)}return this.HC[h]?l:k};c.prototype.ecb=function(h,k,l){var m=!1;null==l&&(m=!0,l={});var n={},p={x:"south",y:"west",z:"east"};if("string"!==typeof h)return this;h=h.toLowerCase();if("x"!==h&&
"y"!==h&&"z"!==h&&"s"!==h||null==k)return this;null!=k.datasource&&(k.datasource!==this.V6[h]||this.inc)&&(k.datasource instanceof xG||k.datasource instanceof PG)&&(this.V6[h]=k.datasource,this.C5c=!0,k.data=k.datasource.toArray(),k.datasource.on(jG.uj,this.lOa.bind(this)),null!=k.datasource.Wa()&&(k.unit=k.datasource.Wa()),null!=k.datasource.Da()&&(k.name=k.datasource.Da()));this.m_a[h]=null!=k.name?k.name:this.m_a[h];this.Tl[h]=null!=k.unit?k.unit:this.Tl[h];null!=k.logarithmic&&this.HC[h]!==k.logarithmic&&
(this.HC[h]=k.logarithmic,"x"===h&&(this.gt.$w(Zh.me,{textconverter:this.a9a("x")}),this.gt.$w(Zh.vc,{textconverter:this.a9a("x")}),this.Ct.zsb().setOptions({logarithmic:k.logarithmic})),"y"===h&&(this.gt.$w(Zh.Ic,{textconverter:this.a9a("y")}),this.gt.$w(Zh.dc,{textconverter:this.a9a("y")}),this.Ct.Asb().setOptions({logarithmic:k.logarithmic})));if(null!=k.data){this.ja[h]=k.data;this.GF[h]=[];for(var q=0;q<k.data.length;++q)this.GF[h].push(Math.log(k.data[q])/Math.LN10);this.tRa=!0}if("z"===h){"number"==
typeof k.min&&"number"==typeof k.max&&(this.$s[h]=k.min,this.Zs[h]=k.max);if(k.autominmax||null==this.$s[h]||null==this.Zs[h])this.$s[h]=V.sf(this.ja[h]),this.Zs[h]=V.kg(this.ja[h]);q=this.qc.Tp();var r=this.qc.lg(),t=[],u;r.forEach(function(w){u=this.$s[h]+this.Zs[h]*(w-this.qc.uc())/(this.qc.Dc()-this.qc.uc());t.push(u)}.bind(this));this.qc.setColors(t,q);n.min=this.qc.uc();n.max=this.qc.Dc()}this.HC[h]?(null!=k.min&&(l["min"+h]=0===k.min?0:Math.log(k.min)/Math.LN10),null!=k.max&&(l["max"+h]=0===
k.max?0:Math.log(k.max)/Math.LN10),l["data"+h]=this.GF[h]):(null!=k.min&&(l["min"+h]=k.min),null!=k.max&&(l["max"+h]=k.max),l["data"+h]=this.ja[h]);null!=k.autominmax&&(l["autominmax"+h]=k.autominmax);null!=k.neatlimit&&(l["neatlimit"+h]=k.neatlimit);null!=k.preciselimit&&(l["preciselimit"+h]=k.preciselimit);"s"!==h&&((null==k.label||null==k.label.text)&&k.name&&k.unit&&(q=null!=k.name?k.name:[],k.unit instanceof Xd?(q.push(" ("),q.push(k.unit.Tc()),q.push(")")):"string"===typeof k.unit&&(q.push(" ("),
q.push(k.unit),q.push(")")),k.label.text=q.join("")),null!=k.label&&(null!=this.Le[h]?"z"===h?this.Le[h].fa(k.label):(this.Le[h].text.fa(k.label),$h.raa(this.Le[h].text,this.Le[h].group,p[h])):"z"===h?n.axis={title:{text:k.label.text,textstyle:this.od[h].t4().clone().fa(k.label.textstyle)}}:(q=k.label.textstyle?this.od[h].t4().clone().fa(k.label.textstyle):this.od[h].t4(),this.od[h].Qq({title:k.label.text,textstyle:q})),"z"===h&&null!=k.label.text&&(n.titletext=k.label.text)),null!=k.axis&&null!=
k.axis.title&&this.od[h].Qq(k.axis.title),null!=k.annotationsize&&(q={},q[p[h]]=k.annotationsize,this.$Gb[p[h]]=k.annotationsize,this.oi(q)),null!=k.axisticks&&(this.Xk[h].fa(k.axisticks),this.Xk[h+"log"].fa(k.axisticks)),null!=k.gridticks&&"z"!==h&&(this.nq[h].fa(k.gridticks),this.nq[h+"log"].fa(k.gridticks)),null!=k.reversed&&("x"===h&&this.Ib.Kb().nl(k.reversed),"y"===h&&this.Ib.Kb().Tk(k.reversed),"z"===h&&(n.flip=k.reversed)),"z"===h&&(this.Qe.fa(n),null!=k.legendvisible&&this.Qe.va(k.legendvisible),
this.Qe.Pf()),this.Sy(),"z"===h&&this.Qe.mb(),null!=k.tickgenerator&&(this.Xk[h+(this.HC[h]?"log":"")]=k.tickgenerator),this.i5());this.Ct.bUa();if(!m)return this;this.Ct.setData(l);return this};c.prototype.f8a=function(h,k){h=h.toLowerCase();if("x"!==h&&"y"!==h&&"z"!==h&&"s"!==h)return{};var l={},m=this.Ct.getData();!0!==k&&(l.datasource=this.V6[h],l.data=this.ja[h]);l.unit=this.Tl[h];l.name=this.m_a[h];l["min"+h]=m["min"+h];l["max"+h]=m["max"+h];l.autominmax=m["autominmax"+h];l.neatlimit=m["neatlimit"+
h];l.preciselimit=m["preciselimit"+h];l.logarithmic=this.HC[h];"s"!==h&&(l.label=null!=this.Le[h]?"z"===h?this.Le[h].ia():this.Le[h].text.ia():{text:this.od[h].Fm(),textstyle:this.od[h].t4()},this.Xk[h]&&(l.axisticks=this.Xk[h].ia()),"z"!==h&&(l.gridticks=this.nq[h].ia()),k={x:Zh.vc,y:Zh.dc,z:Zh.Ic},k=this.Ib.bb(k[h]),l.annotationsize="x"===h?k.ke():k.xk());"z"===h&&(l.reversed=this.Qe.ta().flip);"x"===h&&(l.reversed=this.Ib.Kb().mi());"y"===h&&(l.reversed=this.Ib.Kb().lo());"z"===h&&(l.legendvisible=
this.Qe.Ia());return l};c.prototype.sW=function(h,k){var l=[];h["default"].indices.forEach(function(p){l.push(p.index)});if(0===l.length)this.fJ=[];else if(1===l.length&&-1!==this.fJ.indexOf(l[0]))this.fJ.splice(this.fJ.indexOf(l[0]),1);else if(k){var m=this.fJ.concat(l);this.fJ=m.filter(function(p,q){return m.indexOf(p)===q})}else this.fJ=l;k=this.SC.highlightcolor;var n=this.Ct.getData(!0);h=n.labels;this.SC=G(n,this.SC);this.SC.datax=[];this.SC.datay=[];this.SC.datas=[];this.SC.dataz=null;this.SC.labels=
[];n=4>this.SC.minsize?2:4;this.SC.minsize+=n;this.SC.maxsize+=n;this.SC.colorprovider=null;this.SC.defaultcolor=k;for(k=0;k<this.fJ.length;k++)this.SC.datax.push(this.HC.x?this.GF.x[this.fJ[k]]:this.ja.x[this.fJ[k]]),this.SC.datay.push(this.HC.y?this.GF.y[this.fJ[k]]:this.ja.y[this.fJ[k]]),this.SC.datas.push(this.HC.s?this.GF.s[this.fJ[k]]:this.ja.s[this.fJ[k]]),0<h.length&&this.SC.labels.push(h[this.fJ[k]]);this.gAa.bUa();this.gAa.setData(this.SC);this.gAa.Bh()};c.prototype.grd=function(){hb("BubbleChart.getOverLayer() is deprecated since 2020.1 (3.1) use .getOverlayLayer() instead");
return this.rG()};c.prototype.Wub=function(){return this.koe};c.prototype.Eod=function(){null==this.fJ&&(this.fJ=[]);return this.fJ};c.prototype.$_=function(h){if(null==h)return this;var k={};null!=h.title&&(this.ie.text.fa(h.title),$h.raa(this.ie.text,this.ie.group,Zh.me));null!=h.annotationsize&&(k.north=h.annotationsize);this.oi(k);this.Sy();return this};c.prototype.i_=function(){return{title:this.ie.text.ia(),annotationsize:this.Ib.bb(Zh.me).ke()}};c.prototype.xQc=function(h,k){var l=!1;null==
k&&(l=!0,k={});if(h.data instanceof uG||h.data instanceof NG)h.data=h.datasource.toArray();Array.isArray(h.data)&&(k.labels=h.data);k.labelvisible=h.visible;k.labeltextstyle=h.textstyle;k.labellocation=h.location;k.secondarylocation=h.secondarylocation;k.labelpadding=h.padding;if(!l)return this;this.Ct.setData(k);return this};c.prototype.l_=function(){var h={},k=this.Ct.getData();h.visible=k.labelvisible;h.textstyle=k.labeltextstyle;h.location=k.labellocation;h.secondarylocation=k.secondarylocation;
h.padding=k.labelpadding;return h};c.prototype.vN=function(h,k){var l=!1;null==k&&(l=!0,k={});k=G(h,k);this.SC=G(h,this.SC);this.Ct.bUa();if(!l)return this;this.Ct.setData(k);return this};c.prototype.T9=function(){var h=this.Ct.getData();return{symbol:h.symbol,minsize:h.minsize,maxsize:h.maxsize,sizebin:h.sizebin,defaultfillstyle:h.defaulfillstyle,defaultlinestyle:h.defaultlinestyle}};c.prototype.Ur=function(h,k){if(null==h)return this;var l=!1;null==k&&(l=!0,k={});if(h instanceof Oo)this.qc=h;else if(null!=
h.type){var m=Oo.dSa(h.type);this.qc=h=m.Pa(h)}k.colorprovider=this.qc;this.Qe.setOptions({colorprovider:this.qc});this.Qe.mb();this.Qe.Pf();this.Ct.bUa();if(!l)return this;this.Ct.setData(k);return this};c.prototype.Vm=function(){return this.qc};c.prototype.JSc=function(h,k){var l=!1;null==k&&(l=!0,k={});null!=h.width&&(k.cachewidthlimit=h.width);null!=h.height&&(k.cacheheightlimit=h.height);this.Ct.bUa();if(!l)return this;this.Ct.setData(k);return this};c.prototype.wo=function(h){if(null==h||null==
this.Qe)return this;null!=h.crosshair&&(null!=h.crosshair.north&&(h.crosshair.north.textconverter=null),null!=h.crosshair.south&&(h.crosshair.south.textconverter=null),null!=h.crosshair.east&&(h.crosshair.east.textconverter=null),null!=h.crosshair.west&&(h.crosshair.west.textconverter=null));null!=h.tooltip&&(null!=h.tooltip.enabled&&(!0===h.tooltip.enabled?this.mkb.Ob(!0):this.mkb.Ob(!1)),this.Rob=Array.isArray(h.tooltip.displayprops)?h.tooltip.displayprops:this.Rob,this.Pob=h.tooltip.fillstyle instanceof
rf?h.tooltip.fillstyle:this.Pob,this.Qob=h.tooltip.linestyle instanceof X?h.tooltip.linestyle:this.Qob,this.Sob=h.tooltip.textstyle instanceof Ki?h.tooltip.textstyle:this.Sob);UZ.prototype.wo.call(this,h);return this};c.prototype.HS=function(){var h=UZ.prototype.HS.call(this);h.selection={};h.selection.enable=this.Ov.isEnabled();h.selection.resetselection=this.aPa;h.tooltip={};h.tooltip.enable=this.mkb.isEnabled();h.tooltip.displayprops=this.Rob;h.tooltip.fillstyle=this.Pob;h.tooltip.linestyle=this.Qob;
h.tooltip.textstyle=this.Sob;return h};c.prototype.dispose=function(){for(var h in this.V6)this.V6.hasOwnProperty(h)&&null!=this.V6[h]&&this.V6[h].za(jG.uj,this.lOa);UZ.prototype.dispose.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVHcmlkQW5kQXhlcyI6InBSYSIsImluaXRpYWxpemVUb29scyI6IlloIiwiZ2V0T3B0aW9ucyI6InRhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0Q29sb3JCYXIiOiJwUCIsImdldFJlZ3Jlc3Npb25BbmFseXNpcyI6ImlzZCIsInVwZGF0ZVJlZ3Jlc3Npb25MaW5lIjoiZENiIiwiZ2V0VHJlbmRsaW5lT3B0aW9ucyI6InVFYyIsImdldExhYmVsVGV4dENvbnZlcnRlciI6ImE5YSIsInNldEF4aXNEYXRhIjoiZWNiIiwiZ2V0QXhpc0RhdGEiOiJmOGEiLCJoaWdobGlnaHRJbmRpY2VzIjoic1ciLCJnZXRPdmVyTGF5ZXIiOiJncmQiLCJnZXRSc3F1YXJlZCI6Ild1YiIsImdldEhpZ2hsaWdodEluZGljZXMiOiJFb2QiLCJzZXRIZWFkZXJPcHRpb25zIjoiJF8iLCJnZXRIZWFkZXJPcHRpb25zIjoiaV8iLCJzZXRMYWJlbHMiOiJ4UWMiLCJnZXRMYWJlbHMiOiJsXyIsInNldFBhaW50ZXIiOiJ2TiIsImdldFBhaW50ZXIiOiJUOSIsInNldENvbG9yUHJvdmlkZXIiOiJVciIsImdldENvbG9yUHJvdmlkZXIiOiJWbSIsInNldFN5bWJvbENhY2hlIjoiSlNjIiwic2V0VG9vbHNPcHRpb25zIjoid28iLCJnZXRUb29sc09wdGlvbnMiOiJIUyJ9fX0g");var YZ=/*#__PURE__*/va(/*#__PURE__*/{igb:0,d6:1},2,"eyJPZmYiOiJpZ2IiLCJPbiI6ImQ2In0g"),ZZ=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){oi.call(this,a);var d={normal:{textstyle:(new Ki({font:"bold 8px Arial"})).setColor("black"),linestyle:new X({color:"gray",width:1}),fillstyle:new rf("#f5f5f5")},disabled:{textstyle:(new Ki({font:"8px Arial"})).setColor("gray"),linestyle:new X({color:"gray",width:1}),fillstyle:new rf("#DDDDDD")},pressed:{textstyle:(new Ki({font:"bold 8px Arial"})).setColor("black"),linestyle:new X({color:"gray",width:3}),fillstyle:new rf("#d3d3d3")},hover:{textstyle:(new Ki({font:"bold 8px Arial"})).setColor("black"),
linestyle:new X({color:"gray",width:1}),fillstyle:new rf("#e3e3FF")}};null==a&&(a={});null==a.styles&&(a.styles={});a.styles.normal=G(a.styles.normal,d.normal);a.styles.disabled=G(a.styles.disabled,d.disabled);a.styles.pressed=G(a.styles.pressed,d.pressed);a.styles.hover=G(a.styles.hover,d.hover);a=G(a,{width:15,height:15,text:"",toggle:null!=b&&null!=b.NGa?b.NGa():!1,textanchor:O.Na,disabled:!1,state:0,padding:[5,3,5,3]});this.state=a.state;this.disabled=a.disabled;this.hFc=!1;this.H$c=a.toggle;
this.Cg=a.styles;this.xNb=a.onClick;this.Jf=a.padding;this.Oe=b;this.le(a);this.Te(!0);this.Yc(!0)}D(c,oi);L(c,"geotoolkit.widgets.Button");c.wF=YZ;c.prototype.le=function(a){this.oa([this.Ui=new ho({left:0,top:0,right:1,bottom:1}),this.Pb=(new ek({text:a.text,ax:.5,ay:.5})).tc(a.textanchor)]);this.fCb()};c.prototype.fCb=function(){var a=this.Cg.normal;!0===this.hFc&&(a=this.Cg.hover);this.state===c.wF.d6&&(a=this.Cg.pressed);this.disabled&&(a=this.Cg.disabled);this.Ui.ra(a.linestyle.clone()).qa(a.fillstyle.clone());
this.Pb.ib(a.textstyle.clone());var b=rg.measureText(this.Pb.ee(),this.Pb.jb());a=b.ca()+this.Jf[0]+this.Jf[2]+1;b=b.da()+this.Jf[1]+this.Jf[3]+1;this.Ha(new U(0,0,a,b)).Yl(a).yl(b);this.Ui.cb(0,0,a,b);this.Pb.sn(a/2);this.Pb.Bp(b/2);this.ha()};c.prototype.getState=function(){return this.state};c.prototype.ee=function(){return null==this.Pb?null:this.Pb.ee()};c.prototype.setState=function(a){this.state=a;this.fCb();return this};c.prototype.NGa=function(){return this.H$c};c.prototype.E6b=function(a){this.hFc=
a;this.fCb();return this};c.prototype.Sxd=function(){return this.disabled};c.prototype.MJd=function(a){this.disabled=a;this.fCb();return this};c.prototype.hEd=function(){null!=this.Oe&&!0===this.Oe.NGa()&&this.Oe.E9b(YZ.igb)};c.prototype.click=function(){if(!1===this.disabled){this.hEd();var a=0===this.state?1:0;1===a&&null!=this.xNb&&"function"===typeof this.xNb&&this.xNb.call(this,this)}};c.prototype.$ue=function(){};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZXh0IjoiZWUiLCJpc1RvZ2dsZSI6Ik5HYSIsInNldEhvdmVyIjoiRTZiIiwiaXNEaXNhYmxlZCI6IlN4ZCIsInNldERpc2FibGVkIjoiTUpkIn19fSAg"),a_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){JZ.call(this,a);this.ea=G(a,{layout:new ll,
toggle:!1});this.Zj=[];this.Pz(a);this.Yh();this.Te(!0)}D(c,JZ);L(c,"geotoolkit.widgets.ButtonWidget");c.prototype.Pz=function(a){var b=[];this.dh();a.buttons.forEach(function(d){d=new ZZ(d,this);b.push(d)}.bind(this));this.Yc(!0).oa(b);this.Zj=b;this.c$b();this.lQd()};c.prototype.lQd=function(){this.ue().cb(this.pa()).add(this.Zj).oc()};c.prototype.c$b=function(){var a=0,b=0,d=0,e=0;this.Zj.forEach(function(f){var g=f.pa().ca();f=f.pa().da();a=a>g?a:g;b=b>f?b:f;d+=g;e+=f});this.ea.layout instanceof
ll?(this.Yl(d),this.yl(b)):(this.ea.layout instanceof xl?this.Yl(a):this.Yl(d),this.yl(e))};c.prototype.Yh=function(){var a;this.mn(a=new $Z(this));this.tq=a;return this};c.prototype.NGa=function(){return this.ea.toggle};c.prototype.E9b=function(a){this.Zj.forEach(function(b){b.setState(a)})};c.prototype.w_=function(){return this.tq};c.prototype.Vkd=function(a){return null==a||null==this.Zj||0===this.Zj.length||this.Zj.length<a?null:this.Zj[a]};c.prototype.Wkd=function(a){if(null==a||null==this.Zj||
0===this.Zj.length)return null;var b=this.Zj.filter(function(d){return a===d.ee()});return 0<b.length?b[0]:null};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplVG9vbHMiOiJZaCIsImlzVG9nZ2xlIjoiTkdhIiwidG9nZ2xlQWxsIjoiRTliIiwiZ2V0VG9vbHMiOiJ3XyIsImdldEJ1dHRvbkJ5SW5kZXgiOiJWa2QiLCJnZXRCdXR0b25CeVRleHQiOiJXa2QifX19"),$Z=/*#__PURE__*/function(){function c(a){a=G(a,{name:"buttongrouptool",layer:a instanceof Th?a:null},!0);IR.call(this,a);this.sm({pointerdown:this.Xc.bind(this),pointermove:this.Ac.bind(this),pointerup:this.Oc.bind(this)});this.Ug=new bk}D(c,IR);L(c,"geotoolkit.widgets.ButtonGroupTool");c.prototype.$yb=function(a,b){var d=this.ec();a=this.Kd(d,a);var e=W.Sd(d.pa(),d.ga(),!1,!1);e.Ma(a,a);
d=this.Ug.select(d,a.getX(),a.getY(),2);return d.filter(function(f){return f instanceof b})};c.prototype.Xc=function(a){var b=this.$yb(a,ZZ);a=this.$yb(a,a_);this.Snb=b;null!=b&&0<b.length&&(b[0].click(),a[0].c$b())};c.prototype.Ac=function(a){var b=this.$yb(a,ZZ);a=this.$yb(a,a_);b!==this.TKb&&(null!=this.TKb&&this.TKb[0].E6b(!1),null!=b&&0<b.length&&(b[0].E6b(!0),this.TKb=b,Array.isArray(a)&&0<a.length&&a[0].c$b()))};c.prototype.Oc=function(a){null!=this.Snb&&0!==this.Snb.length&&!0!==this.Snb[0].NGa()&&
this.Snb[0].setState(0)};return c}();var c_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(r,t){return null!=this.xja?this.xja.format(t.toFixed(2)):t.toFixed(2)}function a(r,t,u){return null!=this.xja?this.xja.format(r.toFixed(2)):r.toFixed(2)}function b(r,t){return null!=this.xja?this.xja.format(Math.pow(10,t).toFixed(2)):Math.pow(10,t).toFixed(2)}function d(r,t){return null!=this.xja?this.xja.format(Math.pow(10,r).toFixed(2)):Math.pow(10,r).toFixed(2)}function e(r){null==r&&(r={});var t=15,u=25,w=15,y=30,A=15,x=u+y+A,C=50;r.viewcachesize=r.viewcache||null!=
r.viewcachesize?G(r.viewcachesize,{width:256,height:256}):null;r.border=G(r.border,{color:"transparent"},!0);t={bounds:r.bounds,border:r.border,north:null,south:null,west:null,east:null,viewcache:!0,viewcachesize:r.viewcachesize,annotationssizes:{north:t+u,west:t+y+u,south:t+y+w+u,east:t+w+x+p},annotationitemswrap:!1};t=G(r,t);t.x=G(t.x,{neatlimits:!1,preciselimits:!1,minspan:C});t.y=G(t.y,{neatlimits:!1,preciselimits:!1,minspan:C});t.z=G(t.z,{neatlimits:!1,preciselimits:!1,minspan:C});UZ.call(this,
t);this.lOa=this.fBd.bind(this);this.DNb=this.jBd.bind(this);this.BNb=this.hBd.bind(this);this.CNb=this.iBd.bind(this);this.NE=t.viewcache;this.Dt={};null!=t.viewcachesize&&(this.NE=!0,this.Dt=t.viewcachesize);this.Ymb=null;this.bQa=!1;C=this.kj();this.wb(!1);this.Ib.Edb();this.aj={x:new Dk({orientation:Rh.xb,neatlimits:t.x.neatlimits,preciselimits:t.x.preciselimits}),y:new Dk({orientation:Rh.ob,neatlimits:t.y.neatlimits,preciselimits:t.y.preciselimits}),z:null};this.Yo={x:null,y:null,z:null};this.zIb=
this.qHa.bind(this);this.FNb=this.uBd.bind(this);this.k_a={x:!1,y:!1,z:!1};this.S1={x:null,y:null,z:null};this.GF={x:[],y:[],z:[]};this.kx={x:!1,y:!1,z:!1};this.lE={x:Zh.vc,y:Zh.dc,z:Zh.Ic};this.Tl={x:null,y:null,z:null};this.$s={x:0,y:0,z:0};this.Zs={x:1,y:1,z:1};this.vE={x:null,y:null,z:null};this.aOa={x:!1,y:!1,z:!1};this.ie=am.hP(this.Ib,{location:Zh.me,text:"",textstyle:{font:l}});this.ie.text.Pc("crossplot-title");w=am.iS(this.Ib,{location:this.lE.x,connect:!0,title:{text:"",visible:!1,textstyle:new Ki({color:m,
font:n}),alignment:O.Je},annotationitemswrap:!1}).axis;w.Pc("crossplot-horizontal-axis");w.Nu(this.aj.x);x=null!=t.x&&null!=t.x.axis&&null!=t.x.axis.title?null:am.hP(this.Ib,{location:this.lE.x,text:"x"});var z=null!=t.y&&null!=t.y.axis&&null!=t.y.axis.title?null:am.hP(this.Ib,{location:this.lE.y,text:"y"}),v=am.iS(this.Ib,{location:this.lE.y,connect:!0,autolabelrotation:!0,autolabelrotationangle:-Math.PI/2,title:{text:"",visible:!1,textstyle:new Ki({color:m,font:n}),alignment:O.vd},annotationitemswrap:!1}).axis;
v.Pc("crossplot-vertical-axis");v.Nu(this.aj.y);var B=G(null!=t.z&&null!=t.z.axis?t.z.axis.title:null,{text:"",visible:!1,textstyle:new Ki({color:m,font:n}),alignment:O.Na});u={location:this.lE.z,componentsizes:{colorbox:A,axis:y,title:u},axis:{autolabelrotation:null!=t.z&&null!=t.z.autolabelrotation?t.z.autolabelrotation:!0,autolabelrotationangle:-Math.PI/2,title:B},colorprovider:new Ro({values:[0,1],colors:["black","black"]}),title:{text:"zlabel",textstyle:new Ki({color:m,font:n})},flip:!1};this.qc=
null;this.Qe=(new yN(u)).pi(this.NE?null!=this.Dt?new ni(this.Dt.width,this.Dt.height):new ni:null).Te(!0).WD(f(this.lE.z));this.lq=null;this.od={x:w,y:v,z:this.Qe.ta().axis.item};this.Le={x:x,y:z,z:!1===B.visible?this.Qe.ta().title.item:null};this.Ib.hr(this.Qe,this.lE.z);this.lx=new oi;this.lx.oa([(new Am).Dd("xplot_layer").oa([this.iG=new zQ])]);this.Fhb=(new oi).oa([this.Unb=(new Am).Dd("highlight_layer").oa([this.$Da=(new zQ).kb("default")])]);this.Z2={"default":{"cross-plot":this.$Da,"highlighted-indices":[],
data:[],options:{}}};this.Ib.Kb().Mf(0,this.Fhb);this.Ib.Kb().Mf(0,this.lx);this.Ib.Kb().Tk(!0);this.wd.Tk(!0);this.pRa();this.Ib.Vbb();this.Sy();this.hkb.va(!1);this.Qe.va(!1);this.Fhb.pi(this.NE?null!=this.Dt?new ni(this.Dt.width,this.Dt.height):new ni:null);this.lx.pi(this.NE?null!=this.Dt?(new ni(this.Dt.width,this.Dt.height)).uIa(null):(new ni).uIa(null):null);this.lx.Te(!0);this.Yh();this.setData(r);this.wb(C);this.iF(this.G0a());this.Sy();this.PNb=this.MV();this.plc=function(){var E=this.Qe.M9();
this.Qe.Ia()?(this.Qe.WD(f(E)),this.lE.z=E,this.rFc(E)):(this.Qe.WD(null),this.Tuc(E))}.bind(this);this.olc=function(){if(this.Qe.Ia()){var E=this.lE.z,H=this.Qe.M9();H!==E&&(this.Qe.WD(f(H)),this.lE.z=H,this.Tuc(E),this.rFc(H))}}.bind(this);this.Qe.on(Vh.Tu,this.olc);this.Qe.on(Ce.UN,this.plc);return this}function f(r){switch(r){case Zh.me:return{bottom:p};case Zh.vc:return{top:p};case Zh.dc:return{right:p};case Zh.Ic:return{left:p}}return null}function g(r,t,u){null!=r[t]&&null!=u[t]&&!0!==r[t].autominmax&&
(u[t].autominmax=!1,u[t].min=r[t].min,u[t].max=r[t].max)}var h="#e0e0e0",k="#f5f5f5",l="16px Roboto",m="#757575",n="13px Roboto",p=10;D(e,UZ);L(e,"geotoolkit.widgets.CrossPlot");e.prototype.dispose=function(){if(null!=this.ja)if(this.ja instanceof lH)this.ja.za("StateChanged",this.lOa);else{if(this.ja instanceof HG||this.ja instanceof RG)this.ja.za(GG.mB,this.BNb),this.ja.za(GG.nB,this.CNb),this.ja.za(GG.Yj,this.DNb)}else for(var r in this.Yo)this.Yo.hasOwnProperty(r)&&null!=this.Yo[r]&&(this.Yo[r].za(jG.uj,
this.zIb),this.Yo[r].za(KG.IN,this.FNb));this.Qe.za(Vh.Tu,this.olc);this.Qe.za(Ce.UN,this.plc);UZ.prototype.dispose.call(this)};e.prototype.Sy=function(){var r=this.G0a();r&&!r.isEmpty()&&this.iF(r);UZ.prototype.Sy.call(this);r=this.Ib.bb("center");this.hkb.va(this.vE.x.Ia()||this.vE.y.Ia()||this.vE.z.Ia());this.hkb.sa(r.pa());return this};e.prototype.sa=function(r){UZ.prototype.sa.call(this,r);this.ji();return this};e.prototype.Yh=function(){if(null==this.Qe)return this;UZ.prototype.Yh.call(this);
var r=this.ec();this.Ov.bB(function(t){for(var u=0;u<t.length;++u)if(t[u].crossplot===this.iG)return t[u];return[]}.bind(this)).addListener($S.Rx,function(t,u){u.getSelection().indices instanceof Array&&this.sW({"default":{indices:u.getSelection().indices}},this.aPa)}.bind(this));this.Ymb=(new eU(r)).addListener(dU.cxa,function(t,u){t=u.getSelection();for(u=0;u<t.length;u++)t[u].crossplot===this.iG&&this.sW(t[u].indices,this.aPa)}.bind(this)).addListener(HR.aw,function(t){t.isEnabled()?(this.Ov.Ob(!1),
this.UF.Ob(!1)):this.UF.Ob(!0)}.bind(this)).Ob(!1);this.LY.add(this.Ymb);this.mM.Ob(!0).addListener(SU.ZP,function(t){this.lx.pi(null)}.bind(this)).addListener(SU.ov,function(t){this.lx.pi(this.NE?null!=this.Dt?(new ni(this.Dt.width,this.Dt.height)).uIa(null):(new ni).uIa(null):null)}.bind(this));return this};e.prototype.pRa=function(){function r(E){E.jj("major").setColor(h);E.jj("minor").setColor(k);E.Ng("minor",!0);E.Ng("edge",!1)}var t=wk.ya(),u=t.create(),w=t.create(),y=(new kk).dzb(jk.YDb),A=
new sk,x=new sk,C=new sk,z=t.create({ticks:{edge:{visible:!0}}});t=t.create({ticks:{edge:{visible:!0}}});var v=new sk,B=new sk;r(z);r(t);r(v);r(B);this.Xk={x:u,y:w,z:y,xlog:A,ylog:x,zlog:C};this.nq={x:z,y:t,xlog:v,ylog:B};null==this.sd&&(this.sd=new Lk(z,t),this.sd.Nu(Rh.xb,this.aj.x),this.sd.Nu(Rh.ob,this.aj.y),u=new Am,u.Dd("grid_layer"),u.oa(this.sd),this.lx.Mf(0,u),this.vE.x=(new eR({bounds:new U(0,0,1,1),bins:25,frequencytype:bR.pZa,fillstyle:new rf("rgba(192,192,192,0.3)"),linestyle:new X("rgba(192,192,192,0.3)")})).va(!1),
this.vE.y=(new eR({bounds:new U(0,0,1,1),bins:25,frequencytype:bR.pZa,fillstyle:new rf("rgba(192,192,192,0.3)"),linestyle:new X("rgba(192,192,192,0.3)")})).va(!1),this.vE.z=(new eR({bounds:new U(0,0,1,1),bins:25,frequencytype:bR.pZa,fillstyle:new rf("rgba(192,192,192,0.3)"),linestyle:new X("rgba(192,192,192,0.3)")})).va(!1),u=(new oi).oa(this.vE.x),w=(new oi).oa(this.vE.y).rotate(-Math.PI/2,.5,.5),y=(new oi).oa(this.vE.z).rotate(Math.PI/2,.5,.5),A=null,this.NE&&(A=null==this.Dt?new ni:new ni(this.Dt.width,
this.Dt.height)),x=this.Ib.bb("center"),this.hkb=(new oi).pi(A).va(!1).sa(x.ga()).Ha(new U(0,0,1,1)).oa([new ho({left:0,top:0,width:1,height:1,linestyle:new X("transparent")}),u,w,y]),x.oa(this.hkb));this.i5();return this};e.prototype.i5=function(){this.od.x.pg(this.Xk["x"+(this.kx.x?"log":"")]);this.od.y.pg(this.Xk["y"+(this.kx.y?"log":"")]);this.od.z.pg(this.Xk["z"+(this.kx.z?"log":"")]);this.sd.pg(Rh.ob,this.nq["x"+(this.kx.x?"log":"")]);this.sd.pg(Rh.xb,this.nq["y"+(this.kx.y?"log":"")]);var r=
this.kx.z?Math.log(this.$s.z)/Math.LN10:this.$s.z,t=this.kx.z?Math.log(this.Zs.z)/Math.LN10:this.Zs.z;this.od.z.Ha(new U(r,r,t,t))};e.prototype.setData=function(r){xb(r,this.getData());this.wo(r.tools);null!=r.bounds&&this.sa(r.bounds);this.$_(r.header);if(null!=r.datasource){if(null!=this.ja)if(this.ja instanceof lH)this.ja.za("StateChanged",this.lOa);else if(this.ja instanceof HG||this.ja instanceof RG)this.ja.za(GG.mB,this.BNb),this.ja.za(GG.nB,this.CNb),this.ja.za(GG.Yj,this.DNb);this.ja=r.datasource;
if(null!=this.ja)if(this.ja instanceof lH)this.ja.on("StateChanged",this.lOa);else if(this.ja instanceof HG||this.ja instanceof RG)this.ja.on(GG.mB,this.BNb),this.ja.on(GG.nB,this.CNb),this.ja.on(GG.Yj,this.DNb)}null!=r.marker&&this.Z6b(r.marker);void 0!==r.colorprovider&&(this.Ur(r.colorprovider),this.g7.Ur(this.Vm()));null!=r.x&&this.n5("x",r.x);null!=r.y&&this.n5("y",r.y);null!=r.z&&this.n5("z",r.z);this.wo(r.tools);return this};e.prototype.getData=function(r){r=r||{};var t={tools:this.HS()};null!=
this.ga()&&(t.bounds=this.ga().ia());t.header=this.i_(t.header);t.x=this.ima("x",r);t.y=this.ima("y",r);t.z=this.ima("z",r);null!=this.Vm()&&(t.colorprovider=this.Vm().ia());t.marker=this.FYb();return t};e.prototype.ia=function(){return G(UZ.prototype.ia.call(this),this.getData())};e.prototype.fa=function(r){r=hc(r);if(null==r)return this;UZ.prototype.fa.call(this,r);return this.setOptions(r)};e.prototype.setOptions=function(r){r=xb(r,this.ia());this.$_(r.header);null!=r.marker&&this.Z6b(r.marker);
void 0!==r.colorprovider&&(this.Ur(r.colorprovider),this.g7.Ur(this.Vm()));void 0!==r.tools&&this.wo(r.tools);null!=r.x&&this.n5("x",r.x);null!=r.y&&this.n5("y",r.y);null!=r.z&&this.n5("z",r.z);return this};e.prototype.ta=function(){var r=this.getData();r.header=this.i_();null!=this.Vm()&&(r.colorprovider=this.Vm().ia());r.marker=this.FYb();r.colorprovider=this.Vm();r.tools=this.HS();return r};e.prototype.Z6b=function(r){if(null==r)return this;var t={},u={};null!=r.defaultcolor&&(t.defaultcolor=r.defaultcolor);
void 0!==r.defaultlinecolor&&(t.defaultlinecolor=r.defaultlinecolor);null!=r.highlightcolor&&(u.defaultcolor=r.highlightcolor,t.highlightcolor=r.highlightcolor);null!=r.size&&(t.symbolsize=r.size);u.symbolsize=null!=r.highlightsize?r.highlightsize:r.size;null!=r.painter&&(t.painter="string"===typeof r.painter?Lb(r.painter):r.painter);u.painter=null!=r.highlightpainter?"string"===typeof r.highlightpainter?Lb(r.highlightpainter):r.highlightpainter:"string"===typeof r.painter?Lb(r.painter):r.painter;
this.iG.setData(t);this.$Da.setData(u);this.k7c=u;return this};e.prototype.FYb=function(){var r={},t=this.iG.getData(),u=this.$Da.getData();r.painter="string"===typeof t.painter?t.painter:null!=t.painter.Oa?t.painter.Oa():t.painter;r.size=t.symbolsize;r.defaultcolor=t.defaultcolor.fB();r.defaultlinecolor=t.defaultlinecolor instanceof td?t.defaultlinecolor.fB():null;r.highlightcolor=t.highlightcolor.fB();r.highlightsize=u.symbolsize;return r};e.prototype.$_=function(r){if(null==r)return this;var t=
{};null!=r.title&&(this.ie.text.fa(r.title),$h.raa(this.ie.text,this.ie.group,Zh.me),this.ie.group.va(this.ie.text.Ia()));null!=r.annotationsize&&(t.north=r.annotationsize);this.oi(t);this.Sy();return this};e.prototype.i_=function(){return{title:this.ie.text.ia(),annotationsize:this.Ib.bb(Zh.me).ke()}};e.prototype.eud=function(r){return"x"===r?this.kx[r]?d.bind(this):a.bind(this):"y"===r?this.kx[r]?b.bind(this):c.bind(this):this.kx[r]?d.bind(this):a.bind(this)};e.prototype.n5=function(r,t,u){var w=
null!=u?u:{};if(null==t)return w;r=r.toLowerCase();if("x"!==r&&"y"!==r&&"z"!==r)return w;var y=!1,A={},x={};void 0!==t.location&&this.lE[r]!==t.location&&this.GFd(r,t);void 0!==t.neatlimits&&(this.aOa[r]=t.neatlimits,this.aj[r]&&(t.minspan&&this.aj[r].setOptions({minspan:t.minspan}),void 0!==t.preciselimits&&this.aj[r].setOptions({preciselimits:t.preciselimits}),this.aj[r].rWa(t.neatlimits)));if(void 0===t.datasource)if(null!=this.ja&&null!=t.name){var C=null;this.ja.query().mc('item => name(item) == "'+
t.name+'"').select(function(E){C=E});null!=C&&(t.datasource=C)}else null!=this.Yo[r]&&(t.datasource=this.Yo[r]);t.datasource!=this.Yo[r]&&(y=!0,null==this.ja&&null!=this.Yo[r]&&(this.Yo[r].za(jG.uj,this.zIb),this.Yo[r].za(KG.IN,this.FNb)),this.Yo[r]=t.datasource,null==this.ja&&null!=this.Yo[r]&&(this.Yo[r].on(jG.uj,this.zIb),this.Yo[r].on(KG.IN,this.FNb)));var z=this.Yo[r];void 0===t.unit||null==t.unit===(null==this.Tl[r])&&(null==t.unit||Zd.ya().Wa(t.unit).Sz(this.Tl[r]))||(this.Tl[r]=t.unit,null!=
z&&(y=!0));null!=z&&(null==z.Wa()||null!=z.Wa()&&""===z.Wa().Tc()?null!=this.Tl[r]&&(this.Tl[r]=null,y=!0):Zd.ya().Wa(z.Wa()).lm(this.Tl[r])||(this.Tl[r]=z.Wa(),y=!0));null!=t.autominmax&&(this.k_a[r]=t.autominmax);y&&(null!=z?null==t.data&&(t.data=z.toArray(!1,this.Tl[r])):t.data=[]);var v=[];if(null!=t.data)for(y=!0,null==this.S1[r]&&0<t.data.length&&(v=V.Xt(t.data),null==t.min&&(t.min=v[0]),null==t.max&&(t.max=v[1]),null==t.reversed&&(t.reversed="y"===r?t.min<t.max:t.min>t.max)),this.S1[r]=t.data,
this.GF[r]=[],v=0;v<t.data.length;++v)this.GF[r].push(Math.log(t.data[v])/Math.LN10);!0===this.k_a[r]&&(null!=z?(t.min=z.sf(this.Tl[r]),t.max=z.kg(this.Tl[r])):null!=this.S1[r]&&(v=V.Xt(this.S1[r]),t.min=v[0],t.max=v[1]));null!=t.logarithmic&&this.kx[r]!==t.logarithmic&&(y=!0,this.kx[r]=t.logarithmic,v=this.eud(r),"x"===r&&(this.gt.$w(Zh.me,{textconverter:v}),this.gt.$w(Zh.vc,{textconverter:v})),"y"===r&&(this.gt.$w(Zh.Ic,{textconverter:v}),this.gt.$w(Zh.dc,{textconverter:v})),null!=this.aj[r]&&this.aj[r].HQc(this.kx[r]));
null!=t.label&&null==t.label.text&&null!=z&&(z=[z.Da()],this.Tl[r]instanceof Xd?(z.push(" ("),z.push(this.Tl[r].Tc()),z.push(")")):"string"===typeof this.Tl[r]&&(z.push(" ("),z.push(this.Tl[r]),z.push(")")),t.label.text=z.join(""));null!=t.label&&(null!=this.Le[r]?"z"===r?this.Le[r].fa(t.label):(this.Le[r].text.fa(t.label),$h.raa(this.Le[r].text,this.Le[r].group,this.lE[r])):"z"===r?(z=this.od[r].t4(),x.axis={title:{text:t.label.text,textstyle:null!=z?z.clone().fa(t.label.textstyle):t.label.textstyle}}):
(z=t.label.textstyle?this.od[r].t4().clone().fa(t.label.textstyle):this.od[r].t4(),this.od[r].Qq({text:t.label.text,textstyle:z})),"z"===r&&null!=t.label&&(null!=t.label.text&&(x.titletext=t.label.text),null!=t.label.textstyle&&(x.titletextstyle=t.label.textstyle)));null!=t.axis&&(null!=t.axis.title&&this.od[r].Qq(t.axis.title),null!=t.axis.baseline&&this.od[r].pT(t.axis.baseline),null!=t.axis.autolabelrotation&&("z"===r?this.Qe.setOptions({axis:{autolabelrotation:t.axis.autolabelrotation}}):this.od[r].Uy(t.axis.autolabelrotation)),
null!=t.axis.autolabelrotationangle&&("z"===r?this.Qe.setOptions({axis:{autolabelrotationangle:t.axis.autolabelrotationangle}}):this.od[r].Jga(t.axis.autolabelrotationangle)));null!=t.annotationsize&&(A[this.lE[r]]=t.annotationsize);null!=t.min&&(this.$s[r]=t.min);null!=t.max&&(this.Zs[r]=t.max);!0===t.neatlimits&&!0!==t.preciselimits&&(z=V.ip(this.$s[r],this.Zs[r],!1,!1),this.$s[r]=z.Ua(),this.Zs[r]=z.Za());!0===y&&(w["data"+r]=this.kx[r]?this.GF[r]:this.S1[r]);null!=t.tickgenerator&&(this.Xk[r+
(this.kx[r]?"log":"")]=t.tickgenerator);null!=t.gridtickgenerator&&"z"!==r&&(this.nq[r+(this.kx[r]?"log":"")]=t.gridtickgenerator);null!=t.axisticks&&(this.Xk[r].fa(t.axisticks),this.Xk[r+"log"].fa(t.axisticks));null!=t.gridticks&&"z"!==r&&(this.nq[r].fa(t.gridticks),this.nq[r+"log"].fa(t.gridticks));this.kx[r]?(w["min"+r]=0===this.$s[r]?0:Math.log(this.$s[r])/Math.LN10,w["max"+r]=0===this.Zs[r]?0:Math.log(this.Zs[r])/Math.LN10):(w["min"+r]=this.$s[r],w["max"+r]=this.Zs[r]);"z"===r&&(x.min=w.minz,
x.max=w.maxz);y={};null!=t.histogram&&(z=this.vE[r],null!=t.histogram.visible&&z.va(t.histogram.visible),null!=t.histogram.fillstyle&&(y.fillstyle=t.histogram.fillstyle),null!=t.histogram.linestyle?y.linestyle=t.histogram.linestyle:null!=t.histogram.linecolor&&(y.linestyle=X.Pa(t.histogram.linecolor)),null!=t.histogram.bins&&(y.bins=Number(t.histogram.bins)));if(null==u){this.i5();this.iG.setData(w);this.XUc(this.$Da,this.Otb());if("z"!==r){u={};u["min"+r]=w["min"+r];u["max"+r]=w["max"+r];for(var B in this.Z2)this.Z2.hasOwnProperty(B)&&
this.Z2[B]["cross-plot"].setData(u)}this.iF(this.G0a())}else"z"!==r&&(u["min"+r]=w["min"+r],u["max"+r]=w["max"+r]);null!=t.reversed&&("x"===r&&this.Ib.Kb().nl(t.reversed),"y"===r&&this.Ib.Kb().Tk(t.reversed),"z"===r&&(x.flip=t.reversed));this.oi(A);"z"===r&&(this.qc instanceof Ro&&(null!=this.qc.gGa()?this.qc.Mn(this.qc.gGa(),x.min,x.max):this.qc.iQ(x.min,x.max)),this.Qe.setOptions(x).WD(f(this.lE.z)),null!=t.legendvisible&&this.Qe.va(t.legendvisible),this.Qe.Pf());this.Sy().i5();"z"===r&&this.Qe.mb();
this.iG.Bh();!0===this.vE[r].Ia()&&(this.vE[r].setData(y),this.oyb(r));return w};e.prototype.G0a=function(){var r=this.iG.ga();this.aj.x.Bh(r.la(),r.na(),this.iG.wa());r=r.clone().setX(this.aj.x.sf()).Ra(this.aj.x.kg()-this.aj.x.sf());this.aj.y.Bh(r.ka(),r.ma(),this.iG.wa());return r=r.clone().setY(this.aj.y.sf()).Ya(this.aj.y.kg()-this.aj.y.sf())};e.prototype.ji=function(){UZ.prototype.ji.call(this);if(!this.bQa&&this.iG){this.bQa=!0;var r=this.CA(),t=this.G0a();t.wi(r)||this.iF(t);this.bQa=!1}return this};
e.prototype.ima=function(r,t){r=r.toLowerCase();if("x"!==r&&"y"!==r&&"z"!==r)return{};var u={};u.unit=this.Tl[r];if(null!=this.Yo[r]||null!=this.S1[r])u.autominmax=this.k_a[r];null!=t&&!0!==t["no-data"]&&(u.datasource=this.Yo[r],u.data=this.S1[r]);u.label=null!=this.Le[r]?"z"===r?this.Le[r].ia():this.Le[r].text.ia():{text:this.od[r].Fm(),textstyle:this.od[r].t4()};t=this.Ib.bb(this.lE[r]);u.annotationsize="x"===r?t.ke():t.xk();u.min=this.$s[r];u.max=this.Zs[r];u.logarithmic=this.kx[r];u.neatlimits=
this.aOa[r];this.aj[r]?(u.minspan=this.aj[r].ta().minspan,u.preciselimits=this.aj[r].ta().preciselimits):u.preciselimits=!1;this.Xk[r]&&(u.axisticks=this.Xk[r].ia());"z"!==r&&(u.gridticks=this.nq[r].ia());t={};var w=this.vE[r];t.visible=w.Ia();t.bins=w.OV();t.color=w.fb().rb();t.linecolor=w.Ea().rb();u.histogram=t;"z"===r&&(u.reversed=this.Qe.ta().flip);"x"===r&&(u.reversed=this.Ib.Kb().mi());"y"===r&&(u.reversed=this.Ib.Kb().lo());"z"===r&&(u.legendvisible=this.Qe.Ia());u.location=this.lE[r];return u};
e.prototype.GFd=function(r,t){var u=!1;if("z"===r)this.Qe.setOptions({location:t.location}),this.Ib.removeItem(this.Qe,this.lE[r]),this.Ib.hr(this.Qe,t.location);else{this.Ib.disconnect(this.od[r]);this.Ib.removeItem(this.od[r],this.lE[r]);var w=Ck.ya().nBc(t.location);w=G(w,this.od[r].ia());this.od[r].setOptions(w);this.Ib.connect(this.od[r],this.Ib.Kb());this.Ib.hr(this.od[r],t.location)}null==t.label?(t.label={location:t.location},u=!0):null==t.label.location&&(t.label.location=t.location,u=!0);
if(u&&null!=this.Le[r]){u=this.Le[r].text;if("z"!==r)switch(t.location){case Zh.dc:u.Kc(W.Xi(+Math.PI/2,u.pn(),u.Vl()));break;case Zh.Ic:u.Kc(W.Xi(+Math.PI/2,u.pn(),u.Vl()));break;default:u.Kc(null)}else switch(t.location){case Zh.dc:this.Qe.qX(vN.dc);break;case Zh.Ic:this.Qe.qX(vN.Ic)}"z"!==r&&(u=this.Le[r].group,this.Ib.removeItem(u,this.lE[r]),t.location===Zh.me||t.location===Zh.dc?this.Ib.cC(0,u,t.location):this.Ib.hr(u,t.location))}this.lE[r]=t.location};e.prototype.oyb=function(r){if(null==
this.vE||null==this.vE[r]||!1===this.vE[r].Ia())return this;var t=this.Ib.Kb().vb(),u=this.iG.wCc(t).map(function(y){return y[r]});if("z"!==r){var w="x"===r?t.getX():t.getY();t=w+("x"===r?t.ca():t.da())}else w=this.Qe.ta().range.min,t=this.Qe.ta().range.max;this.vE[r].setData({data:u,minvalue:w,maxvalue:t});"y"===r&&this.vE[r].getParent().nl(this.Ib.Kb().mi());"x"===r&&this.vE[r].getParent().Tk(this.Ib.Kb().lo());"z"===r&&this.vE[r].getParent().nl(this.Ib.Kb().mi());this.vE[r].ha();return this};e.prototype.hBd=
function(r,t,u){this.i7a(u.from,u.count)};e.prototype.iBd=function(r,t,u){this.REa(u.from,u.count)};e.prototype.jBd=function(){var r={x:{axisname:"x",dataModified:!1,boundsChanged:!1,dataCommands:[],changed:!1,exists:!1,data:null},y:{axisname:"y",dataModified:!1,dataCommands:[],boundsChanged:!1,changed:!1,exists:!1,data:null},z:{axisname:"z",dataModified:!1,dataCommands:[],boundsChanged:!1,changed:!1,exists:!1,data:null}};for(t in this.Yo)this.Yo.hasOwnProperty(t)&&(r[t].exists=!0);var t=this.getData({"no-data":!0});
g(t,"x",r);g(t,"y",r);g(t,"z",r);this.setData(r)};e.prototype.fBd=function(r,t,u){if(u.data instanceof Ko){r={x:{axisname:"x",dataModified:!1,boundsChanged:!1,dataCommands:[],changed:!1,exists:!1,data:null},y:{axisname:"y",dataModified:!1,dataCommands:[],boundsChanged:!1,changed:!1,exists:!1,data:null},z:{axisname:"z",dataModified:!1,dataCommands:[],boundsChanged:!1,changed:!1,exists:!1,data:null}};for(var w in this.Yo)if(this.Yo.hasOwnProperty(w)){r[w].exists=!0;var y=this.Yo[w];if(null!=y){var A=
u.data.Cw(y)?u.data.get(y):null,x;if(null!=A)for(t=0;t<A.length;t++)if(r[w].changed=!0,x=A[t].data)"state"===x.name?(null!=x.value.min&&(r[w].min=x.value.min,r[w].boundsChanged=!0),null!=x.value.max&&(r[w].max=x.value.max,r[w].boundsChanged=!0),x=x.value.range,null!=x&&null!=x.changes&&(r[w].dataModified=!0,"shifted"===x.changes?r[w].dataCommands.push({name:"shifted",amount:x.amount}):x.changes===tG.Gya?r[w].dataCommands.push({name:x.changes,amount:x.amount}):x.changes===tG.LKa?r[w].dataCommands.push({name:x.changes,
from:x.from,amount:x.amount}):x.changes===mG.Ud&&(x=this.ima(w,{}),null!=x.datasource&&(r[w].name="reset",r[w].data=x.datasource,r[w].src=y)))):"data"===x.name&&(r[w].data=x.value,r[w].name="data",r[w].src=y)}}u=function(C,z){if(!C.exists||!z.exists)return!1;var v=C.boundsChanged&&this.k_a[C.axisname]||z.boundsChanged&&this.k_a[z.axisname]||C.changed!==z.changed||C.dataModified!==z.dataModified||C.dataCommands.length!==z.dataCommands.length||"reset"===C.name||"reset"===z.name;if(!v&&0<C.dataCommands.length){C=
C.dataCommands;z=z.dataCommands;for(var B=0;B<C.length;++B)if(C[B].name!==z[B].name||C[B].amount!==z[B].amount||C[B].name===tG.LKa&&C[B].from!==z[B].from){v=!0;break}}return v}.bind(this);t={};if(u(r.x,r.y)||u(r.x,r.z))r.x.changed&&(t=this.qHa(jG.uj,r.x.src,r.x,t)),r.y.changed&&(t=this.qHa(jG.uj,r.y.src,r.y,t)),r.z.changed&&(t=this.qHa(jG.uj,r.z.src,r.z,t)),this.i5(),this.iG.setData(t),this.iF(this.G0a());else{u=r.x.dataCommands;for(t=0;t<u.length;++t)w=u[t],"shifted"===w.name?this.xUb(w.amount):
w.name===tG.Gya?this.h7a(w.amount):w.name===tG.LKa&&this.REa(w.from,w.amount);0===u.length&&(u=this.getData({"no-data":!0}),g(u,"x",r),g(u,"y",r),g(u,"z",r),this.setData(r))}}};e.prototype.qHa=function(r,t,u,w){w=this.AGb("x",r,t,u,w);w=this.AGb("y",r,t,u,w);return w=this.AGb("z",r,t,u,w)};e.prototype.AGb=function(r,t,u,w,y){if(t!==jG.uj||!(u instanceof xG||u instanceof PG)||this.Yo[r]!==u)return y;t={data:u.toArray(!1,this.Tl[r])};!0===u.autominmax&&(t.min=u.sf(this.Tl[r]),t.max=u.kg(this.Tl[r]));
return this.n5(r,t,y)};e.prototype.uBd=function(r,t){r={};for(var u in this.Yo)this.Yo.hasOwnProperty(u)&&this.Yo[u]instanceof pG&&(r[u]={data:this.Yo[u].toArray(!1,this.Tl[u])});this.setData(r)};e.prototype.RTb=function(r,t){return this.Yo[r].RTb(t,this.Tl[r])};e.prototype.getValue=function(r,t){if(!(null==this.Yo[r]||this.Yo[r].getLength()<=t))return t=this.Yo[r].getValue(t),null!=this.Yo[r].Wa()&&(t=this.Yo[r].Wa().convert(t,this.Tl[r])),this.kx[r]&&(t=Math.log(t)/Math.LN10),t};e.prototype.xUb=
function(r){for(var t in this.Yo)if(this.Yo.hasOwnProperty(t)){var u=this.kx[t]?this.GF[t]:null;if(null!=u)for(var w=0;w<r;w++)u.shift()}this.iG.xUb(r)};e.prototype.REa=function(r,t){for(var u in this.Yo)if(this.Yo.hasOwnProperty(u)){var w=this.kx[u]?this.GF[u]:null;null!=w&&w.splice(r,t)}this.iG.REa(r,t)};e.prototype.h7a=function(r){var t=this.Yo.x.getLength();this.i7a(t-r,r)};e.prototype.i7a=function(r,t){for(var u=r;u<r+t;u++){var w={x:this.getValue("x",u),y:this.getValue("y",u),z:this.getValue("z",
u)};this.kx.x?this.GF.x[u]=w.x:this.S1.x[u]=w.x;this.kx.y?this.GF.y[u]=w.y:this.S1.y[u]=w.y;this.kx.z?this.GF.z[u]=w.z:this.S1.z[u]=w.z}this.iG.i7a(r,t)};e.prototype.Ur=function(r){null==r&&(r=this.iG.getData().defaultcolor.fB(),r=new Ro({values:[0,1],colors:[r,r]}));if(r instanceof Oo)this.qc=r;else if(null!=r.type){var t=Oo.dSa(r.type);this.qc=t.Pa(r)}else null!=this.qc&&(t=Oo.dSa(this.qc.Oa()),r=t.Pa(r),null!=r&&(this.qc=r));r={colorprovider:this.qc};this.i5();this.iG.setData(r);this.Qe.setOptions(r);
this.Qe.mb();this.Qe.Pf();return this};e.prototype.Vm=function(){return this.qc};e.prototype.Otb=function(r){null==r&&(r="default");return null==this.Z2[r]?null:this.Z2[r]["highlighted-indices"]};e.prototype.Hod=function(){var r=[],t;for(t in this.Z2)this.Z2.hasOwnProperty(t)&&r.push(t);return r};e.prototype.Kod=function(r){null==r&&(r="default");return null==this.Z2[r]?null:this.Z2[r].options};e.prototype.W_b=function(r,t){r=this.iG.j_(r);this.sW(r,t)};e.prototype.XUc=function(r,t){var u=[],w=[],
y=this.kx.x?this.GF.x:this.S1.x,A=this.kx.y?this.GF.y:this.S1.y;if(Array.isArray(y)&&Array.isArray(A)){t=t.slice().sort();for(var x=0;x<t.length;++x){var C=t[x];if(0===x||C!==t[x-1])u.push(y[C]),w.push(A[C])}}r.setData({datax:u,datay:w})};e.prototype.Bbd=function(r,t,u){var w=r["cross-plot"];null!=t.options&&(w.setData(t.options),r.options=t.options);null!=t.indices&&(t=!0===u?t.indices:r["highlighted-indices"].concat(t.indices),r["highlighted-indices"]=t,this.XUc(w,t))};e.prototype.sW=function(r,
t){function u(A,x,C){A=A.getData();var z={};z["min"+C]=A["min"+C];z["max"+C]=A["max"+C];x.setData(z)}var w=r;Array.isArray(r)&&(w={"default":{indices:r}});for(var y in w)w.hasOwnProperty(y)&&(r=this.Z2[y],null==r&&(r=(new zQ).kb(y).setData(this.k7c).sa(this.$Da.ga().clone()),u(this.$Da,r,"x"),u(this.$Da,r,"y"),this.Unb.oa([r]),this.Z2[y]={"cross-plot":r,"highlighted-indices":[]}),this.Bbd(this.Z2[y],w[y],t));return this};e.prototype.j_=function(r){return this.iG.j_(r)};e.prototype.Kn=function(){this.oyb("x");
this.oyb("y");this.oyb("z")};e.prototype.wo=function(r){if(null==r)return this;null!=r.crosshair&&(null!=r.crosshair.north&&(r.crosshair.north.textconverter=null),null!=r.crosshair.south&&(r.crosshair.south.textconverter=null),null!=r.crosshair.east&&(r.crosshair.east.textconverter=null),null!=r.crosshair.west&&(r.crosshair.west.textconverter=null));null!=r.crosshair&&(this.xja=r.crosshair.labelformat instanceof bj?r.crosshair.labelformatter:new dj({exponentialformat:"0.##E0"}));UZ.prototype.wo.call(this,
r);return this};e.prototype.pP=function(){return this.Qe};e.prototype.$Od=function(r,t,u){this.lq&&(this.Ex(this.lq),this.lq.dispose());this.lq=new LS({offset:t?t:0,symbolAlignment:r?r:KS.CC,group:this,colorbar:this.Qe,callback:function(w,y,A){w=new U(w.x-5,w.y-5,w.x+5,w.y+5);w=this.Kb().wa().pd(w);w=this.j_(w);y=this.getData().z.data;w=null!=y&&0<w.length?y[w[w.length-1]]:null;this.kx.z&&(w=Math.log(w)/Math.LN10);return w}.bind(this)});u instanceof Nm&&this.lq.Nn(u);this.mn(this.lq);return this};
e.prototype.ZOd=function(){this.lq&&(this.Ex(this.lq),this.lq=null);return this};e.prototype.Mld=function(){return this.iG};e.prototype.oi=function(r,t){UZ.prototype.oi.call(this,r);t||null==this.lE||(this.PNb=this.MV());return this};e.prototype.Tuc=function(r){var t=this.MV();t[r]=this.PNb[r];this.oi(t,!0);return this};e.prototype.rFc=function(r){var t=this.MV(),u=this.Qe.xl(),w=this.Qe.cl();w=(u?w.da():w.ca())+p;var y=this.PNb[r],A=this.bb(r),x=0,C=this;A.vf().forEach(function(z){z!==C.Qe&&(z=null!=
z.cl&&z.cl())&&(x+=u?z.da():z.ca())});t[r]=Math.max(y,w+x);this.Qe.La({constraint:u?Xh.YK:Xh.sF});this.oi(t,!0);return this};var q=IZ.ag();q.Hl("geotoolkit.widgets.CrossPlot",q.Eu("geotoolkit.widgets.BaseWidget"));return e}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJyZWZyZXNoTGF5b3V0IjoiU3kiLCJzZXRCb3VuZHMiOiJzYSIsImluaXRpYWxpemVUb29scyI6IlloIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0T3B0aW9ucyI6InRhIiwic2V0TWFya2VyT3B0aW9ucyI6Ilo2YiIsImdldE1hcmtlck9wdGlvbnMiOiJGWWIiLCJzZXRIZWFkZXJPcHRpb25zIjoiJF8iLCJnZXRIZWFkZXJPcHRpb25zIjoiaV8iLCJzZXRBeGlzRGF0YU9wdGlvbnMiOiJuNSIsInN5bmNocm9uaXplVmlld0xpbWl0cyI6ImppIiwiZ2V0QXhpc0RhdGFPcHRpb25zIjoiaW1hIiwic2V0Q29sb3JQcm92aWRlciI6IlVyIiwiZ2V0Q29sb3JQcm92aWRlciI6IlZtIiwiZ2V0SGlnaGxpZ2h0ZWRJbmRpY2VzIjoiT3RiIiwiZ2V0SGlnaGxpZ2h0U2VsZWN0aW9uTmFtZXMiOiJIb2QiLCJnZXRIaWdobGlnaHRlZE9wdGlvbnMiOiJLb2QiLCJoaWdobGlnaHRBcmVhIjoiV19iIiwiaGlnaGxpZ2h0SW5kaWNlcyI6InNXIiwiZ2V0SW5kaWNlc0F0Ijoial8iLCJzZXRUb29sc09wdGlvbnMiOiJ3byIsImdldENvbG9yQmFyIjoicFAiLCJzd2l0Y2hPbkN1cnNvclRvb2wiOiIkT2QiLCJzd2l0Y2hPZmZDdXJzb3JUb29sIjoiWk9kIiwiZ2V0Q3Jvc3NQbG90U2hhcGUiOiJNbGQiLCJzZXRBbm5vdGF0aW9uU2l6ZSI6Im9pIn19fSAg");var d_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){ue.call(this);b=G(b,{datatable:null,sortingarrowoptions:null},!0);this.ja=b.datatable;this.iMa=new RG(b.datatable);this.aJb=this.MQb="";"string"===typeof b.sortingarrowoptions?this.shc=this.$oc=this.aJb=this.MQb=b.sortingarrowoptions:(b=G(b.sortingarrowoptions,{uparrowfillcolor:"black",downarrowfillcolor:"black",uparrowlinecolor:"black",downarrowlinecolor:"black"},!0),this.MQb="string"===typeof b.uparrowfillcolor?b.uparrowfillcolor:"black",this.aJb="string"===typeof b.downarrowfillcolor?
b.downarrowfillcolor:"black",this.$oc="string"===typeof b.uparrowlinecolor?b.uparrowlinecolor:"black",this.shc="string"===typeof b.downarrowlinecolor?b.downarrowlinecolor:"black");this.pDa=this.Cr=null;this.Hv=[];this.KEa();this.le()}var a=0;D(c,ue);L(c,"geotoolkit.widgets.data.DataTableAdapter");c.prototype.le=function(){var b=this;b.indexvisible=!1;b.indextitle="Index";b.contentprovider=this;b.headerprovider=this;b.indexprovider=this;b.headerformatprovider=this;b.rows=this.aTa();b.cols=this.Osb();
return this};c.prototype.BDc=function(){return this.pDa};c.prototype.aTa=function(){return this.iMa.oh()};c.prototype.Osb=function(){return this.iMa.rp()};c.prototype.Yxb=function(b,d){this.Fqe=!0};c.prototype.Zea=function(b,d){return this.iMa.qd(b).getValue(d)};c.prototype.x3b=function(b,d){this.Gqe=!0};c.prototype.h_=function(b){return this.Hv[b]};c.prototype.vod=function(b,d){var e=this.BDc();if(null==e||e.column!==b)return d;d.text.bounds.Uc(-10,0);b=d.icon.bounds.na();var f=d.icon.bounds.setX(b-
16).setY(4).Ra(12);b=f.cc();f=f.da();d.icon.value=!0===e.reverse?(new dh).moveTo(b,6).lineTo(b+3,9).lineTo(b-3,9).lineTo(b,6).ra({color:this.$oc,pixelsnapmode:{x:!0,y:!0}}).qa(this.MQb):(new dh).moveTo(b,f-6).lineTo(b+3,f-9).lineTo(b-3,f-9).lineTo(b,f-6).ra({color:this.shc,pixelsnapmode:{x:!0,y:!0}}).qa(this.aJb);return d};c.prototype.KEa=function(){for(var b=0;b<this.ja.rp();++b){var d=this.ja.qd(b).Da();if(""===d||null==d)d="Column "+(b+1);this.Hv[b]=d}};c.prototype.yOd=function(b,d){function e(f,
g){return d.apply(this,[g,f])}null==this.pDa||this.pDa.column!==b?this.pDa={column:b,reverse:!1}:this.pDa.reverse=!this.pDa.reverse;!0===this.pDa.reverse?this.ja.sort(b,e):this.ja.sort(b,d)};c.prototype.filter=function(b,d){this.iMa.qd(a).Asc();if("function"!==typeof d){var e=function(f,g){return-1!==g.toString().toLowerCase().indexOf(d.toLowerCase())};""!==d&&this.iMa.qd(b).mea(e.bind(this))}else this.iMa.qd(b).mea(d.bind(this));a=b;return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTb3J0ZWRCeUNvbHVtbiI6IkJEYyIsImdldFJvd3NDb3VudCI6ImFUYSIsImdldENvbHVtbnNDb3VudCI6Ik9zYiIsInByZXBhcmVDb250ZW50IjoiWXhiIiwiZ2V0Q29udGVudERhdGEiOiJaZWEiLCJnZXRIZWFkZXJEYXRhIjoiaF8iLCJnZXRIZWFkZXJGb3JtYXQiOiJ2b2QiLCJzb3J0QnlDb2x1bW4iOiJ5T2QifX19");var e_=/*#__PURE__*/function(){function c(a){a=xb(a,{border:{top:new X({color:"white",width:1}),bottom:new X({color:"white",width:1}),left:new X({color:"white",width:1}),right:new X({color:"white",width:1})}});ho.call(this,a);this.ea=a}D(c,ho);c.prototype.setOptions=function(a){this.ea=xb(a,this.ea);this.ha();return this};c.prototype.render=function(a){ho.prototype.render.call(this,a);var b=this.ia().bounds,d=b.getX(),e=b.getY(),f=b.ca();b=b.da();if(null==this.ea.border)return this;null!=this.ea.border.top&&(a.beginPath(),
a.ra(X.Pa(this.ea.border.top)),a.moveTo(d,e),a.lineTo(d+f,e),a.stroke());null!=this.ea.border.right&&(a.beginPath(),a.ra(X.Pa(this.ea.border.right)),a.moveTo(d+f,e),a.lineTo(d+f,e+b),a.stroke());null!=this.ea.border.bottom&&(a.beginPath(),a.ra(X.Pa(this.ea.border.bottom)),a.moveTo(d+f,e+b),a.lineTo(d,e+b),a.stroke());null!=this.ea.border.left&&(a.beginPath(),a.ra(X.Pa(this.ea.border.left)),a.moveTo(d,e+b),a.lineTo(d,e),a.stroke());return this};return c}();var f_=/*#__PURE__*/va(/*#__PURE__*/{p6:"wrap",XJa:"cut"},2,"eyJXcmFwIjoicDYiLCJDdXQiOiJYSmEifSAg");var g_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f,g,h,k,l){this.gh=k;this.cV=f;this.K6=g;this.ea=l;this.Gc=null;this.hs=null==h?this.bpd():h;this.se=new rf(this.hs.background.fillstyle);this.Un=this.hs.border;this.Qhb=this.rw=null;this.eeb();return this}var a="12px Arial",b=new X({color:"gray",width:1,linecap:yg.Zpa}),d=2,e=new rf("white");c.prototype.de=function(){return this.cV};c.prototype.qd=function(){return this.K6};c.prototype.Hd=function(){var f=this.gh.RRa();return null!=f&&f.de()===this.cV&&f.qd()===this.K6?
!0:!1};c.prototype.ia=function(){return this.hs};c.prototype.qa=function(f){if(null!=this.rw&&this.rw.uD()!==this||null==f)return this;this.se=tg.ad(f);this.hs.background.fillstyle=this.se.clone();null!=this.rw&&this.rw.xa();this.gh.ha();return this};c.prototype.fb=function(){return this.se};c.prototype.ib=function(f,g){if(null!=this.rw&&this.rw.uD()!==this||null==f)return this;!0===g&&(f=xb(this.Gc.ia(),Ki.Pa(f).ia()));this.Gc=Ki.Pa(f);this.AXa();return this};c.prototype.jb=function(){return this.Gc};
c.prototype.Noa=function(f){if(null==f)return this;f={left:X.Pa(f.left),right:X.Pa(f.right),top:X.Pa(f.top),bottom:X.Pa(f.bottom)};if(null!=this.rw&&this.rw.uD()!==this)return this;this.hs.border={left:f.left.clone(),right:f.right.clone(),top:f.top.clone(),bottom:f.bottom.clone()};this.Un=f;null!=this.rw&&this.rw.xa();this.gh.ha();return this};c.prototype.TE=function(){return{left:this.Un.left,right:this.Un.right,top:this.Un.top,bottom:this.Un.bottom}};c.prototype.PSc=function(f,g){if(null!=this.rw&&
this.rw.uD()!==this)return this;var h=this.hs.text.shape,k=0,l=0;if(null!=g)switch(this.Gc.ci(g),g){case Di.Nk:k=this.gh.de(this.cV).da()/2-h.da()/2;break;case Di.nb:break;default:k=this.gh.de(this.cV).da()-h.da()}if(null!=f){this.Gc.ae(f);switch(f){case Fi.Na:l=this.gh.qd(this.K6).ca()/2-h.ca()/2;break;case Fi.$b:l=this.gh.qd(this.K6).ca()-h.ca()-d;break;default:l=d}this.bPc(f)}h.sa(h.ga().clone().setX(Math.max(0,l)).setY(Math.max(0,k)));null!=this.rw&&this.rw.aLc();return this};c.prototype.UVa=
function(f,g){if(null!=this.rw&&this.rw.uD()!==this)return this;if(null==this.r$a()||this.r$a()(f))f=null==f?"":f.toString(),this.aBb(this.y$a()),this.hs.text.shape.Eb(f),this.gh.kJd(this.cV,this.K6,f),!0===g&&(f=this.gh.de(this.cV).Drc(),f!==this.gh.de(this.cV).da()&&this.gh.de(this.cV).Ya(f));this.AXa();return this};c.prototype.aBb=function(f){if(null!=this.rw&&this.rw.uD()!==this||null==f)return this;f===f_.p6?this.hs.text.shape.Wj(ck.pB):this.hs.text.shape.Wj(ck.wn);null!=this.rw&&this.rw.FVc();
return this};c.prototype.y$a=function(){return this.hs.text.shape.KA()===ck.pB?f_.p6:f_.XJa};c.prototype.D8b=function(f){if(null!=this.rw&&this.rw.uD()!==this)return this;f="string"===typeof f?this.gh.Vyc(f):f;this.hs.validator=f;return this};c.prototype.r$a=function(){return this.hs.validator};c.prototype.Zea=function(){return this.hs.text.shape.ee()};c.prototype.AP=function(){return this.rw};c.prototype.AXa=function(){var f=this.Gc.clone();this.PSc(this.Gc.pj(),this.Gc.Tt());this.hs.text.shape.ib(f);
null!=this.rw&&this.rw.FVc();return this};c.prototype.$Z=function(){return this.Qhb};c.prototype.eeb=function(){null!=this.rw&&this.rw.lj();this.Qhb=new U({x:this.gh.nAa[this.K6],y:this.gh.Y3a[this.cV],width:this.gh.qd(this.K6).ca(),height:this.gh.de(this.cV).da()});return this};c.prototype.gAb=function(f){this.rw=f;return this};c.prototype.TJd=function(f){var g=this.gh.xXb();null!=g&&(g=g.vma(),null!=g&&(null!=f?(g.style.color=f.rb(),g.style.font=f.lt(),g.style.lineHeight=f.ZB()):(g.style.color=
"black",g.style.font=a)));return this};c.prototype.bPc=function(f){var g=this.gh.xXb();if(null!=g&&(g=g.vma(),null!=g))switch(f){case Fi.Na:g.style.textAlign="center";break;case Fi.$b:g.style.textAlign="right";break;default:g.style.textAlign="left"}return this};c.prototype.bpd=function(){var f=Ki.Pa(this.ea.content.textstyle);this.Gc=f.clone();f=new ek({text:"",textstyle:this.Gc,alignment:O.Ld,width:this.ea.mincolumnwidth,height:this.ea.minrowheight});f.Wj(ck.wn);var g=this.gh.Go.Hn().bo().dyc(this.cV,
this.K6);return{validator:"string"===typeof this.ea.content.validator||null==this.ea.content.validator?this.gh.Vyc(this.ea.content.validator):this.ea.content.validator,background:{fillstyle:e.clone(),linestyle:null,bounds:g},icon:{},text:{fillstyle:null,linestyle:null,textstyle:this.Gc,bounds:g.clone(),shape:f},border:{top:b.clone(),left:b.clone(),bottom:b.clone(),right:b.clone()}}};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRSb3ciOiJkZSIsImdldENvbHVtbiI6InFkIiwiaXNBY3RpdmUiOiJIZCIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldEZpbGxTdHlsZSI6InFhIiwiZ2V0RmlsbFN0eWxlIjoiZmIiLCJzZXRUZXh0U3R5bGUiOiJpYiIsImdldFRleHRTdHlsZSI6ImpiIiwic2V0Qm9yZGVyIjoiTm9hIiwiZ2V0Qm9yZGVyIjoiVEUiLCJzZXRUZXh0QWxpZ25tZW50IjoiUFNjIiwic2V0Q29udGVudERhdGEiOiJVVmEiLCJzZXRXcmFwTW9kZSI6ImFCYiIsImdldFdyYXBNb2RlIjoieSRhIiwic2V0VmFsaWRhdG9yIjoiRDhiIiwiZ2V0VmFsaWRhdG9yIjoiciRhIiwiZ2V0Q29udGVudERhdGEiOiJaZWEiLCJnZXRNZXJnZWRDZWxsIjoiQVAifX19");var h_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d,e,f,g){this.re=a;this.ie=b;this.gh=f;this.Go=d;this.Va=e;this.ea=g;this.$c=g.mincolumnwidth;this.se=null}c.prototype.qa=function(a){if(null==a)return this;for(var b=0;b<this.gh.oh();b++)this.gh.Sp(b,this.re).qa(a);this.se=tg.ad(a);return this};c.prototype.fb=function(){return this.se};c.prototype.Qq=function(a){this.ie=a;return this};c.prototype.Fm=function(){return this.ie};c.prototype.Ra=function(a){this.$c!==a&&(this.Go.pIa(this.re,0>a?0:a),this.$c=a,this.gh.hIc());
return this};c.prototype.ca=function(){return 0>this.$c?0:this.$c};c.prototype.va=function(a){!1===a?0<this.$c&&(this.$c*=-1,this.Ra(this.$c),this.ea.autotablesize?(a=this.gh.w8a(),this.Va.sa(new U({x:this.gh.pa().getX(),y:this.gh.pa().getY(),width:this.gh.pa().ca()<a.ca()?this.gh.pa().ca():a.ca(),height:this.gh.pa().da()<a.da()?this.gh.pa().da():a.da()}))):this.Va.sa(this.pa())):0>this.$c&&(this.$c*=-1,this.Ra(this.$c));return this};c.prototype.Ia=function(){return 0<this.$c};c.prototype.bC=function(){this.Va.TM(this.re,
!1);return this};c.prototype.sJd=function(a){for(var b=0;b<this.gh.oh();b++)this.gh.Sp(b,this.re).D8b(a);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRGaWxsU3R5bGUiOiJxYSIsImdldEZpbGxTdHlsZSI6ImZiIiwic2V0VGl0bGUiOiJRcSIsImdldFRpdGxlIjoiRm0iLCJzZXRXaWR0aCI6IlJhIiwiZ2V0V2lkdGgiOiJjYSIsInNldFZpc2libGUiOiJ2YSIsImdldFZpc2libGUiOiJJYSIsImhpZ2hsaWdodCI6ImJDIiwic2V0Q29sdW1uVmFsaWRhdG9yIjoic0pkIn19fSAg");var i_=/*#__PURE__*/va(/*#__PURE__*/{Mya:"onColumnWidthChanged",uza:"onRowHeightChanged",Kec:"onTableSizeChanged",l6:"onTableAdjusted"},2,"eyJDb2x1bW5XaWR0aENoYW5nZWQiOiJNeWEiLCJSb3dIZWlnaHRDaGFuZ2VkIjoidXphIiwiVGFibGVTaXplQ2hhbmdlZCI6IktlYyIsIlRhYmxlQWRqdXN0ZWQiOiJsNiJ9");var j_=/*#__PURE__*/va(/*#__PURE__*/{cBd:"onCanEdit",w2b:"onValueChanged"},2,"eyJvbkNhbkVkaXQiOiJjQmQiLCJvblZhbHVlQ2hhbmdlZCI6IncyYiJ9"),k_=/*#__PURE__*/va(/*#__PURE__*/{MT:"doubleclick",d3c:"singleclick"},2,"eyJEb3VibGVDbGljayI6Ik1UIiwiU2luZ2xlQ2xpY2siOiJkM2MifSAg"),l_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){b=null==b?{}:b;var d={};d={slots:d,name:"TableViewInPlaceEditor",layer:a};IR.call(this,d);this.ea=G(b,{highlight:null==b.highlight?!0:b.highlight,autosubmit:null==b.autosubmit?!1:b.autosubmit,focustrigger:null==b.focustrigger?c.Rbc.MT:b.focustrigger,backgroundcolor:null==b.backgroundcolor?"white":b.backgroundcolor});this.Ob(!1);this.UO=a;this.LY=a.Wb("TableViewCompositeTool");this.Va=
a.Y9a();this.Gh=this.lc=null;this.Mwd();this.Csa=function(e,f){!1!==this.isEnabled()&&(this.lc=f.Pe(),e=this.LY.Kd(this.Va,f),e=this.Va.JG(e.getX(),e.getY()),this.kQ({row:e.getY(),column:e.getX()}))}.bind(this);this.Jlc=function(e,f){null!=this.Gh&&(e=this.LY.Kd(this.Va,f),e=this.Va.JG(e.getX(),e.getY(),!0),!1!==this.UO.A_().contains(e.getX(),e.getY())&&(this.Cdb(),this.kQ({row:Math.floor(e.getY()),column:Math.floor(e.getX())})))}.bind(this);this.UO.Wb("TableViewSelection").addListener($S.Lq,this.Csa).addListener($S.gN,
this.Jlc);this.qlc=function(e,f){null==this.Gh||f.from<this.Gh.column&&f.Ie<this.Gh.column||f.from>this.Gh.column&&f.Ie>this.Gh.column||(f.from===this.Gh.column?this.Gh.column=f.Ie:f.from<this.Gh.column?this.Gh.column--:this.Gh.column++,this.qea())}.bind(this);this.UO.Wb("TableViewColumnHandler").addListener(zU.Kn,this.qlc);this.Olc=function(e,f){null==this.Gh||f.from<this.Gh.row&&f.Ie<this.Gh.row||f.from>this.Gh.row&&f.Ie>this.Gh.row||(f.from===this.Gh.row?this.Gh.row=f.Ie:f.from<this.Gh.row?this.Gh.row--:
this.Gh.row++,this.qea())}.bind(this);this.UO.Wb("TableViewRowHandler").addListener(zU.Kn,this.Olc);this.qqa=this.qea.bind(this);Za.addEventListener("resize",this.qqa);this.UO.on(i_.l6,this.qqa);this.t6=null}D(c,IR);L(c,"geotoolkit.widgets.tools.InPlaceEditor");c.Ja=j_;c.prototype.WH=function(a){this.lc=a;return this};c.prototype.Mwd=function(){this.$j=xc("div");this.$j.style.position="absolute";this.$j.style.display="none";this.$j.style.border="1px solid black";this.$j.style.pointerEvents="none";
this.$j.style.overflow="hidden";Za.document.body.appendChild(this.$j);this.cj=xc("div");this.cj.style.position="absolute";this.cj.style.border="0px solid black";this.cj.style.pointerEvents="all";this.$j.appendChild(this.cj);this.ak=xc("textarea");this.ak.className="geotoolkit-inlineeditor";this.ak.style.resize="none";this.ak.style.boxSizing="border-box";this.ak.style.overflow="hidden";this.ak.style.position="absolute";this.ak.style.border="1px solid black";this.ak.style.paddingTop="0px";this.ak.style.backgroundColor=
this.ea.backgroundcolor;this.Yfc=function(){var a=this.ak.style.height;this.ak.style.height="5px";var b=this.ak.scrollHeight;this.Qhb.da()>b?this.ak.style.height=a:(this.cj.style.height=b+"px",this.ak.style.height=b+"px")}.bind(this);this.xMa=function(a){if("Enter"===a.key||13===a.keyCode)a.preventDefault(),!1===this.ea.autosubmit&&this.Cdb(),a=this.Va.KP(),this.kQ({row:Math.min(this.Gh.row+1,a.da()-1),column:Math.min(Math.max(0,this.Gh.column),a.ca()-1)},this.ea.highlight)}.bind(this);this.ak.addEventListener("keypress",
this.xMa);this.LAa=function(a){if("Escape"===a.key||27===a.keyCode)a.preventDefault(),this.kQ(null);else if(!0===a.ctrlKey){a.preventDefault();this.Cdb();var b=this.Gh.row,d=this.Gh.column;if("ArrowLeft"===a.key||37===a.keyCode)d--;else if("ArrowRight"===a.key||39===a.keyCode)d++;else if("ArrowUp"===a.key||38===a.keyCode)b--;else if("ArrowDown"===a.key||40===a.keyCode)b++;else{"Enter"!==a.key&&13!==a.keyCode||this.kQ(null);return}a=this.Va.KP();this.kQ({row:Math.min(Math.max(0,b),a.da()-1),column:Math.min(Math.max(0,
d),a.ca()-1)},this.ea.highlight)}}.bind(this);this.ak.addEventListener("keydown",this.LAa);this.ak.addEventListener("input",this.Yfc);this.cj.appendChild(this.ak)};c.prototype.dispose=function(){Za.removeEventListener("resize",this.qqa);this.ak.removeEventListener("keypress",this.xMa);this.ak.removeEventListener("keydown",this.LAa);var a=this.UO.Wb("TableViewSelection");a&&a.removeListener($S.Lq,this.Csa).removeListener($S.gN,this.Jlc);(a=this.UO.Wb("TableViewColumnHandler"))&&a.removeListener(zU.Kn,
this.qlc);(a=this.UO.Wb("TableViewRowHandler"))&&a.removeListener(zU.Kn,this.Olc);this.UO.za(i_.l6,this.qqa);this.$j.parentNode&&this.$j.parentNode.removeChild(this.$j);this.$j=null;IR.prototype.dispose.call(this)};c.prototype.start=function(){IR.prototype.start.call(this);null!=this.UO.Va.It.wj.t6&&(this.t6=this.UO.Va.It.wj.t6,this.UO.Va.It.wj.t6=null,this.UO.ha(),this.ak.style.border="1px solid "+this.t6.rb().toString());return this};c.prototype.stop=function(){IR.prototype.stop.call(this);null!=
this.t6&&(this.UO.Va.It.wj.t6=this.t6,this.UO.ha());this.kQ(null);return this};c.prototype.Cdb=function(){if("none"===this.ak.style.display)return this;var a={cell:{column:this.Gh.column,row:this.Gh.row},value:this.ak.value};this.fireEvent(c.Ja.w2b,a);this.ak.value=a.value;this.Va.ha();return this};c.prototype.RRa=function(){return this.Gh};c.prototype.kQ=function(a,b,d){null==b&&(b=!0);if(null==this.Gh&&null==a||null!=a&&(0>a.row||0>a.column)||null!=this.Gh&&null!=a&&(this.ea.autosubmit&&this.Cdb(),
this.Gh.row===a.row&&this.Gh.column===a.column))return this;this.Gh=a;this.qea(null,null,d);if(null==this.Gh)return this.stop();b&&(this.Va.TM(this.Gh.column),this.Va.Koa([this.Gh.row]));this.UO.bha(this.Gh.row,this.Gh.column);this.ak.value=this.Va.Zea(this.Gh.column,this.Gh.row);this.Yfc(this.ak);setTimeout(function(){this.ak.focus()}.bind(this),1);return this.start()};c.prototype.qea=function(a,b,d){if(null==this.Gh)return this.$j.style.display="none",this;a=yc(this.lc.Vv());b=null!=d?d:this.Va.$Z(this.Gh.row,
this.Gh.column);if(null==b)return this.$j.style.display="none",this;this.Qhb=b;d=new M(b.getX(),b.getY());b=new M(b.na(),b.ma());var e=this.Va.Hn().wa().Ta(this.Va.Hn().vb());this.$j.style.display="block";this.$j.style.left=e.la()+a.x+"px";this.$j.style.top=e.ka()+a.y+"px";this.$j.style.width=e.ca()+"px";this.$j.style.height=e.da()+"px";this.Va.Hn().TC.wa().Ma(d,d);this.Va.Hn().TC.wa().Ma(b,b);this.cj.style.left=d.getX()-e.la()-1+"px";this.cj.style.top=d.getY()-e.ka()-1+"px";this.cj.style.width=b.getX()-
d.getX()-1+"px";this.cj.style.height=b.getY()-d.getY()-1+"px";this.ak.style.width=b.getX()-d.getX()+"px";this.ak.style.height=b.getY()-d.getY()+"px";return this};c.Rbc=k_;c.prototype.vma=function(){return this.ak};c.prototype.Pnd=function(){return this.ea.focustrigger};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhdHRhY2hUb1Bsb3QiOiJXSCIsImdldEFjdGl2ZUNlbGwiOiJSUmEiLCJzZXRBY3RpdmVDZWxsIjoia1EiLCJnZXRFZGl0b3JJbnB1dCI6InZtYSJ9fX0g");var n_=/*#__PURE__*/va(/*#__PURE__*/{gl:"auto",hu:"default",p6:"wrap",Zgb:"wrapsplitwords"},2,"eyJBdXRvIjoiZ2wiLCJEZWZhdWx0IjoiaHUiLCJXcmFwIjoicDYiLCJXcmFwU3BsaXRXb3JkcyI6IlpnYiJ9"),o_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){void 0===b&&(b={});void 0===b.horizontalscrollable&&void 0!==b.horizontalscroll&&(b.horizontalscrollable=b.horizontalscroll);void 0===b.verticalscrollable&&void 0!==b.verticalscroll&&(b.verticalscrollable=b.verticalscroll);b=xb(b,{bounds:b.bounds instanceof U?b.bounds:new U(0,0,400,400),horizontalscroll:void 0!==b.horizontalscrollable?b.horizontalscrollable:!0,verticalscroll:void 0!==b.verticalscrollable?b.verticalscrollable:
!0,keepvisiblelimits:!1,border:void 0!==b.border?b.border:{color:"transparent"},rows:void 0!==b.rows?b.rows:1,cols:void 0!==b.cols?b.cols:1,fixedsize:b.fixedsize,scroll:{horizontal:{visible:!0,cssclass:"horizontal-scroll"},vertical:{visible:!0,cssclass:"vertical-scroll"}},headermode:n_.hu});var d=b.bounds;b.bounds=d.clone().setX(0).setY(0);var e=new jS(b);b.bounds=d;b.model=e;b.annotationssizes={north:"0",west:"0",east:!0===b.verticalscroll?"15":"0",south:!0===b.horizontalscroll?"15":"0"};UZ.call(this,
b);this.hh=!1;this.oja=null;this.zoc=new ek;this.Va=e;this.qH=b.horizontalscroll;this.gr=b.verticalscroll;this.rlc=function(f,g){this.notify(i_.Mya,this,g)}.bind(this);this.Nlc=function(f,g){this.notify(i_.uza,this,g)}.bind(this);this.Va.on(iS.Mya,this.rlc).on(iS.uza,this.Nlc);this.setData({contentmeasure:null!=b.contentmeasure?b.contentmeasure:{measureColumn:function(f,g,h,k){return this.uld(f,g,h,k)}.bind(this),measureRow:function(f,g,h,k){return k}}});this.B6b(b.headermode);this.bb("center").Wd(new jl);
this.Va.La({left:0,top:0,right:0,bottom:0});this.Va.Te(!0);"floating"===this.gr&&"floating"===this.qH&&(b=this.bb(Zh.Na),this.wd.sN("floating"===this.gr),this.Id.sN("floating"===this.qH),this.Ib.removeItem(this.Id,Zh.vc),this.Ib.removeItem(this.wd,Zh.Ic),b.Wd(new jl),b.oa(this.wd),b.oa(this.Id));this.Yh();this.ji();this.hh=!0}var a=5;D(c,UZ);L(c,"geotoolkit.widgets.TableView");c.v_c=n_;c.prototype.dispose=function(){UZ.prototype.dispose.call(this);null!=this.Va&&this.Va.za(iS.Mya,this.rlc).za(iS.uza,
this.Nlc)};c.prototype.ryc=function(b){return null!=b?this.Va.pFa(b):this.Va.M8a().ca()+this.Va.$ua().ca()};c.prototype.N5b=function(b,d){this.Va.pIa(b,d);this.ji();return this};c.prototype.B6b=function(b){this.oja=b;this.oja===n_.p6?this.Va.Ltb().bo().Eaa(ck.pB):this.oja===n_.Zgb?this.Va.Ltb().bo().Eaa(ck.eL):this.Va.Ltb().bo().Eaa(ck.wn);this.Va.vv();this.ha();return this};c.prototype.VXb=function(){return this.oja};c.prototype.uld=function(b,d,e,f){switch(this.oja){case n_.gl:return f=rg.measureText(this.Va.h_(b),
d),{width:f.ca()+a};case n_.p6:case n_.Zgb:return this.zoc.ib(d).Ra(f.width).Wj(this.oja===n_.p6?ck.pB:ck.eL).Eb(this.Va.h_(b)),b=this.zoc.da()+2*a,this.Va.Vub(-1)<b&&this.Va.EAb(-1,b),f;default:return f}};c.prototype.mP=function(b){this.Va.mP(b);return this};c.prototype.Csd=function(){return this.Va.rSa().da()+this.Va.$ua().da()};c.prototype.v2b=function(){this.notify(i_.Kec,this);return this};c.prototype.sa=function(b){UZ.prototype.sa.call(this,b);this.hh&&(this.Va.sa(this.bb(Zh.Na).pa()),this.Va.nla(),
this.ji());return this};c.prototype.Y9a=function(){return this.Va};c.prototype.vv=function(b,d){this.Va.vv(b,d);this.ji();this.v2b();this.ha();return this};c.prototype.ivb=function(){return this.Va.ivb()};c.prototype.KP=function(){return this.Va.KP()};c.prototype.A_=function(){return this.Va.A_()};c.prototype.bha=function(b,d){this.Va.bha(b,d);this.ji();return this};c.prototype.setData=function(b){if(null==b)return this;null!=b.headermode&&this.VXb()!==b.headermode?(this.B6b(b.headermode),b.fixedsize=
this.oja):b.fixedsize=null;this.Va.setData(b);this.Va.vv();this.ji();this.v2b();this.ha();return this};c.prototype.nya=function(b,d){this.Va.nya(b,d);return this};c.prototype.KS=function(b,d){this.Va.KS(b);if(!1===d)return this;this.Va.bha(b,-1!==this.cK()?this.cK():null);this.Va.nla();this.ji();return this};c.prototype.WV=function(){return this.Va.WV()};c.prototype.cK=function(){return this.Va.cK()};c.prototype.TM=function(b,d){this.Va.TM(b);if(!1===d)return this;this.Va.bha(-1!==this.WV()?this.WV():
null,b);this.Va.nla();this.ji();return this};c.prototype.rNc=function(b,d){this.Va.Koa(b);if(!1===d)return this;b=this.Va.CM()[0];this.Va.bha(b,-1!==this.cK()?this.cK():null);this.Va.nla();this.ji();return this};c.prototype.CM=function(){return this.Va.CM()};c.prototype.ji=function(){if(null==this.Va)return null;var b=this.Va.$ua(),d=this.Va.o$();this.Id.Ha(b,d,this.Jc.mi());this.wd.Ha(b,d,this.Jc.lo());this.notify(i_.l6,this,null);return this};c.prototype.Yh=function(){if(void 0===this.Va)return this;
var b=function(e,f){e=this.Va.o$();f=f.vb();f=(e.la()-f.la())*this.Jc.wa().pb();this.Va.nya(f,0);this.Id.Ha(this.Va.$ua(),this.Va.o$());this.notify(i_.l6,this,null)}.bind(this),d=function(e,f){e=this.Va.o$();f=f.vb();f=(e.ka()-f.ka())*this.Jc.wa().Ab();this.Va.nya(0,f);this.wd.Ha(this.Va.$ua(),this.Va.o$());this.notify(i_.l6,this,null)}.bind(this);!0===this.gr&&null!=this.wd&&this.wd.Ia()&&this.oi({east:this.wd.z9()});!0===this.qH&&null!=this.Id&&this.Id.Ia()&&this.oi({south:this.Id.z9()});this.wd.addListener(KR.nv,
d).addListener(KR.rn,d);this.Id.addListener(KR.aoa,function(){this.mob.Ob(!1)}.bind(this)).addListener(KR.nv,function(){this.mob.Ob(!0)}.bind(this)).addListener(KR.nv,b).addListener(KR.rn,b);b=this.ec();this.mn([this.LY=(new NS(b,"TableViewCompositeTool")).add([this.mob=(new KU(this.Va)).kb("TableViewSplitter").addListener(IU.PD,function(e,f){this.ji();this.v2b();this.oja!==n_.p6&&this.oja!==n_.Zgb||this.Va.Dab()}.bind(this)),(new AU(this.Va)).kb("TableViewColumnHandler").addListener(zU.rn,function(e,
f){this.ji()}.bind(this)).Ob(!1),(new HU(this.Va)).kb("TableViewRowHandler").addListener(zU.rn,function(e,f){this.ji()}.bind(this)).Ob(!1),(new CU(this.Va)).kb("TableViewHeaderHandler").Ob(!1),(new aT).kb("TableViewSelection").Ob(!0).addListener($S.gN,function(e,f){e=this.LY.Kd(this.Va,f);e=this.Va.JG(e.getX(),e.getY());this.Va.TM(e.getX());f=f.ye();if(!0===f.ctrlKey)f=this.Va.CM(),-1===f.indexOf(e.getY())&&(f.push(e.getY()),this.Va.Koa(f));else if(!0===f.shiftKey&&0<this.Va.CM().length){f=this.Va.CM()[this.Va.CM().length-
1];var g=Math.min(f,e.getY());e=Math.max(f,e.getY());for(f=this.Va.CM();g<=e;g++)-1===f.indexOf(g)&&f.push(g);this.Va.Koa(f)}else this.Va.Koa([e.getY()])}.bind(this)),(new bU).kb("TableViewPanning").Ob(!0).Tx(this.Va,this.Va.nya).addListener(aU.MD,function(e,f){this.ji()}.bind(this)),(new FU(this.Va)).kb("TableViewHighlight").Ob(!0).addListener(EU.axa,function(e,f){this.Va.KS(f.JZb())}.bind(this)).addListener(HR.Ry,function(e,f){this.Va.KS(-1)}.bind(this))])]);this.mn(new l_(this));return this};c.prototype.ia=
function(){var b=UZ.prototype.ia.call(this),d=this.KP();b.rows=d.ca();b.cols=d.da();b.fixedsize=this.Va.Nzc();b.headermode=this.VXb();return b};c.prototype.fa=function(b){UZ.prototype.fa.call(this,b);this.setData(b);return this};c.prototype.STb=function(b,d){var e=this.KP(),f="";null==b?b=[[0,e.ca()-1]]:"number"===typeof b&&(b=[b]);null==d?d=[[0,e.da()-1]]:"number"===typeof d&&(d=[d]);for(var g=0;g<d.length;g++){var h=d[g];if("number"===typeof h)var k=h;else{if(1>h.length)continue;2>h.length?(k=h[0],
h=h[0]):(k=h[0],h=h[1])}if(!(0>h||k>=e.ca()))for(k=Math.max(k,0),h=Math.min(h,e.ca()-1);k<=h;k++){for(var l=0;l<b.length;l++){var m=b[l];if("number"===typeof m)var n=m;else{if(1>m.length)continue;2>m.length?(n=m[0],m=m[0]):(n=m[0],m=m[1])}if(!(0>m||n>=e.ca()))for(n=Math.max(n,0),m=Math.min(m,e.ca()-1);n<=m;n++)f+=this.Va.Zea(n,k),f+="\t"}f+="\n"}}return f};c.prototype.Med=function(){var b=this.Va.CM();var d=this.Va.cK();return b=-1!==b[0]||1<b.length?this.STb(-1===d?null:d,b):this.STb(this.Va.cK())};
return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb2x1bW5zU2l6ZSI6InJ5YyIsInNldENvbHVtbnNTaXplIjoiTjViIiwic2V0SGVhZGVyTW9kZSI6IkI2YiIsImdldEhlYWRlck1vZGUiOiJWWGIiLCJmaXRUb1dpZHRoIjoibVAiLCJnZXRSb3dzU2l6ZSI6IkNzZCIsInNldEJvdW5kcyI6InNhIiwiZ2V0VGFibGVWaWV3U2hhcGUiOiJZOWEiLCJzZXRUYWJsZUJvdW5kcyI6InZ2IiwiZ2V0VGFibGVCb3VuZHMiOiJpdmIiLCJnZXRUYWJsZVNpemUiOiJLUCIsImdldFZpc2libGVUYWJsZUxpbWl0cyI6IkFfIiwic2V0VmlzaWJsZVRhYmxlTGltaXRzIjoiYmhhIiwidHJhbnNsYXRlVGFibGUiOiJueWEiLCJoaWdobGlnaHRSb3ciOiJLUyIsImdldEhpZ2hsaWdodGVkUm93IjoiV1YiLCJnZXRIaWdobGlnaHRlZENvbHVtbiI6ImNLIiwiaGlnaGxpZ2h0Q29sdW1uIjoiVE0iLCJzZXRBY3RpdmVSb3ciOiJyTmMiLCJnZXRBY3RpdmVSb3dzIjoiQ00iLCJzeW5jaHJvbml6ZVZpZXdMaW1pdHMiOiJqaSIsImluaXRpYWxpemVUb29scyI6IlloIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwiY29weUNvbnRlbnQiOiJTVGIiLCJjb3B5U2VsZWN0ZWRDZWxscyI6Ik1lZCJ9fX0g");var p_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d){PR.call(this,a);this.ls=b;this.uy=d}D(c,PR);L(c,"geotoolkit.widgets.tools.DataSheetSelectionEventArgs");c.prototype.mSa=function(){return this.ls};c.prototype.BSa=function(){return this.uy};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGaXJzdENlbGxQb3NpdGlvbiI6Im1TYSIsImdldExhc3RDZWxsUG9zaXRpb24iOiJCU2EifX19");var q_=/*#__PURE__*/va(/*#__PURE__*/{scc:"onHeaderClicked",Hcc:"onIndexClicked",Hac:"onCellClicked",W_c:"onIndexTitleClicked",QIc:"onPointerMoved"},2,"eyJIZWFkZXJDbGlja2VkIjoic2NjIiwiSW5kZXhDbGlja2VkIjoiSGNjIiwiQ2VsbENsaWNrZWQiOiJIYWMiLCJJbmRleFRpdGxlQ2xpY2tlZCI6IldfYyIsIm9uUG9pbnRlck1vdmVkIjoiUUljIn0g"),r_=/*#__PURE__*/function(){function c(g){g.Ga(Math.floor(g.getX()),Math.floor(g.getY()))}function a(g,h){var k={name:"DataSheetSelection"};IR.call(this,k);this.sm({pointerdown:this.Xc.bind(this),pointermove:this.Ac.bind(this)});this.gh=g;this.Va=this.gh.$td();this.Go=this.gh.Y9a();this.G8=this.gh.Ztd();h=null==h?{}:h;this.ea=xb(h,{selectionrect:{fillstyle:null,groupfillstyle:new rf(f),linestyle:e.clone()}});
this.Ejc=this.Ohc=this.uy=this.ls=null;this.kb("DataSheetSelection").Ob(!0);this.Va.Wb("TableViewPanning").Ob(!1);this.lDa=(new oi).Ha(this.Go.Hn().pa());this.Unb=(new Am).oa(this.lDa);this.Go.Hn().oa(this.Unb);this.pA=null;this.Zka=!1;this.Ofc=function(){var l=this.Go.o$().clone(),m=this.Go.Hn().pa().clone();this.lDa.Ha(l);m.Ra(l.ca()).Ya(l.da());this.lDa.sa(m);null!=this.pA&&this.pA.Pf()}.bind(this);this.Va.on(i_.l6,this.Ofc)}function b(g,h,k,l){this.ls=h;this.uy=k;this.Gnc=l;this.lDa=g.lDa;this.gh=
g.gh;this.ww=new ho({linestyle:l.linestyle,fillstyle:d(h,k)?l.fillstyle:l.groupfillstyle});this.Zka=g.Zka;this.Umc=new M;this.Vmc=new M;this.q0b(h,k);this.lDa.oa(this.ww)}function d(g,h){return null!=g.AP()&&g.AP()===h.AP()?!0:null!=g&&null!=h&&g.de()===h.de()&&g.qd()===h.qd()}var e=new X({color:"rgba(0, 120, 194, 1)",width:1.25*ac()}),f="rgba(172, 193, 250, 0.2)";b.prototype.dispose=function(){this.lDa.removeChild(this.ww);this.ww.dispose()};b.prototype.q0b=function(g,h,k){this.ww.qa(d(g,h)?this.Gnc.fillstyle:
this.Gnc.groupfillstyle);null!=k&&(this.Zka=k);!0!==this.Zka&&(h=this.gh.ayc(g,h),g=h[0],h=h[1]);k=g.$Z().clone();var l=h.$Z().clone();if(!0===this.Zka){var m=this.gh.qd(g.qd()),n=this.gh.de(g.de());k.Ra(m.ca()).Ya(n.da());m=this.gh.qd(h.qd());n=this.gh.de(h.de());l.Ra(m.ca()).Ya(n.da())}this.ww.cb((new U(k.la(),k.ka(),l.na(),l.ma())).Uc(-1,-1));this.ls=g;this.uy=h;this.Umc.setX(g.qd()).setY(g.de());this.Vmc.setX(h.qd()).setY(h.de());return this};b.prototype.mSa=function(){return this.Umc};b.prototype.BSa=
function(){return this.Vmc};b.prototype.Pf=function(){this.q0b(this.ls,this.uy);return this};D(a,IR);L(a,"geotoolkit.widgets.tools.DataSheetSelection");a.Sya=q_;a.prototype.Xc=function(g){g.ye().preventDefault();this.AV();var h=this.G8.Kd(this.Go,g);h=this.Go.JG(h.getX(),h.getY());this.uy=this.ls=this.Hwc(h);this.SIc(g,this.X$a(g.Zd()))};a.prototype.Ac=function(g){if(g.ye().buttons===Cc.kc||this.Gm(g))g.ye().preventDefault(),this.SIc(g,!1),null==this.pA||this.ls===this.Ohc&&this.uy===this.Ejc||(this.Ohc=
this.ls,this.Ejc=this.uy,this.fireEvent(a.Sya.QIc,new p_(g,this.pA.mSa(),this.pA.BSa())))};a.prototype.SIc=function(g,h){var k=this.gh.xXb(),l=this.G8.Kd(this.Go,g);l=this.Go.JG(l.getX(),l.getY());c(l);this.uy=this.Hwc(l);if(null!=this.ls&&null!=this.uy){l=!1;if(!0===h||null!=k&&k.Pnd()!==k_.MT)l=!0;this.Zka=!1;this.l5b(l,this.ea.selectionrect);this.fireEvent(a.Sya.Hac,new p_(g,this.pA.mSa(),this.pA.BSa()))}else null!=l&&(-1===l.getY()&&-1<l.getX()?(this.ls=this.gh.Sp(0,l.getX()),this.uy=this.gh.Sp(this.gh.oh()-
1,l.getX()),this.Zka=!0,this.l5b(!1,this.ea.selectionrect),this.gh.qd(l.getX()).bC(),this.fireEvent(a.Sya.scc,new p_(g,this.pA.mSa(),this.pA.BSa()))):-1===l.getX()&&-1<l.getY()&&(this.ls=this.gh.Sp(l.getY(),0),this.uy=this.gh.Sp(l.getY(),this.gh.rp()-1),this.Zka=!0,this.l5b(!1,this.ea.selectionrect),this.gh.de(l.getY()).bC(),this.fireEvent(a.Sya.Hcc,new p_(g,this.pA.mSa(),this.pA.BSa()))))};a.prototype.l5b=function(g,h){if(null==this.ls||null==this.uy)return this;this.Sad(h);this.Go.Koa(-1);this.Go.TM(-1);
d(this.ls,this.uy)&&this.gh.kQ(this.ls.de(),this.ls.qd(),g);return this};a.prototype.Hwc=function(g){if(!this.gh.V$a(g.getY(),g.getX()))return null;g=this.gh.Sp(g.getY(),g.getX());return null==g.AP()?g:g.AP().uD()};a.prototype.Sad=function(g){if(null==this.ls||null==this.uy)return this;if(null!=this.pA)return this.pA.q0b(this.ls,this.uy,this.Zka),this;this.pA=new b(this,this.ls,this.uy,g);return this};a.prototype.AV=function(){null!=this.pA&&(this.pA.dispose(),this.pA=null);return this};a.prototype.dispose=
function(){for(var g in a.Sya)this.removeListener(a.Sya[g]);this.Va.za(i_.l6,this.Ofc);IR.prototype.dispose.call(this)};return a}();var s_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b,d,e,f,g){this.ls=b;this.uy=d;this.VBa=e;this.AE=f;this.gh=g;this.Be=new oi({clipping:!0});this.ILa=(new e_({border:this.ls.TE()})).qa(this.ls.fb());this.fY=this.ls.ia().text.shape.clone();this.lj();this.Be.oa([this.ILa,this.fY]);this.VBa.oa(this.Be);this.AE.push(this)}var a=2;c.prototype.uD=function(){return this.ls};c.prototype.uva=function(){return this.uy};c.prototype.oh=function(){return this.uy.de()-this.ls.de()+1};c.prototype.rp=function(){return this.uy.qd()-
this.ls.qd()+1};c.prototype.L6a=function(b,d){return b>=this.ls.de()&&b<=this.uy.de()&&d>=this.ls.qd()&&d<=this.uy.qd()};c.prototype.sa=function(b){this.Be.sa(b);this.ILa.sa(b);return this};c.prototype.lj=function(){var b=this.ls.$Z(),d=this.uy.$Z();b=new U(b.getX(),b.getY(),d.na(),d.ma());this.ILa.sa(b);this.Be.sa(b.clone());return this};c.prototype.ga=function(){return this.Be.ga()};c.prototype.SV=function(){return this.Be};c.prototype.aLc=function(){var b=this.ILa.ga(),d=b.getY(),e=b.getX();switch(this.fY.jb().Tt()){case Di.Nk:d+=
b.da()/2-this.fY.da()/2;break;case Di.nb:break;default:d=b.ma()-this.fY.da()}switch(this.fY.jb().pj()){case Fi.Na:e+=b.ca()/2-this.fY.ca()/2;break;case Fi.$b:e+=b.ca()-this.fY.ca()-a;break;default:e+=a}this.fY.sa(this.fY.ga().clone().setX(Math.max(0,e)).setY(Math.max(0,d)));return this};c.prototype.FVc=function(){var b=this.ls.ia().text.shape;this.fY.Eb(b.ee());this.fY.ib(b.jb());this.fY.Wj(b.KA());this.fY.Ra(b.ca());this.aLc();return this};c.prototype.xa=function(){this.ILa.qa(this.ls.fb());this.ILa.setOptions({border:this.ls.TE()});
return this};c.prototype.dispose=function(){for(var b=this.ls.de();b<=this.uy.de();++b)for(var d=this.ls.qd();d<=this.uy.qd();++d)this.gh.Sp(b,d).gAb(null);this.VBa.removeChild(this.Be);this.AE.splice(this.AE.indexOf(this),1);this.Be.dispose(!0);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGaXJzdENlbGwiOiJ1RCIsImdldExhc3RDZWxsIjoidXZhIiwiZ2V0TnVtYmVyT2ZSb3dzIjoib2giLCJnZXROdW1iZXJPZkNvbHVtbnMiOiJycCIsImNvbnRhaW5zQ2VsbCI6Ikw2YSJ9fX0g");var t_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d,e,f,g){this.re=a;this.ie=b;this.Go=d;this.Va=e;this.gh=f;this.ea=g;this.kd=g.minrowheight;this.se=null}c.prototype.qa=function(a){if(null==a)return this;for(var b=0;b<this.gh.rp();b++)this.gh.Sp(this.re,b).qa(a);this.se=tg.ad(a);return this};c.prototype.fb=function(){return this.se};c.prototype.Qq=function(a){this.ie=a;return this};c.prototype.Fm=function(){return this.ie};c.prototype.Ya=function(a){this.kd!==a&&(this.Go.EAb(this.re,0>a?0:a),this.kd=a,this.gh.hIc());
return this};c.prototype.da=function(){return 0>this.kd?0:this.kd};c.prototype.va=function(a){!1===a?0<this.kd&&(this.kd*=-1,this.Ya(this.kd),this.ea.autotablesize?(a=this.gh.w8a(),this.Va.sa(new U({x:this.gh.pa().getX(),y:this.gh.pa().getY(),width:this.gh.pa().ca()<a.ca()?this.gh.pa().ca():a.ca(),height:this.gh.pa().da()<a.da()?this.gh.pa().da():a.da()}))):this.Va.sa(this.pa())):0>this.kd&&(this.kd*=-1,this.Ya(this.kd));return this};c.prototype.Ia=function(){return 0<this.kd};c.prototype.bC=function(){this.Va.rNc(this.re,
!1);return this};c.prototype.MMd=function(a){for(var b=0;b<this.gh.rp();b++)this.gh.Sp(this.re,b).D8b(a);return this};c.prototype.Drc=function(){for(var a=this.ea.minrowheight,b=0;b<this.gh.rp();b++){var d=this.gh.Sp(this.re,b).ia().text.shape.da();d>a&&(a=d)}return a};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRGaWxsU3R5bGUiOiJxYSIsImdldEZpbGxTdHlsZSI6ImZiIiwic2V0VGl0bGUiOiJRcSIsImdldFRpdGxlIjoiRm0iLCJzZXRIZWlnaHQiOiJZYSIsImdldEhlaWdodCI6ImRhIiwic2V0VmlzaWJsZSI6InZhIiwiZ2V0VmlzaWJsZSI6IklhIiwiaGlnaGxpZ2h0IjoiYkMiLCJzZXRSb3dWYWxpZGF0b3IiOiJNTWQiLCJjYWxjdWxhdGVBdXRvUm93SGVpZ2h0IjoiRHJjIn19fSAg");var u_=/*#__PURE__*/va(/*#__PURE__*/{Number:"number",gB:"all"},2,"eyJBbGwiOiJnQiJ9"),v_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(n){n=null==n?{}:n;n=G(n,{autotablesize:null==n.autotablesize?!1:n.autotablesize,indextitle:null==n.indextitle?"":n.indextitle,minrowheight:null==n.minrowheight?30:n.minrowheight,mincolumnwidth:null==n.mincolumnwidth?120:n.mincolumnwidth,headerheight:null==n.headerheight?30:n.headerheight,indexwidth:null==n.indexwidth?k:n.indexwidth,highlightrowonhover:null==n.highlightrowonhover?!1:n.highlightrowonhover,highlightcolumnfillstyle:null,activecolumnfillstyle:null,
highlightrowfillstyle:null,activerowfillstyle:null});JZ.call(this,n);this.ea=n;this.Ot=this.hl=0;this.WTa();this.Gh=this.WPb=null;this.W8=new U;this.Xgc=new U;this.q4a=!0;this.nAa=[];this.Y3a=[];this.ea.rows=this.hl;this.ea.cols=this.Ot;this.Va=new o_(this.ea);this.Go=this.Va.Y9a();this.AE=[];this.VBa=(new oi).Ha(this.Go.o$());this.oa(this.Va);this.Go.Hn().oa(this.VBa);this.Iwd(this.hl,this.Ot,this.Va);this.qqa=function(){var p=this.Go.o$().clone(),q=this.Go.Hn().pa().clone();this.VBa.Ha(p);q.Ra(p.ca()).Ya(p.da());
this.VBa.sa(q);p=this.RRa();if(null!=p&&null!=this.mx){var r;q=p.AP();null!=q&&(r=p.AP().ga());this.mx.qea(null,null,r)}}.bind(this);this.Va.on(i_.l6,this.qqa);this.Fgc=function(p,q,r){p=r.width["new"]-r.width.old;q=this.qd(r.column);var t=q.ca()+p;q.$c=t;this.$9b(r.column);for(q=0;q<this.hl;++q){var u=this.Sp(q,r.column);u.y$a()===f_.p6&&u.ia().text.shape.Ra(t);for(var w=r.column;w<this.Ot;++w)u=this.Sp(q,w),u.eeb(),u.AXa()}for(q=0;q<this.AE.length;++q)t=this.AE[q],u=t.ga().clone(),t.L6a(t.uD().de(),
r.column)&&u.Ra(u.ca()+p),t.uD().qd()>r.column&&u.setX(u.getX()+p),t.sa(u)}.bind(this);this.pnc=function(p,q,r){p=r.height["new"]-r.height.old;q=this.de(r.row);var t=q.da()+p;q.kd=t;this.s$b(r.row);for(q=0;q<this.Ot;++q)for(var u=r.row;u<this.hl;++u)t=this.Sp(u,q),t.eeb(),t.AXa();for(q=0;q<this.AE.length;++q)t=this.AE[q],u=t.ga().clone(),t.L6a(r.row,t.uD().qd())&&u.Ya(u.da()+p),t.uD().de()>r.row&&u.setY(u.getY()+p),t.sa(u)}.bind(this);this.Go.on(iS.Web,this.Fgc);this.Go.on(iS.wgb,this.pnc);this.w8a();
this.ea.autotablesize?(n=this.w8a(),this.Va.sa(new U({x:this.pa().getX(),y:this.pa().getY(),width:this.pa().ca()<n.ca()?this.pa().ca():n.ca(),height:this.pa().da()<n.da()?this.pa().da():n.da()}))):this.Va.sa(this.pa());this.G8=this.Wed(this.Va);this.sl=new r_(this);this.ea.content.editable&&(this.mx=this.Itc(this.Va),this.Va.Wb("TableViewSelection").Ob(!1),this.G8.remove(this.Va.Wb("TableViewSelection")),this.G8.add(this.mx));this.JKb=this.nfd(this.Go);this.G8.add([this.sl,this.JKb]);this.mn(this.Va.Ec());
null!=this.mx&&(this.Va.za(i_.l6,this.mx.qqa),n=function(p){if("Enter"===p.key||13===p.keyCode)if(p.preventDefault(),!1===this.mx.ea.autosubmit&&this.mx.Cdb(),p=this.RRa(),null!=p){var q=this.Va.KP(),r=null!=p.AP()?p.AP().tre()-1:0;this.kQ(Math.min(p.de()+r+1,q.da()-1),Math.min(Math.max(0,p.qd()),q.ca()-1),!0)}}.bind(this),this.mx.vma().removeEventListener("keypress",this.mx.xMa),this.mx.vma().addEventListener("keypress",n))}function a(n){for(var p=0;p<n.length;++p)n[p]=l}function b(n){for(var p=
n.length-1;0<=p;--p)if(n[p]<l+m-1)return!1;return!0}var d="rgba(190, 190, 190, 0.4)",e="rgba(243, 243, 243, 1)",f=new X({color:"#bdbdbd",width:1,pixelsnapmode:!0}),g="rgba(51, 116, 235, 0.8)",h="12px Arial",k=50,l=65,m=26;D(c,JZ);L(c,"geotoolkit.widgets.datasheet.DataSheet");c.Ueb=g_;c.ddc=s_;c.jx=t_;c.Nac=h_;c.Ygb=f_;c.prototype.mXb=function(){return this.ea.data};c.prototype.LLd=function(n){this.OMd(n);this.Va.vv(this.hl,this.Ot);return this};c.prototype.KLd=function(n){this.vJd(n);this.Va.vv(this.hl,
this.Ot);return this};c.prototype.oh=function(){return this.hl};c.prototype.rp=function(){return this.Ot};c.prototype.kQ=function(n,p,q){if(null!=this.mx)if(this.V$a(n,p)){var r=this.Sp(n,p),t=null;null!=r.AP()&&(r=r.AP().uD(),t=r.AP().ga());n=r.de();p=r.qd();this.Gh=this.Sp(n,p);!0===q?this.mx.kQ({row:n,column:p},!0,t):this.mx.kQ(null,!1);n=this.Sp(n,p).fb();this.mx.vma().style.backgroundColor=(new td(n.rb())).UUc();r.TJd(r.jb());r.bPc(r.jb())}else this.mx.kQ(null,!1),this.Gh=null;else this.V$a(n,
p)?(this.de(n).bC(),this.qd(p).bC(),this.Gh=this.Sp(n,p)):(this.Go.Koa(-1),this.Go.TM(-1),this.Gh=null);return this};c.prototype.RRa=function(){return this.Gh};c.prototype.Sp=function(n,p){return null!=n&&n<this.hl&&0<=n&&null!=p&&p<this.Ot&&0<=p?this.eA[n][p]:null};c.prototype.omd=function(){if(!0===this.q4a){for(var n=this.Va.A_(),p=Math.floor(n.da()),q=Math.floor(n.ca()),r=0,t=0,u=this.Cud(),w=this.zpd();u<p;u++)r+=this.de(u).da();r+=u+1<this.hl?this.de(u+1).da()*(n.da()-p):0;for(u=w;u<q;u++)t+=
this.qd(u).ca();t+=u+1<this.Ot?this.qd(u+1).ca()*(n.ca()-q):0;this.W8.Ya(r);this.W8.Ra(t);this.q4a=!1}return this.W8};c.prototype.w8a=function(){if(!0===this.q4a){var n=0,p=0,q;for(q=0;q<this.Ot;q++)n+=this.qd(q).ca();for(q=0;q<this.hl;q++)p+=this.de(q).da();q=this.Go.Ltb().Ia()?this.Go.Ktb():0;var r=this.Go.Nnd().Ia()?this.Go.yAc():0;this.Xgc.cb({x:this.ga().getX(),y:this.ga().getY(),width:n+r,height:p+q});this.q4a=!1}return this.Xgc};c.prototype.wJd=function(n){if(null!=n)for(var p=0;p<n.length&&
p<this.ef.length;p++)this.qd(p).Ra(n[p]);return this};c.prototype.NMd=function(n){if(null!=n)for(var p=0;p<n.length&&p<this.Tf.length;p++)this.de(p).Ya(n[p]);return this};c.prototype.tld=function(n){var p=[];if(null!=n&&n<this.Ot&&0<=n)for(var q=0;q<this.hl;q++)p.push(this.ea.data[q][n]);return p};c.prototype.Asd=function(n){return null!=n&&n<this.hl&&0<=n?this.ea.data[n].slice(0):[]};c.prototype.qd=function(n){return this.ef[n]};c.prototype.de=function(n){return this.Tf[n]};c.prototype.dwd=function(n){for(var p=
0;p<n.length;p++)this.qd(n[p]).va(!1);return this};c.prototype.fwd=function(n){for(var p=0;p<n.length;p++)this.de(n[p]).va(!1);return this};c.prototype.UPd=function(){for(var n=0;n<this.hl;n++)this.de(n).va(!0);return this};c.prototype.TPd=function(){for(var n=0;n<this.Ot;n++)this.qd(n).va(!0);return this};c.prototype.WPd=function(n){for(var p=0;p<n.length;p++)this.de(n[p]).va(!0);return this};c.prototype.VPd=function(n){for(var p=0;p<n.length;p++)this.qd(n[p]).va(!0);return this};c.prototype.cK=
function(){return this.Va.cK()};c.prototype.WV=function(){return this.Va.CM()[0]};c.prototype.yNd=function(n){this.WPb=n;this.ha();return this};c.prototype.zJd=function(n){this.ea.content.editable=n;!0===n?(this.mx=this.Itc(this.Va),this.G8.add(this.mx),this.G8.remove(this.sl),this.sl.dispose(),this.sl=new r_(this),this.G8.add(this.sl)):(null!=this.mx&&this.mx.dispose(),this.G8.remove(this.mx),this.mx=null);return this};c.prototype.Q1b=function(n,p){if(null==n||null==p||n.de()===p.de()&&n.qd()===
p.qd())return null;p=this.ayc(n,p);n=p[0];p=p[1];var q,r;for(q=n.de();q<=p.de();++q)for(r=n.qd();r<=p.qd();++r){var t=this.Sp(q,r);var u=t.AP();null!=u&&this.sVc(u.uD())}u=new s_(n,p,this.VBa,this.AE,this);for(q=n.de();q<=p.de();++q)for(r=n.qd();r<=p.qd();++r)t=this.Sp(q,r),t.gAb(u);return u};c.prototype.sVc=function(n){if(null==n)return this;n=n.AP();if(null==n)return this;n.dispose();return this};c.prototype.on=function(n,p){this.G7c(n)&&this.Z4c(n);return UZ.prototype.on.call(this,n,p)};c.prototype.gEa=
function(n){this.insertRow(this.hl,n);return this};c.prototype.C4b=function(n){if(0<=n&&n<this.hl){for(var p=0;p<this.AE.length;++p){var q=this.AE[p];if(q.uD().de()<=n&&q.uva().de()>=n)if(2<q.oh()||2<q.rp()){var r=q.uD(),t=q.uva();n===r.de()?r=this.Sp(r.de()+1,r.qd()):n===t.de()&&(t=this.Sp(t.de()-1,t.qd()));q.dispose();q=this.Q1b(r,t);this.AE.splice(p,0,q);this.AE.pop()}else q.dispose(),--p}this.Tf.splice(n,1);this.eA.splice(n,1);--this.hl;this.s$b(0);this.Va.vv(this.hl,this.Ot);this.VBb(n,0);this.uWc(n)}return this};
c.prototype.v4b=function(n){if(0<=n&&n<this.Ot){var p;for(p=0;p<this.AE.length;++p){var q=this.AE[p];if(q.uD().qd()<=n&&q.uva().qd()>=n)if(2<q.oh()||2<q.rp()){var r=q.uD(),t=q.uva();n===r.qd()?r=this.Sp(r.de(),r.qd()+1):n===t.qd()&&(t=this.Sp(t.de(),t.qd()-1));q.dispose();q=this.Q1b(r,t);this.AE.splice(p,0,q);this.AE.pop()}else q.dispose(),--p}this.ef.splice(n,1);for(p=0;p<this.hl;++p)this.eA[p].splice(n,1);--this.Ot;this.$9b(0);this.Va.vv(this.hl,this.Ot);this.VBb(0,n);this.JVc(n)}return this};c.prototype.insertRow=
function(n,p,q){if(null==n)return this;null==q&&(q=null!=this.ea.index.indexdata[n]?this.ea.index.indexdata[n]:n);q=new t_(this.hl,q,this.Go,this.Va,this,this.ea);++this.hl;n>=this.hl-1?(this.Tf.push(q),this.eA.push([])):(this.Tf.splice(n,0,q),this.eA.splice(n,0,[]),this.s$b(0));for(q=0;q<this.Ot;++q)this.eA[n][q]=new g_(n,q,null,this,this.ea),this.eA[n][q].UVa(p[q]);this.Va.vv(this.hl,this.Ot);this.VBb(n,0);this.uWc(n);this.PQd(n);return this};c.prototype.R5a=function(n){this.bwb(this.Ot,n);return this};
c.prototype.bwb=function(n,p,q){if(null==n)return this;null==q&&(q=null!=this.ea.index.indexdata[n]?this.ea.index.indexdata[n]:n);q=new h_(this.Ot,q,this.Go,this.Va,this,this.ea);++this.Ot;if(n>=this.Ot-1){this.ef.push(q);for(q=0;q<this.hl;++q)this.eA[q][n]=new g_(q,n,null,this,this.ea),this.eA[q][n].UVa(p[q]);this.nAa[n]=this.nAa[n-1].ca()}else{this.ef.splice(n,0,q);for(q=0;q<this.hl;++q)this.eA[q].splice(n,0,new g_(q,n,null,this,this.ea)),this.eA[q][n].UVa(p[q]);this.$9b(0)}this.Va.vv(this.hl,this.Ot);
this.JVc(n);this.VBb(0,n);this.OQd(n);return this};c.prototype.dispose=function(){if(!this.ge()){if(this.W_a)for(var n in q_)this.za(q_[n]);null!=this.mx&&(this.mx.vma().removeEventListener("input",this.yhc),this.mx.dispose());null!=this.sl&&this.sl.dispose();null!=this.JKb&&this.JKb.dispose();Za.document.removeEventListener("mousedown",this.pmc);this.Go.za(iS.Web,this.Fgc);this.Go.za(iS.wgb,this.pnc);this.Va.za(i_.l6,this.qqa);this.Va.dispose();JZ.prototype.dispose.call(this)}};c.lfc=u_;c.prototype.Yre=
function(){return this.sl};c.prototype.hIc=function(){this.q4a=!0;return this};c.prototype.G7c=function(n){for(var p in q_)if(q_.hasOwnProperty(p)&&n===q_[p])return!0;return!1};c.prototype.Z4c=function(n){this.W_a||(this.W_a={});this.W_a[n]||(this.W_a[n]=function(p,q){return this.notify(n,this,q)}.bind(this),this.sl.addListener(n,this.W_a[n]))};c.prototype.uWc=function(n){for(n=0;n<this.hl;++n)this.Tf[n].re=n;return this};c.prototype.JVc=function(n){for(n=null==n?0:n;n<this.Ot;++n)this.ef[n].re=n;
return this};c.prototype.OQd=function(n){for(var p=0;p<this.AE.length;++p)for(var q=this.AE[p],r=q.uD().de();r<=q.uva().de();++r)q.L6a(r,n)&&this.eA[r][n].gAb(q)};c.prototype.PQd=function(n){for(var p=0;p<this.AE.length;++p)for(var q=this.AE[p],r=q.uD().qd();r<=q.uva().qd();++r)q.L6a(n,r)&&this.eA[n][r].gAb(q)};c.prototype.VBb=function(n,p){n=null==n?0:n;for(p=null==p?0:p;n<this.hl;++n){this.Tf[n].re=n;for(var q=p;q<this.Ot;++q){var r=this.eA[n][q];r.cV=n;r.K6=q;r.eeb();r.AXa()}}return this};c.prototype.s$b=
function(n){if(0>n)return this;for(n+=1;n<this.hl;++n)this.Y3a[n]=this.Y3a[n-1]+this.Tf[n-1].da();return this};c.prototype.$9b=function(n){if(0>n)return this;for(n+=1;n<this.Ot;++n)this.nAa[n]=this.nAa[n-1]+this.ef[n-1].ca();return this};c.prototype.WTa=function(){var n;if(null!=this.ea.data){var p=[];if(Array.isArray(this.ea.data))for(n=0;n<this.ea.data.length;n++)p.push(this.ea.data[n].slice(0));else for(n=0;n<this.ea.data.oh();n++)p.push(this.ea.data.de(n).slice(0));this.ea.data=p}if(null==this.ea.rows||
null==this.ea.cols)this.ea.autotablesize=!0;!0===this.ea.autotablesize&&null!=this.ea.data?(this.hl=this.ea.data.length,null!=this.ea.data[0]&&(this.Ot=this.ea.data[0].length)):(this.hl=null==this.ea.rows||0>this.ea.rows?0:this.ea.rows,this.Ot=null==this.ea.cols||0>this.ea.columns?0:this.ea.cols);null!=this.ea.index?(null==this.ea.index.textstyle&&(this.ea.index.textstyle={alignment:Fi.Na,baseline:Di.Nk}),null==this.ea.index.activerowfillstyle&&(this.ea.index.activerowfillstyle=d),this.ea.index.indexdata=
null==this.ea.index.indexdata?[]:this.ea.index.indexdata.slice(0),null==this.ea.index.evenfillstyle&&(this.ea.index.evenfillstyle=e),null==this.ea.index.oddfillstyle&&(this.ea.index.oddfillstyle=e),null==this.ea.index.gridstyle&&(this.ea.index.gridstyle=f)):this.ea.index={textstyle:{alignment:Fi.Na,baseline:Di.Nk},gridstyle:f,evenfillstyle:e,oddfillstyle:e,indexdata:[],activerowfillstyle:new rf(d)};null!=this.ea.header?(this.ea.header.headerdata=null==this.ea.header.headerdata?[]:this.ea.header.headerdata.slice(0),
null==this.ea.header.evenfillstyle&&(this.ea.header.evenfillstyle=e),null==this.ea.header.oddfillstyle&&(this.ea.header.oddfillstyle=e),null==this.ea.header.gridstyle&&(this.ea.header.gridstyle=f),null==this.ea.header.highlightcolumnfillstyle&&(this.ea.header.highlightcolumnfillstyle=new rf(d))):this.ea.header={evenfillstyle:e,oddfillstyle:e,gridstyle:f,headerdata:[],highlightcolumnfillstyle:new rf(d)};null!=this.ea.content?(null==this.ea.content.textstyle&&(this.ea.content.textstyle={alignment:Fi.Na,
baseline:Di.xd,font:h}),null==this.ea.content.textsizemode&&(this.ea.content.textsizemode=f_.XJa),null==this.ea.content.evenfillstylecolumn&&(this.ea.content.evenfillstylecolumn=e),null==this.ea.content.oddfillstylecolumn&&(this.ea.content.oddfillstylecolumn=e),null==this.ea.content.activerowfillstyle&&(this.ea.content.activerowfillstyle=d),null==this.ea.content.highlightcolumnfillstyle&&(this.ea.content.highlightcolumnfillstyle=d),null==this.ea.content.activecelllinestyle&&(this.ea.content.activecelllinestyle=
{color:g,width:1,pixelsnapmode:!0}),null==this.ea.content.editable&&(this.ea.content.editable=!0)):this.ea.content={textstyle:{alignment:Fi.Na,baseline:Di.xd,font:h},editable:!0,textsizemode:f_.p6,evenfillstylecolumn:e,oddfillstylecolumn:e,activerowfillstyle:d,highlightcolumnfillstyle:d,activecelllinestyle:{color:g,width:1,pixelsnapmode:!0}};return this};c.prototype.Iwd=function(n,p,q){this.Ewd(n,p);n={contentprovider:function(r,t){return this.eA[t][r].Zea()}.bind(this),headerprovider:function(r){return-1<
r?this.ef[r].Fm():""}.bind(this),indexprovider:function(r){return-1<r?this.Tf[r].Fm():""}.bind(this),contentmeasure:{measureColumn:function(r,t,u,w){return{width:0>this.ef[r].ca()?0:this.ef[r].ca()}}.bind(this),measureRow:function(r,t,u,w){return{height:0>this.Tf[r].da()?0:this.Tf[r].da()}}.bind(this)},contentformatprovider:function(r,t,u){if(null!=this.eA[t][r]&&null!=this.eA[t][r].ia()){var w=this.eA[t][r].ia();u.background.fillstyle=null!=this.WPb?this.WPb:null!=w.background.fillstyle?w.background.fillstyle:
u.background.fillstyle;u.border=xb(w.border,u.border);u.text.shape=w.text.shape.clone();this.eA[t][r].eeb();this.eA[t][r].AXa()}return u}.bind(this)};null!=this.ea.indextitlefillstyle?this.Go.aQc(this.ea.indextitlefillstyle):this.Go.aQc(e);q.setData(n);return this};c.prototype.Ewd=function(n,p){this.eA=[];this.Tf=[];this.ef=[];this.nAa=[];this.Y3a=[];var q,r=[l-1],t=r.length-1,u=0;for(q=0;q<n;++q)this.eA.push([]),this.Tf.push(new t_(q,null!=this.ea.index.indexdata[q]?this.ea.index.indexdata[q]:q+
1,this.Go,this.Va,this,this.ea)),this.Y3a[q]=u,u+=this.Tf[q].da();for(q=u=0;q<p;++q){if(null!=this.ea.header.headerdata[q])var w=this.ea.header.headerdata[q];else r[t]>=l+m-1?!0===b(r)?(a(r),r[++t]=l):(r[t]=l,++r[t-1]):++r[t],w=pg.decodeText(r);this.ef.push(new h_(q,w,this.Go,this.Va,this,this.ea));this.nAa[q]=u;u+=this.ef[q].ca()}for(q=0;q<n;++q)for(r=0;r<p;++r)t="",null!=this.ea.data&&null!=this.ea.data[q]&&null!=this.ea.data[q][r]&&(t=this.ea.data[q][r]),this.eA[q][r]=new g_(q,r,null,this,this.ea),
this.eA[q][r].UVa(t);return this};c.prototype.Wed=function(n){var p=["TableViewSelection","TableViewHighlight"],q=n.Ec();p.forEach(function(r){n.Wb(r).Ob(!1);q.remove(n.Wb(r))});n.Wb("TableViewSplitter").pSc(JU.CC).addListener(IU.PD,function(r,t){void 0!==t.row?0<=t.row?this.de(t.row).Ya(t.height["new"]):this.ea.headerheight=t.height["new"]:void 0!==t.column&&(r=t.column,0<=r?this.qd(r).Ra(t.width["new"]):this.ea.indexwidth=t.width["new"])}.bind(this)).QPc(!0).Ob(!0);return q};c.prototype.Itc=function(n){this.Va.Wb("TableViewInPlaceEditor").Ob(!1);
n=(new l_(n,{highlight:!1,autosubmit:!0,focustrigger:k_.MT,backgroundcolor:"white"})).Ob(!0).addListener(j_.w2b,function(q,r){q=r.cell.row;var t=r.cell.column;this.eA[q][t].UVa(r.value)}.bind(this));var p=n.vma();this.yhc=function(q){if(null!=this.Gh){var r=this.Gh.de(),t=this.Gh.qd();q=q.currentTarget.value;!0===this.V$a(r,t)&&!1===this.Sp(r,t).r$a()(q)&&(p.value=q.replace(/[^-?\d*\.?\d*$]/g,""))}}.bind(this);this.e6c=function(q){if(!0===q.altKey&&("Enter"===q.key||13===q.keyCode)&&null!=this.Gh){var r=
this.Gh.de(),t=this.Gh.qd();q=q.currentTarget.value+"\n";this.V$a(r,t)&&!0===this.Sp(r,t).r$a()(q)&&(p.value+="\n")}}.bind(this);p.addEventListener("input",this.yhc);p.addEventListener("keydown",this.e6c);return n};c.prototype.nfd=function(n){var p=(new FU(n)).Ob(!0),q=!1;p.addListener(EU.axa,function(t,u){!0===this.ea.highlightrowonhover&&n.KS(u.JZb());q=!1}.bind(this));if(null!=this.mx){var r=this.mx.vma();this.f6c=function(t){q=!1};r.addEventListener("mousedown",this.f6c)}this.pmc=function(t){!0===
q&&(!0===this.ea.highlightrowonhover&&n.KS(-1),this.kQ(null),n.TM(-1),n.Koa(-1),this.sl.AV())}.bind(this);Za.document.addEventListener("mousedown",this.pmc);p.addListener(HR.Ry,function(t,u){q=!0});p.addListener(HR.gga,function(t,u){q=!1});return p};c.prototype.V$a=function(n,p){return p<this.Ot&&-1<p&&n<this.hl&&-1<n};c.prototype.OMd=function(n){if(0<=n&&!1===this.ea.autotablesize){var p;if(n>=this.hl)for(p=this.hl;p<n;p++)this.Tf.push(new t_(p,p+1,this.Go,this.Va,this,this.ea));else this.Tf=this.Tf.slice(0,
n);this.hl=n}return this};c.prototype.vJd=function(n){if(0<=n&&!1===this.ea.autotablesize){var p;if(n>=this.Ot)for(p=this.Ot;p<n;p++)this.ef.push(new h_(p,"Column #"+p,this.Go,this.Va,this,this.ea));else this.ef=this.ef.slice(0,n);this.Ot=n}return this};c.prototype.Cud=function(){return Math.floor(this.Va.A_().getY())};c.prototype.zpd=function(){return Math.floor(this.Va.A_().getX())};c.prototype.Vyc=function(n){return n===c.lfc.Number?function(p){return null==p?!0:!1===isNaN(p)&&-1===p.toString().indexOf("\n")}:
function(){return!0}};c.prototype.kJd=function(n,p,q){var r=this.mXb(),t;null==r&&(r=[]);if(null==r[n]){var u=n+1-r.length;for(t=0;t<u;t++)r.push([])}if(null==r[n][p])for(u=p+1-r[n].length,t=0;t<u;t++)r[n].push("");r[n][p]=q;return this};c.prototype.ayc=function(n,p){var q=n.de(),r=n.qd();n=this.Sp(n.de()<p.de()?n.de():p.de(),n.qd()<p.qd()?n.qd():p.qd());p=this.Sp(q>p.de()?q:p.de(),r>p.qd()?r:p.qd());for(r=n.de();r<=p.de();++r)for(var t=n.qd();t<=p.qd();++t)if(q=this.Sp(r,t),q=q.AP(),null!=q)return r=
q.uD(),n.de()>r.de()&&(n=this.Sp(r.de(),n.qd())),n.qd()>r.qd()&&(n=this.Sp(n.de(),r.qd())),q=q.uva(),p.de()<q.de()&&(p=this.Sp(q.de(),p.qd())),p.qd()<q.qd()&&(p=this.Sp(p.de(),q.qd())),[n,p];return[n,p]};c.prototype.$td=function(){return this.Va};c.prototype.Y9a=function(){return this.Go};c.prototype.Ztd=function(){return this.G8};c.prototype.xXb=function(){return this.mx};return c}(),2,"eyJDZWxsIjoiVWViIiwiTWVyZ2VkQ2VsbCI6ImRkYyIsIlJvdyI6Imp4IiwiQ29sdW1uIjoiTmFjIiwiV3JhcE1vZGUiOiJZZ2IiLCJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXREYXRhU2V0IjoibVhiIiwic2V0TnVtYmVyT2ZSb3dzIjoiTExkIiwic2V0TnVtYmVyT2ZDb2x1bW5zIjoiS0xkIiwiZ2V0TnVtYmVyT2ZSb3dzIjoib2giLCJnZXROdW1iZXJPZkNvbHVtbnMiOiJycCIsInNldEFjdGl2ZUNlbGwiOiJrUSIsImdldEFjdGl2ZUNlbGwiOiJSUmEiLCJnZXRDZWxsIjoiU3AiLCJnZXREYXRhU2hlZXRWaXNpYmxlTW9kZWxMaW1pdHMiOiJvbWQiLCJnZXREYXRhU2hlZXRMaW1pdHMiOiJ3OGEiLCJzZXRDb2x1bW5zV2lkdGgiOiJ3SmQiLCJzZXRSb3dzSGVpZ2h0IjoiTk1kIiwiZ2V0Q29sdW1uRGF0YSI6InRsZCIsImdldFJvd0RhdGEiOiJBc2QiLCJnZXRDb2x1bW4iOiJxZCIsImdldFJvdyI6ImRlIiwiaGlkZUNvbHVtbnMiOiJkd2QiLCJoaWRlUm93cyI6ImZ3ZCIsInVuaGlkZUFsbFJvd3MiOiJVUGQiLCJ1bmhpZGVBbGxDb2x1bW5zIjoiVFBkIiwidW5oaWRlUm93cyI6IldQZCIsInVuaGlkZUNvbHVtbnMiOiJWUGQiLCJnZXRIaWdobGlnaHRlZENvbHVtbiI6ImNLIiwiZ2V0SGlnaGxpZ2h0ZWRSb3ciOiJXViIsInNldFRhYmxlQmFja2dyb3VuZCI6InlOZCIsInNldENvbnRlbnRFZGl0YWJsZSI6InpKZCIsIm1lcmdlQ2VsbHMiOiJRMWIiLCJ1bm1lcmdlQ2VsbHMiOiJzVmMiLCJhZGRSb3ciOiJnRWEiLCJyZW1vdmVSb3ciOiJDNGIiLCJyZW1vdmVDb2x1bW4iOiJ2NGIiLCJhZGRDb2x1bW4iOiJSNWEiLCJpbnNlcnRDb2x1bW4iOiJid2IifX19");var w_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){Pf.call(this);this.yoa()}function a(){this.map={};this.eaa={};this.Pp("linestyle",X.Oa());this.Pp("fillstyle",rf.Oa());this.Pp("imagepattern",Ph.Oa());this.Pp("textstyle",Ki.Oa());this.Pp("histogramtickgenerator",MP.Oa())}function b(h){return"string"==typeof h&&h.match(/^#href\(.*\)$/)?/^#href\((.*)\)$/.exec(h)[1]:null}var d="cg_type",e=null;a.ya=function(){null==e&&(e=new a);return e};a.prototype.Pp=function(h,k){this.map[h]=k;this.eaa[k]=h};a.prototype.kub=function(){return this.map};
a.prototype.Gq=function(h){h=null!=h&&"function"==typeof h.Oa?h.Oa():null;return null!=h?null!=this.eaa[h]?this.eaa[h]:h:null};a.prototype.MEa=function(h){h=null!=this.map[h]?this.map[h]:h;return null!=h?Nb(h):null};var f={save:function(h,k){var l=a.ya().Gq(h);null!=l&&k.Xb(d,l);l=k.tG(h);null!=l&&k.Xb("cg_id",l);l="function"==typeof h.ia?h.ia():h;for(var m in l)if(l.hasOwnProperty(m)&&"cg_id"!==m&&"undefined"!=typeof l[m]){var n=l[m];if("object"==typeof n&&null!==n){var p=k.tG(n);null==p?k.Ee(m,
n):k.Xb(m,"#href("+p+")")}else"function"!=typeof n&&k.Xb(m,n)}h instanceof Fe&&!l.hasOwnProperty("visible")&&k.Xb("visible",!0);k.commit()},load:function(h,k){var l=null!=k?k:null;if(null==l){k=h.getValue(d);var m=h.c4();null!=k&&(l=null!=m&&a.ya().Gq(m)===k?m:a.ya().MEa(k));null==l&&(l={})}var n="function"===typeof l.fa?{}:l;h.Yw(function(p,q){var r=q.getValue(),t=b(r);null==t?n[p]=r:null!=q.Uj(t)?n[p]=q.Uj(t):q.dX(t,function(u){n[p]=u;"function"===typeof l.fa&&l.fa(n)})});"function"===typeof l.fa&&
l.fa(n);k=h.getValue("cg_id");null!=k&&h.Kr(k,l);return l}};D(c,Pf);L(c,"geotoolkit.widgets.templates.HistogramRegistry");c.prototype.yoa=function(){this.Hl("geotoolkit.widgets.Histogram",{save:function(h,k){for(var l=k.gP("histograms","array"),m=jf(h.Kb()).mc('node => id(node) == "hplot_layer"').mg(),n,p=0;p<m.Yb();++p)n=h.GA(p),l.Ee(p,n);l.commit();k.Ee("xaxis",h.Xk.x.ia());k.Ee("xlogaxis",h.Xk.xlog.ia());k.Ee("yaxis",h.Xk.y.ia());k.Ee("xgrid",h.nq.x.ia());k.Ee("xloggrid",h.nq.xlog.ia());k.Ee("ygrid",
h.nq.y.ia());k.Ee("xlabel",h.Le.x.text.ia());k.Ee("ylabel",h.Le.y.text.ia());k.Ee("header",h.i_());k.commit()},load:function(h){var k=h.Uj("#widget");k&&(jf(k.Kb()).mc('node => id(node) == "hplot_layer"').mg().dh(),h.Yw(function(l,m){"histograms"===l&&m.Yw(function(n,p){p.Bd(eR.Oa())})}),k.Xk.x.fa(h.getValue("xaxis")),k.Xk.xlog.fa(h.getValue("xlogaxis")),k.Xk.y.fa(h.getValue("yaxis")),k.nq.x.fa(h.getValue("xgrid")),k.nq.xlog.fa(h.getValue("xloggrid")),k.nq.y.fa(h.getValue("ygrid")),k.Le.x.text.fa(h.getValue("xlabel")),
k.Le.y.text.fa(h.getValue("ylabel")),k.$_(h.getValue("header")),k.qyb());return k}});this.Hl("geotoolkit.controls.shapes.Histogram",{save:function(h,k){k.Xb("name",h.Da());k.Xb("id",h.ic());k.Xb("accumulatedmode",h.jFa());k.Xb("histogrammode",h.qAc());k.Xb("autogradient",h.VRa());k.Xb("binspacing",h.DWb());k.Xb("verticalscaling",h.HEc());k.Xb("frequencytype",h.oSa());k.Ee("linestyle",h.Ea(),"linestyle");k.Ee("fillstyle",h.fb(),"fillstyle");k.Ee("highlightstyle",h.Ntb(),"fillstyle");k.Xb("autobin",
h.F0b());h.F0b()||k.Xb("bincount",h.OV());var l=h.Mqc();k.Xb("autolimits",!l);l&&(k.Xb("minimum",h.uc()),k.Xb("maximum",h.Dc()));k.commit()},load:function(h){var k=h.Uj("#widget"),l=null;k&&(l=k.tQa(),l.kb(h.getValue("name")),l.Dd(h.getValue("id")),l.oNc(h.getValue("accumulatedmode")),l.MPc(h.getValue("histogrammode")),l.nIa(h.getValue("autogradient")),l.TNc(h.getValue("binspacing")),l.vTc(h.getValue("verticalscaling")),l.zPc(h.getValue("frequencytype")),h.getValue("autobin")?l.vMc():l.o5(h.getValue("bincount")),
l.ra(h.Bd("linestyle","linestyle")),l.qa(h.Bd("fillstyle","fillstyle")),l.Ozb(h.Bd("fillstyle","highlightstyle")),h.getValue("autolimits")?l.S4b():l.rTc(h.getValue("minimum"),h.getValue("maximum")));return l}});this.Hl("default",f)};var g=null;c.ya=function(){null==g&&(g=new c);return g};return c}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIn0g");var x_=/*#__PURE__*/va(/*#__PURE__*/{Aha:"dataUpdated"},2,"eyJEYXRhVXBkYXRlZCI6IkFoYSJ9"),y_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f){null==f&&(f={});var g=15,h=25,k=15,l=e;f.border=G(f.border,{color:"transparent"},!0);g={bounds:f.bounds,border:f.border,north:null,south:null,west:null,east:null,annotationssizes:{north:g+h,west:g+l+h,south:g+l+k+h,east:g+l},annotationitemswrap:!1};g=G(f,g,!0);g.fillstyle=g.backgroundfillstyle;UZ.call(this,g);this.GF=this.ja=this.ah=null;this.o1a=!1;this.Qd=null;this.Omb={x:0,y:0};this.Nmb={x:1,y:null};this.BO={x:{axis:{},grid:{}},y:{axis:{},
grid:{}}};this.goe={};this.hoe={};this.eoe={};this.foe={};this.$s={x:0,y:0};this.Zs={x:1,y:null};this.kO=null;this.Ffc=this.yGb=this.xGb=!1;this.C3a={x:!1,y:!1};this.Gfc=this.Efc=!1;this.kO=new Am;this.kO.Dd("hplot_layer");this.NKb=this.tQa();this.B_=new Dk({orientation:Rh.xb});this.K0=new Dk({orientation:Rh.ob});this.ie=am.hP(this.Ib,{location:Zh.me,text:"title",textstyle:{font:d}});g=am.iS(this.Ib,{location:Zh.vc,connect:!0,annotationitemswrap:!1}).axis;g.Nu(this.B_);g.Pc("horizontalAxis");h=am.hP(this.Ib,
{location:Zh.vc,text:"xlabel"});k=am.hP(this.Ib,{location:Zh.dc,text:"ylabel"});l=am.iS(this.Ib,{location:Zh.dc,connect:!0,annotationitemswrap:!1}).axis;l.Nu(this.K0);l.Pc("verticalAxis");var m=am.iS(this.Ib,{location:Zh.Ic,connect:!0,annotationitemswrap:!1}).axis;m.Pc("verticalAxis");this.od={x:g,west:l,east:m};this.Le={x:h,y:k};this.lx=new oi;this.lx.oa(this.kO);this.Ib.Kb().Mf(0,this.lx);this.pRa();this.Sy();this.fia.va(!1);this.lx.pi(new ni);this.wNb=this.qHa.bind(this);this.ux=this.sI.bind(this);
this.lCa=this.sI.bind(this);this.setData(f);this.Ib.Kb().Tk(!0);this.iF(this.NKb.ga());this.w$b()}var a="#e0e0e0",b="#f5f5f5",d="16px Roboto",e=30;D(c,UZ);L(c,"geotoolkit.widgets.Histogram");c.Ja=x_;c.prototype.dispose=function(){null!=this.ah&&(this.ah.za(jG.uj,this.wNb),this.ah.za(mG.Ud,this.ux),this.ah.za(KG.IN,this.lCa),this.ah=null);UZ.prototype.dispose.call(this)};c.prototype.tQa=function(){var f=new eR;f.on($Q.Aha,function(g,h,k){this.notify(x_.Aha,h,k)}.bind(this));this.kO.oa(f);return f};
c.prototype.GA=function(f){return this.kO.eb(null!=f?f:0)};c.prototype.Yh=function(){UZ.prototype.Yh.call(this);this.wka.setMode(HS.xb);this.wd.va(!1);this.Ib.tr(new Jm({noverticalscalescroll:!0}));var f=new dj,g=function(k,l){k=this.GA().Vea(k);return null==k?"":"["+f.format(k.minvalue)+":"+f.format(k.maxvalue)+"] "}.bind(this),h=function(k,l){k=this.GA().Vea(k);return null==k?"":f.format(k.frequency)+" "}.bind(this);this.gt.$w(Zh.me,{textconverter:g});this.gt.$w(Zh.vc,{textconverter:g});this.gt.$w(Zh.Ic,
{textconverter:h});this.gt.$w(Zh.dc,{textconverter:h});this.Ov.bB(function(k){for(var l=0;l<k.length;++l)if(k[l].histogram===this.GA())return k[l];return[]}.bind(this)).addListener($S.Rx,function(k,l){l.getSelection().indices instanceof Array&&this.lwa(l.getSelection().indices,this.aPa)}.bind(this));this.mM.Ob(!0).setMode(RU.Aa).addListener(SU.ZP,function(k){this.lx.pi(null)}.bind(this)).addListener(SU.ov,function(k){this.lx.pi(new ni)}.bind(this));return this};c.prototype.w$b=function(){var f=new dj,
g=function(k,l){k=this.xl()?this.GA().Vea(l):this.GA().Vea(k);return null==k?"":"["+f.format(k.minvalue)+":"+f.format(k.maxvalue)+"] "}.bind(this),h=function(k,l){k=this.xl()?this.GA().Vea(l):this.GA().Vea(k);return null==k?"":f.format(k.frequency)+" "}.bind(this);this.xl()?(this.wka.setMode(HS.ob),this.Id.va(!1),this.Ib.tr(new Jm({nohorizontalscalescroll:!0})),this.gt.$w(Zh.me,{textconverter:h}),this.gt.$w(Zh.vc,{textconverter:h}),this.gt.$w(Zh.Ic,{textconverter:g}),this.gt.$w(Zh.dc,{textconverter:g}),
this.mM.setMode(RU.Ca)):(this.wka.setMode(HS.xb),this.wd.va(!1),this.Ib.tr(new Jm({noverticalscalescroll:!0})),this.gt.$w(Zh.me,{textconverter:g}),this.gt.$w(Zh.vc,{textconverter:g}),this.gt.$w(Zh.Ic,{textconverter:h}),this.gt.$w(Zh.dc,{textconverter:h}),this.mM.setMode(RU.Aa))};c.prototype.pRa=function(){function f(p){p.jj("major").setColor(a);p.jj("minor").setColor(b);p.Ng("minor",!0);p.Ng("edge",!1);return p}var g=new MP(this.GA().OV()),h=new kk,k=new sk,l=new MP(this.GA().OV()),m=new kk,n=new sk;
f(l).Ng("major",!1);f(m);f(n);this.Xk={x:g,y:h,xlog:k};this.nq={x:l,y:m,xlog:n};null==this.sd&&(g=new kk,f(g),this.sd=new Lk(g,m),m=new Am,m.Dd("grid_layer"),m.oa(this.sd),this.lx.Mf(0,m),this.fia=new oi,this.fia.sa(this.Ib.Kb().getParent().ga()),this.fia.Ha(new U(0,0,1,1)),this.s6=new $n({x:[0,1],y:[0,0],linestyle:new X("red")}),this.s6.va(!1),this.fia.Tk(!0),this.fia.oa(this.s6),this.Ib.oa(this.fia));this.i5();return this};c.prototype.ZRa=function(){return this.GA().ZRa()};c.prototype.zg=function(){return this.GA().zg()};
c.prototype.setOrientation=function(f){f!==this.zg()&&this.Q5();this.GA().setOrientation(f);this.w$b();this.i5();this.qyb();return this};c.prototype.Kn=function(){if(null==this.s6||!1===this.s6.Ia()||null==this.ja)return this;var f=this.xl(),g=this.Ib.Kb().vb(),h=f?g.getY():g.getX(),k=h+(f?g.da():g.ca());g=[];var l=[],m=[],n;for(n=0;n<this.ja.length;++n){var p=this.ja[n];p>=h&&p<=k?g.push(p):Math.abs(p-h)<V.Qb?g.push(h):Math.abs(p-k)<V.Qb&&g.push(k)}p=g.length;m[0]=0;l[0]=0;if(0<p){g.sort(function(t,
u){return t-u});k-=h;var q=0,r=0;for(n=0;n<p;++n)q=(g[n]-h)/k,r=(n+1)/p,m.push(q,q),l.push(r-1/p,r);m.push(1);l.push(1)}else m[1]=1,l[1]=0;f?this.s6.he(l,m):this.s6.he(m,l);this.s6.ha();return this};c.prototype.Sy=function(){UZ.prototype.Sy.call(this);if(null==this.fia)return this;this.fia.sa(this.Ib.Kb().getParent().ga());this.fia.va(!0);return this};c.prototype.i5=function(){this.xl()?(this.od.west.pg(this.Xk["x"+(this.o1a?"log":"")]),this.od.x.pg(this.Xk.y),this.sd.pg(Rh.xb,this.nq["x"+(this.o1a?
"log":"")]),this.sd.pg(Rh.ob,this.nq.y)):(this.od.x.pg(this.Xk["x"+(this.o1a?"log":"")]),this.od.west.pg(this.Xk.y),this.od.east.pg(this.Xk.y),this.sd.pg(Rh.ob,this.nq["x"+(this.o1a?"log":"")]),this.sd.pg(Rh.xb,this.nq.y))};c.prototype.setData=function(f){if(null==f)return this;this.wo(f.tools);null!=f.bounds&&this.sa(f.bounds);this.$_(f.header);this.wo(f.tools);null==f.x&&(f.x={});null==f.datasource&&null!=this.ah&&(f.datasource=this.ah);var g=f.datasource;g!==this.ah&&(null!=this.ah&&(this.ah.za(jG.uj,
this.wNb),this.ah.za(mG.Ud,this.ux),this.ah.za(KG.IN,this.lCa)),this.ah=g,null!=this.ah&&(this.ah.on(jG.uj,this.wNb),this.ah.on(mG.Ud,this.ux),this.ah.on(KG.IN,this.lCa)));if(null!=g){null!=f.autominmax&&(this.ah.autominmax=f.autominmax);null==this.ah.autominmax&&(this.ah.autominmax=!0);f=xb(f,{x:{min:!0===g.autominmax?g.sf(f.unit):this.$s.x,max:!0===g.autominmax?g.kg(f.unit):this.Zs.x},unit:this.Qd});if(null==f.unit||null!=f.datasource.Wa()&&!this.uXa().Wa(f.datasource.Wa()).lm(f.unit)||null==f.datasource.Wa())f.unit=
f.datasource.Wa();null==f.x.min&&!0===this.ah.autominmax&&(f.x.min=f.datasource.sf(f.unit));null==f.x.max&&!0===this.ah.autominmax&&(f.x.max=f.datasource.kg(f.unit));null==f.data&&(f.data=f.datasource.toArray(!1,f.unit));null==f.x.label&&(f.x.label={});null==f.x.label.text&&(f.x.label.text=f.datasource.Da(),null!=f.unit&&(f.x.label.text=f.unit instanceof Xd?f.x.label.text+(" ("+f.unit.Tc()+")"):f.x.label.text+(" ("+f.unit+")")))}void 0!==f.unit&&(this.Qd=f.unit);null!=f.autominmax&&null!=this.ah&&
(this.ah.autominmax=f.autominmax);if(null!=f.data){if(null==f.x.min||null==f.x.max){g=Number.POSITIVE_INFINITY;for(var h=Number.NEGATIVE_INFINITY,k=f.data.length,l=f.data,m=0;m<k;m++){var n=l[m];isNaN(n)||(g=Math.min(g,n),h=Math.max(h,n))}f.x.min=f.x.min||g;f.x.max=f.x.max||h}null==f.x.reversed&&(f.x.reversed=f.x.min>f.x.max);this.ja=f.data}g={};null!=f.data&&(g.data=f.data);null!=f.bins&&(g.bins=f.bins);null!=f.fillstyle&&(g.fillstyle=f.fillstyle);null!=f.linestyle&&(g.linestyle=f.linestyle);null!=
f.autogradient&&(g.autogradient=f.autogradient);null!=f.frequencytype&&(g.frequencytype=f.frequencytype);null!=f.highlightcolor&&(g.highlightstyle={color:f.highlightcolor});null!=f.binspacing&&(g.binspacing=f.binspacing);this.qyb(g);null!=f.accumulation&&(null!=f.accumulation.visible&&this.s6.va(f.accumulation.visible),null!=f.accumulation.linestyle&&this.s6.ra(f.accumulation.linestyle));this.n5("x",f.x);this.n5("y",f.y);this.Kn();return this};c.prototype.getData=function(f){f=f||{};var g={tools:this.HS()};
null!=this.ga()&&(g.bounds=this.ga().ia());g.header=this.i_();g.tools=this.HS();g.x=this.ima("x",f);g.y=this.ima("y",f);null!=this.ah&&(g.autominmax=this.ah.autominmax);!0!==f["no-data"]&&(g.datasource=this.ah,g.data=this.ja);f=this.GA();g.bins=f.OV();g.fillstyle=f.fb().ia();g.autogradient=f.VRa();g.linestyle=f.Ea();g.frequencytype=f.oSa();g.highlightcolor=f.Ntb().rb();g.binspacing=f.DWb();g.accumulation={};g.accumulation.visible=this.s6.Ia();g.accumulation.linestyle=this.s6.Ea().ia();return g};c.prototype.ia=
function(){return G(this.getData(),UZ.prototype.ia.call(this))};c.prototype.$_=function(f){if(null==f)return this;var g={};null!=f.title&&(this.ie.text.fa(f.title),$h.raa(this.ie.text,this.ie.group,Zh.me));null!=f.annotationsize&&(g.north=f.annotationsize);this.oi(g);this.Sy();return this};c.prototype.Wp=function(){return this.GA().Wp()};c.prototype.h9a=function(){return this.GA().h9a()};c.prototype.uc=function(){return this.GA().uc()};c.prototype.Dc=function(){return this.GA().Dc()};c.prototype.i_=
function(){var f={};f.title=this.ie.text.ia();f.annotationsize=this.Ib.bb(Zh.me).ke();return f};c.prototype.n5=function(f,g){if(null==g)return this;null!=g.tickgenerator&&(hb("geotoolkit.widgets.Histogram.setData(data.tickgenerator) is deprecated since 2020 (3.0)"),this.Xk[f]=g.tickgenerator,this.nq[f]=g.tickgenerator);f=f.toLowerCase();if("x"!==f&&"y"!==f)return this;var h={},k={},l={x:"south",y:"west"};null!=g.axistickgenerator&&(this.Xk[f]=g.axistickgenerator);null!=g.gridtickgenerator&&(this.nq[f]=
g.gridtickgenerator);null!=g.label&&(this.Le[f].text.fa(g.label),$h.raa(this.Le[f].text,this.Le[f].group,l[f]));null!=g.annotationsize&&(k[l[f]]=g.annotationsize);null!=g.min&&(this.Omb[f]=g.min,this.$s[f]=g.min,"x"===f&&(h.minvalue=g.min),"y"===f&&0>this.$s[f]&&(this.Omb[f]=0,this.$s[f]=0));null!=g.max&&(this.Nmb[f]=g.max,this.Zs[f]=g.max,"x"===f&&(h.maxvalue=g.max),"y"===f&&0>this.Zs[f]&&(this.Nmb[f]=0,this.Zs[f]=0));null!=g.neatlimits&&("x"===f?(this.NKb.eRc(g.neatlimits),this.xGb=g.neatlimits,
this.Ffc=g.neatlimitscenteredonzero):"y"===f&&(this.NKb.fRc(g.neatlimits),this.yGb=g.neatlimits));"x"===f&&(null!=g.autominmax&&(this.Efc=g.autominmax),this.Efc?h.autominmax=g.autominmax:(this.xGb?(l=V.ip(this.$s[f],this.Zs[f],!1,this.Ffc),this.$s[f]=l.Ua(),this.Zs[f]=l.Za()):(this.$s[f]=this.Omb[f],this.Zs[f]=this.Nmb[f]),h.minvalue=this.$s[f],h.maxvalue=this.Zs[f]));"y"===f&&(null!=g.autominmax&&(this.Gfc=g.autominmax),this.Gfc?(l=this.GA().Wp(),this.$s.y=l[12],this.Zs.y=l[13]):(this.$s.y=this.Omb.y,
this.Zs.y=this.Nmb.y));null!=g.axisticks&&(this.Xk[f].fa(g.axisticks),this.BO[f].axis.tick=this.Xk[f].mo("edge"),this.BO[f].axis.label=this.Xk[f].mo("edge"));null!=g.gridticks&&(this.nq[f].fa(g.gridticks),this.BO[f].grid.tick=this.nq[f].mo("edge"),this.BO[f].grid.label=this.nq[f].mo("edge"));if(null!=g.annotationside&&"y"===f){l="left"===g.annotationside||"both"===g.annotationside||"west"===g.annotationside;var m="right"===g.annotationside||"both"===g.annotationside||"east"===g.annotationside;this.od.west.Ia()!==
l&&this.od.west.va(l);this.od.east.Ia()!==m&&this.od.east.va(m)}this.i5();this.qyb(h);null!=g.reversed&&("x"===f&&this.Ib.Kb().nl(g.reversed),"y"===f&&this.Ib.Kb().Tk(g.reversed));null!=g.preciselimits&&g.preciselimits!==this.C3a[f]&&(this.C3a[f]=g.preciselimits,this.C3a[f]?(null==this.BO[f].axis.tick&&(this.BO[f].axis.tick=this.Xk[f].mo("edge")),null==this.BO[f].axis.label&&(this.BO[f].axis.label=this.Xk[f].mo("edge")),null==this.BO[f].grid.tick&&(this.BO[f].grid.tick=this.nq[f].mo("edge")),null==
this.BO[f].grid.label&&(this.BO[f].grid.label=this.nq[f].mo("edge")),this.Xk[f].Ng("edge",!1),this.Xk[f].Xr("edge",!1),this.nq[f].Ng("edge",!1),this.nq[f].Xr("edge",!1)):(this.Xk[f].Ng("edge",this.BO[f].axis.tick),this.Xk[f].Xr("edge",this.BO[f].axis.label),this.nq[f].Ng("edge",this.BO[f].grid.tick),this.nq[f].Xr("edge",this.BO[f].grid.label)));this.oi(k);this.Sy();return this};c.prototype.qyb=function(f){var g=this.GA();g.setData(f);this.yGb&&(f=1,g.oSa()===bR.Fya&&(g.jFa()===cR.LT?f=g.h9a():0<g.OV()&&
(f=g.P8a(g.OV()-1))),f=V.ip(0,f,this.o1a,!1),this.Zs.y=!isNaN(f.Za())&&isFinite(f.Za())?f.Za():1);null!=this.Zs.y&&(this.xl()?(g.pa().setX(this.$s.y),g.pa().Ra(this.Zs.y-this.$s.y)):(g.pa().setY(this.$s.y),g.pa().Ya(this.Zs.y-this.$s.y)));this.iF(g.ga());this.Ib.Kb().ha();this.Xk.x instanceof MP&&this.Xk.x.o5(g.OV());this.nq.x instanceof MP&&this.nq.x.o5(g.OV());return this};c.prototype.ima=function(f,g){f=f.toLowerCase();if("x"!==f&&"y"!==f&&"z"!==f)return{};var h={};"x"===f?(h.unit=this.Qd,null!=
this.ah?h.autominmax=this.ah.autominmax:h.neatlimits=this.xGb,!0!==g["no-data"]&&(h.datasource=this.ah,h.data=this.ja)):"y"===f&&(h.neatlimits=this.yGb);h.label=this.Le[f].text.ia();g={x:Zh.vc,y:Zh.dc};g=this.Ib.bb(g[f]);h.annotationsize="x"===f?g.ke():g.xk();h.min=this.$s[f];h.max=this.Zs[f];h.axisticks=this.Xk[f].ia();h.gridticks=this.nq[f].ia();"x"===f&&(h.reversed=this.Ib.Kb().mi());"y"===f&&(h.reversed=this.Ib.Kb().lo());"x"===f&&(h.preciselimits=this.C3a.x);"y"===f&&(h.preciselimits=this.C3a.y);
return h};c.prototype.qHa=function(f,g,h){if(f===jG.uj&&(g instanceof xG||g instanceof PG))"data"===h.name&&this.setData({data:g.toArray(!1,this.Qd)}),"min"===h.name&&!0===g.autominmax&&this.setData({min:g.sf(this.Qd)}),"max"===h.name&&!0===g.autominmax&&this.setData({max:g.kg(this.Qd)});else return this;this.Kn();return this};c.prototype.sI=function(f,g,h){this.setData({data:g.toArray(!1,this.Qd),autominmax:this.ah.autominmax,x:{min:!0===this.ah.autominmax?g.sf(this.Qd):this.$s.x,max:!0===this.ah.autominmax?
g.kg(this.Qd):this.Zs.x}});this.Kn();return this};c.prototype.tSa=function(){for(var f=[],g=this.GA().ZRa(),h=0;h<g.length;++h)!0===g[h].highlighted&&f.push(g[h].binnumber);return f};c.prototype.gwd=function(f,g){f=this.GA().Fsb(f).map(function(h){return h.binnumber});this.lwa(f,g)};c.prototype.lwa=function(f,g){this.GA().lwa(f,g);return this};c.prototype.wo=function(f){if(null==f)return this;null!=f.crosshair&&(null!=f.crosshair.north&&(f.crosshair.north.textconverter=null),null!=f.crosshair.south&&
(f.crosshair.south.textconverter=null),null!=f.crosshair.east&&(f.crosshair.east.textconverter=null),null!=f.crosshair.west&&(f.crosshair.west.textconverter=null));UZ.prototype.wo.call(this,f);return this};c.prototype.JD=function(f,g){g=new Cl(g||w_.ya());f=g.X3(f);f.Kr("#widget",this);f.Bd("geotoolkit.widgets.Histogram","template");this.mb()};c.prototype.zI=function(f){f=new Cl(f||w_.ya());return f.m5("template",this)};c.prototype.xl=function(){return this.zg()===Rh.xb};c.prototype.Q5=function(){var f=
this.Le.x.text.ia(),g=this.Le.y.text.ia();this.Le.x.text.fa({text:g.text,textstyle:g.textstyle});$h.raa(this.Le.x.text,this.Le.x.group,Zh.vc);this.Le.y.text.fa({text:f.text,textstyle:f.textstyle});$h.raa(this.Le.y.text,this.Le.y.group,Zh.dc)};c.prototype.fa=function(f){f=hc(f);if(null==f)return this;this.setData(f);delete f.fillstyle;void 0!==f.backgroundfillstyle&&(f.fillstyle=f.backgroundfillstyle,delete f.backgroundfillstyle);UZ.prototype.fa.call(this,f);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRIaXN0b2dyYW0iOiJ0UWEiLCJnZXRIaXN0b2dyYW0iOiJHQSIsImluaXRpYWxpemVUb29scyI6IlloIiwidXBkYXRlVG9vbHMiOiJ3JGIiLCJnZXRCaW5zIjoiWlJhIiwiZ2V0T3JpZW50YXRpb24iOiJ6ZyIsInJlZnJlc2hMYXlvdXQiOiJTeSIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldEhlYWRlck9wdGlvbnMiOiIkXyIsImdldFN0YXRpc3RpY3MiOiJXcCIsImdldE1heEZyZXF1ZW5jeSI6Img5YSIsImdldE1pblZhbHVlIjoidWMiLCJnZXRNYXhWYWx1ZSI6IkRjIiwiZ2V0SGVhZGVyT3B0aW9ucyI6ImlfIiwic2V0QXhpc0RhdGFPcHRpb25zIjoibjUiLCJnZXRBeGlzRGF0YU9wdGlvbnMiOiJpbWEiLCJvbkF4aXNDaGFuZ2VkIjoicUhhIiwiZ2V0SGlnaGxpZ2h0ZWRCaW5zIjoidFNhIiwiaGlnaGxpZ2h0UmFuZ2UiOiJnd2QiLCJoaWdobGlnaHRCaW5zIjoibHdhIiwic2V0VG9vbHNPcHRpb25zIjoid28iLCJsb2FkVGVtcGxhdGUiOiJKRCIsInNhdmVUZW1wbGF0ZSI6InpJIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var z_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){Pf.call(this);this.yoa()}D(c,Pf);L(c,"geotoolkit.widgets.templates.MultiHistogramsRegistry");c.prototype.yoa=function(){function b(e,f){f.Xb("length",e.length);f.Xb("flip",e.flip);f.Xb("accumulative",e.accumulative);e=(new rk).fa(e);f.Ee("axis",e,"geotoolkit.axis.Axis");f.commit()}var d=[Zh.vc,Zh.dc,Zh.Ic];this.Hl("geotoolkit.widgets.MultiHistograms",{save:function(e,f){f.Xb("type","multihistogram");f.Ee("options",e.ia());var g=f.gP("histograms","array"),h=e.YXb(),k;
for(k=0;k<h.length;k++)g.Ee(k,{hist:h[k],widget:e},"histogram");g.commit();g=f.gP("groups","array");h=e.dAc();for(k=0;k<h.length;k++)g.Ee(k,{id:h[k],widget:e},"group");g.commit();f.commit()},load:function(e){var f=e.Uj("#widget");f&&(f.fa(e.getValue("options")),e.Yw(function(g,h){"histograms"===g&&h.Yw(function(k,l){l.Bd("histogram")})}),e.Yw(function(g,h){"groups"===g&&h.Yw(function(k,l){l.Bd("group")})}));return f}});this.Hl("group",{save:function(e,f){var g=e.widget;e=e.id;var h={id:e,models:g.I9a(e,
!1,!0),location:g.mBc(e)};f=f.Xy(h);g.bI(e,h.location)&&f.Ee("axis",g.bI(e,h.location),"axis");f.commit()},load:function(e){var f=e.Uj("#widget"),g=e.getValue("models"),h=e.getValue("id"),k=e.getValue("location");e=e.Bd("axis","axis");f.erb(g,k,e,h)}});this.Hl("histogram",{save:function(e,f){var g=e.hist,h=g.ic();e=e.widget;h={id:h};f=f.Xy(h);f.Ee("shape",g,eR.Oa());e.bI(g,d[0])&&f.Ee(d[0],e.bI(g,d[0]),"axis");e.bI(g,d[1])&&f.Ee(d[1],e.bI(g,d[1]),"axis");e.bI(g,d[2])&&f.Ee(d[2],e.bI(g,d[2]),"axis");
f.commit()},load:function(e){var f=e.Uj("#widget"),g=e.getValue("id"),h=e.Bd(eR.Oa(),"shape");g=f.tQa(h.ia(),{xaxis:null,yaxis:null},g);h=e.Bd("axis",d[0]);var k=e.Bd("axis",d[1]);e=e.Bd("axis",d[2]);h&&f.Spb(d[0],h,g);k&&f.Spb(d[1],k,g);e&&f.Spb(d[2],e,g)}});this.Hl("axis",{save:b,load:function(e){var f={};f.length=e.getValue("length");f.flip=e.getValue("flip");f.accumulative=e.getValue("accumulative");(e=e.Bd("geotoolkit.axis.Axis","axis"))&&(f=G(f,e.ia()));return f}})};var a=null;c.ya=function(){null==
a&&(a=new c);return a};return c}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIn0g");var A_=/*#__PURE__*/va(/*#__PURE__*/{ucc:"histogramsselected",mac:"binsselected",MCb:"axisselected",Aha:"dataupdated"},2,"eyJIaXN0b2dyYW1zU2VsZWN0ZWQiOiJ1Y2MiLCJCaW5zU2VsZWN0ZWQiOiJtYWMiLCJBeGlzU2VsZWN0ZWQiOiJNQ2IiLCJEYXRhVXBkYXRlZCI6IkFoYSJ9"),B_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e){null==e&&(e={});var f=20,g=25,h=15,k=30;e.viewcachesize=e.viewcache||null!=e.viewcachesize?G(e.viewcachesize,{width:256,height:256}):null;e.border=G(e.border,{color:"transparent"},!0);f={bounds:e.bounds,border:e.border,north:null,south:null,west:null,east:null,axiswidth:40,axisheight:40,annotationssizes:{north:f+g,west:f+k+g,south:f+k+h+g,east:f+k}};f=G(e,f,!0);UZ.call(this,f);this.IR=
null;this.vPb=!1;this.lhb=!0;this.Cca=[];this.jra={};this.jra[Zh.dc]=f.annotationssizes.west;this.jra[Zh.Ic]=f.annotationssizes.east;this.jra[Zh.vc]=f.annotationssizes.south;this.ab={};this.ab[Zh.dc]={};this.ab[Zh.Ic]={};this.ab[Zh.vc]={};this.An={};this.Yf={};this.Yf[Zh.dc]={};this.Yf[Zh.Ic]={};this.Yf[Zh.vc]={};this.zca={};this.zca[Zh.dc]=(new oi).Yl(0);this.zca[Zh.Ic]=(new oi).Yl(0);this.zca[Zh.vc]=(new oi).yl(0);this.E7={};this.E7[Zh.vc]=(new Am).Dd("south_layer");this.E7[Zh.dc]=(new Am).Dd("West_layer");
this.E7[Zh.Ic]=(new Am).Dd("east_layer");this.mCa=this.wBd.bind(this);this.B8c=this.yIc.bind(this);this.Yh();this.Ib.hr(this.zca[Zh.dc],Zh.dc);this.Ib.cC(0,this.zca[Zh.Ic],Zh.Ic);this.Ib.cC(0,this.zca[Zh.vc],Zh.vc);this.qa(new rf("white"));this.ra((new X("white")).Mg({x:!1,y:!1}));this.Ib.Edb();this.NE=f.viewcache;this.Dt={};null!=f.viewcachesize&&(this.NE=!0,this.Dt=f.viewcachesize);this.lx=new oi;this.lx.Ha(new U(0,0,1,1));this.lx.pi(this.NE?new ni(this.Dt.width,this.Dt.height):null);this.thb=!0;
this.r1=null;this.HKb=new rf({color:"lightgrey"});this.uhb=f.axiswidth;this.qhb=f.axisheight;e=this.Ib.Kb();e.Mf(0,this.lx);e.Tk(!0);this.sd=new Lk;e.Mf(0,(new oi).oa(this.sd));this.wd.Tk(!0);this.kO=new Am;this.Woc=(new oi).sa(new U(0,0,1,1));this.lx.Mf(0,this.rG());this.lx.Mf(0,this.kO);this.lx.Mf(0,this.Woc);this.ja=null;this.Dj=VG.ya();this.ie=am.hP(this.Ib,{location:Zh.me,text:"",textstyle:{font:a}});this.Ib.Vbb();this.Sy();this.setOptions(f)}var a="16px Roboto",b="#e0e0e0",d="#efefef";D(c,UZ);
L(c,"geotoolkit.widgets.MultiHistograms");c.Ja=A_;c.prototype.Sud=function(){return this.Woc};c.prototype.Yh=function(){if(null==this.E7)return this;UZ.prototype.Yh.call(this);this.Ib.bb(Zh.vc).oa((new oi).oa(this.E7[Zh.vc]));this.Ib.bb(Zh.dc).oa((new oi).oa(this.E7[Zh.dc]));this.Ib.bb(Zh.Ic).oa((new oi).oa(this.E7[Zh.Ic]));this.Xnc=(new aT(this.E7[Zh.vc])).Ob(!1).bB(function(g){for(var h=g.length;0<=h&&g[h]!==this.Ib.Kb();h--)if(g[h]instanceof rk)return g[h];return[]}.bind(this)).addListener($S.Rx,
function(g,h){this.lNc(Zh.vc,!0,!0,g,h);this.notify(c.Ja.MCb,this,{location:Zh.vc,histogram:this.An[this.r1]?this.An[this.r1].shape:null,group:this.ab[Zh.vc][this.r1]?this.r1:null})}.bind(this));this.Jpc=(new aT(this.E7[Zh.dc])).Ob(!1).bB(function(g){for(var h=g.length;0<=h&&g[h]!==this.Ib.Kb();h--)if(g[h]instanceof rk)return g[h];return[]}.bind(this)).addListener($S.Rx,function(g,h){this.lNc(Zh.dc,!0,!0,g,h);this.notify(c.Ja.MCb,this,{location:Zh.dc,histogram:this.An[this.r1]?this.An[this.r1].shape:
null,group:this.ab[Zh.dc][this.r1]?this.r1:null})}.bind(this));this.Ov.bB(function(g){for(var h=[],k=0;k<g.length;k++)g[k].histogram&&null!=this.An[g[k].histogram.ic()]&&h.push(g[k]);return h}.bind(this)).addListener($S.Rx,function(g,h){g=h.getSelection();h=!1;var k,l=[],m=[];for(k=0;k<g.length;k++)if(0!==g[k].hittest.length){var n=g[k].histogram;l.push(n);this.CId(n,g[k].hittest)&&(h=!0,this.n9b(n,!0),m.push(g[k].hittest))}h?this.notify(c.Ja.mac,this,{histograms:l,bins:m}):(this.oVc(this.Cca),n&&
(this.Ixa(this.Cca,!1),this.F6b(n),this.n9b(n,!0),this.O5(),this.notify(c.Ja.ucc,this,n)))}.bind(this));this.mn([(new NS(this.E7[Zh.vc],"southTools")).add([this.Xnc]),(new NS(this.E7[Zh.dc],"westTools")).add([this.Jpc])]);var e=YR.Oa(),f=this.bb(Zh.vc);this.IR=cS.ya().NM(e,{name:"southverticalscrollbar",modellimits:f.pa(),visiblelimits:f.vb()});e=function(g,h){g=this.bb(Zh.vc);h=h.vb();this.IR.Ha(g.pa(),h)}.bind(this);this.IR.addListener(KR.nv,e).addListener(KR.rn,e);this.IR.va(!0);this.Ib.hr(this.IR,
Zh.nw);this.mn([this.IR.Ec()]);return this};c.prototype.O5=function(){var e=jf(this.kO).mc(function(k){return k instanceof eR&&!0===k.getParent().Ia()}).qN();e=0<e.length?e[e.length-1]:null;if(null!=e){this.Ixa(e,!0);var f=this.SJ(e)[0],g=e.ic();e=e.ic();var h;null!=(h=f.groupid[Zh.vc])&&null!=this.Yf[Zh.vc][h]&&(e=h);null!=(h=f.groupid[Zh.dc])&&null!=this.Yf[Zh.dc][h]&&(g=h);null!=(h=f.groupid[Zh.Ic])&&null!=this.Yf[Zh.Ic][h]&&(g=h);null!=this.Yf[Zh.dc][g]?(h=this.Yf[Zh.dc][g],f=h.Ge()):null!=this.Yf[Zh.Ic][g]?
(h=this.Yf[Zh.Ic][g],f=h.Ge()):(f=new kk,h=(new rk(f)).Ha(new U(0,0,1,1)));null!=this.Yf[Zh.vc][e]?(e=this.Yf[Zh.vc][e],g=e.Ge()):(g=new kk,e=(new rk(g)).Ha(new U(0,0,1,1)));f=f.clone().rj("major",b).rj("minor",d).Ng("minor",f.mo("minor")).Ng("edge",!1);g=g.clone().rj("major",b).rj("minor",d).Ng("minor",g.mo("minor")).Ng("edge",!1);this.sd.pg(Rh.ob,g);this.sd.pg(Rh.xb,f);h=h.pa();e=e.pa();h=new U(e.la(),h.ma(),e.na(),h.ka());this.sd.getParent().Ha(h)}};c.prototype.ji=function(){UZ.prototype.ji.call(this);
this.O5();return this};c.prototype.n9b=function(e,f,g){e=this.SJ(e);for(var h=0;h<e.length;h++){var k=e[h].shape.ic(),l;for(l in this.Yf)if(this.Yf.hasOwnProperty(l)){var m=this.An[k].groupid[l];m&&this.Yf[l][m]?(this.X_b(this.Yf[l][m],l),f&&l!==g&&this.cxc(this.Yf[l][m],l)):this.Yf[l][k]?(this.X_b(this.Yf[l][k],l),f&&l!==g&&this.cxc(this.Yf[l][k],l)):this.X_b(null,l)}}return this};c.prototype.cxc=function(e,f){if(f===Zh.vc){var g=this.bb(f);e=e.getParent().ga();f=this.zca[f].ga().da();f=new U(e.la(),
e.ka()+g.ga().da()-f,e.na(),e.ka()-f);f.ma()>g.pa().ma()&&f.setY(g.pa().ma()-g.ga().da());this.IR.Ha(g.pa(),f)}};c.prototype.X_b=function(e,f){for(var g in this.Yf[f])this.Yf[f].hasOwnProperty(g)&&null!=this.Yf[f][g]&&this.Yf[f][g].getParent().qa(new rf("white"));null!=e&&(e.getParent().qa(this.HKb),this.bb(f).ha());return this};c.prototype.CId=function(e,f){return!0===this.An[e.ic()].highlightable?(e.lwa(f,!0),!0):!1};c.prototype.lNc=function(e,f,g,h,k){f=null!=f?f:!0;var l=this.Yf[e];h=h instanceof
rk?h:k.getSelection();if(null!=h)for(var m in l)l.hasOwnProperty(m)&&l[m]===h&&this.r1!==m&&(this.oVc(this.Cca),this.Ixa(this.Cca,!1),this.An[m]?this.F6b(m):this.ab[e][m]&&this.WPc(m),this.O5(),f&&this.n9b(this.r1,g,e));return this};c.prototype.oVc=function(e){e=this.SJ(e);for(var f=0;f<e.length;f++)e[f].shape.lwa([],!0);return this};c.prototype.tQa=function(e,f,g){null==e&&(e={});e=new eR(e);g=null!=g?g.toString():this.Yzc();e.Dd(g);e.on(Ce.Xe,this.mCa);e.on($Q.cgb,this.mCa);e.on($Q.YXa,this.B8c);
this.An[g]={shape:e,highlightable:!1,groupid:{}};this.An[g].groupid[Zh.dc]=null;this.An[g].groupid[Zh.Ic]=null;this.An[g].groupid[Zh.vc]=null;var h=new oi;h.sa(new U(0,0,1,1));h.oa(e);var k=e.fb().rb();this.kO.oa(h);this.Dj&&this.ja&&this.Dj.bind(e,this.ja);this.Ixa(null,!1).Ixa(e,!0);if(f&&null===f.xaxis)var l=null;else{var m=new MP(e.OV());m.Ng("minor",!1);m.Ng("edge",!0);m.jj("major").setColor(k);m.jj("minor").setColor(k);m.jj("edge").setColor(k);h=e.qP();h=null!=h?" ( "+h.Tc()+" )":"";h=e.Da()+
h;l=am.iS(this.Ib,{location:Zh.vc,connect:!1,title:{text:h,visible:!0,textstyle:new Ki({color:"#757575"}),alignment:O.Je},annotationitemswrap:!1}).axis;l.pg(m);l.lma().setColor(k);f&&null!=f.xaxis&&l.fa(f.xaxis)}f&&null===f.yaxis?h=null:(h=am.iS(this.Ib,{location:Zh.dc,connect:!1,title:{text:"Frequency",visible:!0,textstyle:new Ki({color:"#757575"}),alignment:O.vd},annotationitemswrap:!1}).axis,m=new kk,m.jj("major").setColor(k),h.pg(m),h.lma().setColor(k),f&&null!=f.yaxis&&h.fa(f.yaxis));l&&(k=f?
f.xaxis:{},k=G({axis:l},k),this.dwb(Zh.vc,k,e),this.Yf[Zh.vc][g]=l);h&&(f=f?f.yaxis:{},f=G({axis:h},f),this.dwb(Zh.dc,f,e),this.Yf[Zh.dc][g]=h);this.boe=e;this.O5();this.mb();return e};c.prototype.zLc=function(e){e=this.SJ(e);for(var f=0;f<e.length;f++){var g=e[f].shape;this.ALc(g);this.ewb(g.ic());var h=this.Cca.indexOf(g);-1!==h&&this.Cca.splice(h,1);this.An[g.ic()]=null;this.kO.removeChild(g.getParent());this.Dj&&this.ja&&this.Dj.unbind(g,this.ja);g.za($Q.cgb,this.mCa);g.za(Ce.Xe,this.mCa)}this.nF(Zh.dc);
this.nF(Zh.Ic);this.nF(Zh.vc);this.O5();return this};c.prototype.SJ=function(e){var f=null,g=[];if(void 0===e)return g;null===e&&(e=Object.keys(this.An));e=Array.isArray(e)?e:[e];for(var h=0;h<e.length;h++)"string"===typeof e[h]?f=this.An[e[h]]:e[h]instanceof eR&&(f=this.An[e[h].ic()]),f&&g.push(f),f=null;return g};c.prototype.Ixa=function(e,f){e=this.SJ(e);for(var g=0;g<e.length;g++){e[g].highlightable=f;var h=this.Cca.indexOf(e[g].shape);!0===f&&-1===h?this.Cca.push(e[g].shape):!1===f&&-1!==h&&
this.Cca.splice(h,1)}return this};c.prototype.Jod=function(){return this.Cca};c.prototype.tSa=function(e){e=this.SJ(e);for(var f=[],g=0;g<e.length;g++){var h=e[g].shape;f.push(h.tSa())}return f};c.prototype.YXb=function(e){var f=[],g;for(g in this.An)this.An.hasOwnProperty(g)&&null!=this.An[g]&&(e?f.push(this.An[g].shape.ic()):f.push(this.An[g].shape));return f};c.prototype.dAc=function(){var e=[],f;for(f in this.ab)if(this.ab.hasOwnProperty(f))for(var g in this.ab[f])this.ab[f].hasOwnProperty(g)&&
null!=this.ab[f][g]&&e.push(g);return e};c.prototype.W5a=function(e,f){var g=UZ.prototype.W5a.call(this,f),h=g.group;f="number"==typeof f.length?e===Zh.vc?this.qhb:this.uhb:f.length;e===Zh.vc?h.yl(f):h.Yl(f);e===Zh.dc&&(this.Ib.removeItem(h,Zh.dc),this.Ib.cC(0,h,Zh.dc));return g};c.prototype.dwb=function(e,f,g){f=xb(f,{title:{visible:!0,textstyle:new Ki({color:"#757575"}),alignment:O.Na}});var h=null!=f.axis?f.axis:f,k=UZ.prototype.Sv.call(this,h,e,null);h=k.axis;k=k.group;!f.tickgenerator||f.tickgenerator instanceof
Zi||h.Ge().fa(f.tickgenerator);null!=f.flip&&(e===Zh.vc||e===Zh.me?k.nl(f.flip):k.Tk(f.flip));var l="number"!==typeof f.length?e===Zh.vc?this.qhb:this.uhb:f.length;e===Zh.vc?k.yl(l):k.Yl(l);e===Zh.dc&&(this.Ib.removeItem(k,e),this.Ib.cC(0,k,e));this.Ib.xa();if(f.accumulative){h.Ha(new U(0,0,100,100));f=new oi;f.sa(new U(0,0,1,1));f.Ha(h.pa());this.kO.oa(f);this.Ib.connect(h,f);for(var m in this.An)this.An.hasOwnProperty(m)&&null!=this.An[m]&&this.An[m].shape.jFa()===cR.ODb&&(this.Yf[e][m]=h)}else g&&
this.ued(e,h,g);this.nF(e);this.O5();return h};c.prototype.Spb=function(e,f,g){!1===f instanceof rk&&"object"==typeof f&&this.dwb(e,f,g)};c.prototype.ued=function(e,f,g){g&&(0!==this.SJ(g).length?(this.Ib.connect(f,g.getParent()),this.Yf[e][g.ic()]=f):"string"==typeof g?(this.Ib.connect(f,this.ab[e][g].sharedmodel),this.Yf[e][g]=f,this.ab[e][g].axis=f):void 0!==g.groupid?(g=g.groupid,this.Ib.connect(f,this.ab[e][g].sharedmodel),this.Yf[e][g]=f,this.ab[e][g].axis=f):g instanceof Fe&&(this.Ib.connect(f,
g),this.Yf[e][g.ic()]=f),this.O5())};c.prototype.xWb=function(e){var f=[],g;if("string"==typeof e){for(g in this.Yf)if(this.Yf.hasOwnProperty(g)&&this.Yf[g].hasOwnProperty(e)){var h={};h.axis=this.Yf[g][e];h.id=e;h.location=g;f.push(h)}return f}if(e instanceof rk){for(g in this.Yf)if(this.Yf.hasOwnProperty(g))for(var k in this.Yf[g])this.Yf[g].hasOwnProperty(k)&&this.Yf[g][k]===e&&(h={},h.axis=e,h.id=k,h.location=g,f.push(h));return f}return null};c.prototype.ewb=function(e){if(e=this.xWb(e))for(var f=
0;f<e.length;f++){var g=e[f];this.Yf[g.location][g.id]=null;var h=g.axis;h&&(this.Ib.removeItem(h.getParent(),g.location),this.Ib.disconnect(h),this.nF(g.location))}return this};c.prototype.LFd=function(e,f){if(null!=e){var g=this.SJ(e);if(this.Yf.hasOwnProperty(f)&&this.Yf[f])if(0!==g.length){e=g[0].shape.ic();var h=this.Yf[f][e]}else if(null!=this.ab[f][e])h=this.Yf[f][e];else if(null!=this.ab[f][e.groupid])h=this.Yf[f][e.groupid];else return null;this.ewb(h);return this}return null};c.prototype.dispose=
function(){this.zLc(this.YXb());UZ.prototype.dispose.call(this)};c.prototype.nF=function(e,f){for(var g=this.Ib.bb(e),h=g.ue().getIterator(),k=g.ga().clone(),l=g.ga().clone(),m=1,n={};h.Kg();){var p=h.next();p.Ia()&&p instanceof oi&&(m=e===Zh.vc?m+p.ke():m+p.xk())}if(isNaN(m))return this;e===Zh.vc?(m>this.jra[e]&&!this.lhb?(n[e]=this.jra[e],this.oi(n),l=g.ga().clone(),this.vPb?g.Ha(k.Ya(m)):g.Ha(l),this.vPb&&(this.IR.va(!0),this.IR.Ha(g.pa(),l))):this.lhb?(n[e]=m,this.oi(n),l=g.ga().clone(),g.Ha(l),
this.IR.va(!1)):(n[e]=this.jra[e],this.oi(n),l.Ya(this.jra[e]),g.Ha(l),this.IR.Ha(l,l)),f||(this.nF(Zh.dc,!0),this.nF(Zh.Ic,!0))):(e===Zh.Ic&&this.IR.ia().size>m?n[e]=this.IR.ia().size:n[e]=m,this.oi(n),l=g.ga().clone(),g.Ha(l),f||this.nF(Zh.vc,!0));return this};c.prototype.Yzc=function(){return Be.Py()};c.prototype.wBd=function(e,f){var g=this.An[f.ic()].groupid[Zh.vc],h=this.An[f.ic()].groupid[Zh.dc],k=this.An[f.ic()].groupid[Zh.Ic];if(null!=this.Yf[Zh.vc][f.ic()]){var l=f.qP();l=null!=l?" ( "+
l.Tc()+" ) ":"";l=f.Da()+l;this.Yf[Zh.vc][f.ic()].Qq(l)}this.ur(f);g&&this.xXa(this.ab[Zh.vc][g],Zh.vc);h&&this.xXa(this.ab[Zh.dc][h],Zh.dc);k&&this.xXa(this.ab[Zh.Ic][k],Zh.Ic);this.notify(c.Ja.Aha,this,{event:e,src:f});this.Ib.ET();this.O5();this.mb()};c.prototype.yIc=function(e,f,g){if(e=this.Yf[Zh.vc][f.ic()])e.Ge().o5(g),this.O5(),this.mb()};c.prototype.ur=function(e,f){var g=e.getParent().pa().clone(),h=e.pa().clone();f!==Zh.vc&&null!=f||e.getParent().Ha(new U(h.la(),g.ma(),h.na(),g.ka()));
if(f!==Zh.vc||null==f)e.oSa()===bR.Fya&&e.jFa()===cR.LT?(f=V.ip(h.ka(),h.ma()),h.setY(f.Ua()).Ya(f.Za()-f.Ua()),e.getParent().Ha(h)):e.getParent().Ha(new U(g.la(),h.ma(),g.na(),h.ka()))};c.prototype.xXa=function(e,f){var g=e.models,h=!1,k,l=null;for(k=0;k<g.length;k++){var m=g[k].shape;m instanceof eR&&m.oSa()===bR.Fya&&m.jFa()===cR.LT&&(h=!0);null==l?l=new U(m.pa()):l.union(m.pa())}h&&(k=V.ip(l.ka(),l.ma()),l.setY(k.Ua()).Ya(k.Za()-k.Ua()));e.sharedmodel.pa().wi(l)||e.sharedmodel.Ha(l);for(k=0;k<
g.length;k++)m=g[k].shape,e=m.getParent().pa(),f===Zh.vc?m.getParent().Ha(new U(l.la(),e.ma(),l.na(),e.ka())):m.getParent().Ha(new U(e.la(),l.ma(),e.na(),l.ka())),m.getParent().ha()};c.prototype.Had=function(e,f){e=this.SJ(e);if("string"!=typeof f)if(void 0!==f.groupid)f=f.groupid;else return null;for(var g in this.ab)if(this.ab.hasOwnProperty(g)&&this.ab[g][f]){for(var h=this.ab[g][f],k=0;k<e.length;k++){var l=e[k].shape,m=h.models.indexOf(this.An[l.ic()]);-1===m&&(h.models.push(this.An[l.ic()]),
e[k].groupid[g]=f,(l=this.Yf[g][l.ic()])&&this.Ib.removeItem(l.getParent(),g))}this.xXa(h,g);this.nF(g);this.O5()}return this};c.prototype.ALc=function(e){e=this.SJ(e);for(var f=0;f<e.length;f++){var g=e[f].groupid,h=e[f].shape,k;for(k in g)g.hasOwnProperty(k)&&null!=g[k]&&this.BLc(h,g[k])}return this};c.prototype.BLc=function(e,f){e=this.SJ(e);if("string"!=typeof f)if(void 0!==f.groupid)f=f.groupid;else return null;for(var g in this.ab)if(this.ab.hasOwnProperty(g)&&this.ab[g][f]){for(var h=this.ab[g][f],
k=0;k<e.length;k++){var l=e[k].shape,m=h.models.indexOf(this.An[l.ic()]);-1!==m&&(h.models.splice(m,1),e[k].groupid[g]=null,this.ur(l),(l=this.Yf[g][l.ic()])&&this.Ib.hr(l.getParent(),g),0===this.I9a(f).length&&this.Hbb(f))}this.xXa(h,g);this.nF(g);this.O5()}return this};c.prototype.erb=function(e,f,g,h){var k=this.SJ(e);f=f?f:Zh.dc;var l,m;h=null!=h?h:this.Yzc();for(m=0;m<k.length;m++){var n=k[m];if(null!=n.groupid[f])return null;var p=n.shape;null==l?l=new U(p.pa()):l.union(p.pa())}var q;e="";this.Mm();
for(m=0;m<k.length;m++){n=k[m];p=n.shape;if(q=this.Yf[f][p.ic()])e=e+" "+q.Fm(),this.Ib.removeItem(q.getParent(),f);n.groupid[f]=h}p=new oi;p.Ha(l);p.sa(new U(0,0,1,1));this.kO.oa(p);this.ab[f][h]={models:k,sharedmodel:p};null==g&&(g={});if(!g.hasOwnProperty("axis")){null==g.linestyle&&(g.linestyle=new X);null==g.textstyle&&(g.textstyle=new Ki);null==g.baselinestyle&&(g.baselinestyle=new X);g.tickgenerator instanceof Zi||!q||(l=q.Ge().clone(),g.tickgenerator=l.Xr("major",!0).fa(g.tickgenerator));
f!==Zh.vc||null!=g.title&&null!=g.title.text||(g.title=null==g.title?{}:g,g.title.text=e);q&&(g=xb(g,q.ia(),!0));var r=this.dwb(f,g,h)}this.Zm();this.ab[f][h].axis=r;this.Yf[f][h]=r;this.xXa(this.ab[f][h],f);this.nF(f);return{groupid:h}};c.prototype.fa=function(e){this.setOptions(e);this.Dt={};void 0!==e.viewcache&&(this.NE=e.viewcache);void 0!==e.viewcachesize&&(this.NE=!0,this.Dt=e.viewcachesize,this.lx.pi(this.NE?new ni(this.Dt.width,this.Dt.height):null));return this};c.prototype.setOptions=function(e){if(null==
e)return this;UZ.prototype.fa.call(this,e);null!=e.header&&this.$_(e.header);null==e.axiswidth||isNaN(e.axiswidth)||(this.uhb=e.axiswidth);null==e.axisheight||isNaN(e.axisheight)||(this.qhb=e.axisheight);null!=e.tools&&this.wo(e.tools);null!=e.annotationsgaps&&this.APc(e.annotationsgaps);null!=e.autoannotationsize&&(this.lhb=e.autoannotationsize);null!=e.annotationssizes&&null!=e.annotationssizes.south&&(this.jra[Zh.vc]=e.annotationssizes.south);this.Ib.xa();this.nF(Zh.dc);this.nF(Zh.Ic);this.nF(Zh.vc);
return this};c.prototype.bI=function(e,f){var g=null;if(null!=e){var h=this.SJ(e);if(0!==h.length){var k=h[0].shape.ic();h=this.Yf[f][k]}else if(null!=this.ab[f][e])k=e,h=this.Yf[f][e];else if(null!=this.ab[f][e.groupid])k=e.groupid,h=this.Yf[f][e.groupid];else return null}h&&(e=h.getParent(),g=h.ia(),f===Zh.vc?(g.length=e.ke(),g.flip=e.mi()):(g.length=e.xk(),g.flip=e.lo()),g.accumulative=this.An[k]&&this.An[k].shape.jFa()===cR.ODb?!0:!1);return g};c.prototype.kX=function(e,f,g){if(null!=e){f=f?f:
Zh.vc;var h=this.SJ(e);if(0!==h.length)e=h[0].shape.ic(),e=this.Yf[f][e];else if(null!=this.ab[f][e])e=this.Yf[f][e];else if(null!=this.ab[f][e.groupid])e=this.Yf[f][e.groupid];else return this;null!=e&&(e.fa(g),h=e.getParent(),!g.tickgenerator||g.tickgenerator instanceof Zi||e.Ge().fa(g.tickgenerator),"number"==typeof g.length&&(f===Zh.vc?h.yl(g.length):h.Yl(g.length)),"boolean"==typeof g.flip&&(f===Zh.vc?h.nl(g.flip):h.Tk(g.flip)))}return this};c.prototype.ia=function(){var e=UZ.prototype.ia.call(this);
e=G(e,this.getData());e.header=this.i_();e.axiswidth=this.uhb;e.axisheight=this.qhb;e.autoannotationsize=this.lhb;e.tools=null!=e.tools?e.tools:{};e.tools.axisselection=this.yWb();e.tools.southscroll=this.rWb();return e};c.prototype.$_=function(e){if(null==e)return this;void 0!==e.title&&(this.ie.text.fa(e.title),$h.raa(this.ie.text,this.ie.group,Zh.me),this.Sy());return this};c.prototype.i_=function(){return{title:this.ie.text.ia()}};c.prototype.ZId=function(e,f){e=this.xWb(e);if(null==f||isNaN(f)||
!e||0===e.length)return this;e=e[0];e.location===Zh.vc?e.axis.getParent().yl(f):e.axis.getParent().Yl(f);return this};c.prototype.wo=function(e){if(!e)return this;UZ.prototype.wo.call(this,e);null!=e.axisselection&&this.JNc(e.axisselection);null!=e.southscroll&&this.BNc(e.southscroll,Zh.vc);return this};c.prototype.HS=function(){var e=UZ.prototype.HS.call(this);return e=G(e,{axisselection:this.yWb(),southscroll:this.rWb()})};c.prototype.JNc=function(e){null!==e.enabled&&(this.thb=e.enabled,this.Xnc.Ob(this.thb),
this.Jpc.Ob(this.thb));null!==e.highlightstyle&&(this.HKb=e.highlightstyle instanceof rf?e.highlightstyle:new rf(e.highlightstyle));return this};c.prototype.yWb=function(){var e={};e.enabled=this.thb;e.highlightstyle=this.HKb.ia();return e};c.prototype.BNc=function(e,f){var g=this.IR;null!=e.size&&"number"==typeof e.size&&g.La({width:e.size});null!=e.visible&&(g.va(e.visible),this.vPb=e.visible,this.nF(Zh.vc),this.nF(Zh.dc),this.nF(Zh.Ic));null!=e.options&&g.fa(e.options);this.bb(f).mb();return this};
c.prototype.rWb=function(){return this.IR.ia()};c.prototype.APc=function(e){null!=e[Zh.vc]&&(this.zca[Zh.vc]=e[Zh.vc],this.bb(Zh.vc).mb());null!=e[Zh.dc]&&(this.zca[Zh.dc]=e[Zh.dc],this.bb(Zh.dc).mb());null!=e[Zh.Ic]&&(this.zca[Zh.Ic]=e[Zh.Ic],this.bb(Zh.Ic).mb());return this};c.prototype.QXb=function(e){if("string"!=typeof e)if(e&&e.hasOwnProperty("groupid"))e=e.groupid;else return null;var f;for(f in this.ab)if(this.ab.hasOwnProperty(f)&&null!=this.ab[f][e]){var g=this.ab[f][e].models;var h=this.Yf[f][e];
var k=f}return{models:g,axis:h,id:e,location:k}};c.prototype.Hbb=function(e){var f=this.QXb(e);e=f.models;var g=f.axis,h=f.id;f=f.location;this.Mm();if(e){this.ewb(g);for(g=0;g<e.length;g++){e[g].groupid[f]=null;var k=e[g].shape;this.ur(k,f);k.getParent().ha();this.Yf[f][k.ic()]&&this.Ib.hr(this.Yf[f][k.ic()].getParent(),f)}this.Zm();this.nF(f)}this.ab[f][h]=null;return this};c.prototype.NCc=function(e,f){var g=this.xWb(e)[0];e=g.id;g=g.location;var h=[];if(this.Yf[g][e])for(var k in this.Yf)if(this.Yf.hasOwnProperty(k)&&
this.Yf[g][k]===this.Yf[g][e]){var l=this.An[k].shape.getParent().Ia();f&&!l||h.push(this.An[k].shape)}return h};c.prototype.FKd=function(e,f){e=this.SJ(e);for(var g,h,k=0;k<e.length;k++){var l=e[k];if(l){var m=l.shape.ic();if(!f&&!0===l.shape.getParent().Ia())for(h in l.shape.getParent().va(f),l.shape.ug(f),this.Yf)this.Yf.hasOwnProperty(h)&&(g=l.groupid[h],this.Yf[h][g]?0===this.I9a(g,!0).length&&this.Ib.removeItem(this.Yf[h][g].getParent(),h):this.Yf[h][m]&&0===this.NCc(m,!0).length&&this.Ib.removeItem(this.Yf[h][m].getParent(),
h));else if(!0===f&&!1===l.shape.getParent().Ia()){for(h in this.Yf)this.Yf.hasOwnProperty(h)&&(g=l.groupid[h],this.Yf[h][g]?0===this.I9a(g,!0).length&&this.Ib.hr(this.Yf[h][g].getParent(),h):this.Yf[h][m]&&0===this.NCc(m,!0).length&&this.Ib.hr(this.Yf[h][m].getParent(),h));l.shape.getParent().va(f);l.shape.ug(f)}}}this.nF(Zh.dc);this.nF(Zh.Ic);this.nF(Zh.vc);this.O5();return this};c.prototype.tyb=function(e){if(null==e)return this.tyb(Zh.dc),this.tyb(Zh.Ic),this.tyb(Zh.vc),this;for(var f in this.ab[e])this.ab[e].hasOwnProperty(f)&&
this.Hbb(f,e);return this};c.prototype.F6b=function(e){e=this.SJ(e)[0].shape;this.kO.removeChild(e.getParent());this.kO.oa(e.getParent());this.Ixa(e,!0);this.r1=e.ic();return this};c.prototype.WPc=function(e){e=this.QXb(e).models;var f,g=[];for(f=0;f<e.length;f++)this.kO.removeChild(e[f].shape.getParent()),g.push(e[f].shape);for(f=0;f<e.length;f++)this.kO.oa(g.pop().getParent());e=e[0].shape.ic();this.Ixa(e,!0);this.r1=e;return this};c.prototype.bind=function(e){if(null!=this.Dj)for(var f in this.An)this.An.hasOwnProperty(f)&&
this.Dj.bind(this.An[f],e)};c.prototype.unbind=function(e){if(null!=this.Dj)for(var f in this.An)this.An.hasOwnProperty(f)&&this.Dj.unbind(this.An[f],e)};c.prototype.setData=function(e){this.unbind(this.ja);this.ja=e;this.bind(this.ja);return this};c.prototype.getData=function(){return this.ja};c.prototype.GK=function(e,f){this.Dj!==e&&(this.unbind(this.getData()),this.Dj=e,!0!==f&&this.bind(this.getData()));return this};c.prototype.oS=function(){return this.Dj};c.prototype.Sqe=function(e,f){e=this.SJ(e);
for(var g=[],h,k=0;k<e.length;k++){var l=e[k];h={};for(var m in this.Yf)if(this.Yf.hasOwnProperty(m)&&(h[m]=this.Yf[m][l.shape.ic()],f)){var n=l.groupid[m];null!=n&&null!=this.Yf[m][n]&&(h[m]=this.Yf[m][n])}g.push(h)}return g};c.prototype.I9a=function(e,f,g){if("string"==typeof e)var h=e;else if(void 0!==e.groupid)h=e.groupid;else return null;e=[];var k=[],l;for(l in this.ab)this.ab.hasOwnProperty(l)&&null!=this.ab[l][h]&&(e=this.ab[l][h].models);for(l=0;l<e.length;l++)if(!f||e[l].shape.getParent().Ia())g?
k.push(e[l].shape.ic()):k.push(e[l].shape);return k};c.prototype.mBc=function(e){return this.QXb(e).location};c.prototype.qod=function(e){var f={};e=this.An[e.ic()];for(var g in e.groupid)e.groupid.hasOwnProperty(g)&&null!=e.groupid[g]&&(f[g]=e.groupid[g]);return f};c.prototype.Lod=function(e){e=this.SJ(e)[0];var f;null!=e&&(f=e.shape.getParent().pa().clone());return f};c.prototype.rod=function(e){if("string"!=typeof e)if(void 0!==e.groupid)e=e.groupid;else return null;for(var f in this.ab)if(this.ab.hasOwnProperty(f)&&
null!=this.ab[f][e]){var g=this.ab[f][e].sharedmodel;g=g.pa().clone()}return g};c.prototype.JD=function(e,f){UZ.prototype.JD.call(this,e,f||z_.ya())};c.prototype.zI=function(e){return UZ.prototype.zI.call(this,e||z_.ya())};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRVbmRlcmxheUxheWVyIjoiU3VkIiwiaW5pdGlhbGl6ZVRvb2xzIjoiWWgiLCJhZGRIaXN0b2dyYW0iOiJ0UWEiLCJyZW1vdmVIaXN0b2dyYW1zIjoiekxjIiwic2V0SGlnaGxpZ2h0YWJsZUhpc3RvZ3JhbXMiOiJJeGEiLCJnZXRIaWdobGlnaHRhYmxlSGlzdG9ncmFtcyI6IkpvZCIsImdldEhpZ2hsaWdodGVkQmlucyI6InRTYSIsImdldEhpc3RvZ3JhbXMiOiJZWGIiLCJnZXRHcm91cHNJZCI6ImRBYyIsImFkZFRpdGxlIjoiVzVhIiwiYWRkQXhpc1RvIjoiU3BiIiwiaW50ZXJuYWxSZW1vdmVBeGlzIjoiZXdiIiwicmVtb3ZlQXhpc0Zyb20iOiJMRmQiLCJvbkJpbnNVcGRhdGVkIjoieUljIiwiYWRkSGlzdG9ncmFtc1RvR3JvdXAiOiJIYWQiLCJyZW1vdmVIaXN0b2dyYW1zRnJvbUFsbEdyb3VwIjoiQUxjIiwicmVtb3ZlSGlzdG9ncmFtc0Zyb21Hcm91cCI6IkJMYyIsImNyZWF0ZUdyb3VwIjoiZXJiIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0QXhpc09wdGlvbnMiOiJiSSIsInNldEF4aXNPcHRpb25zIjoia1giLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRIZWFkZXJPcHRpb25zIjoiJF8iLCJnZXRIZWFkZXJPcHRpb25zIjoiaV8iLCJzZXRBeGlzV2lkdGhPckhlaWdodCI6IlpJZCIsInNldFRvb2xzT3B0aW9ucyI6IndvIiwiZ2V0VG9vbHNPcHRpb25zIjoiSFMiLCJzZXRBeGlzU2VsZWN0aW9uIjoiSk5jIiwiZ2V0QXhpc1NlbGVjdGlvbk9wdGlvbnMiOiJ5V2IiLCJzZXRBbm5vdGF0aW9uc1Njcm9sbEJhciI6IkJOYyIsImdldEFubm90YXRpb25TY3JvbGxCYXJPcHRpb25zIjoicldiIiwic2V0R2FwcyI6IkFQYyIsInJlbW92ZUdyb3VwIjoiSGJiIiwic2V0SGlzdG9ncmFtc1Zpc2libGUiOiJGS2QiLCJyZW1vdmVBbGxHcm91cCI6InR5YiIsInNldEluRnJvbnRIaXN0b2dyYW0iOiJGNmIiLCJzZXRJbkZyb250R3JvdXAiOiJXUGMiLCJzZXREYXRhQmluZGluZyI6IkdLIiwiZ2V0RGF0YUJpbmRpbmciOiJvUyIsImdldFJlbGF0ZWRIaXN0b2dyYW1zQnlHcm91cCI6Ikk5YSIsImdldExvY2F0aW9uT2ZHcm91cCI6Im1CYyIsImdldEdyb3VwSWRCeUhpc3RvZ3JhbSI6InFvZCIsImdldEhpc3RvZ3JhbU1vZGVsTGltaXRzIjoiTG9kIiwiZ2V0R3JvdXBNb2RlbExpbWl0cyI6InJvZCIsImxvYWRUZW1wbGF0ZSI6IkpEIiwic2F2ZVRlbXBsYXRlIjoiekkifX19");var C_=/*#__PURE__*/va(/*#__PURE__*/{Vha:"StateChanged"},2,"eyJTdGF0ZUNoYW5nZWQiOiJWaGEifSAg"),D_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){ue.call(this);this.Oe=a;this.hp=!0;this.If=!1}D(c,ue);c.Ja=C_;c.prototype.dispose=function(){var a=this;ue.prototype.dispose.call(this);for(var b in a)a.hasOwnProperty(b)&&"object"===typeof a[b]&&(a[b]=null)};c.prototype.lI=function(){return this.Oe};c.prototype.aw=function(a){this.notify(C_.Vha,this,a);return this};c.prototype.Ia=function(){return this.hp};c.prototype.va=function(a){if(this.hp===a)return this;this.hp=a;this.aw("Visible");return this};
c.prototype.kSa=function(){return this.If};c.prototype.Ob=function(a){if(this.If===a)return this;this.If=a;this.aw("Enabled");return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRXaWRnZXQiOiJsSSIsIm9uU3RhdGVDaGFuZ2VkIjoiYXciLCJnZXRWaXNpYmxlIjoiSWEiLCJzZXRWaXNpYmxlIjoidmEiLCJnZXRFbmFibGVkIjoia1NhIiwic2V0RW5hYmxlZCI6Ik9iIn19fSAg");var E_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}c.prototype.Da=Fb;c.prototype.kb=Fb;c.prototype.ee=Fb;c.prototype.Eb=Fb;c.prototype.Tc=Fb;c.prototype.Nn=Fb;c.prototype.Fk=Fb;c.prototype.Db=Fb;c.prototype.vG=Fb;c.prototype.Tx=Fb;c.prototype.ta=Fb;c.prototype.setOptions=Fb;return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROYW1lIjoiRGEiLCJzZXROYW1lIjoia2IiLCJnZXRUZXh0IjoiZWUiLCJzZXRUZXh0IjoiRWIiLCJnZXRTeW1ib2wiOiJUYyIsInNldFN5bWJvbCI6Ik5uIiwiZ2V0QW5jaG9yIjoiRmsiLCJzZXRBbmNob3IiOiJEYiIsImdldFRhcmdldCI6InZHIiwic2V0VGFyZ2V0IjoiVHgiLCJnZXRPcHRpb25zIjoidGEifX19");var F_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){ue.call(this);this.ea=xb(d?d.options:null,{textstyle:new Ki,linestyle:{color:a,width:1,pixelsnapmode:{x:!0,y:!0}},fillstyle:b},!0);d=G(d,{name:"",text:"",target:null,anchor:null},!0);this.fc=d.name;this.Pb=d.text;this.Qg=d.target;this.Oj=this.Qg.getRoot();this.u1=d.anchor;this.Zc=d.symbol;this.WTa(this.ea)}var a="#1565c0",b="#fdd835";D(c,ue);lc(c,E_);L(c,"geotoolkit.widgets.overlays.Annotation");c.prototype.WTa=function(d){void 0!==d.textstyle&&(d.textstyle=Ki.Pa(d.textstyle));
void 0!==d.fillstyle&&(d.fillstyle=tg.ad(d.fillstyle));void 0!==d.linestyle&&(d.linestyle=X.Pa(d.linestyle));this.ea=G(d,this.ea||{});return this};c.prototype.Da=function(){return this.fc};c.prototype.kb=function(d){if(this.fc===d)return this;this.fc=d;this.notify(te.uj,this);return this};c.prototype.ee=function(){return this.Pb};c.prototype.Eb=function(d){if(this.Pb===d)return this;this.Pb=d;this.notify(te.uj,this);return this};c.prototype.Tc=function(){return this.Zc};c.prototype.Nn=function(d){if(this.Zc===
d)return this;this.Zc=d;this.notify(te.uj,this,"Symbol");return this};c.prototype.Fk=function(){return this.u1};c.prototype.Db=function(d){if(this.u1.Ew(d))return this;this.u1=d;this.notify(te.uj,this);return this};c.prototype.vG=function(){return this.Qg};c.prototype.Tx=function(d){if(this.Qg===d)return this;this.Qg=d;this.Oj=d.getRoot();this.notify(te.uj,this);return this};c.prototype.ta=function(){return this.ea};c.prototype.setOptions=function(d){this.WTa(d);this.notify(te.uj,this,"Options");
return this};c.Pa=function(d){return nc(d,E_)?d:new c(d)};c.prototype.aud=function(){return this.Oj};c.prototype.MJ=function(d){return this};c.prototype.yI=function(d){return this};c.prototype.fa=function(d){if(null==d)return this;void 0!==d.text&&this.Eb(d.text);this.setOptions(d);return this};c.prototype.ia=function(){return G(this.ta(),{text:this.ee()})};return c}(),2,"eyJmcm9tT2JqZWN0IjoiUGEiLCJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROYW1lIjoiRGEiLCJzZXROYW1lIjoia2IiLCJnZXRUZXh0IjoiZWUiLCJzZXRUZXh0IjoiRWIiLCJnZXRTeW1ib2wiOiJUYyIsInNldFN5bWJvbCI6Ik5uIiwiZ2V0QW5jaG9yIjoiRmsiLCJzZXRBbmNob3IiOiJEYiIsImdldFRhcmdldCI6InZHIiwic2V0VGFyZ2V0IjoiVHgiLCJnZXRPcHRpb25zIjoidGEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var G_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){PR.call(this,b);this.zF=!1;this.zk=a}D(c,PR);L(c,"geotoolkit.controls.tools.AnnotationEventArgs");c.prototype.cancel=function(){this.zF=!0;return this};c.prototype.mk=function(){return this.zF};c.prototype.bb=function(){return this.zk};c.prototype.jX=function(a){this.zk=a;return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc0NhbmNlbGVkIjoibWsiLCJnZXRBbm5vdGF0aW9uIjoiYmIiLCJzZXRBbm5vdGF0aW9uIjoialgifX19");var H_=/*#__PURE__*/function(){function c(a,b,d,e,f){a=null;e=e.contains(b.x,b.y);if(!1===e){a=(new dh).ra(f.linestyle).qa(f.fillstyle);var g=f.connectorsize||10;f=b.clone();var h=g*Math.tan(Math.PI/6);e=f.clone().setX(f.getX()-g).setY(f.getY()-h);h=f.clone().setX(f.getX()-g).setY(f.getY()+h);g=f.clone().setX(f.getX()-g);b=Math.atan2(d.getY()-b.getY(),d.getX()-b.getX())-Math.PI;b=W.Xi(b,f.getX(),f.getY());var k=b.hd(d);if(g.getX()<k.getX()&&k.getX()<f.getX()||g.getX()>k.getX()&&k.getX()>f.getX())d=b.Ma(g);b.Ma(e,
e);b.Ma(g,g);b.Ma(h,h);a.moveTo(d.getX(),d.getY()).lineTo(g.getX(),g.getY()).lineTo(e.getX(),e.getY()).lineTo(f.getX(),f.getY()).lineTo(h.getX(),h.getY()).lineTo(g.getX(),g.getY()).close()}return{geometry:a,clip:null}}return c}();var I_=function(){function c(a,b,d,e,f){var g=(new dh).ra(f.linestyle).qa(f.fillstyle),h=Math.abs(f.radius);e.ca()/2<h&&(h=e.ca()/2);e.da()/2<h&&(h=e.da()/2);var k=f.connectorsize;f=e.contains(b.x,b.y);var l=b.getX(),m=b.getY();b=d.getX();d=d.getY();if(f)g.moveTo(e.getX()+h,e.getY()).lineTo(e.na()-h,e.getY()),0<h&&g.arcTo(e.na(),e.ka(),e.na(),e.ka()+h,h),g.lineTo(e.na(),e.ma()-h),0<h&&g.arcTo(e.na(),e.ma(),e.na()-h,e.ma(),h),g.lineTo(e.getX()+h,e.getY()+e.da()),0<h&&g.arcTo(e.la(),e.ma(),e.la(),e.ma()-
h,h),g.lineTo(e.getX(),e.getY()+h),0<h&&g.arcTo(e.la(),e.ka(),e.la()+h,e.ka(),h),g.close();else{var n={position:"top",value:e.ka(),VA:e.la(),Sx:e.na(),jN:h,gQ:h},p={position:"right",value:e.na(),VA:e.ka(),Sx:e.ma(),jN:h,gQ:h},q={position:"bottom",value:e.ma(),VA:e.na(),Sx:e.la(),jN:h,gQ:h};e={position:"left",value:e.la(),VA:e.ma(),Sx:e.ka(),jN:h,gQ:h};n.next=p;p.next=q;q.next=e;e.next=n;h=k/2;var r=null;k=function(t,u,w){var y=u.qBb,A=Math.min(u.VA,u.Sx),x=Math.max(u.VA,u.Sx),C=u.VA<u.Sx?u.jN:u.gQ,
z=u.VA<u.Sx?u.gQ:u.jN,v=Math.min(u.kG,u.tM),B=Math.max(u.kG,u.tM),E=null,H=null;A+C<v&&B<x-z||(v<A+C&&(C=Math.max(v-A,0),v<A&&(E=y<A?A-v:null,v=A,C=null)),B>x-z&&(z=Math.max(x-B,0),B>x&&(H=y>x?B-x:null,B=x,z=null)),u.VA<u.Sx?(u.kG=v,u.jN=C,u.tM=B,u.gQ=z):(u.kG=B,u.jN=z,u.tM=v,u.gQ=C),y=function(F,I,J,K){return Math.min(I+J,K)},A=function(F,I,J,K){return Math.max(K,I-J)},null!=E&&("top"===u.position||"right"===u.position?(u.kG=null,u.VA=null,t.kG="left"===t.position?y(t,t.Sx,E,t.VA-t.jN):A(t,t.Sx,
E,t.VA+t.jN)):(u.tM=null,u.Sx=null,w.tM="left"===w.position?A(w,w.VA,E,w.Sx+w.gQ):y(w,w.VA,E,w.Sx-w.gQ))),null!=H&&("top"===u.position||"right"===u.position?(u.tM=null,u.Sx=null,w.tM="right"===w.position?y(w,w.VA,H,w.Sx-w.gQ):A(w,w.VA,H,w.Sx+w.gQ)):(u.kG=null,u.VA=null,t.kG="right"===t.position?A(t,t.Sx,H,t.VA+t.jN):y(t,t.Sx,H,t.VA-t.jN))),t.gQ=u.jN,null==u.VA&&(t.Sx=null),w.jN=u.gQ,null==u.Sx&&(w.VA=null))};r=[];Math.abs(d-n.value)<V.Qb?(r=n,r.qBb=l,r.PSb=b,r.kG=b-h,r.tM=b+h,k(e,n,p),r=[n,p,q,e]):
Math.abs(b-p.value)<V.Qb?(r=p,r.qBb=m,r.PSb=d,r.kG=d-h,r.tM=d+h,k(n,p,q),r=[p,q,e,n]):Math.abs(d-q.value)<V.Qb?(r=q,r.qBb=l,r.PSb=b,r.kG=b+h,r.tM=b-h,k(p,q,e),r=[q,e,n,p]):(r=e,r.qBb=m,r.PSb=d,r.kG=d+h,r.tM=d-h,k(q,e,n),r=[e,n,p,q]);b=function(t){g.moveTo(l,m);t=t[0];null!=t.tM&&("top"===t.position||"bottom"===t.position?g.lineTo(t.tM,t.value):g.lineTo(t.value,t.tM));var u=t,w=u.next;do u!==t&&null!=u.kG&&("top"===u.position||"bottom"===u.position?g.lineTo(u.kG,u.value):g.lineTo(u.value,u.kG)),0<
u.gQ?"top"===u.position||"bottom"===u.position?g.arcTo(u.Sx,u.value,u.Sx,w.VA+("right"===w.position?1:-1)*w.jN,u.gQ):g.arcTo(u.value,u.Sx,w.VA+("top"===w.position?1:-1)*w.jN,u.Sx,u.gQ):null!=u.Sx&&("top"===u.position||"bottom"===u.position?g.lineTo(u.Sx,u.value):g.lineTo(u.value,u.Sx)),w!==t&&null!=w.tM&&("top"===w.position||"bottom"===w.position?g.lineTo(w.tM,w.value):g.lineTo(w.value,w.tM)),u=w,w=u.next;while(u!==t);"top"===t.position||"right"===t.position?t.VA+t.jN<t.kG&&("top"===t.position?g.lineTo(t.kG,
t.value):g.lineTo(t.value,t.kG)):t.VA+t.jN>t.kG&&("bottom"===t.position?g.lineTo(t.kG,t.value):g.lineTo(t.value,t.kG));g.lineTo(l,m);return g};b(r)}b=g.ga();d=null;!1===f&&null==a&&(null!=this.Ea()&&(b=b.clone().Uc(this.Ea().ca())),d=(new Ed).moveTo(b.la(),b.ka()).lineTo(b.na(),b.ka()).lineTo(b.na(),b.ma()).lineTo(b.la(),b.ma()).lineTo(b.la(),b.ka()).moveTo(l-1,m-1).lineTo(l+1,m-1).lineTo(l+1,m+1).lineTo(l-1,m+1).lineTo(l-1,m-1).close());return{geometry:g,clip:d}}return c}();var J_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){this.Xhc={}}L(c,"geotoolkit.widgets.overlays.annotationgeometry.Registry");c.prototype.Vd=function(b){return this.Xhc[b]};c.prototype.vga=function(b,d){this.Xhc[b]=d;return this};var a=null;c.ya=function(){null==a&&(a=new c);return a};return c}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsiZ2V0R2VvbWV0cnkiOiJWZCIsInJlZ2lzdGVyR2VvbWV0cnkiOiJ2Z2EifX19");var K_=/*#__PURE__*/va(/*#__PURE__*/{zfb:"GeometryChanged"},2,"eyJHZW9tZXRyeUNoYW5nZWQiOiJ6ZmIifSAg"),L_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){var e=nc(d,E_)?d.ta():null;d=G(e||d,{annotation:nc(d,E_)?d:null,offset:null,frame:null,radius:0,connectorsize:1,orientation:Rh.ob,visible:!0,textstyle:new Ki({color:"black",alignment:"left",font:"12px Arial",baseLine:"top"}),linestyle:{color:a,width:1,pixelsnapmode:{x:!0,y:!0}},fillstyle:b,geometrytype:"rectangle-callouts",cssclass:"AnnotationShape"},!0);Zg.call(this,d);this.zk=d.annotation;this.vNb=null;this.zk instanceof ue&&(this.vNb=function(f,
g,h){"Symbol"===h&&this.kqb(g.Tc());"Options"===h&&this.Iqc(g.ta());this.Zg().ha()}.bind(this),this.zk.on(te.uj,this.vNb));this.va(d.visible);this.Cb=d.offset;this.cja=d.frame;this.wc=Math.abs(d.radius);this.Wc=d.orientation;this.cIb=d.connectorsize;this.Mjb=d.geometrytype;this.wg=null;this.Pb=(new ek({text:this.zk.ee(),ax:0,ay:0,width:150,height:50,textStyle:d.textstyle,alignment:O.Ld,sizeIsInDeviceSpace:!0})).tc(O.Ld).Wj(ck.eL).bx(!0);this.vR=this.xf=null;this.SLa=(new oi).Te(!0).oa([this.oib=(new oi).Yc(!0).oa([this.Kka=
(new oi).Yc(!0).sa(new U(0,0,16,16)).va(!1),this.Pb])]);this.oib.Yd=function(){var f=this.ga();if(null==f||this.Wc!==Rh.xb)return oi.prototype.Yd.call(this);f=this.getParent().pa().da();return W.multiply(W.cf(0,f),W.Xi(-Math.PI/2,0,0))}.bind(this.oib);this.m0a=this.TZa=this.eia=this.RZa=this.q6=this.Sa=null;this.kqb(this.zk.Tc());this.Iqc(this.zk.ta())}var a="#1565c0",b="#fdd835";D(c,Zg);L(c,"geotoolkit.widgets.overlays.AnnotationShape");c.Ja=K_;c.prototype.dispose=function(){this.zk instanceof ue&&
this.zk.za(te.uj,this.vNb);this.kqb(null);if(null!=this.wg){if(Array.isArray(this.wg))for(var d=0;d<this.wg.length;d++)this.wg[d].dispose();else this.wg.dispose();this.wg=null}null!=this.SLa&&(this.SLa.dispose(),this.SLa=null);Zg.prototype.dispose.call(this)};c.prototype.bb=function(){return this.zk};c.prototype.zg=function(){return this.Wc};c.prototype.setOrientation=function(d){if(this.Wc===d)return this;this.ha();this.Wc=d;this.oib.Wc=d;d=this.Cb.clone();var e=this.cja.clone();this.Wc===Rh.xb?
this.Cb.Ga(d.y,-1*d.x):this.Cb.Ga(-1*d.y,d.x);this.cja.setSize(e.height,e.width);this.Zg().ha();return this};c.prototype.Eb=function(d){if(this.ee()===d)return this;this.ha();this.zk.Eb(d);this.Zg().ha();return this};c.prototype.ee=function(){return this.zk.ee()};c.prototype.kqb=function(d){null!=this.xf&&null!=this.vR&&(this.xf.za(Fj.Cj,this.vR),this.vR=null);this.Kka.dh().Ha(null).va(!1);this.xf=null;if(null==d)return this;if("string"==typeof d||d instanceof Gj)this.VP(d);else if(d instanceof oi)this.Kka.oa(d).sa(new U(0,
0,d.ga().ca(),d.ga().da())).Ha(d.ga().clone()).va(!0);else{var e=d.width,f=d.height;null!=d.url&&"string"==typeof d.url?this.VP(d.url,e,f,d.keepaspectratio):null!=d.node&&d.node instanceof Fe&&(d.node instanceof Gj?this.VP(d.node,e,f,d.keepaspectratio):this.Kka.oa(d.node).sa(new U(0,0,e,f)).Ha(new U(0,0,e,f)).va(!0))}this.Kka.Ia()&&this.Zg().ha();return this};c.prototype.VP=function(d,e,f,g){var h=null;this.xf=h=d instanceof Gj?d.clone().tc(O.Ld).Db(0,0).y5(!1):new Gj({x:0,y:0,alignment:O.Ld,url:d,
sizeisindevicespace:!1});this.Kka.oa(this.xf);var k=function(){e=e||this.xf.ca();f=f||this.xf.ca();this.Kka.sa(new U(0,0,e,f)).Ha(new U(0,0,this.xf.ca(),this.xf.da())).va(!0);if(!1!==g&&(e!==this.xf.ca()||f!==this.xf.da())){var l=this.xf.ca()/this.xf.da(),m=e/f;l=m>l?new Vd(this.xf.ca()*f/this.xf.da(),f):new Vd(e,this.xf.da()*e/this.xf.ca());this.xf.setSize(l.ca(),l.da());this.Kka.Ha(null)}this.Zg().ha()}.bind(this);!1===h.loaded?(this.vR=function(){this.xf.za(Fj.Cj,this.vR);this.vR=null;k()}.bind(this),
this.xf.on(Fj.Cj,this.vR)):k()};c.prototype.Tc=function(){return this.zk.Tc()};c.prototype.Nn=function(d){if(this.Tc()===d)return this;this.ha();this.zk.Nn(d);this.kqb(d).Zg().ha();return this};c.prototype.vG=function(){return this.zk.vG()};c.prototype.Tx=function(d){if(this.vG()===d)return this;this.zk.Tx(d);this.Zg().ha();return this};c.prototype.sp=function(){return this.Cb};c.prototype.No=function(d){if(null!=this.Cb&&this.Cb.Ew(d,V.Qb))return this;this.ha();this.Cb=M.Pa(d);null!=this.zk&&this.zk.setOptions({offset:this.Cb});
this.Zg().ha();return this};c.prototype.mOc=function(d){if(this.cIb===d)return this;this.ha();this.cIb=d;this.Zg().ha();return this};c.prototype.yyc=function(){return this.cIb};c.prototype.Fk=function(){return this.zk.Fk()};c.prototype.Db=function(d){if(null!=this.Fk()&&this.Fk().Ew(d,V.Qb))return this;this.ha();this.zk.Db(d);this.Zg().ha();return this};c.prototype.Li=function(d,e){var f=new bk;if(d instanceof U)return e=[d.la(),d.na(),d.na(),d.la()],d=[d.ka(),d.ka(),d.ma(),d.ma()],f.select(this.getRoot(),
e,d,!0).filter(function(g){return!(g instanceof Fe)&&g.visual===this}.bind(this));d=this.wa().nc(d,d);return f.select(this.getParent(),d.x,d.y,e?e:10).filter(function(g){return!(g instanceof Fe)&&g.visual===this}.bind(this))};c.prototype.render=function(d){function e(l){-1===h.indexOf(this)&&h.push(this)}var f=null!=this.Qa()?d.Zb(this.Qa()):d;if(d instanceof pk)null==this.m0a&&(this.Zg(d.Fa()),this.m0a={path:this.wg,textarea:this.SLa});else if(null==this.Sa||null!=this.m0a)this.m0a=null,this.Zg();
this.Eh(f);var g=d.ac(),h=g?[]:null;if(null!=this.wg)if(Array.isArray(this.wg))for(var k=0;k<this.wg.length;k++)g?d.Ym(this.wg[k],e.bind(this.wg[k])):this.wg[k].render(f);else this.wg.render(f);this.SLa.render(f);f.ac()&&(d.qa(rf.kh),d.ra(null),d.sc(this.SHb));this.jh(f);g&&0<h.length&&d.fT({visual:this,paths:h})};c.prototype.ga=function(){null==this.Sa&&this.Zg();return this.Sa};c.prototype.Zg=function(d){if(null!=this.m0a)return this;var e=this.vG(),f=this.Fk();if(null==this.getParent()||null==
f||null==e||null==e.wa()||null==this.Cb||null==this.cja)return this;if(e.getRoot()!==this.zk.aud())return this.va(!1);this.va(!0);this.Pb.Eb(this.zk.ee());var g=e.wa();e=this.wa();if(null!=d){var h=W.divide(d,this.wa());e=W.multiply(h,e);g=W.multiply(h,g)}f=g.Ma(f);g=this.cja.clone();g=new Vd(g.width/2,g.height/2);var k=f.clone().Ga(f.getX()+this.Cb.getX(),f.getY()+this.Cb.getY());h=new U(k.x-g.width,k.y-g.height,k.x+g.width,k.y+g.height);g=h.clone().Uc(-4);var l=new M(Number.NaN,Number.NaN),m=new M(Number.NaN,
Number.NaN);m=h.c9(f,k,l,m);k=0!==m?l:k;l=J_.ya().Vd(this.Mjb);null==l&&(l=J_.ya().Vd("rectangle-callouts"));m=G(this.ea,this.ia(),!0);m.annotation=this.zk;l=l.call(this,d,f,k,h,m);this.wg=null!=l?l.geometry:null;d=null;if(null!=this.wg){m=Array.isArray(this.wg)?this.wg:[this.wg];for(var n,p=0;p<m.length;p++)n=m[p].ga(),null!=e&&(n=e.pd(n),m[p].Vd().transform(e.rc())),d=null==d?n:d.clone().union(n)}l=null!=l?l.clip:null;m=null;null!=l&&(m=new Oe(e?l.transform(e.rc()):l));this.uo(m);this.SHb=null!=
e?e.pd(h):h;this.Sa=null!=d?d.union(this.SHb):this.SHb;this.q6=h;this.eia=g;this.SLa.sa(g.clone()).Kc(null!=e?e.rc():null).Ha(new U(0,0,g.ca(),g.da()));e=this.Pb.jb();e=e.pj();h=this.oib.pa();d=0;this.Kka.Ia()&&(d=this.Kka.ga().ca()+2);if(null!=h){switch(e){case Fi.kc:this.Pb.tc(O.Ld).Db(h.la()+d,0);break;case Fi.Na:this.Pb.tc(O.Xd).Db(h.cc()+d/2,0);break;case Fi.$b:this.Pb.tc(O.Qf).Db(h.na(),0)}g.setX(g.getX()+d).Ra(g.ca()-d)}this.Wc===Rh.ob?this.Pb.Gaa(g.ca(),g.da()):this.Pb.Gaa(g.da()-d,g.ca()+
d);this.TZa={"top-left":new M(this.eia.la(),this.eia.ka()),"top-right":new M(this.eia.na(),this.eia.ka()),"bottom-right":new M(this.eia.na(),this.eia.ma()),"bottom-left":new M(this.eia.la(),this.eia.ma())};this.RZa={anchor:f,offset:k,center:new M(this.q6.cc(),this.q6.zc()),"top-left":new M(this.q6.la(),this.q6.ka()),"top-right":new M(this.q6.na(),this.q6.ka()),"bottom-right":new M(this.q6.na(),this.q6.ma()),"bottom-left":new M(this.q6.la(),this.q6.ma())};this.JIc();return this};c.prototype.JIc=function(){this.notify(c.Ja.zfb,
this)};c.prototype.Cyc=function(d){if(void 0===d)return this.RZa;var e={},f;for(f in this.RZa)this.RZa.hasOwnProperty(f)&&(e[f]=d.hd(this.RZa[f]));return e};c.prototype.WDc=function(d){if(void 0===d)return this.TZa;var e={},f;for(f in this.TZa)this.TZa.hasOwnProperty(f)&&(e[f]=d.hd(this.TZa[f]));return e};c.prototype.LXb=function(){return this.cja};c.prototype.s6b=function(d){if(null!=this.cja&&this.cja.fwc(d,V.Qb))return this;this.ha();this.cja=Vd.Pa(d);null!=this.zk&&this.zk.setOptions({frame:this.cja});
this.Zg().ha();return this};c.prototype.Mw=function(){return this.wc};c.prototype.MG=function(d){if(null==d)throw Error("radius can not be null");if(this.wc===d)return this;this.ha();this.wc=d;this.Zg().ha();return this};c.prototype.BPc=function(d){if(this.Mjb===d)return this;this.ha();this.Mjb=d;this.Zg().ha();return this};c.prototype.Iqc=function(d){this.ea=d;this.fa(d);return this};c.prototype.ia=function(){var d=Zg.prototype.ia.call(this);d.annotation=this.bb();d.textstyle=this.Pb.jb();d.connectorsize=
this.yyc();d.geometrytype=this.Mjb;d.radius=this.Mw();d.frame=this.LXb();d.offset=this.sp();return d};c.prototype.fa=function(d){d=hc(d);if(null==d)return this;Zg.prototype.fa.call(this,d);void 0!==d.annotation&&(this.zk=d.annotation);if(void 0!==d.textstyle){if(null!=d.textstyle){var e=d.textstyle.O9(),f=this.Pb.KA();f=f===ck.wn;f===e&&(e=f?ck.fL:ck.wn,this.Pb.Wj(e))}this.Pb.ib(d.textstyle).xa()}void 0!==d.connectorsize&&this.mOc(d.connectorsize);void 0!==d.geometrytype&&this.BPc(d.geometrytype);
void 0!==d.radius&&this.MG(d.radius);void 0!==d.frame&&this.s6b(d.frame);void 0!==d.offset&&this.No(d.offset);return this};c.prototype.Vtd=function(){return this.xf.width};J_.ya().vga("none",function(){return null});return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbm5vdGF0aW9uIjoiYmIiLCJnZXRPcmllbnRhdGlvbiI6InpnIiwic2V0VGV4dCI6IkViIiwiZ2V0VGV4dCI6ImVlIiwiZ2V0U3ltYm9sIjoiVGMiLCJzZXRTeW1ib2wiOiJObiIsImdldFRhcmdldCI6InZHIiwic2V0VGFyZ2V0IjoiVHgiLCJnZXRPZmZzZXQiOiJzcCIsInNldE9mZnNldCI6Ik5vIiwic2V0Q29ubmVjdG9yU2l6ZSI6Im1PYyIsImdldENvbm5lY3RvclNpemUiOiJ5eWMiLCJnZXRBbmNob3IiOiJGayIsInNldEFuY2hvciI6IkRiIiwiaGl0VGVzdCI6IkxpIiwiZ2V0Qm91bmRzIjoiZ2EiLCJ1cGRhdGVHZW9tZXRyeSI6IlpnIiwib25HZW9tZXRyeUNoYW5nZWQiOiJKSWMiLCJnZXRDb250cm9sUG9pbnRzIjoiQ3ljIiwiZ2V0VGV4dEZyYW1lIjoiV0RjIiwiZ2V0RnJhbWUiOiJMWGIiLCJzZXRGcmFtZSI6InM2YiIsImdldFJhZGl1cyI6Ik13Iiwic2V0UmFkaXVzIjoiTUciLCJzZXRHZW9tZXRyeVR5cGUiOiJCUGMiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var M_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f,g){var h;f instanceof D_?h=f:null!=f&&null!=f.annotationoverlay&&(h=f.annotationoverlay);null!=g&&(hb("second argument in AnnotationTool() is deprecated since 2021.1 (3.3), use first argument instead"),f=g);f&&void 0!==f.handles&&a(f.handles);f=xb(f,{annotationoverlay:h,name:"annotation",cancreate:!0,candelete:!0,canedit:!0,canmove:!0,annotationcontainer:null},!0);IR.call(this,f);this.sm({pointerdown:this.Xc.bind(this),pointermove:[{callback:this.Ac.bind(this),object:null},
{callback:this.T$.bind(this),object:Za,enabled:!1}],pointerup:[{callback:this.Oc.bind(this),object:null},{callback:this.Oc.bind(this),object:Za,enabled:!1}],dblclick:this.tvc});this.Ug=new bk;this.lc=null;this.sLa=h;this.Oe=this.sLa.lI();this.hm=this.sLa.wD();this.hm.oa([this.$a=new Am({name:"overlay-annotation-manipulator",dynamic_layer:!0})]);this.ed=new M(0,0);this.Mh=new M(0,0);this.$f=new M(0,0);this.H8=new e({centerx:0,centery:0,radiusx:4,radiusy:4,linestyle:{color:"#1565c0",width:1,pixelsnapmode:{x:!0,
y:!0}},fillstyle:"#C1E3E8",visible:!1});this.Fb={anchor:this.H8.clone().qa("#8BE73D"),topleft:this.H8.clone(),topright:this.H8.clone(),bottomleft:this.H8.clone(),bottomright:this.H8.clone()};this.H8.qa(b);this.$a.oa([this.H8]);for(var k in this.Fb)this.Fb.hasOwnProperty(k)&&this.$a.oa(this.Fb[k]);this.KAa=!1;this.Ed=this.es=this.IGb=null;this.Pwd(f.annotationcontainer);this.setOptions(f);this.Plc=function(l,m,n){this.qea(!1);this.Fh()}.bind(this);this.Zj=Cc.kc}function a(f){void 0!==f["top-left"]&&
(hb("AnnotationTool parameter options.top-left deprecated since 2021.1 (3.3). Use parameter options.topleft instead"),f.topleft=f["top-left"],delete f["top-left"]);void 0!==f["top-right"]&&(hb("AnnotationTool parameter options.top-right deprecated since 2021.1 (3.3). Use parameter options.topright instead"),f.topright=f["top-right"],delete f["top-right"]);void 0!==f["bottom-left"]&&(hb("AnnotationTool parameter options.bottom-left deprecated since 2021.1 (3.3). Use parameter options.bottomleft instead"),
f.bottomleft=f["bottom-left"],delete f["bottom-left"]);void 0!==f["bottom-right"]&&(hb("AnnotationTool parameter options.bottom-right deprecated since 2021.1 (3.3). Use parameter options.bottomright instead"),f.bottomright=f["bottom-right"],delete f["bottom-right"])}var b="#fdd835",d=new W,e=function(){function f(g,h,k,l,m,n,p){g=G(g,{centerx:"number"==typeof g?g:0,centery:"number"==typeof h?h:0,radiusx:"number"==typeof k?k:10,radiusy:"number"==typeof l?l:10,visible:"boolean"==typeof m?m:!0,linestyle:n instanceof
X?n:null,fillstyle:p instanceof rf?p:null},!0);h=new M(g.centerx,g.centery);k=new Vd(g.radiusx,g.radiusy);l=h.x-k.width;m=h.y-k.height;n=h.x+k.width;p=h.y+k.height;Sm.call(this,l,m,n,p,0,0,g.visible,g.linestyle,g.fillstyle);this.Dv=!1;this.Od=h;this.wc=k}D(f,Sm);L(f,"geotoolkit.widgets.overlays.AnnotationTool.Handle");f.prototype.clone=function(){return new f({centerx:this.Od.x,centery:this.Od.y,radiusx:this.wc.width,radiusy:this.wc.height,visible:this.Ia(),linestyle:this.Ea(),fillstyle:this.fb()})};
f.prototype.dkd=function(){return this.Dv};f.prototype.setActive=function(g){if(this.Dv===g)return this;this.Dv=g;this.ha();return this};f.prototype.LG=function(g){if(this.Od.Ew(g,V.Qb))return this;this.ha();this.Od.x=g.x;this.Od.y=g.y;var h=Hd.qb(this.wc.ca(),0,this.wa()),k=Hd.qb(0,this.wc.da(),this.wa());g=this.Od.x-h;var l=this.Od.y-k;h=this.Od.x+h;k=this.Od.y+k;this.cb(g,l,h,k);this.xa();this.ha();return this};f.prototype.getCenter=function(){return this.Od};f.prototype.render=function(g){g=null!=
this.Qa()?g.Zb(this.Qa()):g;this.Eh(g);var h=Hd.qb(this.wc.ca(),0,g.Fa()),k=Hd.qb(0,this.wc.da(),g.Fa());g.qa(this.fb(),this.Ka);g.ra(this.Ea());g.Rp(this.Od.x-h,this.Od.y-k,2*h,2*k);this.jh(g)};return f}();D(c,IR);L(c,"geotoolkit.widgets.overlays.AnnotationTool");c.prototype.dispose=function(){this.maa(null);this.ak.removeEventListener("keydown",this.LAa);this.$j.parentNode&&this.$j.parentNode.removeChild(this.$j);this.$j=null;this.$a.dispose();IR.prototype.dispose.call(this)};c.prototype.setOptions=
function(f){f&&void 0!==f.handles&&a(f.handles);this.ea=G(f,this.ea);if(this.ea.hasOwnProperty("handles")&&null!=this.ea.handles){f=this.ea.handles;for(var g in f)f.hasOwnProperty(g)&&this.Fb.hasOwnProperty(g)&&this.Fb[g].fa(f[g])}return this};c.prototype.ta=function(){return this.ea};c.prototype.Pwd=function(f){this.$j=xc("div");this.$j.style.position="absolute";this.$j.style.display="none";this.$j.style.border="0px solid transparent";this.$j.style.backgroundColor="transparent";this.$j.style.pointerEvents=
"none";this.$j.style.overflow="unset";null!=f&&(this.YGb=Za.document.getElementById(f));null!=this.YGb?this.YGb.appendChild(this.$j):Za.document.body.appendChild(this.$j);this.cj=xc("div");this.cj.style.position="absolute";this.cj.style.border="0px solid transparent";this.cj.className="geotoolkit-inlinecontainer";this.cj.style.pointerEvents="all";this.$j.appendChild(this.cj);this.ak=xc("textarea");this.ak.className="geotoolkit-inlineeditor";this.ak.style.position="absolute";this.ak.style.resize="none";
this.ak.style.border="0px solid transparent !important";this.ak.style.boxShadow="none";this.ak.style.borderWidth="0px";this.ak.style.borderColor="transparent";this.ak.style.borderStyle="inset";this.ak.style.outline="0px";this.ak.style.fontFamily="sans-serif";this.ak.style.fontSize="smaller";this.ak.style.lineHeight="normal";this.ak.style.backgroundColor=b;this.LAa=function(g){"Escape"===g.key||27===g.keyCode?this.vGa(!1):!0!==g.ctrlKey||"Enter"!==g.key&&13!==g.keyCode||this.vGa(!0)}.bind(this);this.ak.addEventListener("keydown",
this.LAa);this.cj.appendChild(this.ak)};c.prototype.vGa=function(f){if(!1===this.KAa)return this;this.$j.style.display="none";this.KAa=!1;!0===f&&null!=this.es&&this.es.Eb(this.ak.value.replace(/\n/g,"<br/>"));return this};c.prototype.bbd=function(){null!=this.es&&this.es.Zg();this.qea(!1);this.Fh();return this};c.prototype.qea=function(f){if(null==this.lc)return this;if(null==this.es)return this.$j.style.display="none",this;var g=yc(this.lc.Vv()),h=this.es.getParent(),k=h.wa();h=k.Ta(h.vb());k=this.es.WDc(d);
k=new U({x:k["top-left"].getX(),y:k["top-left"].getY(),width:k["bottom-right"].getX()-k["top-left"].getX(),height:k["bottom-right"].getY()-k["top-left"].getY()});var l=h.la(),m=h.ka();null==this.YGb&&(l+=g.x,m+=g.y);this.$j.style.left=l+"px";this.$j.style.top=m+"px";this.$j.style.width=h.ca()+"px";this.$j.style.height=h.da()+"px";if(this.es.zg()===Rh.ob)this.cj.style.left=Math.round(k.getX()-h.la())+"px",this.cj.style.top=Math.round(k.getY()-h.ka())+"px",this.cj.style.width=Math.round(k.ca())+"px",
this.cj.style.height=Math.round(k.da())+"px",this.cj.style.transform="rotate(0deg)",this.ak.style.width=Math.round(k.ca())+"px",this.ak.style.height=Math.round(k.da())+"px";else{var n=this.es.Vtd();g=k.cc()-n/2;l=k.zc()-n/2;m=k.da()-n;k=k.ca()+n;this.cj.style.left=Math.round(g-m/2-h.la())+"px";this.cj.style.top=Math.round(l-k/2-h.ka())+"px";this.cj.style.width=Math.round(m)+"px";this.cj.style.height=Math.round(k)+"px";this.cj.style.transform="rotate(-90deg)";this.ak.style.width=Math.round(m)+"px";
this.ak.style.height=Math.round(k)+"px"}!1!==f&&(this.$j.style.display="block",this.ak.focus(),null!=this.LV()&&null!=this.LV().fb()&&null!=this.LV().fb().rb&&null!=this.LV().fb().rb()?this.ak.style.backgroundColor=this.LV().fb().rb():this.ak.style.backgroundColor=b);return this};c.prototype.Mi=function(){this.$a.va(this.isEnabled());!1===this.isEnabled()&&(this.H8.va(!1),this.vGa(!1).naa(null).sr(null).maa(null));IR.prototype.Mi.call(this)};c.prototype.Fh=function(){if(null==this.es)for(var f in this.Fb)this.Fb.hasOwnProperty(f)&&
this.Fb[f].va(!1);else{f=this.es.wa();f=this.es.Cyc(f);for(var g in f){var h=g;-1!==g.indexOf("-")&&(h=g.replace("-",""));f.hasOwnProperty(g)&&this.Fb.hasOwnProperty(h)&&this.Fb[h].LG(f[g]).va(!0)}}};c.prototype.lI=function(){return this.Oe};c.prototype.maa=function(f){if(this.es===f)return this;this.vGa(!0);var g=this.es;this.es=f;null!=g&&g.za(K_.zfb,this.Plc).Zg();this.fireEvent("AnnotationChanged",new G_(this.es,null));null!=this.es&&(this.es.Zg().on(K_.zfb,this.Plc),this.sLa.GNd(this.es));null==
this.es&&this.sr(null);this.Fh();return this};c.prototype.LV=function(){return this.es};c.prototype.sr=function(f){if(this.Ed===f)return this;null!=this.Ed&&this.Ed.setActive(!1);this.Ed=f;null!=this.Ed&&(this.vGa(!0),this.Ed.setActive(!0));return this};c.prototype.p9=function(){return this.IGb};c.prototype.naa=function(f){if(this.IGb===f)return this;this.IGb=f;return this};c.prototype.Oua=function(f){return this.hm};c.prototype.tvc=function(f){if(!1===this.isEnabled()||null==this.es)return this;
f.stopPropagation(!0,!0);this.lc=f.Pe();this.sLa.Cua(this.es.bb());return this};c.prototype.TP=function(){return this.KAa};c.prototype.Cua=function(f){if(null==f)return this.KAa&&this.vGa(!0),this;if(f===this.es&&!0===this.KAa)return this;this.KAa&&this.vGa(!0);this.maa(f);this.ak.value=this.es.ee().replace(/<br>/g,"\n").replace(/<br\/>/g,"\n");this.qea(!0);this.KAa=!0;return this};c.prototype.IHc=function(f,g,h){var k=null;if(this.Ed)if(this.Ed===this.Fb.anchor){k=this.Oua(h);this.naa(k);if(null==
k)return;f=this.Kd(k,h);this.es.Tx(k).Db(f)}else{var l=this.es.LXb().clone();k=l.ca();l=l.da();var m=this.es.sp().clone();m.Ga(m.getX()+f/2,m.getY()+g/2);this.Ed===this.Fb.topleft?(k-=f,l-=g):this.Ed===this.Fb.topright?(k+=f,l-=g):this.Ed===this.Fb.bottomleft?(k-=f,l+=g):this.Ed===this.Fb.bottomright&&(k+=f,l+=g);var n=this.Fb,p=function(q,r){var t=n[q];n[q]=n[r];n[r]=t};0>=k&&(0>f&&(p("topright","topleft"),p("bottomright","bottomleft")),0<f&&(p("topleft","topright"),p("bottomleft","bottomright")));
0>=l&&(0>g&&(p("topright","bottomright"),p("topleft","bottomleft")),0<g&&(p("bottomright","topright"),p("bottomleft","topleft")));this.es.No(m).s6b({width:k,height:l})}else k=this.es.sp().clone(),k.x+=f,k.y+=g,this.es.No(k);this.fireEvent("AnnotationEdited",new G_(this.es,h));this.es.Zg();this.qea(!1);this.Fh()};c.prototype.T$=function(f){if(!1!==this.Hd()&&!0===this.ea.canmove){f.stopPropagation(!0,!0);var g=this.Kd(this.hm,f);g=this.hm.wa().Ma(g);var h=g.x-this.$f.x,k=g.y-this.$f.y,l=this.hm.Ki();
if(g.getX()<l.la()||g.getX()>l.na())h=0;if(g.getY()<l.ka()||g.getY()>l.ma())k=0;this.IHc(h,k,f);this.$f=g.clone()}};c.prototype.Ac=function(f){var g=this.Kd(this.hm,f);if(this.Hd()){if(!0===this.ea.canmove){f.stopPropagation(!0,!0);g=this.hm.wa().Ma(g);var h=g.x-this.$f.x;var k=g.y-this.$f.y;this.IHc(h,k,f);this.$f=g.clone()}}else{h=this.Oua(f);this.naa(h);f=f.Zd();f=this.hm.wa().nc(f);f=this.Ug.select(this.hm,f.x,f.y,2);k=h=null;for(var l=f.length-1;0<=l;l--)if(f[l]!==this.H8&&(f[l]instanceof e&&
(k=f[l]),f[l]instanceof L_)){h=f[l];break}this.H8.LG(g).va(null==h&&null===k&&null!==this.ea&&!0===this.ea.cancreate)}};c.prototype.Oc=function(f){var g=this.Kd(this.hm,f);this.X$a(g)&&this.Gm(f)&&this.tvc(f);var h=this.Ug.select(this.hm,g.x,g.y,2);for(g=h.length-1;0<=g;g--)if(h[g]instanceof L_&&h[g]===this.LV()){var k=h[g];break}if(null!=k&&(k=k.Li(f.Zd(),5),null!=k&&0<k.length))for(g=0;g<k.length;g++){h=k[g];for(var l=0;l<h.paths.length;l++)h.paths[l].notify("click",h.paths[l])}this.Hd()&&this.stop(f)};
c.prototype.Xc=function(f){if(this.SFa()&f.ye().buttons||this.Gm(f)){var g=f.Zd();g=this.hm.wa().nc(g);g=this.Ug.select(this.hm,g.x,g.y,2);var h,k,l;for(l=g.length-1;0<=l;l--)g[l]!==this.H8&&(g[l]instanceof e&&(k=g[l]),g[l]instanceof L_&&null==h&&(h=g[l]));this.sr(k);null==k&&this.maa(h);null!=this.es?(this.start(f),f=this.Kd(this.hm,f),this.hm.wa().Ma(f,f),this.ed=f.clone(),this.$f=f.clone()):(null==this.p9()&&this.naa(this.Oua(f)),null!=this.p9()&&(f=this.Kd(this.p9(),f),h=this.sLa.hla({target:this.p9(),
anchor:f,text:"Anchor : "+f.toString()}),null!=h&&this.sLa.maa(h)))}};c.prototype.start=function(f){f.stopPropagation();this.setActive(!0);IR.lock(f.Pe(),this);this.On(!0);return this};c.prototype.stop=function(){this.setActive(!1);IR.unlock(this);this.On(!1);return this};c.prototype.On=function(f){this.Wr("pointermove",f,Za);this.Wr("pointerup",f,Za);return this};c.prototype.SFa=function(){return this.Zj};c.prototype.Jcb=function(f){this.Zj=f;return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJhZGp1c3RIYW5kbGVzIjoiYmJkIiwib25FbmFibGVkU3RhdGVDaGFuZ2VkIjoiTWkiLCJ1cGRhdGVIYW5kbGVzIjoiRmgiLCJnZXRXaWRnZXQiOiJsSSIsInNldEFjdGl2ZUFubm90YXRpb24iOiJtYWEiLCJnZXRBY3RpdmVBbm5vdGF0aW9uIjoiTFYiLCJnZXRBY3RpdmVUYXJnZXQiOiJwOSIsInNldEFjdGl2ZVRhcmdldCI6Im5hYSIsImZpbmRUYXJnZXQiOiJPdWEiLCJpc0VkaXRpbmciOiJUUCIsImdldE1vdXNlQnV0dG9ucyI6IlNGYSIsInNldE1vdXNlQnV0dG9ucyI6IkpjYiJ9fX0g");var N_=/*#__PURE__*/va(/*#__PURE__*/{Vac:"CreateAnnotation",Sdc:"RemoveAnnotation",tYa:"EditAnnotation",Lya:"ChangeActiveAnnotation"},2,"eyJDcmVhdGVBbm5vdGF0aW9uIjoiVmFjIiwiUmVtb3ZlQW5ub3RhdGlvbiI6IlNkYyIsIkVkaXRBbm5vdGF0aW9uIjoidFlhIiwiQ2hhbmdlQWN0aXZlQW5ub3RhdGlvbiI6Ikx5YSJ9"),O_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d,e){D_.call(this,d);this.Wc=Rh.ob;this.B1=this.n3a=this.$a=this.Pv=this.hm=null;e=G(e,{overlay:null,cancreate:!0,candelete:!0,canedit:!0,canmove:!0});this.SNb=e.overlay;this.le(e);this.setOptions(e);this.Fmb=function(){this.XUa()}.bind(this);this.Kb().on(Ce.GC,this.Fmb);Za.addEventListener("resize",this.Fmb)}var a=new Vd(150,50),b=new Ug(-10,-10);D(c,D_);L(c,"geotoolkit.widgets.overlays.AnnotationOverlay");
J_.ya().vga("simple-arrow",H_);J_.ya().vga("rectangle-callouts",I_);c.Ja=N_;c.prototype.dispose=function(){this.Kb().za(Ce.GC,this.Fmb);this.n3a.dispose();this.Pv.dispose();this.hm.dispose();Za.removeEventListener("resize",this.Fmb);D_.prototype.dispose.call(this)};c.prototype.le=function(d){null==this.SNb&&(this.SNb=jf(this.lI()).mc(function(e){return e instanceof Am}).mc(function(e){return"overlays"===e.Da()}).mg());this.SNb.oa([this.hm=(new Am({name:"overlay-annotations"})).oa([this.Pv=new Am({name:"overlay-annotation-shapes"})])]);
this.Yh(d)};c.prototype.Kb=function(){return this.lI().Kb()};c.prototype.wD=function(){return this.hm};c.prototype.Yh=function(){this.lI().Wb("overlay").add([this.n3a=(new NS(this.hm)).Ob(!0).add([this.B1=(new M_(this)).Ob(!1).addListener("AnnotationChanged",function(d,e){this.notify(N_.Lya,this,e)}.bind(this)).addListener("AnnotationEdited",function(d,e){this.notify(N_.tYa,this,e)}.bind(this))])])};c.prototype.XUa=function(){jf(this.Pv).mc(function(d){return d instanceof L_}).select(function(d){d.Zg()})};
c.prototype.aw=function(d){D_.prototype.aw.call(this,d);this.hm.va(this.Ia());this.B1.Ob(this.kSa());return this};c.prototype.Vua=function(d){return jf(this.Pv).mc(function(e){return e instanceof L_}).mc(function(e){return e.bb()===d}).mg()};c.prototype.setOptions=function(d){this.ea=G(d,this.ea);this.B1.setOptions(this.ea);return this};c.prototype.ta=function(){return this.ea};c.prototype.hla=function(d){if(null===d)throw Error("annotation can not be null");if(!0!==this.ea.cancreate)return null;
if(!1===nc(d,E_)){var e=G(d.options,{frame:a.clone(),offset:new M(b.getX()-a.ca()/2,b.getY()-a.da()/2)});d.options=e}e=new G_(d,null);this.notify(N_.Vac,this,e);if(e.mk())return null;if(nc(d,E_)&&null!=this.Vua(d))throw Error("annotation already exist");d=F_.Pa(d);this.Pv.oa([(new L_(d)).setOrientation(this.Wc)]);return d};c.prototype.bob=function(d){this.Pv.bob(d);return this};c.prototype.oKb=function(){return this.Pv.oKb()};c.prototype.Sdd=function(){this.B1.maa(null);var d=this.Pv.Yb(),e=this.Pv.kj(),
f=this.Pv.ko();this.Pv.oe(!0);this.Pv.wb(!1);for(--d;0<=d;d--){var g=this.Pv.eb(d);g instanceof L_&&this.Pv.removeChild(g)}this.Pv.oe(f);this.Pv.wb(e,!1);return this};c.prototype.wga=function(d){d=this.Vua(d);if(null==d||!0!==this.ea.candelete)return this;var e=null;if(!1===this.ko()&&(e=new G_(d.bb(),null),this.notify(N_.Sdc,this,e),e.mk()))return this;this.B1.LV()===d&&this.B1.maa(null);this.Pv.removeChild(d);!1===this.ko()&&(e.jX(this.LV()),this.notify(N_.Lya,this,e));return this};c.prototype.Cua=
function(d){if(null==d)return this.B1.Cua(null),this;d=this.Vua(d);if(null==d||!0!==this.ea.canedit)return this;var e=new G_(d.bb(),null);this.notify(N_.tYa,this,e);if(e.mk())return this;this.B1.Cua(d);return this};c.prototype.sId=function(d){this.Vua(d);return this};c.prototype.b8a=function(d){var e=[];jf(this.Pv).mc(function(f){return f instanceof L_}).select(function(f){e.push(f.bb())});return Hg.gi(e,d)};c.prototype.LV=function(){var d=this.B1.LV();return null!=d?d.bb():null};c.prototype.maa=
function(d){if(this.LV()===d)return this;var e=new G_(d,null);this.notify(N_.Lya,this,e);if(e.mk())return this;d=this.Vua(d);this.B1.maa(d);e.jX(this.LV());this.notify(N_.Lya,this,e);return this};c.prototype.GNd=function(d){this.Pv.Jqb(d,Sh.gza)};c.prototype.setOrientation=function(d){if(this.Wc===d)return this;this.Wc=d;jf(this.Pv).mc(function(e){return e instanceof L_}).qN().forEach(function(e){e.setOrientation(d)});return this};c.vga=function(d,e){J_.ya().vga(d,e)};c.Vd=function(d){return J_.ya().Vd(d)};
return c}(),2,"eyJyZWdpc3Rlckdlb21ldHJ5IjoidmdhIiwiZ2V0R2VvbWV0cnkiOiJWZCIsInByb3RvdHlwZSI6eyJzIjowLCJjIjp7ImdldE1vZGVsIjoiS2IiLCJvblVwZGF0ZUdlb21ldHJ5IjoiWFVhIiwib25TdGF0ZUNoYW5nZWQiOiJhdyIsImdldE9wdGlvbnMiOiJ0YSIsImFkZEFubm90YXRpb24iOiJobGEiLCJfc2V0Wk9yZGVyIjoiYm9iIiwiX2dldFpPcmRlciI6Im9LYiIsImNsZWFyQW5ub3RhdGlvbnMiOiJTZGQiLCJyZW1vdmVBbm5vdGF0aW9uIjoid2dhIiwiZWRpdEFubm90YXRpb24iOiJDdWEiLCJzY3JvbGxUb0Fubm90YXRpb24iOiJzSWQiLCJnZXRBbm5vdGF0aW9ucyI6ImI4YSIsImdldEFjdGl2ZUFubm90YXRpb24iOiJMViIsInNldEFjdGl2ZUFubm90YXRpb24iOiJtYWEifX19");var P_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d){NR.call(this,a);this.Pm=b;this.oj=d}D(c,NR);L(c,"geotoolkit.widgets.SelectionChangeEventArgs");c.prototype.ic=function(){return this.Pm};c.prototype.Gq=function(){return this.oj};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRJZCI6ImljIiwiZ2V0VHlwZSI6IkdxIn19fSAg");var Q_=/*#__PURE__*/va(/*#__PURE__*/{CEb:"ItemChanged"},2,"eyJJdGVtQ2hhbmdlZCI6IkNFYiJ9");var R_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){this.Zwa=a;this.options=b;this.direction=[];!0===b.vertical&&this.direction.push(Rh.ob);!0===b.horizontal&&this.direction.push(Rh.xb);this.actions={}}c.prototype.vl=function(){return this.direction};c.prototype.ta=function(){return this.options};c.prototype.connect=function(a){if(this.Zwa instanceof ue)for(var b in this.actions)this.actions.hasOwnProperty(b)&&this.actions[b].connect(this.options.events,this.Zwa,a)};c.prototype.disconnect=function(a){if(this.Zwa instanceof
ue)for(var b in this.actions)this.actions.hasOwnProperty(b)&&this.actions[b].disconnect(this.options.events,this.Zwa,a)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXREaXJlY3Rpb24iOiJ2bCIsImdldE9wdGlvbnMiOiJ0YSJ9fX0g");var S_=/*#__PURE__*/va(/*#__PURE__*/{Gba:"visiblerange",Wpa:"scale",OQ:"model",JI:"custom"},2,"eyJWaXNpYmxlUmFuZ2UiOiJHYmEiLCJTY2FsZSI6IldwYSIsIk1vZGVsIjoiT1EiLCJDdXN0b20iOiJKSSJ9");var T_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){this.name=a}c.prototype.Da=function(){return this.name};c.prototype.connect=function(a,b,d){if(b instanceof ue)for(var e=0;e<a.length;++e)b.on(a[e],d)};c.prototype.disconnect=function(a,b,d){if(b instanceof ue)for(var e=0;e<a.length;++e)b.on(a[e],d)};c.prototype.getData=function(a,b,d){return(d=d[this.Da()])&&d.getdata?d.getdata.call(a,a,b):null};c.prototype.setData=function(a,b,d,e){return(e=e[this.Da()])&&e.setdata?e.setdata.call(this,b,a,d):null};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROYW1lIjoiRGEifX19");var U_=/*#__PURE__*/function(){function c(){T_.call(this,S_.OQ)}function a(d,e,f,g){var h=d.wa();h=null!=h?h:new W;var k=e.getParent(),l=k.wa();null!=l&&(f||(d=d.Ki(),f=k.Ki(),null!=d&&null!=f&&0<d.ca()&&0<d.da()&&0<f.ca()&&0<f.da()&&(g&&(d.ka()!==f.ka()||d.da()!==f.da())||!g&&(d.la()!==f.la()||d.ca()!==f.ca()))&&(h=W.Sd(d,f),h=W.multiply(h,h))),h=W.multiply(l.rc(),h));g=null;l=e.pa();e=e.ga();l&&0<l.ca()&&0<l.da()&&e&&0<e.ca()&&0<e.da()&&(g=W.Sd(l,e));null!=g&&(h=W.multiply(h,g.rc()));return h}var b="Object cannot be connected. It does not have method to get/set model limits";
D(c,T_);c.prototype.getData=function(d,e,f){return{limits:void 0!==d.pa?d.pa():null,source:d}};c.prototype.setData=function(d,e,f,g){g=g[this.Da()];if(!g||!g.setdata){var h=d.lb();g=1;var k=0,l=1,m=0;null!=h&&(g=h.pb(),k=h.hf(),l=h.Ab(),m=h.We());h=d.pa();var n=e.limits;e=a(e.source,d,!0,f===Rh.ob);f===Rh.ob?(e&&(l=e.Ab(),m=e.We()),void 0!==d.XB&&d.XB()||d.Ha(new U(h.la(),n.ka(),h.na(),n.ma()))):f===Rh.xb&&(e&&(g=e.pb(),k=e.hf()),h.la()===n.la()&&h.na()===n.na()||void 0!==d.XB&&d.XB()||d.Ha(new U(n.la(),
h.ka(),n.na(),h.ma())));(f=d.lb())&&f.pb()===g&&f.Ab()===l?d.translate(k-f.hf(),m-f.We()):(f=new W(g,0,0,l,k,m),d.Kc(f))}};c.prototype.connect=function(d,e,f){if("function"!==typeof e.pa||"function"!==typeof e.Ha||"function"!==typeof e.Ha||!(e instanceof lg))throw new TypeError(b);T_.prototype.connect.call(this,d,e,function(g){f.call(e,g,e)})};c.prototype.disconnect=function(d,e,f){T_.prototype.disconnect.call(this,d,e,function(g){f.call(e,g,e)})};return c}();var V_=/*#__PURE__*/function(){function c(){T_.call(this,S_.Gba)}D(c,T_);c.prototype.getData=function(a,b,d){var e=T_.prototype.getData.call(this,a,b,d);null==e&&"function"===typeof a.vb&&(a=a.vb(),null!=a&&(b=b===Rh.xb,e=d.orientation===Rh.ob?new Jd(b?a.la():a.ka(),b?a.na():a.ma()):new Jd(b?a.ka():a.la(),b?a.ma():a.na())));return e};return c}();var W_=/*#__PURE__*/function(){function c(){T_.call(this,S_.Wpa)}D(c,T_);c.prototype.getData=function(a,b,d){var e=T_.prototype.getData.call(this,a,b,d);null===e&&"function"===typeof a.lb&&(e=a.lb(),null!=e&&(a=b===Rh.xb,d=d.orientation===Rh.ob,e=a?new W(d?e.pb():e.Ab(),0,0,1,d?e.hf():e.We(),0):new W(1,0,0,d?e.Ab():e.pb(),0,d?e.We():e.hf())));return e};return c}();var X_=/*#__PURE__*/function(){function c(){W_.call(this);this.Rc=new W}D(c,W_);c.prototype.getData=function(a,b,d){return W_.prototype.getData.call(this,a.Kb(),b,d)};c.prototype.setData=function(a,b,d,e){e=e[this.Da()];if((!e||!e.setdata)&&a.Kb()){var f=a.Kb().lb()?a.Kb().lb():new W;e=f.pb();var g=f.hf(),h=f.Ab();f=f.We();d===Rh.ob?(h=b.Ab(),f=b.We()):d===Rh.xb&&(e=b.pb(),g=b.hf());this.Rc.Tb(e,0,0,h,g,f);a.qQ(this.Rc)}};c.prototype.connect=function(a,b,d){W_.prototype.connect.call(this,a,b.Kb(),function(e){d.call(b,
e,b)})};c.prototype.disconnect=function(a,b,d){W_.prototype.disconnect.call(this,a,b.Kb(),function(e){d.call(b,e,b)})};return c}();var Y_=/*#__PURE__*/function(){function c(){V_.call(this)}D(c,V_);c.prototype.getData=function(a,b,d){var e=V_.prototype.getData.call(this,a.Kb(),b,d);null==e&&"function"===typeof a.jna&&(a=a.jna(d?d.ignoremodellimits:!1),null!=a&&(b=b===Rh.xb,e=d.orientation===Rh.ob?new Jd(b?a.la():a.ka(),b?a.na():a.ma()):new Jd(b?a.ka():a.la(),b?a.ma():a.na())));return e};c.prototype.setData=function(a,b,d,e){e=e[this.Da()];e&&e.setdata||(e=a.jna(),null!=e&&(b=d===Rh.ob?new U(e.la(),b.Ua(),e.na(),b.Za()):new U(b.Ua(),e.ka(),
b.Za(),e.ma()),a.YAb(b)))};c.prototype.connect=function(a,b,d){V_.prototype.connect.call(this,a,b.Kb(),function(e){d.call(b,e,b)})};c.prototype.disconnect=function(a,b,d){V_.prototype.disconnect.call(this,a,b.Kb(),function(e){d.call(b,e,b)})};return c}();var Z_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){this.actions={};this.P_(new V_);this.P_(new W_);this.P_(new U_);this.P_(new T_(S_.JI));this.P_(new X_,UZ.Oa());this.P_(new Y_,UZ.Oa())}function a(e,f){for(;null!=f;){if(e[f])return e[f];f=Mb(f)}return null}var b="*",d=null;c.prototype.P_=function(e,f){if(e){var g=e.Da();void 0===this.actions[g]&&(this.actions[g]={});void 0===f&&(f=b);this.actions[g][f]=e}};c.prototype.gCc=function(e,f){return(e=this.actions[e])?(f=a(e,f))?f:e[b]:null};c.ya=function(){null==d&&(d=new c);
return d};return c}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsicmVnaXN0ZXJPcGVyYXRpb24iOiJQXyIsImdldE9wZXJhdGlvbiI6ImdDYyJ9fX0g");var $_=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){ue.call(this);this.options=G(a,{mode:[S_.Gba],registry:null},!0);this.XBd=this.options.registry?this.options.registry:Z_.ya();this.items=[];this.G7a=this.p9b=!1}D(c,ue);L(c,"geotoolkit.widgets.sync.ViewSynchronizer");c.prototype.connect=function(a,b){if(a instanceof ue){b=G(b,{sender:!0,receiver:!0,vertical:!1,horizontal:!1,events:[Ce.GC,Ce.Uq],orientation:Rh.ob,typename:"function"===typeof a.Oa?a.Oa():""},!0);a=new R_(a,b);for(var d=this.options.mode,e=0;e<d.length;++e){var f=
this.XBd.gCc(d[e],b.typename);f&&(a.actions[f.Da()]=f)}this.items.push(a);!0===b.sender&&a.connect(this.MIc.bind(this))}return this};c.prototype.send=function(a,b){a&&(void 0!==a.vertical&&this.Hnc(a.vertical,Rh.ob,b),void 0!==a.horizontal&&this.Hnc(a.horizontal,Rh.xb,b))};c.prototype.Hnc=function(a,b,d){if(a){for(var e=0;e<this.items.length;++e)if(-1!==this.items[e].direction.indexOf(b)){var f=this.items[e].actions[d];f&&f.setData(this.items[e].Zwa,a,b,this.items[e].options)}this.notify(Q_.CEb,this,
{data:a,action:d,orientation:b})}};c.prototype.QK=function(a,b){if(this.p9b)return this;this.p9b=!0;a=this.indexOf(a);if(-1!==a){a=this.items[a];var d=a.actions[b];if(null!=d)for(var e=0;e<a.direction.length;++e){var f=d.getData(a.Zwa,a.direction[e],a.options);if(f){for(var g=0;g<this.items.length;++g)if(this.items[g]!==a&&-1!==this.items[g].direction.indexOf(a.direction[e])){var h=this.items[g].actions[b];h&&h.setData(this.items[g].Zwa,f,a.direction[e],this.items[g].options)}this.notify(Q_.CEb,this,
{data:f,action:b,orientation:a.direction[e]})}}}this.p9b=!1;return this};c.prototype.MIc=function(a,b){if(!this.G7a){this.G7a=!0;a=this.options.mode;for(var d=0;d<a.length;++d)this.QK(b,a[d]);this.G7a=!1}};c.prototype.indexOf=function(a){for(var b=-1,d=0;d<this.items.length;++d)if(this.items[d].Zwa===a){b=d;break}return b};c.prototype.disconnect=function(a){a=this.indexOf(a);-1!==a&&(!0===this.items[a].options.sender&&this.items[a].disconnect(this.MIc.bind(this)),this.items.splice(a,1))};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzeW5jaHJvbml6ZSI6IlFLIn19fSAg");var a0=/*#__PURE__*/va(/*#__PURE__*/{sDb:"curvetocurve",Wac:"curvetoreferenceline",rDb:"curvetobaseline"},2,"eyJDdXJ2ZVRvQ3VydmUiOiJzRGIiLCJDdXJ2ZVRvUmVmZXJlbmNlTGluZSI6IldhYyIsIkN1cnZlVG9CYXNlTGluZSI6InJEYiJ9");var b0=/*#__PURE__*/va(/*#__PURE__*/{nb:"top",xd:"bottom"},2,"eyJUb3AiOiJuYiIsIkJvdHRvbSI6InhkIn0g");var c0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(g,h){this.Oe=g;this.vA=g.NEc();this.ea=G(h,{enabled:!1,fillstyles:null});this.gda={}}function a(g,h){if(null!=g)for(var k in g)-1===h.indexOf(k)&&null!=g[k]&&(g[k].fillstyle instanceof rf&&g[k].fillstyle.dispose(),delete g[k])}function b(g){var h={},k;for(k in g){var l=g[k];h[k]=null==l?null:{filldirection:l.filldirection,fillstyle:tg.ad(l.fillstyle),filltype:l.filltype,id1:l.id1,id2:l.id2}}return h}function d(g,h,k){return(1-k)*g+k*h}function e(g){return g.reduce(function(h,
k){return k.length>h?k.length:h},Number.MIN_VALUE)}var f=.7;L(c,"geotoolkit.widgets.timeseries.AbstractDataProcessor");c.prototype.WSa=Fb;c.prototype.GSa=Fb;c.prototype.Bvd=function(){for(var g=[],h=0;h<this.vA.Ix();++h)g.push(this.vA.get(h).getData().qd(1).toArray(!0));return g};c.prototype.qfa=function(){return this.gda};c.prototype.dId=function(g){for(var h=0;h<this.vA.Ix();++h){var k=this.vA.get(h);k=k.Rh().curve.ic();this.gda[k]={x:g.x,y:g.y[h]}}return this};c.prototype.Tud=function(){var g,
h,k=[];for(g=0;g<this.vA.Ix();++g)k.push(this.vA.get(g).getData().qd(0).toArray());var l=e(k),m=[];for(h=0;h<l;++h)for(g=0;g<k.length;++g)isNaN(k[g][h])||-1!==m.indexOf(k[g][h])||m.push(k[g][h]);m.sort(function(t,u){return t-u});l=[];var n=this.Bvd();for(g=0;g<n.length;++g){l[g]=[];var p=0;for(h=0;h<m.length;++h)if(l[g][h]=n[g][k[g].indexOf(m[h])],null!=l[g][h]){if(p<h){var q=h-p;if(1<q)for(q=p+1;q<h;++q){var r=(m[q]-m[p])/(m[h]-m[p]);l[g][q]=d(l[g][p],l[g][h],r)}}p=h}}return{x:m,y:l}};c.prototype.$zd=
function(g){g=g.map(function(n){return this.Oe.$v(n)}.bind(this));var h=this.GSa(g),k=g.some(function(n){return n.ul().neatlimits}),l=g.some(function(n){return n.ul().isNeatLimitsCenteredOnZero}),m=new Jd(h.ka(),h.ma());!0===k&&(m=V.ip(h.ka(),h.ma(),!1,l));g.forEach(function(n){this.Oe.Q$a(n,{min:m.Ua(),max:m.Za(),autoscale:!1})}.bind(this));return this};c.prototype.erd=function(g){var h=g.map(function(m){return this.Oe.$v(m).al()}.bind(this));if(!0===this.ea.enabled)for(var k=1;k<g.length;++k){var l=
g[k];l=this.Oe.$v(l);h[k].cb(l.aW().j7a)}return h};c.prototype.UHd=function(g){var h=this.erd(g);if(0===h.length||0===this.vA.Ix())return this;g.forEach(function(k){k=this.Oe.$v(k);this.Oe.Q$a(k,{min:k.aW().min,max:k.aW().max,autoscale:k.aW().pqb},!1)}.bind(this));return this};c.prototype.ubd=function(g){null==this.ea.fillstyles&&(this.ea.fillstyles={});if(null==this.ea.fillstyles[g]){var h=X.Pa(this.Oe.Jyc(g).linestyle).rb();h=td.Pa(h).ZA(f);this.ea.fillstyles[g]=h}return this};c.prototype.Dbd=function(g,
h){a(this.ea.fillstyles,g);for(var k=0;k<g.length;++k){var l=g[k],m=this.Oe.$v(l),n=m.aW().j7a;m.setData(new RG(new HG({cols:[{type:"number",data:h.x},{type:"number",data:h.y[k]}]})));m.aW().j7a=n;n=g[k-1];var p=b(m.Rh().fillstyles);this.ubd(l,this.ea);this.Oe.VRb(l,n,tg.ad(this.ea.fillstyles[l]),null!=n?a0.sDb:a0.rDb,b0.xd);m.aW().Ez=p}return this};c.prototype.THd=function(g){var h=this.Oe.$v(g).aW(),k;for(k in h.fillstyles){var l=h.fillstyles[k];null!=l?this.Oe.VRb(l.id1,l.id2,l.fillstyle,l.filltype,
k):this.Oe.zVa(g,k)}return this};c.prototype.Goa=function(){var g=this.Oe.d4();this.UHd(g);g.forEach(function(h){var k=this.Oe.$v(h);k.setData(new RG(new HG({cols:[{type:"number",data:this.gda[h].x},{type:"number",data:this.gda[h].y}]})));this.THd(h)}.bind(this));return this};c.prototype.apply=function(){if(0===this.vA.Ix())return this;var g=this.Tud();this.dId(g);var h=this.Oe.d4();this.Dbd(h,this.WSa(g),this.ea);this.$zd(h);return this};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9jZXNzZWREYXRhIjoiV1NhIiwiZ2V0TWF4Q3VydmVMaW1pdHMiOiJHU2EiLCJyZXZlcnQiOiJHb2EifX19");var d0=/*#__PURE__*/{QJa:"axispositionchanged",OEb:"legenditemchanged",qDb:"curveaxischanged",$Ja:"dataset",Wfb:"limitsupdated",PEb:"legendvaluechanged"};var e0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f){null==f&&(f={});f=G(f,{id:"",point:new M(0,0),label:"",symbol:null,linestyle:null!=f.linestyle?f.linestyle:b.clone(),textbackground:null!=f.textbackground?f.textbackground:d.clone(),fillstyle:null!=f.fillstyle?f.fillstyle:e.clone(),textstyle:null!=f.textstyle?f.textstyle:a.clone(),symbolsize:10,timeseriesobject:null},!0);Cg.call(this,f);this.ea=f;this.SLb=this.Zc=this.Uh=null;this.u8b(this.ea.timeseriesobject);this.AFc();this.CFc()}var a=new Ki({font:"12px Arial",color:"black"}),
b=new X({color:"black",width:1,pixelsnapmode:{x:!0,y:!0}}),d=new rf({color:"transparent"}),e=new rf({color:"transparent"});D(c,Cg);L(c,"geotoolkit.widgets.timeseries.Annotation");c.prototype.AFc=function(){this.Uh=new ek({sizeisindevicespace:!0});this.Uh.Wj(ck.wn);this.Uh.tc(O.Xd)};c.prototype.CFc=function(){null!=this.ea.symbol&&(this.Zc=new Nm({sizeisindevicespace:!0,painter:this.ea.symbol}),this.Zc.tc(O.Na))};c.prototype.sYb=function(){null==this.SLb&&(this.SLb=function(){if(null!=this.tta){var f=
this.tta.Rh();if(null!=f.curve&&null!=f.curve.getData()){var g=this.ea.point.getX(),h=f.curve,k=h.getData();h=k.qd(0).toArray();k=k.qd(1).toArray();g=h.indexOf(g);k=k[g];g=h[g];h=f.Iwa.pa();k=f.Iwa.lo()?(k-h.ka())/h.da():(h.ma()-k)/h.da();this.setOptions({point:new M(g,k)})}}}.bind(this));return this.SLb};c.prototype.update=function(){var f=this.ea.point,g=this.wa(),h=.01,k=null!=this.ea.linestyle?this.ea.linestyle.ca():1;null!=g&&(h=g.Sk(new Vd(0,5+k)).da());g=O.Xd;.1<f.getY()&&(g=O.Je,h*=-1);null==
this.Zc&&null!=this.ea.symbol&&this.CFc();null!=this.Zc&&null!=this.ea.symbol?(this.Zc.Db(f.clone()),this.Zc.vN(this.ea.symbol),this.Zc.ra(this.ea.linestyle),this.Zc.qa(this.ea.fillstyle),this.Zc.setSize(this.ea.symbolsize,this.ea.symbolsize)):this.Zc=null;null==this.Uh&&""!==this.ea.label&&this.AFc();null!=this.Uh&&""!==this.ea.label?(this.Uh.Eb(this.ea.label),this.Uh.Db(f.clone().setY(f.getY()+h)),this.Uh.ib(this.ea.textstyle),this.Uh.qa(this.ea.textbackground),this.Uh.tc(g)):this.Uh=null;return this};
c.prototype.u8b=function(f){null!=this.tta&&this.tta.za(d0.Wfb,this.sYb());this.tta=f;if(null!=this.tta)this.tta.on(d0.Wfb,this.sYb());return this};c.prototype.setOptions=function(f){if(null==f)return this;this.ea=G(f,this.ea);null!=f.timeseriesobject&&this.u8b(f.timeseriesobject);this.update();return this};c.prototype.ta=function(){return this.ea};c.prototype.fa=function(f){f=hc(f);if(null==f)return this;Cg.prototype.fa.call(this,f);void 0!==f.point&&(this.ea.point=f.point);void 0!==f.label&&(this.ea.label=
f.label);void 0!==f.textstyle&&(this.ea.textstyle=f.textstyle);void 0!==f.textbackground&&(this.ea.textbackground=f.textbackground);void 0!==f.symbol&&(this.ea.symbol=f.symbol);void 0!==f.linestyle&&(this.ea.linestyle=f.linestyle);void 0!==f.fillstyle&&(this.ea.fillstyle=f.fillstyle);void 0!==f.symbolsize&&(this.ea.symbolsize=f.symbolsize);void 0!==f.timeseriesobject&&this.u8b(f.timeseriesobject);this.update();return this};c.prototype.ia=function(){var f=Cg.prototype.ia.call(this);f.point=this.ea.point;
f.label=this.ea.label;f.textstyle=this.ea.textstyle;f.textbackground=this.ea.textbackground;f.symbol=this.ea.symbol;f.linestyle=this.ea.linestyle;f.fillstyle=this.ea.fillstyle;f.symbolsize=this.ea.symbolsize;f.timeseriesobject=this.ea.timeseriesobject;return f};c.prototype.render=function(f){null!=this.Zc&&this.Zc.render(f);null!=this.Uh&&this.Uh.render(f)};c.prototype.dispose=function(){null!=this.tta&&this.tta.za(d0.Wfb,this.sYb());Cg.prototype.dispose.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var f0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(e){null==e&&(e={});e=G(e,{id:"",point:new M(0,0),text:"",textvisible:!0,linevisible:!0,linestyle:b,fillstyle:d,textstyle:a,alignment:O.Xd,angle:0});Cg.call(this,e);this.ea=e;this.xj=this.Uh=null;this.le()}var a=new Ki({font:"12px Arial",color:"black"}),b=new X({color:"black",width:1,pixelsnapmode:{x:!0,y:!0}}),d=new rf({color:"transparent"});D(c,Cg);L(c,"geotoolkit.widgets.timeseries.AnnotationLine");c.prototype.setOptions=function(e){if(null==e)return this;this.ea=G(e,
this.ea);this.update();return this};c.prototype.ta=function(){return this.ea};c.prototype.fa=function(e){e=hc(e);if(null==e)return this;Cg.prototype.fa.call(this,e);void 0!==e.point&&(this.ea.point=e.point);void 0!==e.text&&(this.ea.text=e.text);void 0!==e.textvisible&&(this.ea.textvisible=e.textvisible);void 0!==e.linevisible&&(this.ea.linevisible=e.linevisible);void 0!==e.textstyle&&(this.ea.textstyle=e.textstyle);void 0!==e.linestyle&&(this.ea.linestyle=e.linestyle);void 0!==e.fillstyle&&(this.ea.fillstyle=
e.fillstyle);void 0!==e.alignment&&(this.ea.alignment=e.alignment);void 0!==e.angle&&(this.ea.angle=e.angle);this.update();return this};c.prototype.ia=function(){var e=Cg.prototype.ia.call(this);e.point=this.ea.point;e.text=this.ea.text;e.textvisible=this.ea.textvisible;e.linevisible=this.ea.linevisible;e.textstyle=this.ea.textstyle;e.linestyle=this.ea.linestyle;e.fillstyle=this.ea.fillstyle;e.alignment=this.ea.alignment;e.angle=this.ea.angle;return e};c.prototype.le=function(){var e=this.ea.point;
this.Uh=(new ek({text:this.ea.text,ax:e.getX(),ay:e.getY(),fillstyle:this.ea.fillstyle,textstyle:this.ea.textstyle,alignment:this.ea.alignment})).va(this.ea.textvisible);this.Uh.Kc(W.Xi(this.ea.angle,this.Uh.pn(),this.Uh.Vl()));this.xj=(new Fk({from:new M(e.getX(),0),to:new M(e.getX(),1),linestyle:this.ea.linestyle})).va(this.ea.linevisible).kb("annotation")};c.prototype.update=function(){var e=this.ea.point;null!=this.Uh&&(this.Uh.Eb(this.ea.text),this.Uh.sn(e.getX()),this.Uh.Bp(e.getY()),this.Uh.tc(this.ea.alignment),
this.Uh.ib(this.ea.textstyle),this.Uh.qa(this.ea.fillstyle),this.Uh.Kc(W.Xi(this.ea.angle,this.Uh.pn(),this.Uh.Vl())),this.Uh.va(this.ea.textvisible));null!=this.xj&&(this.xj.Oq(new M(e.getX(),0),new M(e.getX(),1)),this.xj.ra(this.ea.linestyle),this.xj.va(this.ea.linevisible))};c.prototype.render=function(e){this.xj&&this.ea.linevisible&&this.xj.render(e);this.Uh&&this.ea.textvisible&&this.Uh.render(e)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var g0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){a=hc(a);this.Fib=a.datapointindex;this.rlb=a.lineindex;this.nHb=a.barleft;this.mHb=a.barbottom;this.yhb=a.barheight;this.sB=a.barwidth;this.Ahb=a.barvalue;this.Pb=a.text;this.dQb=a.textax;this.eQb=a.textay;this.kQb=a.textwidth;this.iQb=a.textheight}L(c,"geotoolkit.widgets.timeseries.barmode.BarSeries");c.prototype.aJd=function(a){a=G(a,{datapointindex:this.Fib,lineindex:this.rlb,barleft:this.nHb,barbottom:this.mHb,barheight:this.yhb,barwidth:this.sB,barvalue:this.Ahb,
text:this.Pb,textax:this.dQb,textay:this.eQb,textwidth:this.kQb,textheight:this.iQb},a,!0);this.Fib=a.datapointindex;this.rlb=a.lineindex;this.nHb=a.barleft;this.mHb=a.barbottom;this.yhb=a.barheight;this.sB=a.barwidth;this.Ahb=a.barvalue;this.Pb=a.text;this.dQb=a.textax;this.eQb=a.textay;this.kQb=a.textwidth;this.iQb=a.textheight;return this};c.prototype.lFa=function(){return G({datapointindex:this.Fib,lineindex:this.rlb,barleft:this.nHb,barbottom:this.mHb,barheight:this.yhb,barwidth:this.sB,barvalue:this.Ahb,
text:this.Pb,textax:this.dQb,textay:this.eQb,textwidth:this.kQb,textheight:this.iQb})};c.prototype.Tv=function(a){a=a.lFa();return this.Fib===a.datapointindex&&this.rlb===a.lineindex&&this.yhb===a.barheight&&this.sB===a.barwidth&&this.Ahb===a.barvalue};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRCYXJTZXJpZXMiOiJsRmEiLCJjb21wYXJlVG8iOiJUdiJ9fX0g");var h0=/*#__PURE__*/va(/*#__PURE__*/{Wwb:"micropositionChanged"},2,"eyJtaWNyb3Bvc2l0aW9uQ2hhbmdlZCI6Ild3YiJ9"),i0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){Cg.call(this,a);this.El=this.dm=this.Dl=this.Sa=null;this.ssa={top:1,bottom:0}}D(c,Cg);L(c,"geotoolkit.widgets.timeseries.TimeSeriesShape");c.Ja=h0;c.prototype.lj=function(){var a=this.ga();if(null==a)return this;this.Sa=new U(a.la(),this.ssa.bottom,a.na(),this.ssa.top);this.Dl=null;this.Ep();return this};c.prototype.Yd=function(){if(null!=this.Dl)return this.Dl;var a=this.ga();if(null==a)return null;var b=new U(a.la(),0,a.na(),1);a.isEmpty()||
b.isEmpty()||(this.Dl=W.Sd(b,a,!1,!1,!1));return this.Dl};c.prototype.Qa=function(){var a=this.lb(),b=this.Yd();return null==b?a:null==a?b:W.multiply(a,b)};c.prototype.vT=function(a,b){if(0<=a&&1>=a&&0<=b&&1>=b){var d=Math.min(a,b);a=Math.max(a,b)}else d=0,a=1;if(this.ssa.top!==a||this.ssa.bottom!==d)this.ssa.top=a,this.ssa.bottom=d,this.notify(c.Ja.Wwb,this,null);this.xa();return this};c.prototype.l9a=function(){return{top:this.ssa.top,bottom:this.ssa.bottom}};c.prototype.sC=function(a,b){if(this.dm===
a)return this;this.dm=X.He(this,this.dm,a,b,this.sb());this.xa().ha(this.ga());return this};c.prototype.mp=function(){return this.dm};c.prototype.sb=function(){null===this.El&&(this.El=function(a,b,d){return this.Ag()}.bind(this));return this.El};c.prototype.render=function(a){a=a.Zb(new W);var b=this.ga();null!=b&&null!=this.dm&&(a.qa(null),a.ra(this.dm,b),a.sc(b))};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVCb3VuZHMiOiJsaiIsImdldENvbnRlbnRzVHJhbnNmb3JtIjoiWWQiLCJnZXRXb3JsZFRyYW5zZm9ybSI6IlFhIiwic2V0TWljcm9Qb3NpdGlvbiI6InZUIiwiZ2V0TWljcm9Qb3NpdGlvbiI6Imw5YSIsInNldEJvcmRlckxpbmVTdHlsZSI6InNDIiwiZ2V0Qm9yZGVyTGluZVN0eWxlIjoibXAifX19");var j0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(){}var a="#6b6b6b",b={maximumfractiondigits:2,round:!0};L(c,"geotoolkit.widgets.timeseries.Util");c.IYa=0;c.LZa=1;c.j_b=function(){return{curveaxis:{visible:!1,compact:!1,position:"right",autolabelrotation:!1,autocoloraxis:!0,autocolorlabel:!0,titlevisible:!0,textcolor:a,axiscolor:a,labeltext:null,axiswidth:40,textwidth:20,font:"10px Arial",axisvisible:!0,titlerotateangle:-Math.PI/2,tickgeneratoroptions:{edge:{tickvisible:!0,labelvisible:!0},major:{tickvisible:!1,labelvisible:!1},
minor:{tickvisible:!1,labelvisible:!1}}}}};c.sud=function(){return xb({id:null,name:"",curve:{data:null,properties:{linestyle:{},visible:!0,autoscale:!0,logarithmicscale:!1,min:null,max:null,neatlimits:!1,neatlimitscenteredonzero:!1,spline:!1,unit:"",values:{visible:!1,anchor:O.cg,offset:7,color:"#757575",font:"12px Roboto",format:new bj,fillstyle:rf.vn,linestyle:X.vn}}},curvesymbol:{visible:!0,width:8,height:8,type:"circle",fillstyle:null},curvelimits:{visible:!0,margin:5,width:60,font:"bold 10px Arial"},
legenditem:{formatter:new bj(b),margintext:2,font:"bold 12px Arial",height:25,internalpadding:4,linestyle:new X({color:"rgba(128, 128, 128, 1)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new rf({color:"rgba(250, 250, 250, 0.95)"}),fixedwidth:null,autocolorlabel:!0,labelcolor:a},tooltipitem:{formatter:new bj(b),margintext:4,font:"12px Arial",textcolor:"black",symbolsize:10,internalpadding:2,externalpadding:5,linestyle:null,fillstyle:null,fixedwidth:null,nanvisibility:!0}},c.j_b())};c.tud=function(){return xb({id:null,
min:0,max:1,curveids:[],curveaxis:{visible:!0},sharelimits:!0},c.j_b())};c.x_b=function(d,e){for(var f=null,g=0;null==f;)-1===d.indexOf(e+g.toString())&&(f=e+g.toString()),g+=1;return f};c.Fub=function(d){switch(d){case "cross":d=cn;break;case "diamond":d=dn;break;case "plus":d=Rn;break;case "square":d=Sn;break;case "star":d=Un;break;case "triangle":d=Mm;break;default:d=$m}return d};c.Xg=function(d,e,f){var g=d.qd(c.IYa),h=d.qd(c.LZa);d=g.toArray();h=h.toArray();var k=[],l=[];f-=e;for(var m=0;m<g.getLength();m++)l.push((h[m]-
e)/f),k.push((new hH(d[m],l[m],0,!0,m)).g0(h[m]));return{samples:k,PAd:l,indices:d,values:h}};c.findIndex=function(d,e,f){var g=0;--f;if(0<=f)for(var h=f;g<=h;){f=g+h>>1;if(1E-10>=Math.abs(d[f].bc()-e))return f;d[f].bc()<e?g=f+1:h=f-1}return~g};c.Fw=function(d,e,f){var g=0<d.length&&d[d.length-1].bc()<d[0].bc();g&&d.reverse();e=c.findIndex(d,e,d.length);0>e&&(e=~e);0<e&&e--;f=c.findIndex(d,f,d.length);0>f&&(f=~f,f>=d.length&&(f=d.length-1));f<d.length&&f++;g&&d.reverse();return new Jd(e,f)};c.K7a=
function(d,e,f){null==f&&(f=!1);if(isNaN(d))return null;var g=V.findIndex(d,e,0,e.length-1,function(k,l){return Math.abs(k.bc()-l)<V.Qb?0:k.bc()<l?-1:1});if(0>g){var h=g=~g;if(!1===f)for(;h<e.length&&isNaN(e[h].getValue());)++h;--g;if(!1===f)for(;0<=g&&isNaN(e[g].getValue());)--g;g=0<=g&&h<e.length?e[g].bc()+e[h].bc()>2*d?g:h:0>g&&h<e.length?h:0<=g&&h>=e.length?g:0}return g};return c}(),2,"eyJnZXRVbmlxdWVJZCI6InhfYiIsImdldFBhaW50ZXJCeVN0cmluZyI6IkZ1YiJ9");var k0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){oi.call(this,a);this.s2a=null;this.UNa={top:1,bottom:0}}D(c,oi);L(c,"geotoolkit.widgets.timeseries.TimeSeriesGroup");c.prototype.sa=function(a){oi.prototype.sa.call(this,a);this.lj();return this};c.prototype.lj=function(){this.s2a=null;this.Ep();return this};c.prototype.gqd=function(a){if(!a)return null;var b=this.UNa.top,d=this.UNa.bottom,e=a.la(),f=a.na(),g=a.ka();a=a.ma();return new U(e,g+(a-g)*d,f,g+(a-g)*b)};c.prototype.Yd=function(){var a=oi.prototype.Yd.call(this);
if(null!==this.s2a)return this.s2a;var b=this.ga();if(null==b)return null;var d=this.gqd(b);null===d||d.isEmpty()||b.isEmpty()||(b=W.Sd(b,d,!1,!1,!1),this.s2a=null===a?b:W.multiply(b,a));return this.s2a};c.prototype.vT=function(a,b){if(0<=a&&1>=a&&0<=b&&1>=b){var d=Math.min(a,b);a=Math.max(a,b)}else d=0,a=1;if(this.UNa.top!==a||this.UNa.bottom!==d)this.UNa.top=a,this.UNa.bottom=d;this.xa();return this};c.prototype.xa=function(a,b){oi.prototype.xa.call(this,a,b);this.lj();return this};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRCb3VuZHMiOiJzYSIsInVwZGF0ZUJvdW5kcyI6ImxqIiwiZ2V0Q29udGVudHNUcmFuc2Zvcm0iOiJZZCIsInNldE1pY3JvUG9zaXRpb24iOiJ2VCIsInVwZGF0ZVN0YXRlIjoieGEifX19");var l0=/*#__PURE__*/{QJa:"axispositionchanged",TXa:"axisupdated"},m0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d){ue.call(this);this.fc=this.Pm=this.zLa=this.cH=this.n_a=this.od=null;this.opc=!1;this.le(d)}var a="curveaxisgroup",b=-1;D(c,ue);L(c,"geotoolkit.widgets.timeseries.TimeSeriesObjectBase");c.Ja=l0;c.prototype.le=function(d){if(null==d||null==d.id)throw Error("TimeSeriesObject requires a unique id for initialization");d=xb(d,{});this.ea=xb(d,this.ea);this.Pm=this.ea.id;this.fc=this.ea.name;this.od=(new rk).Dd(this.Pm);this.cH=
(new k0).Dd(a).Ha(new U(0,0,1,1)).oa(this.od);d=isFinite(this.ea.curveaxis.titlerotateangle)?this.ea.curveaxis.titlerotateangle:b*Math.PI/2;this.zLa=(new k0).Dd(a).Ha(new U(0,0,1,1)).oa([this.n_a=(new ek({ax:.5,ay:.5,alignment:O.Na})).Wj(ck.wn).rotate(d,.5,.5).Dd(this.Pm)]);this.kX(this.ea.curveaxis);return this};c.prototype.ic=function(){return this.Pm};c.prototype.Rh=function(){return{id:this.Pm,name:this.fc,axis:this.od,qqb:this.n_a,jua:this.cH,JQa:this.zLa,Nbd:this.ea.position}};c.prototype.Gz=
function(){return this.od};c.prototype.bI=function(){return this.ea.curveaxis};c.prototype.kX=function(d){null==d&&(d={});var e=this.ea.curveaxis.position,f=this.ea.curveaxis.axiswidth;d!==this.ea.curveaxis&&(d=xb(d,{}),this.ea.curveaxis=xb(d,this.ea.curveaxis));var g=this.ea.curveaxis,h=this.od,k=this.Vn,l=this.n_a,m=this.cH;d=this.zLa;if(null==h)return this;var n=g.textcolor;null!=k&&(n=!0===g.autocolorlabel&&null!=k.Ea()?k.Ea().rb():g.textcolor);var p=m.Ia(),q="left"===g.position?O.pe:O.vd,r=null;
null!=g.title&&(null!=g.title.anchor&&(q=g.title.anchor),null!=g.title.offset&&(r=g.title.offset));h.Faa(!0===g.compact&&g.titlevisible).FWa(new Ki({font:g.font,color:n})).XIa(q).v8b(r);"left"===g.position?h.Vr(zf.$b):h.Vr(zf.kc);l.fa({textStyle:new Ki({font:g.font,color:n}),alignment:O.Na}).va(g.titlevisible);h.Zl("left"===g.position?yf.$b:yf.kc);h.Uy(g.autolabelrotation);h.va(g.axisvisible);q=g.textcolor;null!=k&&(q=!0===g.autocoloraxis&&null!=k.Ea()?k.Ea().rb():g.axiscolor);g.baselinestyle?g.baselinestyle instanceof
X?h.lma().fa(g.baselinestyle.ia()):h.lma().fa(g.baselinestyle):h.lma().setColor(q);l.jb().setColor(n);null!=h.pa()&&h.Ha(h.pa().clone().Ra(g.axiswidth));m.Yl(g.axiswidth);d.Yl(g.textwidth);var t=h.Ge();l=t?h.nP():null;if(g.tickgenerator instanceof Zi)t=g.tickgenerator;else if(q=this.opc!==g.logarithmicscale)q=h.Ge(),(this.opc=g.logarithmicscale)?(t=new sk,l=null):t=new kk,t.fa(q.ia());h.pg(t);t=h.Ge();var u=!0===g.autocoloraxis&&null!=k&&null!=k.Ea()?k.Ea().rb():g.axiscolor,w=n;t.Aq().forEach(function(x){null!=
t.jj(x)&&t.jj(x).setColor(u);null!=t.Rk(x)&&t.Rk(x).setColor(w);if(null!=g.tickgeneratoroptions&&void 0!==g.tickgeneratoroptions.format){var C=g.tickgeneratoroptions.format;C instanceof Qi?t.KK(x,C):"function"===typeof C&&t.Qu(C)}});k=g.tickgeneratoroptions;l&&l.q9a()&&l.VSa()&&(k=xb(k,{}),k.edge={tickvisible:!1,labelvisible:!1});t.fa(k);var y=g.axisautolabelrotation?"auto":g.labelorientation,A=h.Ge();k=A.Aq();"auto"===y?(h.Uy(!0),h.Jga(b*Math.PI/2)):y===Rh.xb?(h.Uy(!1),k.forEach(function(x){A.tN(x,
0)})):y===Rh.ob?(h.Uy(!1),k.forEach(function(x){A.tN(x,b*Math.PI/2)})):V.Xp(y)&&(h.Uy(!1),k.forEach(function(x){A.tN(x,y)}));h=null==this.rZ?this.ea.curveaxis.visible:!1;m.va(h);m=d.Ia();d.va(!1===g.compact&&g.titlevisible&&g.visible&&h);e!==this.ea.curveaxis.position?this.notify(c.Ja.QJa,this,{id:this.Pm,oldposition:e,axisposition:this.ea.curveaxis.position}):(p!==this.ea.curveaxis.visible||f!==this.ea.curveaxis.axiswidth||m!==d.Ia())&&this.notify(c.Ja.TXa,this,this);void 0!==g.microposition&&(e=
{top:void 0!==g.microposition.top?g.microposition.top:1,bottom:void 0!==g.microposition.bottom?g.microposition.bottom:0},this.cH.vT(1-e.top,1-e.bottom),this.zLa.vT(1-e.top,1-e.bottom));return this};c.prototype.dispose=function(){null!=this.od&&this.od.dispose();null!=this.n_a&&this.n_a.dispose();null!=this.cH&&this.cH.dispose();null!=this.zLa&&this.zLa.dispose();ue.prototype.dispose.call(this)};c.prototype.mb=Hb;c.prototype.ia=function(){return{id:this.ic(),name:this.fc,curveaxis:this.bI()}};c.prototype.fa=
function(d){void 0!==d.id&&(this.Pm=d.id);void 0!==d.name&&(this.fc=d.name);void 0!==d.curveaxis&&this.kX(d.curveaxis);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRJZCI6ImljIiwiZ2V0QXhpcyI6Ikd6IiwiZ2V0QXhpc09wdGlvbnMiOiJiSSIsInNldEF4aXNPcHRpb25zIjoia1giLCJ1cGRhdGVMYXlvdXQiOiJtYiIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSJ9fX0g");var n0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d,e,f,g){sG.call(this);d=G(d,{data:d instanceof RG?d:null,scaledsamples:null,minwraplevel:0,maxwraplevel:0,conversion:e,interpolation:null!=f?f:null},!0);this.yR=[];this.Dx=[];this.z$b=!0===g;this.data=d.data;this.timeStamp=-1;this.xg=d.scaledsamples;this.tw=[];this.QW=d.minwraplevel;this.LW=d.maxwraplevel;this.wq=d.conversion;this.uW=d.interpolation;this.RF=!0;this.lsa=0}var a=j0.IYa,b=j0.LZa;D(c,sG);L(c,"geotoolkit.widgets.timeseries.ScaledData");c.prototype.qT=function(d){this.RF=
!0;this.timeStamp=-1;this.wq=d;return this};c.prototype.setInterpolation=function(d){this.RF=!0;this.timeStamp=-1;this.uW=null!=d?d:null;return this};c.prototype.nt=function(){return this.data};c.prototype.xS=function(){return this.data.qd(a).sf()};c.prototype.tS=function(){return this.data.qd(a).kg()};c.prototype.uc=function(){return this.data.qd(b).sf()};c.prototype.Dc=function(){return this.data.qd(b).kg()};c.prototype.Xg=function(){this.wM();return null!=this.xg?this.xg:[]};c.prototype.Hj=function(d){this.wM();
return null!=this.xg?this.xg[d]:null};c.prototype.getLength=function(){this.wM();return null!=this.xg?this.xg.length:0};c.prototype.pk=function(){return!0};c.prototype.Xh=function(){return nG.hB};c.prototype.f9=function(d){return null!=this.wq?this.wq.Dw(d):d};c.prototype.NZ=function(d){return null!=this.wq?this.wq.reverse(d):d};c.prototype.gf=function(){return this.timeStamp};c.prototype.nXb=function(){return this.data.qd(a).gf()};c.prototype.wM=function(){if(this.nXb()!==this.timeStamp||!this.xg){var d=
this.data.qd(a),e=this.data.qd(b);if(null==e||null==d||1>e.getLength()||1>d.getLength())this.xg=[];else{null==this.xg&&(this.xg=[]);var f=this.tw.length,g,h=this.lsa;if(this.RF)for(g=0;g<f;g++){var k=e.getValue(g);this.tw[g].setPosition(d.getValue(g));this.tw[g].setValue(k);this.tw[g].g0(k);this.tw[g].u5(0);this.tw[g].dB(!0);this.tw[g].Ncb(g)}for(g=f;g<d.getLength();g++)k=e.getValue(g),this.tw.push(new hH(d.getValue(g),k,0,!0,g));f>d.getLength()&&this.tw.splice(d.getLength(),f-d.getLength());if(null!=
this.uW){if(g=new rH(this.tw),e=new rH,k=this.tw.length-h,this.RF&&(h=0,k=this.tw.length),0!==k&&this.uW.interpolate(h,k,g,e))if(this.lsa=e.nYb(),f=e.Xg(),this.RF)this.xg=f,this.QW=e.Ly(),this.LW=e.IA();else{for(g=this.xg.length-1;0<=g;g--)if(this.xg[g].Dq()===h){h=g;break}k=Math.min(this.xg.length,f.length+h);for(g=h;g<k;g++)this.xg[g]=f[g-h];if(g<this.xg.length)this.xg.splice(g,this.xg.length-g);else for(g=k-h;g<f.length;g++)this.xg.push(f[g]);this.QW=Math.min(this.QW,e.Ly());this.LW=Math.max(this.LW,
e.IA())}}else if(this.RF)for(h=0,this.xg=[],g=0;g<this.tw.length;g++)this.xg[g]=this.tw[g].clone();else for(g=h=this.xg.length;g<this.tw.length;g++)this.xg.push(this.tw[g].clone());if(null!=this.wq)for(g=h=this.RF?0:h;g<this.xg.length;++g)k=this.wq.Dw(this.xg[g].getValue()),this.z$b&&isNaN(k)&&!isNaN(this.xg[g].aC())?this.xg[g].setValue(0):this.xg[g].setValue(k);if(this.RF){h=this.Dx?this.Dx.length:0;e=this.xg.length;this.Dx=this.Dx||[];this.yR=this.yR||[];for(g=0;g<e;++g)this.Dx[g]=this.xg[g].getValue(),
this.yR[g]=this.xg[g].bc();h>e&&(this.Dx.splice(e,h-e),this.yR.splice(e,h-e))}else if(h=this.Dx?this.Dx.length:0,e=this.xg.length,h<e)for(this.Dx=this.Dx||[],this.yR=this.yR||[],g=h;g<e;++g)this.Dx[g]=this.xg[g].getValue(),this.yR[g]=this.xg[g].bc();this.timeStamp=d.gf();this.RF=!1}}};c.prototype.mK=function(){return this.Dx};c.prototype.DP=function(){return this.yR};c.prototype.Fw=function(d,e){if(null==this.xg&&(this.wM(),null==this.xg))throw Error("scaled is empty");return this.dYb(this.xg,d,e)};
c.prototype.dYb=function(d,e,f){if(null==d)throw Error("samples is empty");var g=0<d.length&&d[d.length-1].bc()<d[0].bc();g&&d.reverse();e=c.findIndex(d,e,d.length);0>e&&(e=~e);0<e&&e--;f=c.findIndex(d,f,d.length);0>f&&(f=~f,f>=d.length&&(f=d.length-1));f<d.length&&f++;g&&d.reverse();return new Jd(e,f)};c.findIndex=function(d,e,f){return j0.findIndex(d,e,f)};c.prototype.Ly=function(){return this.QW};c.prototype.d0=function(d){this.QW=d;return this};c.prototype.IA=function(){return this.LW};c.prototype.b0=
function(d){this.LW=d;return this};c.prototype.getValue=function(d){this.wM();var e=this.Xg();return this.s$a(d,e)};c.prototype.s$a=function(d,e){this.wM();if(null==e||0===e.length||e[0].bc()>d||e[e.length-1].bc()<d||d<this.xS()||d>this.tS())return Number.NaN;if(e[0].bc()===d)return e[0].getValue();if(e[e.length-1].bc()===d)return e[e.length-1].getValue();for(var f=1;f<e.length;++f)if(!(e[f].bc()<d))return e[f].bc()===d?e[f].getValue():this.fGa(e,d,f-1,f);return Number.NaN};c.prototype.fGa=function(d,
e,f,g){if(e<d[f].bc()||e>d[g].bc())return Number.NaN;var h=d[g].getValue()-d[f].getValue();0===h?d=d[g].getValue():(g=d[g].bc()-d[f].bc(),d=d[f].getValue()+(e-d[f].bc())*h/g);return d};c.prototype.ia=function(){var d=sG.prototype.ia.call(this);d.data=this.data;d.scaledsamples=this.Xg();d.minwraplevel=this.Ly();d.maxwraplevel=this.IA();d.conversion=this.wq;d.interpolation=this.uW;return d};c.prototype.fa=function(d){d=hc(d);if(null==d)return this;void 0!==d.data&&(this.data=d.data);void 0!==d.scaledsamples&&
(this.xg=d.scaledsamples);void 0!==d.minwraplevel&&this.d0(d.minwraplevel);void 0!==d.maxwraplevel&&this.b0(d.maxwraplevel);void 0!==d.conversion&&this.qT(d.conversion);void 0!==d.interpolation&&(this.uW=d.interpolation);return this};c.prototype.Ufa=function(){return this.gf()!==this.nXb()};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRDb252ZXJzaW9uIjoicVQiLCJnZXRTb3VyY2UiOiJudCIsImdldE1pblBvc2l0aW9uIjoieFMiLCJnZXRNYXhQb3NpdGlvbiI6InRTIiwiZ2V0TWluVmFsdWUiOiJ1YyIsImdldE1heFZhbHVlIjoiRGMiLCJnZXRTYW1wbGVzIjoiWGciLCJnZXRTYW1wbGUiOiJIaiIsImlzRm9yd2FyZE9ubHkiOiJwayIsImdldERhdGFPcmRlciI6IlhoIiwiY29udmVydFZhbHVlRnJvbVNvdXJjZSI6ImY5IiwiY29udmVydFZhbHVlVG9Tb3VyY2UiOiJOWiIsImdldERhdGFUaW1lU3RhbXAiOiJuWGIiLCJnZXRWYWx1ZUFycmF5IjoibUsiLCJnZXRQb3NpdGlvbkFycmF5IjoiRFAiLCJnZXRJbmRleFJhbmdlIjoiRnciLCJnZXRNaW5XcmFwTGV2ZWwiOiJMeSIsInNldE1pbldyYXBMZXZlbCI6ImQwIiwiZ2V0TWF4V3JhcExldmVsIjoiSUEiLCJzZXRNYXhXcmFwTGV2ZWwiOiJiMCIsImdldFZhbHVlSW50ZXJuYWwiOiJzJGEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJpc091dGRhdGVkIjoiVWZhIn19fSAg");var o0=/*#__PURE__*/va(/*#__PURE__*/{Ud:"updated",AKa:"limitschanged"},2,"eyJVcGRhdGVkIjoiVWQiLCJMaW1pdHNDaGFuZ2VkIjoiQUthIn0g"),p0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f){f=G(f,{data:null!=f.data?f.data:null,linestyle:null!=f.linestyle?f.linestyle:{},markervisible:null!=f.markervisible?f.markervisible:!1,curvevisible:null!=f.curvevisible?f.curvevisible:!0,marker:null!=f.marker?f.marker:null,decimationSpacing:"number"===typeof f.decimationSpacing?f.decimationSpacing:1,spline:null!=f.spline?f.spline:!1,values:null!=f.values?f.values:null});i0.call(this,f);this.pCa=this.zmb=this.rs=this.Lt=this.ui=
this.Ei=this.ja=this.Sa=null;this.Kv=DH.JN;this.uu=!0;this.nI=oH.rh;this.mC=this.zf=null;this.VGa=this.Kwb=!1;this.setData(f.data);this.m2a=f.markervisible;this.sIb=f.curvevisible;this.fUb(f.marker);this.G5c=1<=f.decimationSpacing?f.decimationSpacing:1;this.Ync=f.spline;this.Gb=f.values.visible;this.kia=f.values.anchor||O.cg;this.cad=(new ek({textstyle:f.values.textstyle||{color:f.values.color,font:f.values.font},padding:f.values.padding||2,alignment:this.kia})).vt(!0).qa(f.values.fillstyle).ra(f.values.linestyle);
this.NBa=f.values.offset;this.jkc=f.values.offsetx;this.kkc=f.values.offsety;this.x8c=f.values.format}function a(f,g,h){return null==g?f.qd(h):"string"===typeof g?f.Hz(g):"number"===typeof g?f.qd(g):nc(g,wG)?g:null}var b=j0.IYa,d=j0.LZa,e=1E-5;D(c,i0);L(c,"geotoolkit.widgets.timeseries.TimeSeriesLine");c.Ja=o0;c.prototype.zXa=function(f,g){f||(f=this.ga());void 0===g&&(g=!0);this.TG(f,g);this.Wx();this.lj();return this};c.prototype.sf=function(){return this.Ei};c.prototype.IIa=function(f){this.Ei!==
f&&(this.Ei=f,this.zXa());return this};c.prototype.kg=function(){return this.ui};c.prototype.EIa=function(f){this.ui!==f&&(this.ui=f,this.zXa());return this};c.prototype.rQ=function(f){this.Kv=f;return this};c.prototype.FI=function(f){this.uu=f;return this};c.prototype.Xg=function(){var f=this.dTa();return f?f.Xg():[]};c.prototype.cTa=function(){var f=this.dTa(),g=f.Xg();return{values:f.mK(),indices:f.DP(),samples:g}};c.prototype.getData=function(){return this.ja};c.prototype.setData=function(f){null!=
this.ja&&(this.rs&&(this.rs.za(jG.uj,this.qGa()),this.rs=null),this.Lt&&(this.Lt.za(jG.uj,this.aYb()),this.Lt=null));var g=b,h=d;this.ja=null;f instanceof HG||f instanceof RG?this.ja=f:null!=f&&(f=G(f,{depths:null,values:null,datatable:null,name:null},!0),this.ja=f.datatable,g=f.indices,h=f.values);if(null!=this.ja){this.Lt=a(this.ja,g,0);this.rs=a(this.ja,h,1);if(null==this.Lt||null==this.rs)throw Error("Wrong input parameters. indices or values are not specified.");if(this.rs)this.rs.on(jG.uj,this.qGa());
if(this.Lt)this.Lt.on(jG.uj,this.aYb())}this.Wx();this.zXa();return this};c.prototype.YV=function(){return this.nI};c.prototype.nX=function(f){if(f){var g=f.toLowerCase();if("linear"===g)f=oH.rh;else if("middlestep"===g)f=oH.a6;else if("endstep"===g)f=oH.NT;else if("startstep"===g)f=oH.aL;else throw Error("Interpolation type "+f+" is not defined!");f!==this.nI&&(this.nI=f,this.um=!0,this.ha())}return this};c.prototype.TG=function(f,g){var h=this.ga();if(!h)return this;null!==this.ja&&(this.um|=!f||
g,this.ha(f));return this};c.prototype.Bzb=function(f){this.VGa!==f&&(this.VGa=f,this.um=!0,this.ha());return this};c.prototype.vFa=function(){return this.VGa};c.prototype.jUa=function(){return this.Kwb};c.prototype.nWa=function(f){this.Kwb!==f&&(this.Kwb=f,this.um=!0,this.ha());return this};c.prototype.T7b=function(f){this.zf=f;this.mC=new EH(this.zf);this.mC.FI(this.uu);this.mC.rQ(this.Kv);return this};c.prototype.dTa=function(f){"undefined"===typeof f&&(f=this.uu);return!0===f?this.mC:this.zf};
c.prototype.$Bb=function(f){f=f.Fa();var g=this.uu;this.mC.kAb(f);this.mC.FI(g);this.mC.rQ(this.Kv);this.mC.Xg()};c.prototype.Wx=function(){if(null!=this.ja&&(null==this.zf||this.zf.nt()!==this.ja||this.um)){var f=this.Ei;var g=this.ui,h=this.l9a(),k=h.bottom;h=h.top;f=this.Kwb?f>=e?new BH(1,10,f,g,k,h,e,new CH(f,g)):g>=e?new BH(1,10,e,g,k,h,e,new CH(e,g)):new BH(1,10,Number.NaN,Number.NaN,k,h,e,new CH(Number.NaN,Number.NaN)):new CH(f,g);g=new CG;this.nI===oH.a6?g.J3(new pH(oH.a6)):this.nI===oH.NT?
g.J3(new pH(oH.NT)):this.nI===oH.aL&&g.J3(new pH(oH.aL));k=this.ja;0===g.MS.length&&(g=null);null!=this.zf&&this.zf.nt()===k?this.zf.qT(f).setInterpolation(g):(f=new n0(k,f,g,this.jUa()&&this.vFa()),this.T7b(f));this.mC.j5();this.um=!1}};c.prototype.sxb=function(){this.zXa()};c.prototype.aYb=function(){null==this.zmb&&(this.zmb=function(f,g,h){f=null!=h?h.name:null;"unit"===f&&this.sxb()}.bind(this));return this.zmb};c.prototype.qGa=function(){null==this.pCa&&(this.pCa=function(f,g,h){f=null!=h?h.name:
null;"unit"===f&&this.sxb()}.bind(this));return this.pCa};c.prototype.lj=function(){this.Sa=null;if(null!=this.ja&&!1!==this.Ia()){var f=(this.zf.uc()-this.Ei)/(this.ui-this.Ei),g=(this.zf.Dc()-this.Ei)/(this.ui-this.Ei);this.Sa=new U(this.zf.xS(),f,this.zf.tS(),g);i0.prototype.lj.call(this)}};c.prototype.ga=function(){return null!=this.Sa?this.Sa.lock():null};c.prototype.bf=function(f){if(!this.Ia())return!1;var g=this.ga();if(!g)return!0;var h=g.ca(),k=g.da();if(k<=Number.MIN_VALUE&&h<=Number.MIN_VALUE)return!1;
if(k>Number.MIN_VALUE&&h>Number.MIN_VALUE)return Cg.C_(g,this.lb(),f.Rg());(h=this.lb())&&(g=h.Ta(g));var l=f.Rg();f=Math.max(l.la(),g.la());h=Math.min(l.na(),g.na());k=Math.max(l.ka(),g.ka());g=Math.min(l.ma(),g.ma());return!(h<f||g<k)};c.prototype.FOc=function(f){this.sIb=f;return this};c.prototype.amd=function(){return this.sIb};c.prototype.render=function(f){i0.prototype.render.call(this,f);if(!(!1===this.Ia()||null==this.Ea()||null==this.ja||0>=this.ja.oh())){f=null!=this.Qa()?f.Zb(this.Qa()):
f;var g=this.Ea();f.ra(g);var h=f.jg(),k=f.Fa(),l=f.dHa(g);h=U.C4(h,l,l);var m=k.pd(h);this.Wx();this.$Bb(f);var n=this.dTa();k=n.mK();h=n.DP();l=n.Xg();if(null!=k&&null!=h&&null!=l){var p=-1,q=-1,r;n=n.Fw(m.la(),m.na());m=n.Ua();n=n.Za();if(this.sIb){for(r=m;r<n;r++)isNaN(k[r])&&-1===p||(-1===p&&(p=r),isNaN(k[r])&&(this.Ync?(p=new io(h.slice(p,q+1),k.slice(p,q+1)),p.ra(g),p.render(f)):f.nm(h,k,p,q),p=q+1),q=r);-1!==p&&-1!==q&&p!==q&&(this.Ync?(r=Array.prototype.slice.call(h,p,q+1),q=Array.prototype.slice.call(k,
p,q+1),p=new io(r,q),p.ra(g),p.render(f)):f.nm(h,k,p,q))}if(!1!==(this.m2a||this.Gb)&&(g=this.kia,q=this.jkc,p=this.kkc,null==this.jkc&&null==this.kkc&&null!=this.NBa&&(r=Number(this.NBa),p=q=0,qk.Iu(g)?q=r:qk.kv(g)&&(q=-r),qk.Qz(g)?p=r:qk.dC(g)&&(p=-r)),q=Math.sign(q)*Hd.qb(q,0,f.Fa()),p=Math.sign(p)*Hd.qb(0,p,f.Fa()),this.getParent()&&this.getParent().getParent()&&this.getParent().getParent().lo()&&(p*=-1,qk.Qz(g)?g=qk.Iu(g)?O.cg:qk.kv(g)?O.lh:O.Je:qk.dC(g)&&(g=qk.Iu(g)?O.Ld:qk.kv(g)?O.Qf:O.Xd)),
this.m2a||this.Gb))for(r=m;r<n;r++)0===r%this.G5c&&(this.m2a&&this.iMb.Db(h[r],k[r]).render(f),this.Gb&&(m=l[r].Wab,this.cad.Db(h[r]+q,k[r]+p).tc(g).Eb(this.x8c.format(m)).render(f)))}}};c.prototype.fUb=function(f){f=G(f,{alignment:O.Na,width:7,height:7,sizeIsInDeviceSpace:!0,painter:cn,linestyle:new X({color:"black"}),fillstyle:new rf({color:"black"})});this.doe={width:f.width,height:f.height};this.iMb=new Nm(f);return this};c.prototype.Xpd=function(){return{visible:this.m2a,shape:this.iMb}};c.prototype.lLd=
function(f){f.hasOwnProperty("visible")&&(this.m2a=f.visible);f.hasOwnProperty("marker")&&(f.marker instanceof Nm?this.iMb=f.marker:this.fUb(f.marker));this.ha();return this};c.prototype.rva=function(){return this.Lt};c.prototype.yTa=function(){return this.rs};c.prototype.dispose=function(){this.ge()||(null!=this.ja&&(this.rs&&(this.rs.za(jG.uj,this.qGa()),this.rs=null),this.Lt&&(this.Lt.za(jG.uj,this.aYb()),this.Lt=null)),i0.prototype.dispose.call(this))};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVTYW1wbGVzIjoielhhIiwiZ2V0TWluIjoic2YiLCJzZXRNaW4iOiJJSWEiLCJnZXRNYXgiOiJrZyIsInNldE1heCI6IkVJYSIsInNldE9wdGltaXphdGlvblR5cGUiOiJyUSIsInNldE9wdGltaXphdGlvbiI6IkZJIiwiZ2V0U2FtcGxlcyI6IlhnIiwiZ2V0U2FtcGxlc0V4dCI6ImNUYSIsImdldEludGVycG9sYXRpb25UeXBlIjoiWVYiLCJzZXRJbnRlcnBvbGF0aW9uVHlwZSI6Im5YIiwidXBkYXRlRnJvbURhdGEiOiJURyIsInNldERyYXdPdXRPZlJhbmdlVmFsdWVzIjoiQnpiIiwiZ2V0RHJhd091dE9mUmFuZ2VWYWx1ZXMiOiJ2RmEiLCJpc0xvZ2FyaXRobWljU2NhbGUiOiJqVWEiLCJzZXRMb2dhcml0aG1pY1NjYWxlIjoibldhIiwidXBkYXRlU2NhbGVkRGF0YSI6Ild4IiwidXBkYXRlQm91bmRzIjoibGoiLCJnZXRCb3VuZHMiOiJnYSIsImNoZWNrQ29sbGlzaW9uIjoiYmYiLCJzZXRDdXJ2ZVZpc2libGUiOiJGT2MiLCJnZXRDdXJ2ZVZpc2libGUiOiJhbWQiLCJjcmVhdGVNYXJrZXIiOiJmVWIifX19");var q0=/*#__PURE__*/va(/*#__PURE__*/{lw:"change"},2,"eyJDaGFuZ2UiOiJsdyJ9"),r0=/*#__PURE__*/function(){function c(a){ue.call(this);this.ja=null;this.setData(a)}D(c,ue);L(c,"geotoolkit.widgets.timeseries.TimeSeriesTooltipObject");c.Ja=q0;c.prototype.setData=function(a){null==a&&(a={});this.ja=G(a,{id:a.id,color:a.color,name:a.name,indextext:a.indextext,valuetext:a.valuetext,unittext:a.unittext});this.notify(c.Ja.lw,this,null);return this};c.prototype.getData=function(){return this.ja};return c}();var s0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b,d){null!=d&&(hb("second argument in geotoolkit.widgets.timeseries.TimeSeriesTooltipLegendItem() is deprecated since 2021.1 (3.3), use first argument instead"),b=d);null==b&&(b={});b=G(b,{visual:b instanceof r0?b:null,formatter:null,margintext:2,font:"12px Arial",textcolor:"black",symbolsize:0,height:20,internalpadding:4,externalpadding:4,valuevisible:!0,linestyle:new X({color:"rgba(0, 0, 0, 0)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new rf({color:"rgba(0, 0, 0, 0)"}),
fixedwidth:0,nanvisibility:!0,formatdatahandler:null,singlerow:!1},!0);TQ.call(this,b.visual);this.Zc=null;this.tu=b.formatter;this.Sca=b.margintext;this.uL=b.font;this.fc="";this.lQb=b.textcolor;this.fD=b.symbolsize;this.PAa=b.externalpadding;this.kd=b.height;this.vi=0;this.rpb=b.valuevisible;this.bja=b.fixedwidth;this.mBa=b.internalpadding;this.dNb=b.nanvisibility;this.bKb=this.gxc.bind(this);this.vPa=b.singlerow;this.le();a.call(this,b)}function a(b){b=hc(b);if(null==b)return this;void 0!==b.visual&&
this.Xy(b.visual);void 0!==b.height&&(this.kd=b.height);b.formatter&&(this.tu=b.formatter);null!=b.margintext&&(this.Sca=b.margintext);null!=b.font&&(this.uL=b.font);null!=b.textcolor&&(this.lQb=b.textcolor);null!=b.symbolsize&&(this.fD=b.symbolsize);null!=b.externalpadding&&(this.PAa=b.externalpadding);null!=b.internalpadding&&(this.mBa=b.internalpadding);void 0!==b.fixedwidth&&(this.bja=b.fixedwidth);void 0!==b.valuevisible&&(this.rpb=b.valuevisible);void 0!==b.nanvisibility&&(this.dNb=b.nanvisibility);
b.formatdatahandler&&(this.bKb=b.formatdatahandler);void 0!==b.singlerow&&(this.vPa=b.singlerow);this.Zg();return this}D(c,TQ);L(c,"geotoolkit.widgets.timeseries.TimeSeriesTooltipLegendItem");c.prototype.le=function(){this.Yc(!0);this.Te(!1);this.AGa();this.Zg()};c.prototype.ia=function(){var b=TQ.prototype.ia.call(this);b.visual=this.Bd();b.height=this.kd;b.formatter=this.tu;b.margintext=this.Sca;b.font=this.uL;b.textcolor=this.lQb;b.symbolsize=this.fD;b.externalpadding=this.PAa;b.internalpadding=
this.mBa;b.fixedwidth=this.bja;b.valuevisible=this.rpb;b.nanvisibility=this.dNb;b.formatdatahandler=this.bKb;b.singlerow=this.vPa;return b};c.prototype.fa=function(b){TQ.prototype.fa.call(this,b);a.call(this,b);return this};c.prototype.setOptions=function(b){return this.fa(b)};c.prototype.AGa=function(){this.Jf=10;var b=[];this.dh();b.push(this.Zc=new Nm({alignment:O.Na,width:this.fD,height:this.fD,sizeIsInDeviceSpace:!0}));b.push(this.fc=new ek);b.push(this.vi=new ek);this.oa(b)};c.prototype.QVb=
function(b){return null!=this.tu?this.tu.format(b):b};c.prototype.gxc=function(b){return{id:b.id,name:b.name,symbol:b.symbol,valuetext:this.QVb(b.valuetext),additionaltext:b.additionaltext||"",unittext:b.unittext}};c.prototype.Zg=function(){var b=0,d=0,e=this.bKb(this.Bd().getData()),f=null!=this.Zc&&null!=e.symbol?this.fD:0,g=new Ki({color:this.lQb,font:this.uL}),h=this.PAa+this.mBa,k=null!=e.additionaltext&&""!==e.additionaltext,l=null!=e.unittext&&""!==e.unittext;if(null!=this.fc){var m=e.name;
this.vPa&&(m+=" - "+e.valuetext+e.additionaltext,m+=l?k?" ":" (":"",m+=e.unittext,m+=l?")":"");var n=rg.measureText(m,g);var p=f>n.da()?f:n.da();d+=p;b=n.ca();this.fc.fa({text:m,ax:h+f+(0!==f?this.Sca:0),ay:h+p/2,textstyle:g});this.fc.tc(O.vd)}null!=this.Zc&&null!=e.symbol&&(this.Zc.fa({ax:h+f/2,ay:h+d/2,alignment:O.Na,width:f,height:f,sizeIsInDeviceSpace:!0,painter:e.symbol.T9().Oa(),linestyle:e.symbol.Ea(),fillstyle:e.symbol.fb()}),b+=this.Sca+f);d+=this.Sca;this.vi.va(this.vPa?!1:this.rpb);null==
this.vi||!0!==this.rpb||this.vPa||(m="",e.valuetext&&(m+=e.valuetext+e.additionaltext),m+=l?k?" ":" (":"",m+=e.unittext,m+=l?")":"",n=rg.measureText(m,g),p=n.da(),b=n.ca()>b?n.ca():b,this.vi.fa({text:m,ax:h,ay:h+d+p/2,textstyle:g}),d+=n.da(),this.vi.tc(O.vd));!1===this.dNb&&isNaN(e.valuetext)?this.va(!1):this.va(!0);b=null!=this.bja?this.bja-2*(this.PAa+this.mBa):b;b+=2*(this.PAa+this.mBa);d=this.vPa?d+(this.PAa+this.mBa):d+2*(this.PAa+this.mBa);this.Yl(b).yl(d).Te(!0);this.notify(SQ.lw,this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJmb3JtYXREYXRhIjoiZ3hjIiwidXBkYXRlR2VvbWV0cnkiOiJaZyJ9fX0g");var t0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b,d){null!=d&&(hb("second argument in geotoolkit.widgets.timeseries.TimeSeriesLineLegendItem() is deprecated since 2021.1 (3.3), use first argument instead"),b=d);null==b&&(b={});b=G(b,{visual:b instanceof m0?b:null,formatter:null,margintext:2,font:"9px Arial",height:20,internalpadding:4,linestyle:new X({color:"rgba(128, 128, 128, 0.5)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new rf({color:"rgba(250, 250, 250, 0.95)"}),fixedwidth:null,labelcolor:null},!0);TQ.call(this,
b.visual);this.Uh=this.Zc=this.xj=this.nia=null;this.b2=[];this.dG=null;this.kd=b.height;this.Sca=b.margintext;this.uL=b.font;this.Jf=b.internalpadding;this.Ti=b.linestyle;this.bja=b.fixedwidth;this.Zkb=b.labelcolor;this.tu=b.formatter;this.le();a.call(this,b)}function a(b){b=hc(b);if(null==b)return this;void 0!==b.visual&&this.Xy(b.visual);null!=b.height&&(this.kd=b.height);void 0!==b.formatter&&(this.tu=b.formatter);null!=b.margintext&&(this.Sca=b.margintext);null!=b.font&&(this.uL=b.font);null!=
b.internalpadding&&(this.Jf=b.internalpadding);void 0!==b.linestyle&&(this.Ti=X.Pa(b.linestyle));void 0!==b.fillstyle&&this.qa(b.fillstyle);void 0!==b.fixedwidth&&(this.bja=b.fixedwidth);void 0!==b.labelcolor&&(this.Zkb=b.labelcolor);this.Zg();return this}D(c,TQ);L(c,"geotoolkit.widgets.timeseries.TimeSeriesLineLegendItem");c.prototype.le=function(){this.Yc(!0);this.Te(!0);this.AGa();this.Zg();this.Bd().on(d0.PEb,this.ze())};c.prototype.ia=function(){var b=TQ.prototype.ia.call(this);b.visual=this.Bd();
b.formatter=this.tu;b.margintext=this.Sca;b.font=this.uL;b.height=this.kd;b.internalpadding=this.Jf;b.fixedwidth=this.bja;b.labelcolor=this.Zkb;return b};c.prototype.fa=function(b){var d=G(b,{});d.linestyle=null;d.fillstyle=null;TQ.prototype.fa.call(this,d);a.call(this,b);return this};c.prototype.setOptions=function(b){return this.fa(b)};c.prototype.AGa=function(){var b=[];this.dh();this.nia=new ho;b.push(this.nia);this.xj=new Fk;b.push(this.xj);this.Zc=(new Nm).va(!1);b.push(this.Zc);b.push(this.Uh=
new ek);this.oa(b)};c.prototype.QVb=function(b){return null!=this.tu?this.tu.format(b):b};c.prototype.Zg=function(){var b=this.kd,d=b,e=this.Jf,f=e/2,g=2*e,h=this.Bd(),k=h.Rh(),l=this.Bd().ul().unit instanceof Xd?this.Bd().ul().unit.Tc():this.Bd().ul().unit,m=k.name,n=null==this.Bd().ul()||null==this.Bd().ul().unit?"":l,p=null==k.curve?null:h.Dpd();l=null==k.curve?null:k.curve.Xpd();var q=null==k.curve?null:k.curve.Ea().rb();null==k.curve||k.curve.Ea().clone();var r=k.Ez;k=new Ki({color:"black",font:this.uL});
p=this.QVb(p);var t=null!=n&&""!==n,u=null!=h.jWb()&&""!==h.jWb();m+=null==p?"":" "+p+(u||!t?"":" (")+h.jWb();m+=u?" ":"";m+=null==n?"":n;m+=t?")":"";h=null!=this.bja?this.bja:rg.measureText(m,k).ca()+d+g+2*this.Sca;this.Yl(h).yl(b).Te(!0);this.nia.cb(new U(f,f,h-f,b-f)).ra(this.Ti).qa(this.fb());var w=1;this.b2.forEach(function(y){w=this.Ik(y);this.removeChild(y)}.bind(this));this.b2=[];null!=r&&(f=(b-g+1)/2,h=null,n=0,h=null==r.top?null:r.top.fillstyle,h=(new ho({left:e,top:e+f*n,width:d-g,height:f})).ra(null).qa(h),
this.Mf(w,h),this.b2.push(h),n=1,h=null==r.bottom?null:r.bottom.fillstyle,g=(new ho({left:e,top:e+f*n,width:d-g,height:f})).ra(null).qa(h),this.Mf(w,g),this.b2.push(g));null!=this.xj&&this.xj.Oq({from:new M(e,b/2),to:new M(d-e,b/2)}).ra(new X({color:q}));null!=this.Zc&&(null==l||!0!==l.visible?this.Zc.va(!1):this.Zc.fa(l.shape.ia()).tc(O.Na).Db(d/2,b/2).va(!0));null!=this.Uh&&(this.Uh.fa({text:m,ax:d+this.Sca,ay:b/2,textstyle:k}),this.Uh.tc(O.vd));null==this.Zkb?this.Uh.jb().setColor(q):this.Uh.jb().setColor(this.Zkb)};
c.prototype.ze=function(){null==this.dG&&(this.dG=function(b,d,e){this.Zg()}.bind(this));return this.dG};c.prototype.dispose=function(){null!=this.Bd()&&this.Bd().za(d0.PEb,this.ze());TQ.prototype.dispose.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJ1cGRhdGVHZW9tZXRyeSI6IlpnIiwiZ2V0VXBkYXRlTWV0aG9kIjoiemUifX19");var u0=/*#__PURE__*/va(/*#__PURE__*/{nb:"top",Cv:"value",xd:"bottom"},2,"eyJUb3AiOiJuYiIsIlZhbHVlIjoiQ3YiLCJCb3R0b20iOiJ4ZCJ9"),v0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b,d){ue.call(this);a=G({},{value:null!=a?a:Number.MIN_VALUE,originalCurve:null!=b?b:null,type:null!=d?d:c.bLa.Cv});this.v8c=this.mA=null;this.vi=a.value;this.oj=a.type;this.M2=a.originalCurve;this.Kjc=this.El=this.Ygc=this.ja=null;if(null!=this.M2)this.M2.on(o0.AKa,this.sb());this.SK()}D(c,ue);L(c,"geotoolkit.widgets.timeseries.ReferenceLine");c.bLa=u0;c.prototype.SK=function(){var a=this.M2.sf(),b=this.M2.kg(),d=this.pa();this.Kjc=
d.clone();d=new U(d.la(),a,d.na(),b);d=U.C4(d,2,2);a=(b=b<=a)?d.ma():d.ka();b=b?d.ka():d.ma();switch(this.oj){case c.bLa.nb:this.vi=b;break;case c.bLa.xd:this.vi=a}a=d.la();d=d.na();null==this.ja?(this.ja=new HG({cols:[{type:"number",data:[a,d]},{type:"number",data:[this.vi,this.vi]}]}),this.Ygc=new RG(this.ja)):(this.ja.Ibb(0,2),this.ja.YRb([[a,this.vi],[d,this.vi]]));this.mA=this.Sa=null};c.prototype.Xg=function(){var a=this.pa();null!=a&&a.wi(this.Kjc)||this.SK();null==this.mA&&null!=this.ja&&
(a=j0.Xg(this.ja,this.M2.sf(),this.M2.kg()),this.mA=a.samples,this.v8c=a.PAd);return this.mA};c.prototype.lj=function(){this.Sa=null;if(null!=this.ja&&null!=this.M2){var a=this.ja.qd(j0.IYa),b=this.ja.qd(j0.LZa),d=this.M2.sf(),e=this.M2.kg(),f=(b.sf()-d)/(e-d);b=(b.kg()-d)/(e-d);this.Sa=new U(a.sf(),f,a.kg(),b)}};c.prototype.ga=function(){null==this.Sa&&this.lj();return null!=this.Sa?this.Sa.lock():null};c.prototype.getData=function(){return this.Ygc};c.prototype.pa=function(){return this.M2.getParent().pa()};
c.prototype.sb=function(){null==this.El&&(this.El=function(a,b,d){this.mA=null;this.SK()}.bind(this));return this.El};c.prototype.dispose=function(){null!=this.M2&&this.M2.za(o0.AKa,this.sb());ue.prototype.dispose.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTYW1wbGVzIjoiWGciLCJ1cGRhdGVCb3VuZHMiOiJsaiIsImdldEJvdW5kcyI6ImdhIiwiZ2V0TW9kZWxMaW1pdHMiOiJwYSIsImdldEludmFsaWRhdGVNZXRob2QiOiJzYiJ9fX0g");var w0=/*#__PURE__*/va(/*#__PURE__*/{RQ:"single",Y0:"dual",Uu:"positive",ju:"negative",lZa:"positiveandnegative"},2,"eyJTaW5nbGUiOiJSUSIsIkR1YWwiOiJZMCIsIlBvc2l0aXZlIjoiVXUiLCJOZWdhdGl2ZSI6Imp1IiwiUG9zaXRpdmVBbmROZWdhdGl2ZSI6ImxaYSJ9"),x0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(f,g,h){this.$Ed=f;this.samples=new e(f);this.Lr=-1;this.e7a=h;this.z$=g;this.Td=!0;this.minValue=0;this.maxValue=1;this.CHc=-1E-10;this.pHc=1+1E-10}function a(f,g,h,k){this.bi=new b(f,g);this.Ij=new b(h,k);this.empty=!1}function b(f,g){this.Cp=f;this.TB=this.Ls=g;this.kp=null}function d(f,g,h,k,l){f=G(f,{curve1:f instanceof p0?f:null,curve2:g instanceof p0||g instanceof v0?g:null,fillstyle:h instanceof
rf?h:null,positivefillstyle:k instanceof rf?k:null,negativefillstyle:l instanceof rf?l:null,filltype:null});i0.call(this,f);null==f.filltype&&(f.filltype=null!=f.negativefillstyle?null!=f.positivefillstyle?d.Ni.Y0:d.Ni.ju:null!=f.positivefillstyle?d.Ni.Uu:d.Ni.RQ);switch(f.filltype){case d.Ni.RQ:null==f.fillstyle&&(f.fillstyle=null);null==f.negativefillstyle&&(f.negativefillstyle=f.fillstyle);null==f.positivefillstyle&&(f.positivefillstyle=f.fillstyle);break;case d.Ni.Y0:null==f.fillstyle&&(f.fillstyle=
null);null==f.negativefillstyle&&(f.negativefillstyle=null);null==f.positivefillstyle&&(f.positivefillstyle=null);break;case d.Ni.ju:null==f.negativefillstyle&&(f.negativefillstyle=null!=f.fillstyle?f.fillstyle:null);null==f.positivefillstyle&&(f.positivefillstyle=f.negativefillstyle);null==f.fillstyle&&(f.fillstyle=f.negativefillstyle);break;case d.Ni.Uu:null==f.positivefillstyle&&(f.positivefillstyle=null!=f.fillstyle?f.fillstyle:null),null==f.negativefillstyle&&(f.negativefillstyle=f.positivefillstyle),
null==f.fillstyle&&(f.fillstyle=f.positivefillstyle)}this.aD=f.positivefillstyle;this.SF=f.negativefillstyle;this.kz=null==f.filltype?null:f.filltype;this.qa(null!=f.fillstyle?f.fillstyle:null);this.cO=f.curve1;this.Hia=f.curve2;this.gg(this.SF,Ce.gb,this.sb());this.gg(this.aD,Ce.gb,this.sb());this.DIc=function(m,n,p){null!==this.cO&&n===this.cO&&(m=this.cO.l9a(),this.vT(m.top,m.bottom))}.bind(this);this.cO.on(h0.Wwb,this.DIc);f=this.cO.l9a();this.vT(f.top,f.bottom)}D(d,i0);L(d,"geotoolkit.widgets.timeseries.TimeSeriesFill");
d.Ni=w0;b.prototype={reset:function(){this.Cp=null;this.TB=this.Ls=-1;this.kp=null}};a.prototype={le:function(f,g,h,k){this.bi.Cp=f;this.bi.Ls=g;this.bi.TB=g;this.Ij.Cp=h;this.Ij.Ls=k;this.Ij.TB=k;this.empty=!1},Qz:function(f,g){f=-1===this.bi.Ls?this.bi.Cp.y:f[this.bi.Ls];g=-1===this.Ij.Ls?this.Ij.Cp.y:g[this.Ij.Ls];return f<=g},Iu:function(f,g){f=-1===this.bi.Ls?this.bi.Cp.x:f[this.bi.Ls];g=-1===this.Ij.Ls?this.Ij.Cp.x:g[this.Ij.Ls];return f<=g},reset:function(){this.empty=!0;this.bi.reset();this.Ij.reset()}};
var e=function(){function f(g){this.mA=g;this.gj=g.length;this.th=1>this.gj?1:g[g.length-1].bc()<g[0].bc()?-1:1;this.Cne=1>this.gj?0:g[0].bc();this.toe=1>this.gj?0:g[g.length-1].bc()}f.prototype.getLength=function(){return this.gj};f.prototype.get=function(g){return 1===this.th?this.mA[g]:this.mA[this.gj-1-g]};return f}();c.LYb=function(f,g,h){var k=g.x;g=g.y;var l=h.x,m=h.y;h=m-g;0!==h&&(l-=k,m=g+(f-k)*h/l);return m};c.prototype={yq:function(){return this.Lr},qcb:function(f){this.Lr!==f&&(this.Lr=
f,-1!==this.Lr&&(this.Ru=this.samples.get(this.Lr).bc(),this.Cu=this.samples.get(this.Lr+1).bc(),this.Rq=this.getValue(this.Lr),this.UB=this.getValue(this.Lr+1)))},sa:function(f,g){this.minValue=f;this.maxValue=g},getValue:function(f){return isNaN(this.samples.get(f).getValue())?Number.NaN:this.samples.get(f).getValue()},Fa:function(){return this.z$},reset:function(f,g,h){this.e7a=0;this.next(f,g);0<this.Lr&&!isNaN(this.samples.get(this.Lr-1).getValue())&&this.qcb(this.Lr-1)},next:function(f,g){var h=
!0;this.yp=null;if(!this.Td)return h;if(-1===this.Lr){var k=j0.Fw(this.$Ed,f,g).Ua();this.Lr=k-1}if(-1<this.Lr&&this.samples.get(this.Lr).bc()>g)return this.Td=!1,h;for(g=this.Lr+1;g<this.samples.gj-1;g++)if(!(this.samples.get(g+1).bc()<f))if(isNaN(this.samples.get(g).getValue())||isNaN(this.samples.get(g+1).getValue()))h=!1;else return this.qcb(g),h;this.Td=!1;return h},OFa:function(f){var g=this.Ru,h=this.Rq,k=this.Cu,l=this.UB;if(f<g||f>k)throw Error("Target depth should be inside Samples range ["+
g+" <= "+f+" => "+k);var m=l-h;0!==m&&(k-=g,l=h+(f-g)*m/k);return new M(f,l)},Hcb:function(f){this.yp=this.OFa(f)},RFc:function(f){return!(f.Cu<this.Ru||f.Ru>this.Cu)},intersect:function(f){var g=null!=this.yp?this.yp.x:this.Ru,h=null!=this.yp?this.yp.y:this.Rq,k=null!=f.yp?f.yp.x:f.Ru,l=null!=f.yp?f.yp.y:f.Rq;g=this.mUb(g,h,this.Cu,this.UB,k,l,f.Cu,f.UB);return null!=g?(this.yp=g,f.yp=g,!0):!1},mUb:function(f,g,h,k,l,m,n,p){if(f===h&&l===n)return f=Math.min(g,k),g=Math.max(g,k),k=Math.min(m,p),m=
Math.max(m,p),g<=k||m<=f?null:new M(l,(g+k)/2);var q=(p-m)*(h-f)-(n-l)*(k-g);if(0!==q){var r=((h-f)*(g-m)-(k-g)*(f-l))/q;if(r<this.CHc||r>this.pHc)return null;r=((n-l)*(g-m)-(p-m)*(f-l))/q;return r<this.CHc||r>this.pHc?null:new M(f+r*(h-f),g+r*(k-g))}return null}};d.prototype.uP=function(){return this.kz};d.prototype.sT=function(f){this.kz=f;this.sI();return this};d.prototype.BS=function(){return this.aD};d.prototype.yT=function(f,g){if(this.aD===f)return this;this.aD=tg.$t(this,this.aD,f,g,this.sb());
this.xa().ha();return this};d.prototype.AS=function(){return this.SF};d.prototype.wT=function(f,g){if(this.aD===f)return this;this.SF=tg.$t(this,this.SF,f,g,this.sb());this.xa().ha();return this};d.prototype.rxa=function(f,g,h){var k=this.cO.Xg(),l=this.Hia.Xg(),m=new c(k,this.getParent().Yd(),0),n=new c(l,this.getParent().Yd(),0);m.reset(g,h,0);n.reset(g,h,0);for(var p=null;m.Td&&n.Td;){for(var q=!0;m.Td&&n.Td&&q;){for(;m.Td&&m.Cu<n.Ru;)m.next(g,h);for(q=!1;n.Td&&n.Cu<m.Ru;)n.next(g,h),q=!0}if(!m.Td||
!n.Td)break;if(null==p||!0===p.empty)m.Ru!==n.Ru?m.Ru<n.Ru?(m.Hcb(n.Ru),null==p?p=new a(m.yp,m.yq(),null,n.yq()):p.le(m.yp,m.yq(),null,n.yq())):(n.Hcb(m.Ru),null==p?p=new a(null,m.yq(),n.yp,n.yq()):p.le(null,m.yq(),n.yp,n.yq())):null==p?p=new a(null,m.yq(),null,n.yq()):p.le(null,m.yq(),null,n.yq());else{m.intersect(n)&&(p.bi.kp=m.yp,p.Ij.kp=n.yp,this.THa(f,p,k,l),p=new a(m.yp,m.yq()+1,n.yp,n.yq()+1));if(m.Cu===n.Cu){p.bi.TB=m.yq()+1;p.Ij.TB=n.yq()+1;q=m.next(g,h);var r=n.next(g,h);q=!q||!r}else if(m.Cu<
n.Cu){if(p.bi.TB=m.yq()+1,r=m.Cu,(q=!m.next(g,h))||!m.Td)p.Ij.kp=n.OFa(r)}else if(p.Ij.TB=n.yq()+1,r=n.Cu,(q=!n.next(g,h))||!n.Td)p.bi.kp=m.OFa(r);q&&(p.empty||this.THa(f,p,k,l),p.reset())}}null==p||p.empty||this.THa(f,p,k,l)};d.prototype.THa=function(f,g,h,k){if(this.Ea()&&this.Ea().Ph()){var l=this.Ea(),m=this.fb(),n=this.AS(),p=this.BS();this.Cf=null;this.UHa(f,g,h,k);this.Cf=l;this.N_=this.I_=this.fillStyle=null;this.UHa(f,g,h,k);this.fillStyle=m;this.I_=n;this.N_=p}else this.UHa(f,g,h,k)};d.prototype.UHa=
function(f,g,h,k){var l=new M(0,0),m=new e(h),n=new e(k);k=new M(Number.NaN,Number.POSITIVE_INFINITY);h=new M(Number.NaN,Number.POSITIVE_INFINITY);f.ra(this.Ea());f.beginPath();null!=g.bi.Cp?(l.x=g.bi.Cp.x,l.y=g.bi.Cp.y):(l.x=m.get(g.bi.Ls).bc(),l.y=m.get(g.bi.Ls).getValue(),l.y<k.y&&(k.x=l.x,k.y=l.y));f.moveTo(l.x,l.y);var p;for(p=null!=g.bi.Cp?g.bi.Ls:g.bi.Ls+1;p<=g.bi.TB;p++){var q=m.get(p);l.x=q.bc();l.y=q.getValue();null!=g.bi.Cp&&g.bi.Cp.x>l.x||null!=g.bi.kp&&g.bi.kp.x<l.x||(l.y<k.y&&(k.x=l.x,
k.y=l.y),f.lineTo(l.x,l.y))}null!=g.bi.kp&&(l.x=g.bi.kp.x,l.y=g.bi.kp.y,f.lineTo(l.x,l.y));null!=g.Ij.kp&&(l.x=g.Ij.kp.x,l.y=g.Ij.kp.y,f.lineTo(l.x,l.y));for(p=g.Ij.TB;p>=g.Ij.Ls;p--)m=n.get(p),l.x=m.bc(),l.y=m.getValue(),null!=g.Ij.Cp&&g.Ij.Cp.x>l.x||null!=g.Ij.kp&&g.Ij.kp.x<l.x||(l.y<h.y&&(h.x=l.x,h.y=l.y),f.lineTo(l.x,l.y));null!=g.Ij.Cp&&(l.x=g.Ij.Cp.x,l.y=g.Ij.Cp.y,f.lineTo(l.x,l.y));f.closePath();isNaN(k.x)&&isNaN(h.x)?l=this.fb():this.kz===d.Ni.RQ?l=this.sP(0):(l=void 0,isNaN(k.x)&&(null==
g.bi.Cp||null==g.bi.kp?l=null:(k.x=h.x,k.y=c.LYb(h.x,g.bi.Cp,g.bi.kp))),isNaN(h.x)&&(null==g.Ij.Cp||null==g.Ij.kp?l=null:(h.x=k.x,h.y=c.LYb(k.x,g.Ij.Cp,g.Ij.kp))),void 0===l&&(l=k.y<=h.y?this.sP(-1):this.sP(1)));l&&(f.qa(l,this.ga()),f.xi(),f.Pu(null));this.Cf&&f.stroke()};d.prototype.ga=function(){var f=null!=this.cO?this.cO.ga():null,g=null!=this.Hia?this.Hia.ga():null,h=Math.min(null!=f?f.la():Number.POSITIVE_INFINITY,null!=g?g.la():Number.POSITIVE_INFINITY);f=Math.max(null!=f?f.na():Number.NEGATIVE_INFINITY,
null!=g?g.na():Number.NEGATIVE_INFINITY);return isFinite(h)&&isFinite(f)?(g=this.l9a(),new U(h,g.bottom,f,g.top)):null};d.prototype.sP=function(f){return 0===f?this.fb():-1===f?this.kz===d.Ni.Uu?null:this.SF:this.kz===d.Ni.ju?null:this.aD};d.prototype.render=function(f){i0.prototype.render.call(this,f);f=null!=this.Qa()?f.Zb(this.Qa()):f;var g=f.jg(),h=f.Fa();0!==h.B9()&&(g=U.C4(g,2,0),g=h.pd(g),this.cO instanceof p0?this.cO.Wx():this.cO.SK(),this.Hia instanceof p0?this.Hia.Wx():this.Hia.SK(),h=g.la(),
g=g.na(),this.rxa(f,h,g))};d.prototype.dispose=function(){null!=this.cO&&this.cO.za(h0.Wwb,this.DIc);i0.prototype.dispose.call(this)};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGaWxsVHlwZSI6InVQIiwic2V0RmlsbFR5cGUiOiJzVCIsImdldFBvc2l0aXZlRmlsbFN0eWxlIjoiQlMiLCJzZXRQb3NpdGl2ZUZpbGxTdHlsZSI6InlUIiwiZ2V0TmVnYXRpdmVGaWxsU3R5bGUiOiJBUyIsInNldE5lZ2F0aXZlRmlsbFN0eWxlIjoid1QiLCJnZXRCb3VuZHMiOiJnYSJ9fX0g");var y0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(h){var k=j0.sud();k=xb(h,k);m0.call(this,k);this.EU=this.Vn=this.$Qb=null;this.Ts={top:null,bottom:null};this.b2={top:null,bottom:null};this.BBa=this.Zc=this.Yqa=null;this.Nfc="";this.jPb=this.Lt=this.rs=this.rZ=this.ULb=this.pCa=this.zmb=this.zx=null;this.Fsa={pqb:!0,min:null,max:null,j7a:null,Ez:{top:null,bottom:null}};this.le(k);this.Fsa.j7a=this.al(!0)}function a(h,k,l){return null==k?h.qd(l):"string"===typeof k?h.Hz(k):"number"===typeof k?h.qd(k):nc(k,wG)?k:null}var b="#6b6b6b",d=new bj({maximumfractiondigits:2}),e=j0.IYa,f=j0.LZa,g=-1;D(c,m0);L(c,"geotoolkit.widgets.timeseries.TimeSeriesObject");c.prototype.le=function(h){if(null==this.Fsa)return this;m0.prototype.le.call(this,h);if(null==h||null==h.id)throw Error("TimeSeriesObject requires a unique id for initialization");h=xb(h,{});this.ea=xb(h,this.ea);this.$Qb=this.ea.uri;this.updating=0;h={markervisible:this.ea.curve.properties.markervisible,marker:this.ea.curve.properties.marker,decimationSpacing:this.ea.curve.properties.decimationspacing,
spline:this.ea.curve.properties.spline,values:this.ea.curve.properties.values};this.Vn=(new p0(h)).Dd(this.ic()).kb(this.fc);this.EU=(new oi).Tk(!0).va(!1);this.Zc=(new Nm).ug(!1);this.Yqa=(new k0).yl("100%").oa((new rk).kb("curvelimitsaxis").Dd(this.ic())).kb("curvelimitsgroup");h=new r0({color:null,symbol:this.Zc,name:this.fc,indextext:"",valuetext:"",unittext:""});this.Doc=new s0(h);this.BBa=new t0(this);this.setData(this.ea.curve.data);this.YVa(this.ea.curve.properties);this.edb(this.ea.curvesymbol);
this.WVa(this.ea.curvelimits);this.kX(this.ea.curveaxis);this.Fcb(this.ea.legenditem);this.QAb(this.ea.tooltipitem);return this};c.prototype.XSc=function(h){this.rZ=h;this.yJa();return this};c.prototype.mb=function(){var h=this.ea.curve.properties.neatlimits&&!0!==this.ea.curve.properties.neatlimitscenteredonzero;h&&this.yJa()};c.prototype.rvb=function(){return this.rZ};c.prototype.qGa=function(){null==this.pCa&&(this.pCa=function(h,k,l){h=null!=l?l.name:null;"unit"===h&&null!=this.rs&&null!=this.rs.Wa()&&
(this.ea.curve.properties.unit=this.rs.Wa().Tc(),this.deb(),this.yJa(),this.Vn.ha())}.bind(this));return this.pCa};c.prototype.iLc=function(h,k,l){this.Ts[h]=k;this.b2[h]=l;this.Fsa.Ez[h]=null==k?null:{filldirection:k.filldirection,fillstyle:tg.ad(k.fillstyle),filltype:k.filltype,id1:k.id1,id2:k.id2};this.BBa.Zg();return this};c.prototype.getData=function(){return this.ea.curve.data};c.prototype.setData=function(h){if(null==h)return this;var k=this.ea.curve.data;this.ea.curve.data=h;null!=this.zx&&
(this.zx.za(GG.YG,this.Jl()),this.zx.za(GG.mB,this.DS()),this.zx.za(GG.ZK,this.Jl()),this.zx.za(GG.nB,this.ES()),this.zx.za(GG.Yj,this.ze()),this.zx.za(mG.ds,this.Jl()),this.zx.za(QG.Co,this.ze()),this.rs&&(this.rs.za(jG.uj,this.qGa()),this.rs=null),this.jPb=null);h=e;var l=f,m=null;if(null!=this.ea.curve.data){var n=this.ea.curve.data;if(n instanceof HG||n instanceof RG)m=n,n={};l=G(n,{indices:h,values:l,datatable:m},!0);m=l.datatable;h=l.indices;l=l.values;if(m){this.Lt=a(m,h,0);this.rs=a(m,l,1);
if(null==this.Lt||null==this.rs)throw Error("Wrong input parameters. indices or values are not specified.");this.Fsa.j7a=this.al(!0);this.zx=new RG(m);this.jPb=a(this.zx,l,1);this.Lt.$l("ms");this.rs.$l(null);this.zx.on(GG.YG,this.Jl());this.zx.on(GG.mB,this.DS());this.zx.on(GG.ZK,this.Jl());this.zx.on(GG.nB,this.ES());this.zx.on(GG.Yj,this.ze());this.zx.on(mG.ds,this.Jl());this.zx.on(QG.Co,this.ze());this.rs.on(jG.uj,this.qGa())}}null!=this.Vn&&this.Vn.setData({indices:h,values:l,datatable:this.zx});
this.yJa();this.notify(d0.$Ja,this,{old:k,"new":m});return this};c.prototype.Rh=function(){return G(m0.prototype.Rh.call(this),{curve:this.Vn,Aj:this.Zc,sRa:this.Yqa,Ez:this.Ts,Zrb:this.b2,gzd:this.BBa,EBb:this.Doc,Iwa:this.EU})};c.prototype.YVa=function(h){null==h&&(h={});h!==this.ea.curve.properties&&(h=xb(h,{}),this.ea.curve.properties=xb(h,this.ea.curve.properties),this.ea.curve.properties=xb(this.ea.curve.properties,{barmode:{enabled:!1,fillstyle:this.Vn.Ea().rb(),linestyle:this.Vn.Ea().clone(),
barwidth:20,barvalues:{formatter:d,margins:{left:0,top:10},rotationangle:0,textstyle:null}}}));var k=this.ea.curve.properties,l=this.Rh();null!=l&&(l=l.curve,h=Zd.ya().Wa(h.unit),null==h||null==this.rs||null!=this.rs.Wa()&&this.rs.Wa().Sz(h)||(this.rs.$l(h),this.jPb.$l(h)),(k.hasOwnProperty("markervisible")||k.hasOwnProperty("marker"))&&l.lLd({visible:k.markervisible,marker:k.marker}),"boolean"===typeof k.visible&&l.va(k.visible),void 0!==k.name&&l.kb(k.name),"boolean"===typeof k.curvevisible&&l.FOc(k.curvevisible),
this.yJa(),void 0!==k.linestyle&&(null!=l.Ea()&&l.hk(l.Ea(),Ce.gb,this.uYb()),null!=k.linestyle?(h=X.Pa(k.linestyle),l.ra(h)):l.ra(null),null!=l.Ea()&&(l.gg(l.Ea(),Ce.gb,this.uYb()),this.uYb().call(this))),void 0!==k.microposition&&(h={top:void 0!==k.microposition.top?k.microposition.top:1,bottom:void 0!==k.microposition.bottom?k.microposition.bottom:0},l.vT(h.top,h.bottom),this.Yqa.vT(1-h.top,1-h.bottom)),void 0!==k.logarithmicscale&&l.nWa(k.logarithmicscale),void 0!==k.interpolationtype&&l.nX(k.interpolationtype),
void 0!==k.borderlinestyle&&l.sC(k.borderlinestyle,!(k.borderlinestyle instanceof X)),null!=k.autoscale&&(this.Fsa.pqb=k.autoscale),this.Fsa.min=k.min,this.Fsa.max=k.max,this.deb());this.Vn.ha();return this};c.prototype.deb=function(){var h=this.Rh();if(null!=this.bI().labeltext)h=this.bI().labeltext;else{if(null==h)return this;h=h.curve;if(null==h)return this;h=[h.Da()];var k=this.rs?this.rs.Wa():null,l=this.rs?this.rs.KEc():null;null!=k&&""!==k.Tc()?(h.push(" ("),h.push(k.Tc()),h.push(")")):null!=
l&&""!==l.Tc()&&(h.push(" ("),h.push(l.Tc()),h.push(")"));h=h.join("")}null!=h&&(k=this.Rh(),null!=k&&(null!=k.axis&&k.axis.Qq(h),null!=k.qqb&&k.qqb.fa({text:h})));return this};c.prototype.al=function(h){var k=this.Lt,l=this.rs;if(null==k||null==l)return new U;var m=new U(k.sf(),l.sf(),k.kg(),l.kg());if(!0===h)return m;if(this.ea.curve.properties.neatlimits&&!1!==this.ea.curve.properties.neatlimits.enable){var n=this.ea.curve.properties.neatlimits.min;var p=this.ea.curve.properties.neatlimits.max;
if("number"!==typeof n||Number.isNaN(n))n=l.sf();if("number"!==typeof p||Number.isNaN(p))p=l.kg()}l=this.ea.curve.properties.neatlimits&&!1!==this.ea.curve.properties.neatlimits.enable&&!0!==this.ea.curve.properties.neatlimitscenteredonzero&&!0===this.ea.curve.properties.autoscale;h=this.Rh();if(l){null==this.hca?this.hca=new Dk({orientation:Rh.ob,neatlimits:!0,preciselimits:!0===this.ea.curve.properties.neatlimits.precise,logarithmic:!0===this.ea.curve.properties.logarithmicscale}):(this.hca.VSa()!==
this.ea.curve.properties.neatlimits.precise||this.hca.CYb()!==this.ea.curve.properties.logarithmicscale)&&this.hca.setOptions({preciselimits:!0===this.ea.curve.properties.neatlimits.precise,logarithmic:!0===this.ea.curve.properties.logarithmicscale});isFinite(n)||isFinite(p)||(n=-.5,p=.5);var q=(l=this.Vn&&this.Vn.getParent()?this.Vn.getParent().YJ():null)&&0<l.da()?l.da():null;null!=h&&null!=h.axis?(h.axis.Nu(this.hca),q&&(!0===this.ea.curve.properties.logarithmicscale&&(n=V.log10(n,null,!0),p=V.log10(p,
null,!0)),h.axis.T9b(n,p,l.da()))):q&&this.hca.update(n,p,{size:q});return!0===this.ea.curve.properties.logarithmicscale?m.cb(k.sf(),Math.pow(10,this.hca.sf()),k.kg(),Math.pow(10,this.hca.kg())):m.cb(k.sf(),this.hca.sf(),k.kg(),this.hca.kg())}null!=h&&null!=h.axis&&h.axis.Nu(null);return!1!==this.ea.curve.properties.neatlimits?(n=V.ip(n,p,!1,this.ea.curve.properties.neatlimitscenteredonzero),m.cb(k.sf(),n.Ua(),k.kg(),n.Za())):m};c.prototype.yJa=function(){var h=this.ea.curve.properties;if(null!=this.Vn){if(null!=
this.EU){var k=this.EU.lo(),l=new U(this.EU.pa());if(null!=this.rZ&&this.rZ.evb()){var m=this.rZ.sf();var n=this.rZ.kg();l.cb(l.la(),m,l.na(),n)}else!0===h.autoscale?(m=this.al(),null!=m&&(!isFinite(m.getY())||isNaN(m.getY())||!isFinite(m.da())||isNaN(m.da())||0>=m.da()?(l.setY(-.5),l.Ya(1)):(l.setY(m.getY()),l.Ya(m.da())),k=!1)):isNaN(h.min)||null==h.min||isNaN(h.max)||null==h.max||(l.cb(l.la(),h.min,l.na(),h.max),k=h.max<=h.min?!0:!1);m=this.al();h.logarithmicscale&&m.getY()===l.getY()&&m.da()===
l.da()&&(h=l.getY(),m=h+l.da(),0!==l.getY()?(l.setY(V.log10(h)),l.Ya(V.log10(m)-V.log10(h))):l.Ya(V.log10(m)));l.wi(this.EU.pa())||this.EU.Ha(l);this.EU.lo()!==k&&(this.EU.Tk(k),this.EU.ha());this.Vn.IIa(k?l.ma():l.ka());this.Vn.EIa(k?l.ka():l.ma());k=this.Rh();null!=k&&null!=k.axis&&(k.axis.Jga(g*Math.PI/2),k.axis.Ha(l));this.Vn.notify(o0.AKa,this.Vn,null)}this.notify(d0.Wfb,this,this)}};c.prototype.ul=function(){var h=this.Rh();if(null!=h){var k={id:h.id},l=h.curve;k.name=l.Da();var m=null==this.EU?
null:this.EU.pa();k.autoscale=this.ea.curve.properties.autoscale;k.neatlimits=this.ea.curve.properties.neatlimits;k.neatlimitscenteredonzero=this.ea.curve.properties.neatlimitscenteredonzero;k.visible=l.Ia();k.unit=this.ea.curve.properties.unit;k.flip=null==this.EU?null:this.EU.lo();k.max=null==m?null:k.flip?m.ka():m.ma();k.min=null==m?null:k.flip?m.ma():m.ka();k.axisposition=h.Nbd;k.linestyle=this.Vn.Ea();k.microposition=this.ea.curve.properties.microposition;k.interpolationtype=this.ea.curve.properties.interpolationtype;
k.logarithmicscale=this.ea.curve.properties.logarithmicscale;k.borderlinestyle=this.ea.curve.properties.borderlinestyle;k.barmode=this.ea.curve.properties.barmode;return k}return null};c.prototype.edb=function(h){null==h&&(h={});h!==this.ea.curvesymbol&&(this.ea.curvesymbol=xb(h,this.ea.curvesymbol));h=this.ea.curvesymbol;var k=h.painter||j0.Fub(h.type),l=tg.ad(this.Vn.Ea().rb());null!=h.fillstyle&&(l=h.fillstyle);this.Zc.fa({alignment:O.Na,width:h.width,height:h.height,sizeIsInDeviceSpace:!0,fillstyle:l});
this.Zc.vN(k);return this};c.prototype.SDc=function(){return this.ea.curvesymbol};c.prototype.hXb=function(){return this.ea.curvelimits};c.prototype.WVa=function(h){null==h&&(h={});h!==this.ea.curvelimits&&(h=xb(h,{}),this.ea.curvelimits=xb(h,this.ea.curvelimits));h=this.ea.curvelimits;var k=null!=this.Vn&&null!=this.Vn.Ea()&&null!=this.Vn.Ea().rb()?this.Vn.Ea().rb():"rgba(0, 0, 0, 0)";this.Yqa.Yl(h.width).va(h.visible);var l=this.Yqa.eb(0);l.pT(null);l=l.Ge();l.rj("edge",null);l.rj("major",null);
l.rj("minor",null);l.Ln("major",null);l.Ln("minor",null);l.Ln("edge",new Ki({font:h.font,color:k}));this.notify(d0.qDb,this,this.Yqa);return this};c.prototype.uYb=function(){null==this.ULb&&(this.ULb=function(){this.kX({});this.WVa({});this.Fcb({});this.edb({})}.bind(this));return this.ULb};c.prototype.rYb=function(){return this.ea.legenditem};c.prototype.Fcb=function(h){null==h&&(h={});h!==this.ea.legenditem&&(h=xb(h,{}),h=xb(h,{}),this.ea.legenditem=xb(h,this.ea.legenditem));!0===this.ea.legenditem.autocolorlabel?
this.ea.legenditem.labelcolor=null:this.ea.legenditem.labelcolor||(this.ea.legenditem.labelcolor=b);this.BBa.setOptions(this.ea.legenditem);this.notify(d0.OEb,this,this.BBa);return this};c.prototype.QAb=function(h){null==h&&(h={});h!==this.ea.tooltipitem&&(h=xb(h,{}),this.ea.tooltipitem=xb(h,this.ea.tooltipitem));this.Doc.setOptions(this.ea.tooltipitem);return this};c.prototype.n_b=function(){return this.ea.tooltipitem};c.prototype.U6b=function(h){this.R7c=h;this.notify(d0.PEb,this);return this};
c.prototype.Dpd=function(){return this.R7c};c.prototype.t5b=function(h){this.Nfc=h||"";return this};c.prototype.jWb=function(){return this.Nfc};c.prototype.aW=function(){return this.Fsa};c.prototype.dispose=function(){null!=this.BBa&&this.BBa.dispose();null!=this.Yqa&&this.Yqa.dispose();null!=this.Zc&&this.Zc.dispose();null!=this.b2&&["top","bottom"].forEach(function(h){null!=this.b2[h]&&null!=this.b2[h].dispose&&this.b2[h]instanceof x0&&this.b2[h].dispose()}.bind(this));null!=this.zx&&(this.zx.za(GG.YG,
this.Jl()),this.zx.za(GG.mB,this.DS()),this.zx.za(GG.ZK,this.Jl()),this.zx.za(GG.nB,this.ES()),this.zx.za(GG.Yj,this.ze()),this.zx.za(mG.ds,this.Jl()),this.zx.za(QG.Co,this.ze()),this.rs&&(this.rs.za(jG.uj,this.qGa()),this.rs=null),this.zx=null);null!=this.Vn&&this.Vn.dispose();m0.prototype.dispose.call(this)};c.prototype.Jl=function(){null==this.kaa&&(this.kaa=function(){this.updating++;this.state={dga:this.xva(),Rwb:this.ISa(),Kq:this.uc(),Jq:this.Dc()}}.bind(this));return this.kaa};c.prototype.DS=
function(){null==this.iaa&&(this.iaa=function(h,k,l){0<this.updating&&this.updating--;if(this.pk()){if(0===l.from)return h=this.xva(),this.AX(h,this.state.dga,h,h,this.uc()!==this.state.Kq||this.Dc()!==this.state.Jq);if(l.from+l.count===this.Lt.getLength())return this.AX(this.xva(),this.ISa(),this.state.dga,this.state.Rwb,this.uc()!==this.state.Kq||this.Dc()!==this.state.Jq,!0)}return 0===this.updating?this.AX():this}.bind(this));return this.iaa};c.prototype.ES=function(){null==this.jaa&&(this.jaa=
function(h,k,l){0<this.updating&&this.updating--;if(this.pk()){if(0===l.from)return this.AX(this.state.dga,this.xva(),this.state.dga,this.state.dga,this.uc()!==this.state.Kq||this.Dc()!==this.state.Jq);if(l.from===this.Lt.getLength())return h=this.ISa(),this.AX(h,this.state.Rwb,h,h,this.uc()!==this.state.Kq||this.Dc()!==this.state.Jq)}return 0===this.updating?this.AX():this}.bind(this));return this.jaa};c.prototype.ze=function(){null==this.yv&&(this.yv=function(h,k,l){0<this.updating&&this.updating--;
if(0!==this.updating)return this;if(h===GG.Yj)return h=this.xva(),l=this.ISa(),this.AX(h,l,h,l,!0),this;if(l&&null!=this.state)switch(l.type){case "updated":if(0===l.count)return this;if(this.pk())return h=l.index,l=Math.min(l.index+l.count,this.Lt.getLength()-1),h=this.Lt.getValue(h),l=this.Lt.getValue(l),this.AX(h,l,h,l,this.uc()!==this.state.Kq||this.Dc()!==this.state.Jq),this;break;case "added":if(0===l.count)return this;if(this.pk())return 0===l.index?(l=this.xva(),this.AX(l,this.state.dga,l,
l,this.uc()!==this.state.Kq||this.Dc()!==this.state.Jq)):this.AX(this.xva(),this.ISa(),this.state.dga,this.state.Rwb,this.uc()!==this.state.Kq||this.Dc()!==this.state.Jq,l.index+l.count===this.Lt.getLength());break;case "removed":if(this.pk()){if(0===l.index)return this.AX(this.state.dga,this.xva(),this.state.dga,this.state.dga,this.uc()!==this.state.Kq||this.Dc()!==this.state.Jq,!1,!0,!1);if(l.index===this.Lt.getLength())return l=this.ISa(),this.AX(l,this.state.Rwb,l,l,this.uc()!==this.state.Kq||
this.Dc()!==this.state.Jq,!1,!1,!0);h=l.index;l=Math.min(l.index+l.count,this.Lt.getLength()-1);h=this.Lt.getValue(h);l=this.Lt.getValue(l);return this.AX(h,l,h,l,this.sf()!==this.state.Kq||this.kg()!==this.state.Jq)}}return this.AX()}.bind(this));return this.yv};c.prototype.AX=function(h,k,l,m,n,p,q,r){q=null;null==n&&(n=!0);null==p&&(p=!1);r=this.ea.curve.properties;p?(q=new U(0,m,1,k),n&&!0!==r.autoscale&&(q=this.al())):this.pk()&&isFinite(l)&&isFinite(m)&&isFinite(h)&&isFinite(k)?(h=h<m?h:Math.min(m,
h),k=k<m?k:Math.max(m,k),q=new U(0,h,1,k)):(h=isNaN(l)?h:Math.min(l,h),k=isNaN(m)?k:Math.max(m,k),isFinite(h)&&isFinite(k)&&(q=new U(0,h,1,k)));!0===r.autoscale&&this.yJa();h=!p||n;this.Vn&&(q&&!q.isEmpty()&&this.Vn&&null!=this.Vn.Qa()&&this.Vn.Qa().Ta(q,q),this.Vn.zXa(q,h));return this};c.prototype.uc=function(){if(null!=this.rZ&&this.rZ.evb())return this.rZ.sf();var h=this.ea.curve.properties;return!0===h.autoscale?(h=this.al(),h.ka()):Math.min(h.min,h.max)};c.prototype.Dc=function(){if(null!=this.rZ&&
this.rZ.evb())return this.rZ.kg();var h=this.ea.curve.properties;return!0===h.autoscale?(h=this.al(),h.ma()):Math.max(h.min,h.max)};c.prototype.xva=function(){return this.Lt?this.Lt.sf():Number.NaN};c.prototype.ISa=function(){return this.Lt?this.Lt.kg():Number.NaN};c.prototype.pk=function(){return this.Lt&&this.Lt.Xh()===nG.hB};c.prototype.ia=function(){var h=m0.prototype.ia.call(this);h.uri=this.$Qb;h.curve={};h.curve.properties=this.ul();h.curvesymbol=this.SDc();h.curvelimits=this.hXb();h.legenditem=
this.rYb();h.tooltipitem=this.n_b();return h};c.prototype.fa=function(h){m0.prototype.fa.call(this,h);void 0!==h.uri&&(this.$Qb=h.uri);void 0!==h.curve&&(void 0!==h.curve.data&&this.setData(h.curve.data),void 0!==h.curve.properties&&this.YVa(h.curve.properties));void 0!==h.curvesymbol&&this.edb(h.curvesymbol);void 0!==h.curvelimits&&this.WVa(h.curvelimits);void 0!==h.legenditem&&this.Fcb(h.legenditem);void 0!==h.tooltipitem&&this.QAb(h.tooltipitem);return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVMYXlvdXQiOiJtYiIsInNldEN1cnZlT3B0aW9ucyI6IllWYSIsImdldEN1cnZlT3B0aW9ucyI6InVsIiwic2V0U3ltYm9sT3B0aW9ucyI6ImVkYiIsImdldFN5bWJvbE9wdGlvbnMiOiJTRGMiLCJnZXRDdXJ2ZUxpbWl0c0dyb3VwT3B0aW9ucyI6ImhYYiIsInNldEN1cnZlTGltaXRzR3JvdXBPcHRpb25zIjoiV1ZhIiwiZ2V0TGVnZW5kT3B0aW9ucyI6InJZYiIsInNldExlZ2VuZE9wdGlvbnMiOiJGY2IiLCJzZXRUb29sdGlwT3B0aW9ucyI6IlFBYiIsImdldFRvb2x0aXBPcHRpb25zIjoibl9iIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var z0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(d,e){d=xb(d,{renderingorder:b,highlightingmethod:a,barvaluevisibility:30},!0);i0.call(this,d);this.Sa=null;this.Pb=(new ek).yaa(!0).vt(!0).bpa(!0).apa(!0).wb(!1);this.fkb=a;this.wnb=b;this.wic=[];this.ymb=null;this.Cc=[];this.$7c=this.a8c=0;this.une=this.uNb=null;this.q_a=d.barvaluevisibility;this.ea=d;this.zja=[];this.ejb=[];this.NAb(e);this.fa(d)}function a(d,e,f){return{linestyle:e,fillstyle:f}}function b(d){return d}D(c,i0);L(c,"geotoolkit.widgets.timeseries.barmode.TimeSeriesBar");
c.prototype.fa=function(d){d=hc(d);if(null==d)return this;i0.prototype.fa.call(this,d);this.ea=xb(d,this.ea,!0);this.ORc(this.ea.renderingorder);this.LPc(this.ea.highlightingmethod);this.QNc(this.ea.barvaluevisibility);this.ha();return this};c.prototype.ia=function(){var d=i0.prototype.ia.call(this);return xb(this.ea,d)};c.prototype.QNc=function(d){this.q_a="boolean"===typeof d?!0===d?0:Infinity:d;this.ea.barvaluevisibility=d;this.ha();return this};c.prototype.Jkd=function(){return this.ea.barvaluevisibility};
c.prototype.NAb=function(d){if(null!=d&&d.some(function(e){return!(e instanceof y0)}))return this;null!=this.Cc&&this.Cc.forEach(function(e){null!=e.yTa()&&e.yTa().za(jG.uj,this.hSa);null!=e.rva()&&e.rva().za(jG.uj,this.hSa)}.bind(this));this.M8=d||[];this.Cc=this.M8.map(function(e){return e.Rh().curve});null!=this.Cc&&(this.Cc.forEach(function(e){if(null!=e.yTa())e.yTa().on(jG.uj,this.hSa);if(null!=e.rva())e.rva().on(jG.uj,this.hSa)}.bind(this)),this.$7c=this.a8c=0);this.ha();return this};c.prototype.ORc=
function(d){null==d&&(this.wnb=b);if("function"===typeof d)return this.wnb=d,this.ea.renderingorder=this.wnb,this.ha(),this;this.ha();return this};c.prototype.RCc=function(){return this.wnb};c.prototype.LPc=function(d){null==d&&(this.fkb=a);if("function"===typeof d)return this.fkb=d,this.ea.highlightingmethod=this.fkb,this.ha(),this;this.ha();return this};c.prototype.pAc=function(){return this.fkb};c.prototype.ga=function(){return null!=this.Sa?this.Sa.lock():null};c.prototype.render=function(d){i0.prototype.render.call(this,
d);if(!1!==this.Ia()&&null!=this.Cc&&0!==this.Cc.length){d=null!=this.Qa()?d.Zb(this.Qa()):d;var e=Infinity===this.q_a?0:this.q_a;e=d.jg().clone().Uc(e,e);var f=d.Fa();e=f.pd(e);f=this.lEd(d,e);var g=d.Fa();null!=this.uNb&&this.uNb.l9(g)||(this.zja=[],this.uNb=g);this.yGd(d,f);this.hHd(d,f,e)}};c.prototype.Nfa=function(d){this.wic=d;this.ha();return this};c.prototype.mAc=function(d,e){return this.wic.find(function(f){return null!=f&&f.lineindex===d&&f.datapointindex===e})};c.prototype.dispose=function(){this.ge()||
(null!=this.Cc&&this.Cc.forEach(function(d){null!=d.yTa()&&d.yTa().za(jG.uj,this.hSa);null!=d.rva()&&d.rva().za(jG.uj,this.hSa)}.bind(this)),i0.prototype.dispose.call(this))};c.prototype.hSa=function(){return this.ymb=null==this.ymb?function(){this.ha()}:this.ymb};c.prototype.gBb=function(d,e){e=new M(e.textax,e.textay);if(0===this.zja.length)return this.zja.push(e),!0;var f,g=!0;for(f=this.zja.length-1;0<=f;--f){var h=Hd.ih(e.getX()-this.zja[f].getX(),e.getY()-this.zja[f].getY(),d.Fa());if(h<=this.q_a){g=
!1;break}}!0===g&&this.zja.push(e);return g};c.prototype.Ypd=function(d,e){return 0===e?(d[e+1]-d[e])/2:d[e]-d[e-1]};c.prototype.yGd=function(d,e){e.forEach(function(f){if(null!=f){var g=[];f.forEach(function(p,q){this.IEd.push({order:q,value:p.lFa().barvalue,height:p.lFa().barheight})}.bind({IEd:g}));g=this.RCc()(g);for(var h=0;h<g.length;++h){var k=g[h],l=k.order;k=f[l].lFa();var m=this.M8[l].ul().barmode.linestyle,n=this.M8[l].ul().barmode.fillstyle;m=X.Pa(m).clone();n=tg.ad(n).clone();l=this.mAc(l,
k.datapointindex);null!=l&&(n=this.pAc()(l,m,n),m=X.Pa(n.linestyle),n=tg.ad(n.fillstyle));d.ra(m);d.qa(n);d.sc(k.barleft,k.barbottom,k.barwidth,k.barheight)}}}.bind(this));return this};c.prototype.hHd=function(d,e,f){d.ib(new Ki);this.ejb.forEach(function(g){this.XHa(d,g,g.lineindex,f)}.bind(this));this.zja=this.ejb.map(function(g){return new M(g.textax,g.textay)}).concat(this.zja);this.ejb=[];e.forEach(function(g){if(null!=g)for(var h=0;h<g.length;++h){var k=g[h].lFa();this.gBb(d,k)&&this.XHa(d,
k,h,f)}}.bind(this));return this};c.prototype.XHa=function(d,e,f,g){var h=this.M8[f].ul().barmode.barvalues.formatter,k=h.format(e.barvalue),l=this.M8[f].ul().barmode.barvalues.margins;h=l.left*Math.abs(d.pp().pb());l=l.top*Math.abs(d.pp().Ab());h+=e.barleft+e.barwidth/2;l+=e.barheight;var m=this.M8[f].ul().barmode.barvalues.textstyle;m=Ki.Pa(m);m=m instanceof Ki?m:new Ki;f=this.M8[f].ul().barmode.barvalues.rotationangle;f*=Math.PI/180;this.Pb.Eb(k).ib(m).Db(h,l).rotate(f,h,l).render(d);this.Pb.rotate(-f,
h,l);d=this.q_a*Math.abs(d.pp().pb());h>g.na()-2*d&&this.ejb.push(e)};c.prototype.Ikd=function(d,e){var f=rg.measureText(e,this.Pb.jb());e=f.ca()*Math.abs(d.pp().pb());d=f.da()*Math.abs(d.pp().Ab());return new Vd(e,d)};c.prototype.lEd=function(d,e){for(var f=[],g=0;g<this.Cc.length;++g)if(!0===this.M8[g].ul().barmode.enabled){var h=this.Cc[g];h.Wx();h.$Bb(d);var k=h.dTa();h=k.mK();var l=k.DP(),m=k.Xg();if(null==h||null==l||null==m)break;var n=-1,p=-1,q=0,r=h.length-1;null!=e&&(r=k.Fw(e.la(),e.na()),
q=r.Ua(),r=r.Za());for(;q<r;q++)isNaN(h[q])&&-1===n||(-1===n&&(n=q),isNaN(h[q])&&(n=p+1),p=q);if(-1!==n&&-1!==p&&n!==p)for(q=n;q<=p;++q){n=this.Ypd(l,q);r=this.M8[g].ul().barmode.barwidth;r="number"===typeof r?r*Math.abs(d.pp().pb()):n;r=Math.min(r,n);null==f[q]&&(f[q]=[]);n=new g0({datapointindex:q,lineindex:g,barleft:l[q]-r/2,barbottom:0,barwidth:r,barheight:h[q],barvalue:m[q].aC()});r=n.lFa();k=this.M8[g].ul().barmode.barvalues.formatter;k=k.format(r.barvalue);var t=this.M8[g].ul().barmode.barvalues.margins,
u=this.Ikd(d,k),w=t.left*Math.abs(d.pp().pb());t=t.top*Math.abs(d.pp().Ab());w+=r.barleft+r.barwidth/2;t+=r.barheight;n.aJd({text:k,textax:w,textay:t,textwidth:u.ca(),textheight:u.da()});f[q][g]=n}}return f};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRCYXJWYWx1ZVZpc2liaWxpdHkiOiJRTmMiLCJnZXRCYXJWYWx1ZVZpc2liaWxpdHkiOiJKa2QiLCJzZXRUaW1lU2VyaWVzT2JqZWN0cyI6Ik5BYiIsInNldFJlbmRlcmluZ09yZGVyIjoiT1JjIiwiZ2V0UmVuZGVyaW5nT3JkZXIiOiJSQ2MiLCJzZXRIaWdobGlnaHRpbmdNZXRob2QiOiJMUGMiLCJnZXRIaWdobGlnaHRpbmdNZXRob2QiOiJwQWMiLCJnZXRCb3VuZHMiOiJnYSIsImhpZ2hsaWdodEJhcnMiOiJOZmEiLCJnZXRIaWdobGlnaHRCYXIiOiJtQWMifX19");var A0=/*#__PURE__*/va(/*#__PURE__*/{UW:"onVisibleRangeChanged",YUa:"onVisibleRangeChanging",CIc:"onCursorChanged",tea:"beforeSelectionChange",Rx:"onSelectionChanged",xIc:"onAnnotationLineClick",wIc:"onAnnotationClick"},2,"eyJvblZpc2libGVSYW5nZUNoYW5nZWQiOiJVVyIsIm9uVmlzaWJsZVJhbmdlQ2hhbmdpbmciOiJZVWEiLCJvbkN1cnNvckNoYW5nZWQiOiJDSWMiLCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2UiOiJ0ZWEiLCJvblNlbGVjdGlvbkNoYW5nZWQiOiJSeCIsIm9uQW5ub3RhdGlvbkxpbmVDbGljayI6InhJYyIsIm9uQW5ub3RhdGlvbkNsaWNrIjoid0ljIn0g");var B0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){null==a&&(a={});null!=a.manipulatorlayer&&(hb("parameter options.manipulatorlayer in GroupTool() is deprecated since 2021.1 (3.3), use parameter options.layer instead"),a.layer=a.manipulatorlayer);a=G(a,{name:"groupTool"});IR.call(this,a);this.sm({pointerdown:this.Xc.bind(this),pointermove:this.Ac.bind(this),pointerup:this.Oc.bind(this)});this.ab=a.group;this.Ug=new bk;this.qA=new eQ(null,this.$a);this.qA.Tb(this.$a.Qa());this.qA.register(this.ab.Oa(),new cQ)}D(c,IR);
L(c,"geotoolkit.widgets.timeseries.GroupTool");c.prototype.Xc=function(a){var b=a.tb(),d=this.Gm(a),e=d?this.pW():this.zS();this.pO=!1;var f=null,g=this.Kd(this.$a,a),h=this.Ug.select(this.$a,g.x,g.y,e);if(h&&0<h.length)for(d=h.length-1;1<=d;d--){var k=h[d];if("function"===typeof k.aI){f=k.aI();f.sr(k);f.setPosition(g.x,g.y);this.ne=f;this.pO=!0;a.stopPropagation(!0);return}}g=this.Kd(b,a);b=this.Ug.select(b,g.x,g.y,e);b=null==b?null:b.filter(function(l){return l===this.ab}.bind(this));g=this.Kd(this.$a,
a);if(b&&0<b.length)for(d=b.length-1;0<=d;d--)if(f=this.qA.aI(b[d])){f.Lm(b[d]);f.setPosition(g.x,g.y);this.qA.FK(f);this.ne=f;this.pO=!0;a.stopPropagation(!0);return}this.ne=f;this.qA.FK(null)};c.prototype.Ac=function(a){if(this.ne){var b=this.Kd(this.$a,a);this.ne.move(b.x,b.y);this.ne.Hb().ha();a.stopPropagation(!0,!0)}};c.prototype.Oc=function(a){this.ne&&(a.stopPropagation(!0),this.ne.setPosition(null),this.ne=null)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdXNlRG93biI6IlhjIiwib25Nb3VzZU1vdmUiOiJBYyIsIm9uTW91c2VVcCI6Ik9jIn19fSAg");var C0=/*#__PURE__*/va(/*#__PURE__*/{Bo:"outside",sk:"inside"},2,"eyJPdXRzaWRlIjoiQm8iLCJJbnNpZGUiOiJzayJ9");var D0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){c0.call(this,a,b);this.AOa=[]}D(c,c0);L(c,"geotoolkit.widgets.timeseries.PercentDataProcessor");c.prototype.WSa=function(a){var b=a.x;a=a.y.map(function(f){return f.slice(0)});var d;this.AOa=[];for(var e=0;e<a[0].length;++e){this.AOa[e]=a[0][e];for(d=1;d<a.length;++d)this.AOa[e]+=isNaN(a[d][e])?0:a[d][e];a[0][e]=100*a[0][e]/this.AOa[e];for(d=1;d<a.length;++d)a[d][e]=isNaN(a[d][e])?0:a[d][e],a[d][e]=100*a[d][e]/this.AOa[e]+(isNaN(a[d-1][e])?0:a[d-1][e])}return{x:b,
y:a}};c.prototype.GSa=function(a){var b=Number.MAX_VALUE,d=0;a.forEach(function(e){e=e.getData();b=Math.min(b,e.qd(0).sf());d=Math.max(d,e.qd(0).kg())});return new U(b,0,d,100)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9jZXNzZWREYXRhIjoiV1NhIiwiZ2V0TWF4Q3VydmVMaW1pdHMiOiJHU2EifX19");var E0=/*#__PURE__*/va(/*#__PURE__*/{Aeb:"advanced",lDb:"compact",RKa:"simple"},2,"eyJBZHZhbmNlZCI6IkFlYiIsIkNvbXBhY3QiOiJsRGIiLCJTaW1wbGUiOiJSS2EifSAg");var F0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a){bl.call(this,a)}D(c,bl);c.prototype.cb=function(a){if(!a)throw Error("Invalid layout area");bl.prototype.cb.call(this,a);return this};c.prototype.getIterator=function(a){a=0<this.GL.length||null===a?this.GL:a;return Array.isArray(a)?Hg.gi(a):a};c.prototype.cl=function(a,b){var d=null!==this.Eq()?this.Eq():a;b=this.getIterator(b);return null===b?a:!d||0>=d.ca()?null:d};c.prototype.oc=function(a,b){var d=this.Eq()?this.Eq():a;a=this.getIterator(b);if(!a||!d||0>=d.ca())return this;
a.forEach(function(e){e.sa(d)});return this};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRSZWN0IjoiY2IiLCJnZXRQcmVmZXJyZWRTaXplIjoiY2wiLCJsYXlvdXQiOiJvYyJ9fX0g");var G0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){c0.call(this,a,b)}D(c,c0);L(c,"geotoolkit.widgets.timeseries.StackDataProcessor");c.prototype.WSa=function(a){var b=a.x;a=a.y.map(function(f){return f.slice(0)});for(var d=1;d<a.length;++d)for(var e=0;e<a[d].length;++e)a[d][e]=isNaN(a[d][e])?0:a[d][e],a[d][e]+=isNaN(a[d-1][e])?0:a[d-1][e];return{x:b,y:a}};c.prototype.GSa=function(a){var b=Number.MAX_VALUE,d=0,e=Number.MAX_VALUE,f=0;a.forEach(function(g){g=g.getData();b=Math.min(b,g.qd(0).sf());e=Math.min(e,g.qd(1).sf());
d=Math.max(d,g.qd(0).kg());f=Math.max(f,g.qd(1).kg())});return new U(b,e,d,f)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9jZXNzZWREYXRhIjoiV1NhIiwiZ2V0TWF4Q3VydmVMaW1pdHMiOiJHU2EifX19");var H0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(b){var d=j0.tud();xb(b,d);m0.call(this,d);this.ek=[];this.Qd=null}var a=-1;D(c,m0);L(c,"geotoolkit.widgets.timeseries.TimeSeriesObjectGroup");c.prototype.le=function(b){m0.prototype.le.call(this,b);this.kX(this.ea.curveaxis);this.UBb();this.ceb();return this};c.prototype.IIa=function(b){this.ea.min=b;this.UBb();this.p$b();this.ceb();return this};c.prototype.sf=function(){return this.ea.min};c.prototype.EIa=function(b){this.ea.max=b;this.UBb();this.p$b();this.ceb();return this};
c.prototype.kg=function(){return this.ea.max};c.prototype.$Md=function(b){this.ea.sharelimits=b;this.UBb();this.p$b();this.ceb();return this};c.prototype.evb=function(){return this.ea.sharelimits};c.prototype.p$b=function(){this.ek.forEach(function(b){b.yJa()})};c.prototype.kX=function(b){m0.prototype.kX.call(this,b);this.ceb();return this};c.prototype.checkValidity=function(b){if(Array.isArray(b)){for(var d=!1,e=0;e<b.length&&(d=this.checkValidity(b[e]),!1!==d);e++);return d}if(null==b||null==b.rvb||
null!=b.rvb())return!1;null==this.Qd&&null!=b.ul&&null!=b.ul()&&(this.Qd=b.ul().unit);return this.Qd instanceof Xd?this.Qd.Sz(b.ul().unit):b.ul().unit instanceof Xd?b.ul().unit.Sz(this.Qd):Zd.ya().Wa(this.Qd).Sz(b.ul().unit)};c.prototype.Ee=function(b){var d=this.checkValidity(b);if(!1===d)return this;if(Array.isArray(b))for(d=0;d<b.length;d++)this.Ee(b[d]);null!=b&&b instanceof y0&&-1===this.ek.indexOf(b)&&(b.XSc(this),this.ek.push(b),b.kX({}));this.deb();return this};c.prototype.wyb=function(b){if(Array.isArray(b))for(var d=
b.length;-1<d;d--)this.wyb(b[d]);b instanceof y0&&-1!==this.ek.indexOf(b)&&(d=this.ek.indexOf(b),b.XSc(null),this.ek.splice(d,1),b.kX({}));this.deb();return this};c.prototype.get=function(){return this.ek};c.prototype.HFd=function(){this.wyb(this.ek);return this};c.prototype.deb=function(){var b=null;b=this.Rh();if(null!=this.bI().labeltext)b=this.bI().labeltext;else{if(null==b)return this;var d=[];this.ek.forEach(function(f){f=f.Rh();null!=f&&null!=f.curve&&null!=f.curve.Da&&d.push(f.curve.Da())});
b=d.join(", ");var e=this.Qd instanceof Xd?this.Qd.Tc():this.Qd;null!=this.Qd&&(b+=" ("+e+")")}null!=b&&(e=this.Rh(),null!=e&&(null!=e.axis&&e.axis.Qq(b),null!=e.qqb&&e.qqb.fa({text:b})));return this};c.prototype.ceb=function(){var b=this.sf(),d=this.kg(),e=this.Rh();null!=e&&(e.jua.Tk(b<d),e.axis.Jga(a*Math.PI/2));return this};c.prototype.UBb=function(){var b=this.Rh();null!=b&&(b.jua.Ha(new U(0,this.sf(),1,this.kg())),b.axis.Ha(new U(0,this.sf(),1,this.kg())));return this};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRNaW4iOiJJSWEiLCJnZXRNaW4iOiJzZiIsInNldE1heCI6IkVJYSIsImdldE1heCI6ImtnIiwic2V0U2hhcmVMaW1pdHMiOiIkTWQiLCJnZXRTaGFyZUxpbWl0cyI6ImV2YiIsInNldEF4aXNPcHRpb25zIjoia1giLCJhZGRPYmplY3QiOiJFZSIsInJlbW92ZU9iamVjdCI6Ind5YiJ9fX0g");var I0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(a,b){NR.call(this,a);this.Ff=b}D(c,NR);L(c,"geotoolkit.controls.tools.scroll.VisibleRangeChangeEventArgs");c.prototype.kna=function(){return this.Ff};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRWaXNpYmxlUmFuZ2UiOiJrbmEifX19");var J0=/*#__PURE__*/A0,K0=/*#__PURE__*/b0,L0=/*#__PURE__*/a0,M0=/*#__PURE__*/C0,N0=/*#__PURE__*/E0,O0=/*#__PURE__*/va(/*#__PURE__*/function(){function c(A){JZ.call(this,A);this.Nt=Ui.ag();this.Ejb=Ti.ag();this.x6c=b(this.Ejb,g,this.Nt);this.Wnb=this.B8=this.dea=this.M1a=this.w5a=null;this.hc=a();this.vA=new Io;this.Sjb=new Io;this.y5a=new Io;this.rIb=this.qIb=this.pIb=this.NLb=this.kHb=this.iHb=this.PKb=this.QKb=this.Dca=null;this.Rza=[];this.rLa=[];this.npb=this.opb=this.sl=this.wib=this.jPa=null;this.aM=this.hc.stack;this.BH=this.hc.percent;this.dO=this.WQ=null;this.fPb=d;this.Pz();this.Yh();
var x=this.hc.tooltips.tooltipoptions;x.visual=new r0;this.d1a=new s0(x);this.$za=new z0(this.WQ);this.S7=this.VY=null;this.F7c=function(){this.xa();this.ji();this.ha()}.bind(this);this.setOptions(A);this.iM.getData().add(this.d1a)}function a(){return xb({automodellimitsmode:!0,cursor:{linestyle:new X({color:"rgba(237, 28, 36, 0.75)",width:1,pattern:wg.TX})},margin:[8,8,8,8],title:{visible:!0,height:40,text:"",font:y,color:m,padding:[0,0,0,0],centered:!1},legends:{alignwithcentermodel:!0,direction:nl.rF,
height:25,position:C0.Bo,visible:!0,width:100,linestyle:null,fillstyle:null,margintext:5,marginbottom:5,autocolorlabel:!0,legendoptions:{formatter:new bj({maximumfractiondigits:2,round:!0}),margintext:2,font:"bold 12px Arial",height:25,internalpadding:4,linestyle:new X({color:"rgba(128, 128, 128, 1)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new rf({color:"rgba(250, 250, 250, 0.95)"}),fixedwidth:null,labelcolor:m}},lastupdatedate:{visible:!0,followcursor:!1,font:"bold "+w,color:m,formatter:g},
curve:{linestyle:{},visible:!0,autoscale:!0,min:null,max:null,neatlimits:!1,neatlimitscenteredonzero:!1,unit:""},curvelimits:{visible:!0,margin:5,width:60,font:"bold "+w},curvesymbol:{visible:!0,width:8,height:8,type:"circle"},modelgrid:{horizontaltickgenerator:(new kk).rj("major",new X(p.major)).rj("minor",new X(p.minor)).rj("edge",new X(p.edge)).iAb(20),verticaltickgenerator:(new fj(0,0)).rj("major",new X(p.major)).rj("minor",new X(p.minor)).rj("edge",new X(p.edge)).Ng("edge",!1).Ng("minor",!1).Ng("major",
!1),horizontalvisibility:{major:!0,minor:!1,edge:!1},verticalvisibility:{major:!1,minor:!1,edge:!1}},modelaxis:{visible:!0,tickgenerator:null,baselinestyle:new X(m)},southaxis:{visible:!0,height:20,font:"bold "+w,color:m,tickgenerator:(new fj(0,0)).Ng("edge",!1).Xr("edge",!0).rj("major",null).Ng("minor",!1).Xr("minor",!1)},visiblerange:{visible:!0,height:20,font:"bold "+w,color:m,formatter:g},scrollbar:{type:E0.Aeb,visible:!0,height:30,options:{font:"bold "+u,color:m,tickgenerator:null,formatter:"M j, Y",
scrollbar:{autohide:!1}}},viewcache:!0,intervalbuttons:{visible:!0,intervals:{"1h":36E5,"8h":288E5,"1d":864E5,"1w":6048E5,"1m":2592E6}},scrolltonowbutton:{visible:!1},tooltips:{visible:!0,linestyle:new X({color:"rgba(175,175,175,0.5)",width:3}),fillstyle:new rf({color:"rgba(255,255,255, 0.85)"}),symbollinestyle:new X({color:"rgba(225,225,225, 0.95)",width:2}),selectionradius:30,tooltipoptions:{formatter:new bj({maximumfractiondigits:2,round:!0}),margintext:4,font:"12px Arial",textcolor:"black",symbolsize:10,
internalpadding:2,externalpadding:5,linestyle:null,fillstyle:null,fixedwidth:null,nanvisibility:!0,index:{visible:!1,textcolor:"black",symbol:null,name:"Time",indextext:"",unittext:""},singlerow:!1}},cursorselectionlimit:25,timezone:Mi.UTC,stack:{enabled:!1,fillstyles:null},percent:{enabled:!1,fillstyles:null,tooltip:{showoriginalvalue:!1}}},j0.j_b(),!0)}function b(A,x,C){return A.crb({format:x,locale:C})}function d(A,x,C){x=xb(x,{});C=xb(C,{});var z=A.$v(C.id);null!=C.id&&null!=z&&(C=z.ul(),null!=
C&&null!=C.linestyle&&(C.linestyle instanceof X?C.linestyle.Ra(C.linestyle.ca()-1):(null!=C.linestyle.width&&--C.linestyle.width,this.Q$a(z,C))));z=A.$v(x.id);null!=x.id&&null!=z&&(C=z.ul(),null!=C&&null!=C.linestyle&&(C.linestyle instanceof X?C.linestyle.Ra(C.linestyle.ca()+1):(null!=C.linestyle.width&&(C.linestyle.width+=1),this.Q$a(z,C))))}var e=function(){function A(x){rd.call(this,x);this.bv=se.ya()}D(A,rd);A.prototype.qm=function(x,C){return"data"===x.attributeName&&C instanceof c};A.prototype.SE=
function(x){for(var C=x.d4(),z=[],v=0;v<C.length;v++)x.Zsb(C[v]).bfa().rp()>v+1?z[v]=x.Zsb(C[v]).bfa().qd(v+1).data.data:z[v]=z[v-1].slice();return z};A.prototype.apply=function(x){for(var C=x.d4(),z=[],v=[],B=0;B<this.bva().length;B++){z[B]=new HG({cols:[{type:"number",data:x.Zsb(C[B]).bfa().qd(0).data.data},{type:"number",data:this.bva()[B]}]});v[B]=new RG(z[B]);var E=x.$v(C[B]);null!=E&&E.setData(v[B])}};return A}(),f=1,g="M j, Y H:i:s",h="curveaxisgroup",k=36E5,l=864E5,m="#6b6b6b",n=2E6,p={major:{color:"#c4c4c4",
width:1,pixelsnapmode:{x:!0,y:!0}},minor:{color:"#ededed",width:1,pixelsnapmode:{x:!0,y:!0}},edge:{color:"#c4c4c4",width:1,pixelsnapmode:{x:!0,y:!0}}},q="Arial",r={small:"9px",medium:"10px",large:"14px"},t=5,u=r.small+" "+q,w=r.medium+" "+q,y=r.large+" "+q;D(c,JZ);L(c,"geotoolkit.widgets.TimeSeriesWidget");re.ya().IG(e);c.Ja=J0;Object.defineProperty(c,"Events",{get:function(){hb("geotoolkit.widgets.TimeSeriesWidget.Events is deprecated since 2020.1 (3.1) use geotoolkit.widgets.timeseries.Events instead.");
return A0},set:Hb});c.Ibc=K0;Object.defineProperty(c,"FillDirection",{get:function(){hb("geotoolkit.widgets.TimeSeriesWidget.FillDirection is deprecated since 2020.1 (3.1) use geotoolkit.widgets.timeseries.FillDirection instead.");return b0},set:Hb});c.Ni=L0;Object.defineProperty(c,"FillType",{get:function(){hb("geotoolkit.widgets.TimeSeriesWidget.FillType is deprecated since 2020.1 (3.1) use geotoolkit.widgets.timeseries.FillType instead.");return a0},set:Hb});c.Wcc=M0;Object.defineProperty(c,"LegendPosition",
{get:function(){hb("geotoolkit.widgets.TimeSeriesWidget.LegendPosition is deprecated since 2020.1 (3.1) use geotoolkit.widgets.timeseries.LegendPosition instead.");return C0},set:Hb});c.oec=N0;Object.defineProperty(c,"ScrollBarType",{get:function(){hb("geotoolkit.widgets.TimeSeriesWidget.ScrollBarType is deprecated since 2020.1 (3.1) use geotoolkit.widgets.timeseries.ScrollBarType instead.");return E0},set:Hb});c.prototype.pQ=function(A){this.Nt!==A&&(this.Nt=A,this.M1a=this.w5a=null,this.x6c=b(this.Ejb,
g,this.Nt));return this};c.prototype.j4=function(){return this.Nt};c.prototype.DVc=function(){var A=this.hc.intervalbuttons.intervals,x=Object.keys(A),C=[];x.forEach(function(z){C.push({text:z,onClick:function(v){this.VOb=A[z];this.ORd(A[z]);1<Math.abs(A[z]-(this.kna().Za()-this.kna().Ua()))?v.setState(YZ.igb):v.setState(YZ.d6)}.bind(this)})}.bind(this));x={layout:new ll,toggle:!0,buttons:C};null==this.IO?this.IO=new a_(x):this.IO.Pz(x);x={layout:new xl,buttons:[{text:"Now",toggle:!0,styles:{pressed:{textstyle:(new Ki({font:"bold 8px Arial"})).setColor("white"),
linestyle:new X({color:"429529",width:3}),fillstyle:new rf("#50b432")}},onClick:function(z){this.vId()}.bind(this)}]};null==this.yO?this.yO=new a_(x):this.yO.Pz(x)};c.prototype.Pz=function(){this.DVc();this.Jc=(new oi).oa([this.$6c=(new oi).Pc("gridandaxesgroup").oa([(new oi).Tk(!0).Pc("gridandaxesgroup").oa([this.l2=new Lk(this.hc.modelgrid.horizontaltickgenerator,this.hc.modelgrid.verticaltickgenerator)]),this.Slb=(new rk).setOrientation(Rh.xb)]),this.npb=new oi,this.ts=(new oi).Tk(!0).pi(!0===
this.hc.viewcache?new ni:null),this.opb=new oi,this.$a=(new oi).Dd("manipulator_layer").oa([this.lta=(new oi).Tk(!0)]),this.Qba=new oi,this.vqa=new oi,this.rG().oa(this.QIb=(new oi).oa([(new oi).Wd(new jl).oa([this.aR=(new oi).Yc(!0).Wd(new ll).Te(!0)])]))]);this.Slb.Zl(yf.xd);this.Yc(!0).Wd(new jl).oa([this.HY=(new oi).Yc(!0).Pc("layoutgroup").Wd(new jl).oa([this.IH=(new oi).Ha(new U(0,0,1,1)).Pc("titlelayoutgroup").oa([this.ie=(new ek({text:"",ax:0,ay:.5,alignment:O.vd})).Hxa({visible:!0}),this.wBa=
new ek({text:"",ax:1,ay:.5,alignment:O.pe})]),this.fk=(new am({model:this.Jc,south:[this.kob=(new rk).Zl(yf.nb).setOrientation(Rh.xb)]})).tr(new Jm),this.x5a=(new oi).Yc(!0).Pc("rangelayoutgroup").oa([(new oi).Ha(new U(0,0,1,1)).oa([this.NMb=new ek({text:"min",ax:0,ay:.5,alignment:O.vd}),this.AMb=new ek({text:"max",ax:1,ay:.5,alignment:O.pe})])]),this.d4a=(new oi).Yc(!0)])]);this.iM=(new hR({data:new Io,linestyle:X.Pa(this.hc.tooltips.linestyle),fillstyle:tg.ad(this.hc.tooltips.fillstyle),autosize:!0,
sizeisindevicespace:!0})).Wd(new Al).va(!1).Te(!0);this.oa(this.iM);this.iM.mb();this.x5a.oa([this.IO,this.yO]);this.Xqa=[];this.Wqa=[];this.fk.bb(Zh.me).va(!1);this.fk.bb(Zh.dc).va(!0);this.fk.bb(Zh.Ic).va(!0);this.fk.bb(Zh.dc).Yl(0);this.fk.bb(Zh.Ic).Yl(0);this.kob.pT(null);return this.HY};c.prototype.Yh=function(){null!=this.IO&&this.mn(this.IO.w_());null!=this.yO&&this.mn(this.yO.w_());this.mn(this.mM=(new TU({layer:this.ts,mode:RU.Aa})).addListener(SU.bT,function(A,x){if(A=x.vb())A=new Jd(A.la(),
A.na()),this.Yxa(A),this.ts.Pf(),A=new I0(A0.UW,A),this.pua(A0.UW,this,A)}.bind(this)));this.wib=(new SS(this.$a,"cursor")).Voa(null).aha(this.hc.cursor.linestyle).addListener(HR.Ry,function(A,x){this.iM.va(!1);null!=this.sl&&this.sl.Tga(1).$ga(1)}.bind(this)).addListener(HR.gga,function(A,x){null!=this.sl&&this.sl.Tga(2).$ga(5)}.bind(this)).addListener(PS.Qx,function(A,x){this.iM.va(!1);var C=x.bc().getX();isNaN(C)?this.lta.va(!1):this.lta.va(this.hc.curvesymbol.visible);this.hc.lastupdatedate.followcursor&&
(isNaN(C)?this.wBa.Eb(""):this.wBa.Eb(this.cKb(C)));this.nAb(x.bc(),x.Zd());this.YBb(x.bc(),x.Zd());this.BWc(x.bc(),x.Zd());this.notify(A0.CIc,this,A.bc())}.bind(this)).addListener(HR.aw,function(){this.wib.isEnabled()||(this.iM.va(!1),this.lta.va(!1),this.wBa.Eb(this.cKb(this.Jc.pa().na())))}.bind(this));this.jPa=(new kU(this.$a)).kb("rubberband").Ob(!1).setMode(HS.xb).oaa(!0).addListener(HR.aw,function(A){A.isEnabled()?(this.DO.Ob(!1),this.sl.Ob(!1),this.mM.Ob(!1)):(this.DO.Ob(!0),this.mM.Ob(!0))}.bind(this)).addListener(iU.ov,
function(A,x){A=x.getArea();A=new Jd(A.la(),A.na());this.Yxa(A);A=new I0(A0.UW,A);this.pua(A0.UW,this,A)}.bind(this));this.mn((new NS(this.$a,"manipulatorTools")).add([this.wib,this.jPa]));this.mn(this.sl=(new aT).kb("picking").addListener($S.gN,function(A,x){function C(I){return I instanceof ek||I instanceof rk}var z=x.getSelection(),v=this.d4(),B=0,E={line:null,fill:null,legend:null,axis:null};for(B=z.length-1;0<=B;--B)if(z[B]instanceof p0)null==E.line&&0<=v.indexOf(z[B].ic())&&(E.line=z[B].ic());
else if(z[B]instanceof x0){var H=null;null!=z[B].cO&&z[B].cO instanceof p0?H=z[B].cO:null!=z[B].Hia&&z[B].Hia instanceof p0&&(H=z[B].Hia);null==E.fill&&null!=H&&0<=v.indexOf(H.ic())&&(E.fill=H.ic())}else if(z[B]instanceof t0){if(null==E.legend&&0<=v.indexOf(z[B].Bd().Rh().id)){E.legend=z[B].Bd().Rh().id;var F="legend"}}else z[B]instanceof e0?(E.annotation=z[B].ta().id,this.notify(A0.wIc,this,z[B].ta().id)):z[B]instanceof f0?this.notify(A0.xIc,this,z[B].ta().id):null==E.axis&&z[B]instanceof oi&&z[B].ic()===
h?(H=jf(z[B]).mc(C).mg(),null!=H&&0<=v.indexOf(H.ic())&&(E.axis=H.ic())):z[B]instanceof rk&&"curvelimitsaxis"===z[B].name&&null==E.axis&&0<=v.indexOf(z[B].ic())&&(E.axis=z[B].ic());v=E.legend||E.line||E.fill||E.axis||E.annotation;if(null==v&&(z=z.filter(function(I){return I instanceof LR||I instanceof a_}),0<z.length))return;this.RAd({id:v,type:F});null!=E.line&&this.BWc(A.Kd(this.$a,x),x.Zd())}.bind(this)));this.mn(this.DO=(new bU).kb("panning").ETc(n).addListener(aU.MD,function(A,x){if(!0===x.ye().ctrlKey){x=
x.rUa()?x.vl().y:null;if(null==x)return;A=this.kna();if(!A)return;A=new Jd(A.Ua()+x,A.Za()-x)}else x=x.rUa()?x.vl().y:x.vl().x*n*-10,A=this.kna(),A=new Jd(A.Ua()+x,A.Za()+x);null!=A&&(this.Yxa(A),this.ts.Pf(),A=new I0(A0.UW,A),this.pua(A0.UW,this,A))}.bind(this)));return this};c.prototype.BWc=function(A,x){if(null!=A&&null!=x&&!1!==this.hc.tooltips.visible){var C,z=A.getX(),v=null!=this.B8&&null!=this.wsb(this.B8),B=new M(this.Jc.Ki().getX()+this.Jc.Ki().ca()/2,this.Jc.Ki().getY()+this.Jc.Ki().da()/
2),E=this.hc.tooltips.tooltipoptions.index;this.d1a.va(E.visible);if(!0===E.visible){var H=A.getX();this.d1a.Bd().setData({textcolor:E.textcolor,symbol:E.symbol,name:E.name,indextext:E.indextext,valuetext:H,unittext:E.unittext,singlerow:this.hc.tooltips.tooltipoptions.singlerow});this.d1a.Zg()}var F=this.hc.cursorselectionlimit,I=this.hc.tooltips.selectionradius;this.vA.getIterator().forEach(function(K){var N=K.ic(),P=K.Rh().curve,Q=K.Rh().Aj,R=K.Rh().EBb;if(!0===P.Ia()&&null!=P.getData()){var Y=
P.cTa();C=Y.samples;H=j0.K7a(z,C,!0);if(null!==H&&(Q.ra(null),null!=C[H]&&(null==this.B8||v||this.B8===N))){Y=P.wa();var ca=new M(C[H].bc(),C[H].getValue());ca=Y.Ma(ca);Y=x.getX()-ca.getX();ca=x.getY()-ca.getY();ca=Math.sqrt(Y*Y+ca*ca);Math.abs(Y)<F&&ca<I||isNaN(ca)?(Y="",null!=K.ul()&&null!=K.ul().unit&&(Y=K.ul().unit instanceof Xd?K.ul().unit.Tc():K.ul().unit),R.Bd().setData({id:N,textcolor:P.Ea().rb(),symbol:Q,name:P.Da(),indextext:"",valuetext:this.aC(P.ic(),C,H),additionaltext:this.tCc(P.ic(),
H,K.n_b().formatter),unittext:Y}),R.Zg(),this.hc.curvesymbol.visible&&Q.ra(X.Pa(this.hc.tooltips.symbollinestyle)),this.iM.va(!0)):R.va(!1)}}}.bind(this));A=this.iM.ga().clone();E=16;var J=4;x=new M(Math.round(x.getX()),Math.round(x.getY()));x.getX()<B.getX()?A.setX(x.getX()-this.Jc.ga().getX()+E):A.setX(x.getX()-this.iM.ga().ca()-J);x.getY()<B.getY()?A.setY(x.getY()-this.Jc.ga().getY()+E):A.setY(x.getY()-this.iM.ga().da()-J);this.iM.sa(A);this.iM.mb()}};c.prototype.nAb=function(A,x){if(null==A||
null==x||!1===this.hc.curvesymbol.visible)return this;var C=A.getX(),z,v,B;this.vA.getIterator().forEach(function(E){var H=E.Rh();E=H.curve;var F=H.Iwa;if(E instanceof p0&&E.Ia()&&null!=E.getData()){H=H.Aj;var I=E.cTa();I=I.samples;if(isNaN(C)||null==I||1>I.length)this.hc.curvesymbol.visible&&H.va(!1);else{z=j0.K7a(C,I,!0);B=I[z].getValue();var J=this.hc.cursorselectionlimit,K=E.wa(),N=new M(I[z].bc(),I[z].getValue());K=K.Ma(N);K=x.getX()-K.getX();v=F.lo()?(B-F.pa().ka())/F.pa().da()*this.lta.pa().da():
(F.pa().ma()-B)/F.pa().da()*this.lta.pa().da();Math.abs(K)<J&&this.hc.curvesymbol.visible&&null!=I[z]&&!isNaN(I[z].bc())&&null!=v&&!isNaN(v)?(H.va(!0),F=new M(I[z].bc(),B),null!=E.Qa()&&(F=E.Qa().Ma(F,F)),H.sn(F.getX()),H.Bp(F.getY())):H.va(!1)}}}.bind(this));return this};c.prototype.YBb=function(A,x){if(null!=A&&null!=x){var C=A.getX(),z,v;this.vA.getIterator().forEach(function(B){var E=B.Rh();E=E.curve;if(E instanceof p0&&E.Ia()&&null!=E.getData()){var H=E.cTa();v=H.samples;if(isNaN(C)||null==v||
1>v.length)this.hc.legends.visible&&(B.U6b(null),B.t5b(null));else{z=j0.K7a(C,v,!0);H=this.hc.cursorselectionlimit;var F=this.ts.wa(),I=new M(v[z].bc(),v[z].getValue());F=F.Ma(I);F=x.getX()-F.getX();Math.abs(F)<H&&this.hc.legends.visible?(B.U6b(this.aC(E.ic(),v,z)),B.t5b(this.tCc(E.ic(),z,B.rYb().formatter))):(B.U6b(null),B.t5b(null))}}}.bind(this));this.yE&&this.yE.mb()}};c.prototype.BId=function(A){if((null==A||-1!==this.d4().indexOf(A))&&this.B8!==A){var x=this.B8;this.B8=A;this.Wnb=null;this.gIc(A,
x)}};c.prototype.RAd=function(A){A=xb(A,{});var x=new P_(A0.tea,A.id,A.type);this.notify(A0.tea,this,x);if(!x.uwb()){x=this.B8;var C=this.Wnb;this.B8=A.id;this.Wnb=A.type;this.gIc(A,{id:x,type:C})}};c.prototype.gIc=function(A,x){A=xb(A,{});var C=new P_(A0.Rx,A.id,A.type);this.notify(A0.Rx,this,C);C.uwb()||"function"==typeof this.fPb&&this.fPb(this,A,x)};c.prototype.Ywd=function(A){if(A===E0.lDb||A===E0.Aeb||A===E0.RKa)switch(A){case E0.lDb:A="geotoolkit.controls.tools.scroll.CompactHorizontalScroll";
break;case E0.Aeb:A=bS.Oa();break;case E0.RKa:A=UR.Oa()}this.JO&&this.JO.Oa()===A||(null!=this.JO&&(this.Ex(this.JO.Ec()),this.JO=null,this.d4a.dh()),this.JO=cS.ya().NM(A,{name:"scroll",modellimits:this.Jc.pa(),visiblelimits:this.Jc.pa()}),null!=this.JO&&(this.d4a.oa(this.JO),this.JO.Ec().addListener(KR.rn,function(x,C){x=C.vb();x=new Jd(x.la(),x.na());x=new I0(A0.YUa,x);this.pua(A0.YUa,this,x)}.bind(this)).addListener(KR.nv,function(x,C){x=C.vb();x=new Jd(x.la(),x.na());x=new I0(A0.UW,x);this.pua(A0.UW,
this,x)}.bind(this)).addListener(KR.nxb,function(x,C){x=C.vb();x=new Jd(x.la(),x.na());x=new I0(A0.UW,x);this.pua(A0.UW,this,x)}.bind(this)).addListener(KR.mxb,function(x,C){x=C.vb();x=new Jd(x.la(),x.na());x=new I0(A0.YUa,x);this.pua(A0.YUa,this,x)}.bind(this)),this.mn(this.JO.Ec()),this.ji()))};c.prototype.pua=function(A,x,C){A!==A0.UW&&this.notify(A,x,C);C.uwb()||(this.Yxa(C.kna()),A===A0.UW&&this.notify(A,x,C))};c.prototype.Rwd=function(A){var x=null;null!=this.yE&&(x=A?null:this.yE.ga());this.cGd();
this.yE=(new hR({data:this.y5a,linestyle:X.Pa(this.hc.legends.linestyle),fillstyle:tg.ad(this.hc.legends.fillstyle)})).Pc("legendlayoutgroup").Wd((new ol).setDirection(this.hc.legends.direction));this.yE.va(this.hc.legends.visible);this.hc.legends.position===C0.Bo?this.HY.Mf(1,this.yE):(this.QIb.oa(this.yE),null!=x?this.yE.sa(x.clone()):this.yE.sa(new U(0,0,this.hc.legends.width,this.hc.legends.height)),this.yE.getParent().oa(this.mlb=(new oi).Yc(!0).kb("legendManipulator")),this.K0a=new B0({layer:this.mlb,
group:this.yE}),x=this.Wb("panning"),null!=x?(A=x.Mva(),x=A.f$a(x),A.Jn(x,this.K0a)):this.mn(this.K0a))};c.prototype.cGd=function(){if(null!=this.yE){null!=this.K0a&&(this.K0a.dispose(),this.K0a=null);var A=this.yE.getParent();null!=A&&(null!=this.mlb&&(A.removeChild(this.mlb),this.mlb=null),null!=this.yE&&(A.removeChild(this.yE),this.yE=null))}};c.prototype.ia=function(){return this.ta()};c.prototype.ta=function(){var A=this.hc;null==this.S7?delete A.modeloffsets:this.S7.modeloffsets={left:this.S7.la(),
right:this.S7.na()};return A};c.prototype.fa=function(A){return this.setOptions(A)};c.prototype.setOptions=function(A){var x=!1,C=!1;var z=!0;if(null!=A){A=xb(A,{});if(null!=A.model)A.model!==this.dea&&(null!==this.dea&&this.Jc.removeChild(this.dea),this.dea=A.model,x=!0);else if(null===this.dea){x=new Date;var v=new Date;x.setMonth(x.getMonth()-1);this.dea=(new oi).Ha(new U(x.getTime(),0,v.getTime(),1));x=!0}A.modeloffsets&&this.$Qc(A.modeloffsets);"boolean"===typeof A.automodellimitsmode&&(this.hc.automodellimitsmode=
A.automodellimitsmode);A.margin instanceof Array&&4===A.margin.length&&(this.hc.margin=A.margin);"boolean"===typeof A.viewcache&&(this.hc.viewcache=A.viewcache);A.alignaxis!==this.hc.alignaxis&&(C=!0,this.hc.alignaxis=A.alignaxis);null!=A.legends&&(z=this.hc.legends.position!==A.legends.position);v=xb(this.hc,{});this.hc=xb(A,v)}else A={};var B=v=0;this.Yc(this.hc.automodellimitsmode);x&&(this.Jc.Ha(this.dea.pa()),this.Jc.Mf(this.Jc.Ik(this.$a),this.dea));this.HY.La({top:this.hc.margin[0],right:this.hc.margin[1],
bottom:this.hc.margin[2],left:this.hc.margin[3]});this.hc.title.visible||this.hc.lastupdatedate.visible?(this.IH.va(!0),this.IH.La({left:this.hc.title.padding[3],top:this.hc.title.padding[0],right:this.hc.title.padding[1],height:this.hc.title.height}),v+=this.hc.title.height):this.IH.va(!1);this.ie.va(this.hc.title.visible).Eb(this.hc.title.text).ib(new Ki({font:this.hc.title.font,color:this.hc.title.color}));this.ie.sn(0);this.ie.tc(O.vd);this.wBa.va(this.hc.lastupdatedate.visible).ib(new Ki({font:this.hc.lastupdatedate.font,
color:this.hc.lastupdatedate.color}));this.Rwd(z);this.yE.La({left:0,right:0});this.hc.legends.visible&&this.hc.legends.position===C0.Bo&&(this.yE.La({left:0,top:v,height:this.hc.legends.height}),v+=this.hc.legends.height+this.hc.legends.marginbottom);this.iM.ra(X.Pa(this.hc.tooltips.linestyle)).qa(tg.ad(this.hc.tooltips.fillstyle));void 0!==this.hc.modelgrid.horizontaltickgenerator&&null==this.Dca?this.l2.pg("Horizontal",this.hc.modelgrid.horizontaltickgenerator):null!=this.Dca&&this.hc.modelgrid.horizontaltickgenerator.constructor===
{}.constructor&&this.l2.pg("Horizontal",this.hc.modelgrid.horizontaltickgenerator);void 0!==this.hc.modelgrid.verticaltickgenerator&&((this.hc.modelgrid.verticaltickgenerator instanceof fj||this.hc.modelgrid.verticaltickgenerator instanceof Ik)&&this.hc.modelgrid.verticaltickgenerator.o0(this.hc.timezone),this.l2.pg("Vertical",this.hc.modelgrid.verticaltickgenerator));this.Slb.va(this.hc.modelaxis.visible);null==this.hc.modelaxis.tickgenerator&&(z=new fj,z.pQ(this.Nt),z.Xr("edge",!1),z.Xr("major",
!1),z.Xr("minor",!1),z.Ln("edge",null),z.Ln("major",null),z.Ln("minor",null),z.rj("edge",null),z.rj("major",new X(m)),this.hc.modelaxis.tickgenerator=z);(this.hc.modelaxis.tickgenerator instanceof fj||this.hc.modelaxis.tickgenerator instanceof Ik)&&this.hc.modelaxis.tickgenerator.o0(this.hc.timezone);this.Slb.pg(this.hc.modelaxis.tickgenerator);this.Slb.pT(this.hc.modelaxis.baselinestyle,!1===this.hc.modelaxis.baselinestyle instanceof X);this.d4a.va(this.hc.scrollbar.visible);this.Ywd(this.hc.scrollbar.type);
this.hc.scrollbar.visible&&(this.d4a.La({left:0,bottom:0,right:0,height:this.hc.scrollbar.height}),B+=this.hc.scrollbar.height,this.hc.scrollbar.options&&(this.hc.scrollbar.options.size=this.hc.scrollbar.options.size||this.hc.scrollbar.height));null==this.hc.scrollbar.tickgenerator?(z=new fj,z.pQ(this.Nt),this.hc.scrollbar.tickgenerator=z):z=this.hc.scrollbar.tickgenerator;z instanceof fj&&(z.Xoa("edge",this.hc.scrollbar.options.formatter),z.Xoa("major",this.hc.scrollbar.options.formatter));z.Rk("major").vo(this.hc.scrollbar.options.font);
z.Rk("edge").vo(this.hc.scrollbar.options.font);z.Rk("major").setColor(this.hc.scrollbar.options.color);z.Rk("edge").setColor(this.hc.scrollbar.options.color);z.jj("major").setColor(this.hc.scrollbar.options.color);z.jj("edge").setColor(this.hc.scrollbar.options.color);z.Xr("minor",!1);null!=this.JO.pg&&((this.hc.scrollbar.tickgenerator instanceof fj||this.hc.scrollbar.tickgenerator instanceof Ik)&&this.hc.scrollbar.tickgenerator.o0(this.hc.timezone),this.JO.pg(this.hc.scrollbar.tickgenerator));this.JO&&
this.JO.setOptions&&this.hc.scrollbar.options&&this.JO.setOptions(this.hc.scrollbar.options);this.M1a=this.w5a=null;this.x5a.va(this.hc.visiblerange.visible);this.hc.visiblerange.visible?(this.x5a.La({left:0,bottom:B,right:0,height:this.hc.visiblerange.height}),B+=this.hc.visiblerange.height,null!=this.IO&&this.IO.w_().Ob(!0),null!=this.yO&&this.yO.w_().Ob(!0)):(this.x5a.La({left:0,bottom:B,right:0,height:0}),null!=this.IO&&this.IO.w_().Ob(!1),null!=this.yO&&this.yO.w_().Ob(!1));this.NMb.ib(new Ki({font:this.hc.visiblerange.font,
color:this.hc.visiblerange.color}));this.AMb.ib(new Ki({font:this.hc.visiblerange.font,color:this.hc.visiblerange.color}));this.d1a.setOptions(this.hc.tooltips.tooltipoptions.index);z=this.vA.getIterator();z.forEach(function(E){null!=A.curvelimits&&E.WVa(A.curvelimits);null!=A.curvesymbol&&E.edb(A.curvesymbol);null!=A.curveaxis&&E.kX(A.curveaxis);null!=A.tooltips&&null!=A.tooltips.tooltipoptions&&E.QAb(A.tooltips.tooltipoptions);null!=A.curvelimits&&null!=A.curvelimits.visible&&E.WVa({visible:A.curvelimits.visible});
null!=A.legends&&null!=A.legends.legendoptions&&(!0===this.hc.legends.autocolorlabel?A.legends.legendoptions.labelcolor=null:null==this.hc.legends.legendoptions.labelcolor&&(A.legends.legendoptions.labelcolor=m),E.Fcb(A.legends.legendoptions))}.bind(this));this.lta.va(this.hc.curvesymbol.visible);this.aR.La({width:this.iXb()});C&&this.VId(this.hc.alignaxis);this.aua();this.fk.La({left:0,top:v,right:0,bottom:B});this.hc.southaxis.visible?(this.fk.bb(Zh.vc).va(!0),this.fk.bb(Zh.vc).yl(this.hc.southaxis.height)):
this.fk.bb(Zh.vc).va(!1);this.aR.La({left:this.hc.curvelimits.margin,top:this.hc.curvelimits.margin,bottom:this.hc.curvelimits.margin});null!=this.hc.southaxis.tickgenerator&&(z=this.hc.southaxis.tickgenerator,z.Ln("major",new Ki({font:this.hc.southaxis.font,color:this.hc.southaxis.color,alignment:"center"})),z.Ln("edge",z.Rk("major")));(this.hc.southaxis.tickgenerator instanceof fj||this.hc.southaxis.tickgenerator instanceof Ik)&&this.hc.southaxis.tickgenerator.o0(this.hc.timezone);this.kob.pg(this.hc.southaxis.tickgenerator);
this.kob.va(this.hc.southaxis.visible);!0===this.hc.viewcache?null==this.ts.lr()&&this.ts.pi(new ni):null!=this.ts.lr()&&this.ts.pi(null);x&&this.Yxa(new Jd(this.dea.pa().la(),this.dea.pa().na()));this.hc.intervalbuttons=G(A.intervalbuttons,this.hc.intervalbuttons);this.hc.intervalbuttons.visible?this.IO.va(!0):this.IO.va(!1);this.hc.scrolltonowbutton.visible?this.yO.va(!0):this.yO.va(!1);void 0!==A.selectionstrategy&&(this.fPb=A.selectionstrategy);this.Uxa(A.stack);this.Pxa(A.percent);this.ONc(A.barmode);
this.DVc();this.ts.Pf();this.HY.mb();this.fk.mb();this.sya();return this};c.prototype.Q$a=function(A,x,C){if(!1!==C){var z=A.aW().pqb;var v=A.aW().min;var B=A.aW().max}A.YVa(x);!1!==C&&(A.aW().pqb=z,A.aW().min=v,A.aW().max=B);return this};c.prototype.Uxa=function(A){if(null==A)return this;A.enabled=!0===A.enabled;if(this.aM.enabled===A.enabled)return this;this.aM=G(A,this.aM);if(!1===this.aM.enabled&&null!=this.dO)return this.dO.Goa(),this.dO=null,this;this.dO=new G0(this,this.aM);this.dO.apply();
return this};c.prototype.ztd=function(){return this.aM};c.prototype.Pxa=function(A){if(null==A)return this;A.enabled=!0===A.enabled;if(this.BH.enabled===A.enabled)return this;this.BH=xb(A,this.BH);if(!1===this.BH.enabled&&null!=this.dO)return this.dO.Goa(),this.dO=null,this;this.dO=new D0(this,this.BH);this.dO.apply();return this};c.prototype.srd=function(){return this.BH};c.prototype.ONc=function(A){this.WQ=xb(A,this.WQ);this.ts.eb(0)instanceof z0||this.ts.Mf(0,this.$za);this.V9b();this.$za.fa(this.WQ);
return this};c.prototype.Hkd=function(){return this.WQ};c.prototype.Nfa=function(A){if(null==A)return this.$za.Nfa([]),this;A=Array.isArray(A)?A:[A];this.$za.Nfa(A);return this};c.prototype.VId=function(A){A?(this.PVa(this.fk.bb(Zh.dc),new F0),this.PVa(this.fk.bb(Zh.Ic),new F0),this.EOc(new F0)):(this.PVa(this.fk.bb(Zh.dc),new ll),this.PVa(this.fk.bb(Zh.Ic),new ll),this.EOc(new ll))};c.prototype.PVa=function(A,x){for(var C,z=0;z<A.Yb();++z)C=A.eb(z),x.add(C);A.Wd(x);return this};c.prototype.EOc=function(A){for(var x,
C=0;C<this.aR.Yb();++C)x=this.aR.eb(C),A.add(x);this.aR.Wd(A);return this};c.prototype.d4=function(){var A=[];this.ts.vf().forEach(function(x){"function"===typeof x.ic&&null!=x.ic()&&A.push(x.ic())});return A};c.prototype.$v=function(A){if(null==A)return null;var x=this.vA.getIterator();x=x.filter(function(C){return C.Rh().curve.ic()===A});return null==x||0===x.length?null:x[0]};c.prototype.Zsb=function(A){if(null==A)return null;A=this.$v(A);return null!=A?A.getData():null};c.prototype.iXb=function(){var A=
0;this.vA.getIterator().forEach(function(x){A+=x.hXb().width});return A};c.prototype.Vpb=function(A,x,C,z,v){return this.GFc(A,x,C,z,null,v)};c.prototype.GFc=function(A,x,C,z,v,B){null!=z&&void 0!==z.id&&hb("geotoolkit.widgets.TimeSeriesWidget.insertCurve(properties.id) is deprecated since 2020 (3.0). Use geotoolkit.widgets.TimeSeriesWidget.insertCurve(id) instead.");void 0!==A.properties&&void 0!==A.properties.id&&hb("geotoolkit.widgets.TimeSeriesWidget.insertCurve(name.properties.id) is deprecated since 2020 (3.0). Use geotoolkit.widgets.TimeSeriesWidget.insertCurve(id) instead.");
B=G(A,{name:"string"===typeof A?A:"",id:null!=B?B:"",uri:null!=x?x:"",data:null!=C?C:null,properties:null!=z?z:{},position:"number"===typeof v?v:null},!0);A=!0===this.aM.enabled;x=!0===this.BH.enabled;A&&this.Uxa({enabled:!1,fillstyles:this.aM.fillstyles});x&&this.Pxa({enabled:!1,fillstyles:this.BH.fillstyles});B=this.Gtc(B,!1);A&&this.Uxa({enabled:!0,fillstyles:this.aM.fillstyles});x&&this.Pxa({enabled:!0,fillstyles:this.BH.fillstyles});this.aua();this.HY.mb();this.fk.mb();this.ts.Pf();this.sya();
return B};c.prototype.Dad=function(A){return this.HFc(A)};c.prototype.HFc=function(A){if(!Array.isArray(A))return-1;var x=[];this.fk.Mm();this.aR.Mm();this.HY.Mm();for(var C=0;C<A.length;C++){var z=G(A[C],{name:"",id:"",uri:"",data:null,properties:{},position:null},!0);z=this.Gtc(z,!0);x.push(z)}this.fk.Zm();this.aR.Zm();this.aua();this.HY.Zm();this.HY.mb();this.fk.mb();this.ts.Pf();this.sya();return 0<x.length?x:-1};c.prototype.Gtc=function(A,x){var C=G(this.hc.curve,{},!0);A.properties=G(A.properties,
C,!0);if(null!=A.data&&!(A.data instanceof RG))throw Error('Data must be of type "geotoolkit.data.DataTableView" only.');A.id||(A.properties.id?A.id=A.properties.id:(A.id=A.uri,A.properties.id=A.id));C=A.id;var z=this.d4();0>z.indexOf(C)&&(this.fuc(A,x),this.V9b());return C};c.prototype.fuc=function(A,x,C){var z=A.data,v=G(this.hc.curveaxis,{},!0);void 0!==A.properties.axisposition&&(v.position=A.properties.axisposition);void 0!==A.properties.axisautolabelrotation&&(v.autolabelrotation=A.properties.axisautolabelrotation);
void 0!==A.properties.titlerotateangle&&(v.titlerotateangle=A.properties.titlerotateangle);void 0!==A.properties.labelorientation&&(v.labelorientation=A.properties.labelorientation);void 0!==A.properties.title&&(v.title=A.properties.title);void 0!==A.properties.axisvisible&&(v.visible=A.properties.axisvisible);void 0!==A.properties.tickgeneratoroptions&&(v.tickgeneratoroptions=G(v.tickgeneratoroptions,A.properties.tickgeneratoroptions));void 0!==A.properties.microposition&&(v.microposition=A.properties.microposition);
A.properties.logarithmicscale&&(v.logarithmicscale=A.properties.logarithmicscale);v=new y0({id:A.id,uri:A.uri,name:A.name,curve:{data:z,properties:A.properties},curvesymbol:A.curvesymbol||this.hc.curvesymbol,curvelimits:this.hc.curvelimits,curveaxis:v,legenditem:this.hc.legends.legendoptions,tooltipitem:this.hc.tooltips.tooltipoptions});x&&v.oe(!0);v.on(l0.QJa,this.Bsb());v.on(l0.TXa,this.Csb());v.on(d0.OEb,this.cBc());v.on(d0.qDb,this.Gyc());v.on(d0.$Ja,this.Hyc());v.setData(z);v.Rh().Iwa.Ha(this.Jc.pa());
z=(new oi).Dd(A.id);this.ts.oa(z);z.oa(v.Rh().Iwa);C||(z.oa(v.Rh().curve),this.lta.oa(v.Rh().Aj),this.Q$a(v,A.properties),"number"===typeof A.position?(this.vA.Jn(A.position,v),this.iM.getData().Jn(A.position,v.Rh().EBb)):(this.vA.add(v),this.iM.getData().add(v.Rh().EBb)),this.aR.La({width:this.iXb()}).oa(v.Rh().sRa),this.fk.connect(v.Rh().sRa.eb(0),v.Rh().Iwa,Rh.ob,!1),this.aR.ue().add(v.Rh().sRa),this.HY.mb());z=v.Rh().axis;var B=v.Rh().jua,E=v.Rh().JQa;void 0===A.properties.axisposition&&(A.properties.axisposition=
this.hc.curveaxis.position);if("left"===A.properties.axisposition){var H=this.Xqa;var F=Zh.dc}else"right"===A.properties.axisposition&&(H=this.Wqa,F=Zh.Ic);H&&H.push(A.properties.id);"left"===A.properties.axisposition?(this.fk.cC(0,B,F),this.fk.cC(0,E,F)):(this.fk.hr(B,F),this.fk.hr(E,F));this.fk.connect(z,v.Rh().Iwa,Rh.ob,!1);C||(C=v.Rh().gzd,"number"===typeof A.position?this.y5a.Jn(A.position,C):this.y5a.add(C),A=this.d4(),null!=A&&1===A.length&&this.Acb(A[0]));x&&v.oe(!1);return v};c.prototype.oGa=
function(){null==this.QKb&&(this.QKb=function(){var A=this.Dca;var x=this.l2.getParent();if(null!=this.Dca&&(A=this.$v(A),null!=A&&null!=A.Rh()&&(A=A.Rh().Iwa,null!=A))){var C=x.pa();x.Ha(new U(C.la(),A.pa().ka(),C.na(),A.pa().ma()))}}.bind(this));return this.QKb};c.prototype.Oyc=function(){null==this.PKb&&(this.PKb=function(A,x,C){null!=C.old&&C.old.za(mG.Ud,this.oGa());if(null!=C["new"])C["new"].on(mG.Ud,this.oGa())}.bind(this));return this.PKb};c.prototype.Bsb=function(A,x,C){null==this.iHb&&(this.iHb=
function(z,v,B){if(null!=v&&null!=B){v=v.Rh();z=v.jua;v=v.JQa;if("left"===B.oldposition){var E=this.Xqa;var H=Zh.dc}else"right"===B.oldposition&&(E=this.Wqa,H=Zh.Ic);E&&E.splice(E.indexOf(B.id),1);if("left"===B.axisposition){E=this.Xqa;var F=Zh.dc}else"right"===B.axisposition&&(E=this.Wqa,F=Zh.Ic);E&&E.push(B.id);this.fk.removeItem(z,H);this.fk.removeItem(v,H);F===Zh.dc?(this.fk.cC(0,z,F),this.fk.cC(0,v,F)):F===Zh.Ic&&(this.fk.hr(z,F),this.fk.hr(v,F));this.aua();this.HY.mb();this.fk.mb();this.ts.Pf()}}.bind(this));
return this.iHb};c.prototype.Csb=function(A,x,C){null==this.kHb&&(this.kHb=function(z,v,B){this.aua();this.HY.mb();this.fk.mb();this.aR.mb();this.ts.Pf();this.sya()}.bind(this));return this.kHb};c.prototype.cBc=function(A,x,C){null==this.NLb&&(this.NLb=function(){this.yE.mb()}.bind(this));return this.NLb};c.prototype.Gyc=function(A,x,C){null==this.pIb&&(this.pIb=function(){this.aR.mb();this.fk.ET()}.bind(this));return this.pIb};c.prototype.Hyc=function(A,x,C){null==this.qIb&&(this.qIb=function(z,
v,B){this.ts.ha();this.ha();z=B.old;B=B["new"];null!=z&&z.za(mG.Ud,this.jXb());if(null!=B)B.on(mG.Ud,this.jXb())}.bind(this));return this.qIb};c.prototype.jXb=function(){null==this.rIb&&(this.rIb=function(){this.ts.ha()}.bind(this));return this.rIb};c.prototype.Acb=function(A){if(null==this.l2||this.Dca===A)return this;var x=this.l2.getParent();x.Ha(new U(0,0,1,1));null!=this.Dca&&(x=this.$v(this.Dca),null!=x&&null!=x.Rh()&&(x.za(d0.$Ja,this.Oyc()),x.getData().za(mG.Ud,this.oGa()),x.Rh().curve.za(o0.AKa,
this.oGa())),this.Dca=null);this.Dca=A;null!=A?(x=this.$v(A),null!=x&&null!=x.Rh()&&(this.oGa().call(this),x.on(d0.$Ja,this.Oyc()),x.getData().on(mG.Ud,this.oGa()),x.Rh().curve.on(o0.AKa,this.oGa()),null!=this.l2&&null!=x.Rh().axis&&(A=x.Rh().axis.Ge().clone(),A.rj("major",new X(p.major)).rj("minor",new X(p.minor)).rj("edge",new X(p.edge)),A.Ng("major",this.hc.modelgrid.horizontalvisibility.major).Ng("minor",this.hc.modelgrid.horizontalvisibility.minor).Ng("edge",this.hc.modelgrid.horizontalvisibility.edge),
this.l2.pg(Rh.xb,A)))):this.l2.pg(Rh.xb,this.hc.modelgrid.horizontaltickgenerator);this.l2.Ge(Rh.ob).Ng("major",this.hc.modelgrid.verticalvisibility.major).Ng("minor",this.hc.modelgrid.verticalvisibility.minor).Ng("edge",this.hc.modelgrid.verticalvisibility.edge);this.ji();return this};c.prototype.VRb=function(A,x,C,z,v){C=G(A,{id1:"string"===typeof A?A:null,id2:x,fillstyle:null!=C?C:null,filltype:null!=z?z:null,filldirection:null!=v?v:b0.xd});if(null!=C.id1&&null!=C.fillstyle&&null!=C.filltype&&
null!=C.filldirection){var B=null,E=null;C.fillstyle=tg.ad(C.fillstyle);switch(C.filldirection){case b0.nb:E=C.fillstyle;break;case b0.xd:B=C.fillstyle;break;default:return}this.zVa(C.id1,C.filldirection);switch(z){case a0.sDb:A=this.Cad(A,x,null,B,E);break;case a0.Wac:A=this.Zpc(A,x,null,B,E,C.filldirection);break;case a0.rDb:A=this.Zpc(A,Number.MAX_VALUE,null,B,E,b0.nb,C.filldirection);break;default:return}x=this.$v(C.id1);x.iLc(v,C,A);this.ts.Pf()}};c.prototype.zVa=function(A,x){A=G(A,{curveId:"string"===
typeof A?A:null,filldirection:x});if(null!=A.curveId)if(null==A.filldirection)this.zVa(A.curveId,b0.nb),this.zVa(A.curveId,b0.xd);else{var C=this.$v(A.curveId);if(null!=C){var z=C.Rh();null!=z&&null!=z.Zrb&&null!=z.Zrb[x]&&(z.Zrb[x].dispose(),this.ts.removeChild(z.Zrb[x]),C.iLc(A.filldirection,null,null))}}};c.prototype.Iyc=function(A){A=G(A,{curveId:"string"===typeof A?A:null});A=this.$v(A.curveId);return null!=A?A.Rh().Ez:null};c.prototype.$ld=function(A,x){A=G(A,{curveId:"string"===typeof A?A:
null,filldirection:x});if(null==A.curveId)return null;x=this.$v(A.curveId);return null!=x&&null!=x.Rh().Ez[A.filldirection]?x.Rh().Ez[A.filldirection].fillstyle:null};c.prototype.Cad=function(A,x,C,z,v){x=G(A,{id1:"string"===typeof A?A:null,id2:"string"===typeof x?x:null,fillstyle:null!=C?C:null,positivefillstyle:null!=z?z:null,negativefillstyle:null!=v?v:null},!0);if(null==x.id1||null==x.id2)return null;A=this.$v(x.id1).Rh();C=this.$v(x.id2).Rh();if(null==A||null==C)return null;x=new x0(A.curve,
C.curve,x.fillstyle,x.positivefillstyle,x.negativefillstyle);A=this.ts.Ik(A.curve);this.ts.Mf(A,x);return x};c.prototype.Zpc=function(A,x,C,z,v,B,E){x=G(A,{id1:"string"===typeof A?A:null,value:"number"===typeof x?x:null,fillstyle:null!=C?C:null,filltype:null!=E?E:null,filldirection:null!=B?B:null,positivefillstyle:null!=z?z:null,negativefillstyle:null!=v?v:null},!0);if(null==x.id1||null==x.value)return null;A=this.$v(x.id1).Rh();if(null==A)return null;C=new v0(x.value,A.curve,x.filltype);x=new x0(A.curve,
C,x.fillstyle,x.positivefillstyle,x.negativefillstyle);A=this.ts.Ik(A.curve);this.ts.Mf(A,x);return x};c.prototype.RFd=function(A){var x=null,C,z=this.$v(A);if(null==z)return this;for(C=0;C<this.Xqa.length&&null==x;++C)if(this.Xqa[C]===A||this.Xqa[C]instanceof Array&&0<=this.Xqa[C].indexOf(A))x=Zh.dc,this.Xqa.splice(C,1);for(C=0;C<this.Wqa.length&&null==x;++C)if(this.Wqa[C]===A||this.Wqa[C]instanceof Array&&0<=this.Wqa[C].indexOf(A))x=Zh.Ic,this.Wqa.splice(C,1);if(!x)return this;null!=z.Rh&&(A=z.Rh(),
null!=A.jua&&this.fk.removeItem(A.jua,x),null!=A.JQa&&this.fk.removeItem(A.JQa,x));this.aua();return this};c.prototype.aua=function(){for(var A=this.hc.alignaxis,x=[Zh.dc,Zh.Ic],C,z,v,B=0;B<x.length;++B){C=this.fk.bb(x[B]);z=this.NEc();z=z.getIterator().filter(function(H){H=H.bI().labelorientation;return"number"===typeof H&&0!==H});0<z.length?C.Te(!1):C.Te(!0);for(var E=z=0;E<C.Yb();++E)v=C.eb(E),v.Ia()&&(z=A?Math.max(z,v.xk()):z+v.xk());C.Yl(z)}x=A=0;this.fk.bb(Zh.dc).Ia()&&(A=this.fk.bb(Zh.dc).xk());
this.fk.bb(Zh.Ic).Ia()&&(x=this.fk.bb(Zh.Ic).xk());A=null==A?0:A;x=null==x?0:x;this.d4a.La({left:A,right:x});this.hc.legends.position===C0.Bo&&(!0===this.hc.legends.alignwithcentermodel?this.yE.La({left:A,right:x}):this.yE.La({left:0,right:0}));return this};c.prototype.vLc=function(A){if(null!=A){var x=!0===this.aM.enabled,C=!0===this.BH.enabled;x&&this.Uxa({enabled:!1,fillstyles:this.aM.fillstyles});C&&this.Pxa({enabled:!1,fillstyles:this.BH.fillstyles});var z=A;A instanceof Array||(z=[A]);var v=
null,B=!1;for(A=0;A<z.length;++A)v=this.$v(z[A]),z[A]===this.Dca&&(this.Acb(null),B=!0),null!=v&&null!=v.rvb()&&v.rvb().wyb(v);v=function(I){null!=I&&(this.y5a.getIterator().forEach(function(J){I===J.Bd()&&this.y5a.remove(J)}.bind(this)),this.iM.getData().getIterator().forEach(function(J){I.Rh().EBb===J&&this.iM.getData().remove(J)}.bind(this)))}.bind(this);var E=function(I){var J=this.d4(),K,N=[b0.nb,b0.xd];J.forEach(function(P){K=this.Iyc(P);N.forEach(function(Q){null==K||null==K[Q]||K[Q].id2!==
I&&K[Q].id1!==I||this.zVa(K[Q].id1,K[Q].filldirection)}.bind(this))}.bind(this))}.bind(this),H=!1;for(A=0;A<z.length;++A){var F=this.$v(z[A]);null!=F&&(H=F.Rh(),this.fk.disconnect(H.sRa.eb(0)),this.fk.disconnect(H.axis),E(z[A]),this.RFd(z[A]),F.getData().za(mG.Ud,this.jXb()),F.za(l0.QJa,this.Bsb()),F.za(l0.TXa,this.Csb()),F.za(d0.OEb,this.cBc()),F.za(d0.qDb,this.Gyc()),F.za(d0.$Ja,this.Hyc()),this.ts.removeChild(H.curve.getParent()),this.ts.Pf(),this.lta.removeChild(H.Aj),this.aR.ue().remove(H.sRa),
this.aR.removeChild(H.sRa),this.aR.La({width:this.iXb()}),this.B8===z[A]&&(this.Wnb=this.B8=null),H=!0,v(F),F.dispose(),this.vA.remove(F))}B&&(z=this.d4(),0<z.length&&this.Acb(z[0]));H&&(this.HY.mb(),this.fk.mb(),this.sya());x&&this.Uxa({enabled:!0,fillstyles:this.aM.fillstyles});C&&this.Pxa({enabled:!0,fillstyles:this.BH.fillstyles});this.V9b()}return this};c.prototype.Jyc=function(A){return null==A||null==this.$v(A)?null:this.$v(A).ul()};c.prototype.mb=function(A){JZ.prototype.mb.call(this,A);this.vA.getIterator().forEach(function(x){x.mb()})};
c.prototype.Kve=function(A,x){if(null==A||null==x)return this;!0===this.hc.legends.autocolorlabel?x.labelcolor=null:null==this.hc.legends.legendoptions.labelcolor&&(x.labelcolor=m);A.setOptions(x);return this};c.prototype.Thc=function(A){if("function"===typeof this.hc.visiblerange.formatter)return this.hc.visiblerange.formatter(A);null==this.w5a&&(this.w5a=b(this.Ejb,this.hc.visiblerange.formatter,this.Nt));return this.w5a.format(new Date(A))};c.prototype.cKb=function(A){if("function"===typeof this.hc.lastupdatedate.formatter)return this.hc.lastupdatedate.formatter(A);
null==this.M1a&&(this.M1a=b(this.Ejb,this.hc.lastupdatedate.formatter,this.Nt));return this.M1a.format(new Date(A))};c.prototype.$Qc=function(A){this.S7=jg.He(this,this.S7,A,!0,this.F7c);null!=this.VY&&(A=this.Jc.pa().clone().setX(this.VY.la()).Ra(this.VY.ca()),this.Jc.Ha(A),this.VY=null);this.xa();this.ji();this.ha();return this};c.prototype.pqd=function(){return null==this.S7?null:{left:this.S7.la(),right:this.S7.na()}};c.prototype.Ep=function(){JZ.prototype.Ep.call(this);this.nWc();return this};
c.prototype.nWc=function(){if(null==this.S7){if(null!=this.VY){var A=this.Jc.pa().clone().setX(this.VY.la()).Ra(this.VY.ca());this.Jc.Ha(A);this.VY=null}return this}A=this.Jc.wa();var x=this.S7.convert(),C=Hd.qb(x.left,0,A),z=Hd.qb(x.width,0,A),v=Hd.qb(0,x.top,A);x=Hd.qb(0,x.height,A);A=this.Jc.pa().clone();null!=this.VY&&A.setX(this.VY.la()).Ra(this.VY.ca());this.VY=A;A=A.clone().setX(A.la()-C).Ra(A.ca()+z).setY(A.ka()-v).Ya(A.da()+x);this.Jc.Ha(A);return this};c.prototype.ji=function(){this.nWc();
var A=this.Jc.pa(),x=this.Jc.vb(),C=this.kob.Ge();if(C instanceof fj){C.pQ(this.Nt);var z=x.na()-x.la();z<=k?(C.Xoa("major","H:i:s"),C.Xoa("edge","H:i:s")):z<=l?(C.Xoa("major","H:i"),C.Xoa("edge","H:i")):(C.Xoa("major","M j, Y"),C.Xoa("edge","M j, Y"))}this.NMb.Eb(this.Thc(x.la()));this.AMb.Eb(this.Thc(x.na()));this.hc.lastupdatedate.followcursor&&this.wib.isEnabled()||this.wBa.Eb(this.cKb(A.na()));null!=this.JO&&this.JO.Ha(A,x);x=this.l2.getParent().pa();this.l2.getParent().Ha(new U(A.la(),x.ka(),
A.na(),x.ma()));this.opb.Ha(A);this.npb.Ha(A);this.sya()};c.prototype.sya=function(){var A=!1,x=this.QIb,C=W.Sd(this.Jc.Ki(),this.Jc.vb()),z=this.Jc.Ki().clone();C.Ta(z,z);z.wi(x.ga())||(x.sa(z),A=!0);C=new U(0,0,this.Jc.Ki().ca(),this.Jc.Ki().da());C.wi(x.pa())||(x.Ha(C),A=!0);!0===A&&this.fk.ET()};c.prototype.qFd=function(){this.$6c.Pf();this.opb.Pf();this.npb.Pf();this.ts.Pf();this.$a.Pf();this.Qba.Pf();this.vqa.Pf();this.QIb.Pf();return this};c.prototype.gI=function(){var A=this.Jc.pa();return new Jd(A.la(),
A.na())};c.prototype.Lk=function(A){var x=new U(this.Jc.pa());if(x.la()!==A.Ua()||x.na()!==A.Za())x.setX(A.Ua()),x.Ra(A.Za()-A.Ua()),this.Jc.Ha(x),this.VY=null,this.ji(),this.ts.Pf();return this};c.prototype.kna=function(){var A=this.Jc.vb();return new Jd(A.la(),A.na())};c.prototype.Yxa=function(A){if(null==A)return this;A.getSize()<f&&(A.Ua()+f<this.Jc.pa().na()?A.Lk(A.Ua(),A.Ua()+f):A.Za()-f>this.Jc.pa().la()?A.Lk(A.Za()-f,A.Za()):A.Lk(this.Jc.pa().la(),this.Jc.pa().na()));var x=new U(this.Jc.pa());
x.setX(A.Ua());x.Ra(A.Za()-A.Ua());this.fk.cx(x);null!=this.VOb&&1<Math.abs(this.VOb-(A.Za()-A.Ua()))&&(this.IO.E9b(YZ.igb),this.VOb=null);this.ji();return this};c.prototype.aE=function(A){this.fk.aE(A,0);this.ji();return this};c.prototype.Is=function(A){this.fk.Is(A,1);this.ji();this.ts.Pf();return this};c.prototype.aba=function(){this.Is(1.25);return this};c.prototype.bba=function(){this.Is(.8);return this};c.prototype.WZ=function(){var A=this.Jc.pa();this.Yxa(new Jd(A.la(),A.na()));return this};
c.prototype.xEc=function(){return j0.x_b(this.Rza,"annotation_")};c.prototype.Uud=function(){var A=j0.x_b(this.rLa,"annotation_line_collection_");this.rLa.push(A);return A};c.prototype.uad=function(A){null==A&&(A={});A.id=this.xEc();this.Qba.oa([new f0(A)]);this.Rza.push(A.id);return A.id};c.prototype.vad=function(A){if(!Array.isArray(A))return null;for(var x=this.Uud(),C=new oi({id:x}),z=0;z<A.length;z++){var v=A[z]||{};v.id=x+"_"+z;C.oa([new f0(v)])}this.vqa.oa(C);return x};c.prototype.IFd=function(A){return this.wga(A)};
c.prototype.JFd=function(A){if(null==A)return this;var x=this.yxc(A);null!=x&&(this.vqa.removeChild(x),x.dispose(),-1!==this.rLa.indexOf(A)&&this.rLa.splice(this.rLa.indexOf(A),1));return this};c.prototype.ord=function(A){return A&&A.replace(/_\d+$/,"")};c.prototype.pid=function(A,x){return this.Cua(A,x)};c.prototype.hla=function(A){var x=null;if(null==A||null==A.curveid||null==A.time)return x;var C=this.$v(A.curveid);if(null==C||!(C instanceof y0))return x;var z=A.time;if(isNaN(z))return x;var v=
C.Rh();if(null==v.curve||null==v.curve.getData())return x;x=v.curve;v=x.cTa();var B=v.samples;z=j0.K7a(z,B);v=B[z].getValue();z=B[z].bc();v=(x.getParent().pa().ma()-v)/x.getParent().pa().da()*this.Qba.pa().da();x={};B=this.xEc();x.id=B;x.point=new M(z,v);x.label=A.label;x.textstyle=A.textstyle;x.symbol=j0.Fub(A.symbol);x.linestyle=A.linestyle;x.textbackground=A.textbackground;x.fillstyle=A.fillstyle;x.symbolsize=A.symbolsize;x.timeseriesobject=C;A=new e0({id:B});this.Qba.oa(A);this.Rza.push(x.id);
A.setOptions(x);return x.id};c.prototype.Cua=function(A,x){if(null==A)return"";var C=this.wsb(A);null!=C&&(null!=x.symbol&&(x.symbol=j0.Fub(x.symbol)),C.setOptions(x));return A};c.prototype.wga=function(A){if(null==A)return this;var x=this.wsb(A);null!=x&&(this.Qba.removeChild(x),x.dispose(),-1!==this.Rza.indexOf(A)&&this.Rza.splice(this.Rza.indexOf(A),1));return this};c.prototype.wsb=function(A){if(null==A)return null;var x=this.Rza.indexOf(A),C;if(-1<x&&null!=this.Qba.eb(x)&&this.Qba.eb(x).ta().id===
A)return this.Qba.eb(x);x=0;for(C=this.Qba.Yb();x<C;x++){var z=this.Qba.eb(x);if(z instanceof f0&&z.ta().id===A)return z}return null};c.prototype.yxc=function(A){if(null==A)return null;var x=this.rLa.indexOf(A),C;if(-1<x&&null!=this.vqa.eb(x)&&this.vqa.eb(x).ia().id===A)return this.vqa.eb(x);x=0;for(C=this.vqa.Yb();x<C;x++){var z=this.vqa.eb(x);if(z instanceof oi&&z.ia().id===A)return z}return null};c.prototype.vkd=function(A){return this.Axc(A)};c.prototype.Axc=function(A){var x={id:A},C=this.wsb(A);
null==C&&(C=this.ukd(A));null!=C&&(x=G(x,C.ia()));return x};c.prototype.ukd=function(A){var x=null,C=this.ord(A);if(C=this.yxc(C))for(var z=C.Yb(),v=0;v<z;++v){var B=C.eb(v);B instanceof f0&&A===B.ta().id&&(x=B)}return x};c.prototype.Zg=function(){var A=3;if(null!=this.IO){var x=Math.max(this.NMb.ca(),150);this.IO.sa(new U(x,A,x+this.IO.xk(),A+this.IO.ke()))}null!=this.yO&&(x=this.x5a.pa().ca()-Math.max(this.AMb.ca()-this.yO.xk(),150),this.yO.sa(new U(x,A,x+this.yO.xk(),A+this.yO.ke())))};c.prototype.NEc=
function(){return this.vA};c.prototype.DMc=function(A){if(this.hc.title.visible){var x=this.wBa.getBoundingBox(A);if(null!=x){x=this.wBa.Ia()?x.ca():0;var C=0<x?t:0;A=A.Fa().transform(this.IH.ga()).ca();var z=this.hc.title.centered;z?(z=rg.measureText(this.ie.ee(),this.ie.jb()).ca(),x=A-x-C,C=A-z,C=0<C?C/2:0,A=C/A,A=0>A?0:A,this.ie.sn(A),A=x-C):(this.ie.sn(0),A=A-x-C);this.ie.va(0<A);this.ie.Ra(A)}}};c.prototype.render=function(A){this.DMc(A);this.Zg();JZ.prototype.render.call(this,A)};c.prototype.we=
function(A,x){this.DMc(A);this.Zg();JZ.prototype.we.call(this,A,x)};c.prototype.odd=function(A,x,C){var z=!0===this.aM.enabled,v=!0===this.BH.enabled;z&&this.Uxa({enabled:!1,fillstyles:this.aM.fillstyles});v&&this.Pxa({enabled:!1,fillstyles:this.BH.fillstyles});var B=jf(this.ts).mc(function(H){return"function"===typeof H.ic&&H.ic()===A}).mg(),E=jf(this.ts).mc(function(H){return"function"===typeof H.ic&&H.ic()===C}).mg();this.ts.Jqb(B,x,E);z&&this.Uxa({enabled:!0,fillstyles:this.aM.fillstyles});v&&
this.Pxa({enabled:!0,fillstyles:this.BH.fillstyles});return this};c.prototype.ORd=function(A,x){x||(x=this.Jc.vb());x=x.na();A=x-A;A=new I0(A0.YUa,new Jd(A,x));this.pua(A0.UW,this,A);return this};c.prototype.vId=function(){var A=this.gI(),x=this.kna(),C=A.Za();A=A.Za()-(x.Za()-x.Ua());this.Yxa(new Jd(A,C));return this};c.prototype.aC=function(A,x,C){if(!0===this.aM.enabled)return this.dO.qfa()[A].y[C];if(!0===this.BH.enabled){var z=0;Object.keys(this.dO.qfa()).forEach(function(v){z+=this.dO.qfa()[v].y[C]}.bind(this));
return A=this.dO.qfa()[A].y[C]/z*100}return x[C].aC()};c.prototype.tCc=function(A,x,C){C=C||{format:function(z){return z}};return null!=this.BH.tooltip&&!0===this.BH.tooltip.showoriginalvalue?"% ("+C.format(this.dO.qfa()[A].y[x]):""};c.prototype.V9b=function(){var A=this.vA.getIterator().toArray();if(0===A.length)return this.$za.NAb(null),this;this.$za.NAb(A);return this};c.prototype.erb=function(A,x,C,z,v){C=G(A,{id:null!=A?A:"",curveids:null!=x?x:[],curveaxis:null!=v?v:{},min:null!=C?C:null,max:null!=
z?z:null},!0);A=C.id;x=null;var B=[];C.curveids.forEach(function(J){J=this.$v(J);null!=J&&B.push(J)}.bind(this));if(null==C.min){var E=Number.MAX_VALUE;B.forEach(function(J){null!=J&&null!=J.ul&&null!=J.ul().min&&J.ul().min<E&&(E=J.ul().min)});C.min=E!==Number.MAX_VALUE?E:0}if(null==C.max){var H=Number.MIN_VALUE;B.forEach(function(J){null!=J&&null!=J.ul&&null!=J.ul().max&&J.ul().max>H&&(H=J.ul().max)});C.max=H!==Number.MIN_VALUE?H:1}var F=[];this.Sjb.getIterator().forEach(function(J){F.push(J.ic())});
if(0>F.indexOf(A))x=new H0(C),x.Ee(B),this.Sjb.add(x),x.on(l0.QJa,this.Bsb()),x.on(l0.TXa,this.Csb());else return null;C=x.Rh().jua;z=x.Rh().JQa;x=x.bI();if("left"===x.position)var I=Zh.dc;else"right"===x.position&&(I=Zh.Ic);"left"===x.position?(this.fk.cC(0,C,I),this.fk.cC(0,z,I)):(this.fk.hr(C,I),this.fk.hr(z,I));this.aua();this.HY.mb();this.fk.mb();this.aR.mb();this.ts.Pf();this.sya();return A};c.prototype.Hbb=function(A){A=this.cAc(A);if(null==A)return this;var x=A.bI(),C=A.Rh().jua,z=A.Rh().JQa;
if("left"===x.position)var v=Zh.dc;else"right"===x.position&&(v=Zh.Ic);this.fk.removeItem(C,v);this.fk.removeItem(z,v);A.HFd();this.Sjb.remove(A);A.za(l0.QJa,this.Bsb());A.za(l0.TXa,this.Csb());this.aua();this.fk.mb();this.sya();return this};c.prototype.cAc=function(A){if(null==A)return null;var x=this.Sjb.getIterator();x=x.filter(function(C){return C.ic()===A});return null==x||0===x.length?null:x[0]};c.prototype.lvd=function(){return this.opb};c.prototype.kvd=function(){return this.npb};c.prototype.Tid=
function(A){null==A&&(A={});var x=this.getRoot(),C=x.ga(),z=Zd.ya().Wa("px");z=Aj.ya().sG("A4",z,wj.Sfb);z={paperformat:z,top:.5,bottom:.5,left:.5,right:.5,units:"in",orientation:"Landscape",scaling:"FitBoth",keepaspectratio:!0,continuous:!1};z={footer:null,header:null,output:"PDF Output",save:!1,printsettings:z,limits:null,scale:1};var v=G(A,z,!0);A=new pj(x,C);A.sa(C);A=[A];C=new rj(A,new mm(C.ca(),C.da()));C=new fm(C,v.header,v.footer,!0);var B=new SF;Array.isArray(v.embededfonts)&&(A=v.embededfonts,
A.forEach(function(H){B.Tla(H.subType,H.fontName,H.fontWeight,H.fontStyle,H.fontBase64EncodedFile,H.encoding)}));v.imagecompression&&B.Qga(v.imagecompression.mode,v.imagecompression.quality,v.imagecompression.speed||dF.a1);B.Yga(v.streamcompression);A=nc(v.pdfstream,op)?v.pdfstream:new vp;x=this.Wb("cursor");var E=this.ta().scrollbar.visible;x&&(this.setOptions({scrollbar:{visible:!1}}),x.setPosition(new M(NaN,NaN)));return B.UEa(C,v.printsettings,A).then(function(H){H.save(v.output,v.save);E&&this.setOptions({scrollbar:{visible:!0}});
return H}.bind(this),function(H){throw H;})};c.prototype.Li=function(A,x){if(0===this.vA.Ix())return[];x=x||this.vA.get(0).Rh().curve.wa();var C=x.hd(A),z=[];this.vA.getIterator().forEach(function(v){var B=v.ic(),E=v.Rh().curve,H=v.Rh().Aj,F=E.cTa().samples,I=j0.K7a(C.getX(),F,!0),J;if(null!=I&&!0===E.Ia()&&null!=E.getData())if(null!=v.ul()&&null!=v.ul().unit&&(J=v.ul().unit instanceof Xd?v.ul().unit.Tc():v.ul().unit),0===F.length)z.push({id:B,curve:E,color:E.Ea().rb(),symbol:H,name:E.Da(),index:I,
position:null,value:null,originalvalue:null,unit:" ("+J+")"});else{v=F[I].aC();if(!0===this.BH.enabled||this.aM.enabled)v=this.dO.qfa()[E.ic()].y[I];z.push({id:B,curve:E,color:E.Ea().rb(),symbol:H,name:E.Da(),index:I,position:F[I].bc(),value:F[I].getValue(),originalvalue:v,unit:" ("+J+")"})}}.bind(this));return z};c.prototype.dispose=function(){this.Acb(null);this.vLc(this.d4());this.$za.dispose();JZ.prototype.dispose.call(this)};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRMb2NhbGUiOiJwUSIsImdldExvY2FsZSI6Imo0IiwiaW5pdGlhbGl6ZUxheW91dCI6IlB6IiwiaW5pdGlhbGl6ZVRvb2xzIjoiWWgiLCJzZWxlY3RDdXJ2ZUJ5SWQiOiJCSWQiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJnZXRPcHRpb25zIjoidGEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJzZXRTdGFja01vZGUiOiJVeGEiLCJnZXRTdGFja01vZGUiOiJ6dGQiLCJzZXRQZXJjZW50TW9kZSI6IlB4YSIsImdldFBlcmNlbnRNb2RlIjoic3JkIiwic2V0QmFyTW9kZSI6Ik9OYyIsImdldEJhck1vZGUiOiJIa2QiLCJoaWdobGlnaHRCYXJzIjoiTmZhIiwiZ2V0Q3VydmVzIjoiZDQiLCJnZXRUaW1lU2VyaWVzT2JqZWN0QnlJZCI6IiR2IiwiZ2V0RGF0YUJ5SWQiOiJac2IiLCJhZGRDdXJ2ZSI6IlZwYiIsImluc2VydEN1cnZlIjoiR0ZjIiwiYWRkQ3VydmVzIjoiRGFkIiwiaW5zZXJ0Q3VydmVzIjoiSEZjIiwiY3JlYXRlVGltZVNlcmllc09iamVjdCI6ImZ1YyIsInNldEhvcml6b250YWxHcmlkQ3VydmVSZWZlcmVuY2UiOiJBY2IiLCJhZGRGaWxsIjoiVlJiIiwicmVtb3ZlQ3VydmVGaWxsIjoielZhIiwiZ2V0Q3VydmVGaWxscyI6Ikl5YyIsImdldEN1cnZlRmlsbFN0eWxlIjoiJGxkIiwicmVtb3ZlQ3VydmUiOiJ2TGMiLCJnZXRDdXJ2ZVByb3BlcnRpZXMiOiJKeWMiLCJ1cGRhdGVMYXlvdXQiOiJtYiIsInNldE1vZGVsT2Zmc2V0cyI6IiRRYyIsImdldE1vZGVsT2Zmc2V0cyI6InBxZCIsInVwZGF0ZVNjZW5lVHJhbnNmb3JtYXRpb24iOiJFcCIsInJlYnVpbGRMYXllcnMiOiJxRmQiLCJnZXRSYW5nZSI6ImdJIiwic2V0UmFuZ2UiOiJMayIsImdldFZpc2libGVSYW5nZSI6ImtuYSIsInNldFZpc2libGVSYW5nZSI6Ill4YSIsInRyYW5zbGF0ZU1vZGVsIjoiYUUiLCJzY2FsZU1vZGVsIjoiSXMiLCJ6b29tSW4iOiJhYmEiLCJ6b29tT3V0IjoiYmJhIiwiZml0VG9Cb3VuZHMiOiJXWiIsImFkZEFubm90YXRpb25MaW5lIjoidWFkIiwiYWRkQW5ub3RhdGlvbkxpbmVDb2xsZWN0aW9uIjoidmFkIiwicmVtb3ZlQW5ub3RhdGlvbkxpbmUiOiJJRmQiLCJyZW1vdmVBbm5vdGF0aW9uTGluZUNvbGxlY3Rpb24iOiJKRmQiLCJlZGl0QW5ub3RhdGlvbkxpbmUiOiJwaWQiLCJhZGRBbm5vdGF0aW9uIjoiaGxhIiwiZWRpdEFubm90YXRpb24iOiJDdWEiLCJyZW1vdmVBbm5vdGF0aW9uIjoid2dhIiwiZ2V0QW5ub3RhdGlvbkxpbmVQcm9wZXJ0aWVzIjoidmtkIiwiZ2V0QW5ub3RhdGlvblByb3BlcnRpZXMiOiJBeGMiLCJyZW5kZXJBc3luYyI6IndlIiwiY2hhbmdlVmlzdWFsT3JkZXIiOiJvZGQiLCJjcmVhdGVHcm91cCI6ImVyYiIsInJlbW92ZUdyb3VwIjoiSGJiIiwiZ2V0R3JvdXBCeUlkIjoiY0FjIiwiZ2V0VmlzdWFsRnJvbnRMYXllciI6Imx2ZCIsImdldFZpc3VhbEJhY2tMYXllciI6Imt2ZCIsImV4cG9ydFRvUERGIjoiVGlkIiwiaGl0VGVzdCI6IkxpIn19fSAg");export {IZ,JZ,KZ,LZ,MZ,NZ,OZ,PZ,QZ,RZ,SZ,TZ,UZ,VZ,WZ,XZ,YZ,ZZ,a_,$Z,c_,d_,e_,f_,g_,h_,i_,j_,k_,l_,n_,o_,p_,q_,r_,s_,t_,u_,v_,w_,x_,y_,z_,A_,B_,C_,D_,E_,F_,G_,H_,I_,J_,K_,L_,M_,N_,O_,P_,Q_,R_,S_,T_,U_,V_,W_,X_,Y_,Z_,$_,a0,b0,c0,d0,e0,f0,g0,h0,i0,j0,k0,l0,m0,n0,o0,p0,q0,r0,s0,t0,u0,v0,w0,x0,y0,z0,A0,B0,C0,D0,E0,F0,G0,H0,I0,J0,K0,L0,M0,N0,O0};